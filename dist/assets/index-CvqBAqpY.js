var F4=Object.defineProperty;var M4=(s,e,r)=>e in s?F4(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var $a=(s,e,r)=>M4(s,typeof e!="symbol"?e+"":e,r);function O4(s,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in s)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(s,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Xx={exports:{}},I0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e2;function I4(){if(e2)return I0;e2=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:s,type:n,key:u,ref:a!==void 0?a:null,props:l}}return I0.Fragment=e,I0.jsx=r,I0.jsxs=r,I0}var t2;function D4(){return t2||(t2=1,Xx.exports=I4()),Xx.exports}var t=D4(),Jx={exports:{}},Xn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s2;function R4(){if(s2)return Xn;s2=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),o=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;function x(ke){return ke===null||typeof ke!="object"?null:(ke=p&&ke[p]||ke["@@iterator"],typeof ke=="function"?ke:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,w={};function E(ke,pe,ye){this.props=ke,this.context=pe,this.refs=w,this.updater=ye||b}E.prototype.isReactComponent={},E.prototype.setState=function(ke,pe){if(typeof ke!="object"&&typeof ke!="function"&&ke!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ke,pe,"setState")},E.prototype.forceUpdate=function(ke){this.updater.enqueueForceUpdate(this,ke,"forceUpdate")};function R(){}R.prototype=E.prototype;function z(ke,pe,ye){this.props=ke,this.context=pe,this.refs=w,this.updater=ye||b}var X=z.prototype=new R;X.constructor=z,y(X,E.prototype),X.isPureReactComponent=!0;var Y=Array.isArray;function Q(){}var G={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function Ae(ke,pe,ye){var fe=ye.ref;return{$$typeof:s,type:ke,key:pe,ref:fe!==void 0?fe:null,props:ye}}function je(ke,pe){return Ae(ke.type,pe,ke.props)}function ue(ke){return typeof ke=="object"&&ke!==null&&ke.$$typeof===s}function Se(ke){var pe={"=":"=0",":":"=2"};return"$"+ke.replace(/[=:]/g,function(ye){return pe[ye]})}var ae=/\/+/g;function Ne(ke,pe){return typeof ke=="object"&&ke!==null&&ke.key!=null?Se(""+ke.key):pe.toString(36)}function he(ke){switch(ke.status){case"fulfilled":return ke.value;case"rejected":throw ke.reason;default:switch(typeof ke.status=="string"?ke.then(Q,Q):(ke.status="pending",ke.then(function(pe){ke.status==="pending"&&(ke.status="fulfilled",ke.value=pe)},function(pe){ke.status==="pending"&&(ke.status="rejected",ke.reason=pe)})),ke.status){case"fulfilled":return ke.value;case"rejected":throw ke.reason}}throw ke}function se(ke,pe,ye,fe,te){var ge=typeof ke;(ge==="undefined"||ge==="boolean")&&(ke=null);var Fe=!1;if(ke===null)Fe=!0;else switch(ge){case"bigint":case"string":case"number":Fe=!0;break;case"object":switch(ke.$$typeof){case s:case e:Fe=!0;break;case f:return Fe=ke._init,se(Fe(ke._payload),pe,ye,fe,te)}}if(Fe)return te=te(ke),Fe=fe===""?"."+Ne(ke,0):fe,Y(te)?(ye="",Fe!=null&&(ye=Fe.replace(ae,"$&/")+"/"),se(te,pe,ye,"",function(St){return St})):te!=null&&(ue(te)&&(te=je(te,ye+(te.key==null||ke&&ke.key===te.key?"":(""+te.key).replace(ae,"$&/")+"/")+Fe)),pe.push(te)),1;Fe=0;var $e=fe===""?".":fe+":";if(Y(ke))for(var kt=0;kt<ke.length;kt++)fe=ke[kt],ge=$e+Ne(fe,kt),Fe+=se(fe,pe,ye,ge,te);else if(kt=x(ke),typeof kt=="function")for(ke=kt.call(ke),kt=0;!(fe=ke.next()).done;)fe=fe.value,ge=$e+Ne(fe,kt++),Fe+=se(fe,pe,ye,ge,te);else if(ge==="object"){if(typeof ke.then=="function")return se(he(ke),pe,ye,fe,te);throw pe=String(ke),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(ke).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.")}return Fe}function de(ke,pe,ye){if(ke==null)return ke;var fe=[],te=0;return se(ke,fe,"","",function(ge){return pe.call(ye,ge,te++)}),fe}function oe(ke){if(ke._status===-1){var pe=ke._result;pe=pe(),pe.then(function(ye){(ke._status===0||ke._status===-1)&&(ke._status=1,ke._result=ye)},function(ye){(ke._status===0||ke._status===-1)&&(ke._status=2,ke._result=ye)}),ke._status===-1&&(ke._status=0,ke._result=pe)}if(ke._status===1)return ke._result.default;throw ke._result}var Ee=typeof reportError=="function"?reportError:function(ke){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var pe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ke=="object"&&ke!==null&&typeof ke.message=="string"?String(ke.message):String(ke),error:ke});if(!window.dispatchEvent(pe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ke);return}console.error(ke)},De={map:de,forEach:function(ke,pe,ye){de(ke,function(){pe.apply(this,arguments)},ye)},count:function(ke){var pe=0;return de(ke,function(){pe++}),pe},toArray:function(ke){return de(ke,function(pe){return pe})||[]},only:function(ke){if(!ue(ke))throw Error("React.Children.only expected to receive a single React element child.");return ke}};return Xn.Activity=m,Xn.Children=De,Xn.Component=E,Xn.Fragment=r,Xn.Profiler=a,Xn.PureComponent=z,Xn.StrictMode=n,Xn.Suspense=A,Xn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,Xn.__COMPILER_RUNTIME={__proto__:null,c:function(ke){return G.H.useMemoCache(ke)}},Xn.cache=function(ke){return function(){return ke.apply(null,arguments)}},Xn.cacheSignal=function(){return null},Xn.cloneElement=function(ke,pe,ye){if(ke==null)throw Error("The argument must be a React element, but you passed "+ke+".");var fe=y({},ke.props),te=ke.key;if(pe!=null)for(ge in pe.key!==void 0&&(te=""+pe.key),pe)!le.call(pe,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&pe.ref===void 0||(fe[ge]=pe[ge]);var ge=arguments.length-2;if(ge===1)fe.children=ye;else if(1<ge){for(var Fe=Array(ge),$e=0;$e<ge;$e++)Fe[$e]=arguments[$e+2];fe.children=Fe}return Ae(ke.type,te,fe)},Xn.createContext=function(ke){return ke={$$typeof:u,_currentValue:ke,_currentValue2:ke,_threadCount:0,Provider:null,Consumer:null},ke.Provider=ke,ke.Consumer={$$typeof:l,_context:ke},ke},Xn.createElement=function(ke,pe,ye){var fe,te={},ge=null;if(pe!=null)for(fe in pe.key!==void 0&&(ge=""+pe.key),pe)le.call(pe,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(te[fe]=pe[fe]);var Fe=arguments.length-2;if(Fe===1)te.children=ye;else if(1<Fe){for(var $e=Array(Fe),kt=0;kt<Fe;kt++)$e[kt]=arguments[kt+2];te.children=$e}if(ke&&ke.defaultProps)for(fe in Fe=ke.defaultProps,Fe)te[fe]===void 0&&(te[fe]=Fe[fe]);return Ae(ke,ge,te)},Xn.createRef=function(){return{current:null}},Xn.forwardRef=function(ke){return{$$typeof:d,render:ke}},Xn.isValidElement=ue,Xn.lazy=function(ke){return{$$typeof:f,_payload:{_status:-1,_result:ke},_init:oe}},Xn.memo=function(ke,pe){return{$$typeof:o,type:ke,compare:pe===void 0?null:pe}},Xn.startTransition=function(ke){var pe=G.T,ye={};G.T=ye;try{var fe=ke(),te=G.S;te!==null&&te(ye,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(Q,Ee)}catch(ge){Ee(ge)}finally{pe!==null&&ye.types!==null&&(pe.types=ye.types),G.T=pe}},Xn.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},Xn.use=function(ke){return G.H.use(ke)},Xn.useActionState=function(ke,pe,ye){return G.H.useActionState(ke,pe,ye)},Xn.useCallback=function(ke,pe){return G.H.useCallback(ke,pe)},Xn.useContext=function(ke){return G.H.useContext(ke)},Xn.useDebugValue=function(){},Xn.useDeferredValue=function(ke,pe){return G.H.useDeferredValue(ke,pe)},Xn.useEffect=function(ke,pe){return G.H.useEffect(ke,pe)},Xn.useEffectEvent=function(ke){return G.H.useEffectEvent(ke)},Xn.useId=function(){return G.H.useId()},Xn.useImperativeHandle=function(ke,pe,ye){return G.H.useImperativeHandle(ke,pe,ye)},Xn.useInsertionEffect=function(ke,pe){return G.H.useInsertionEffect(ke,pe)},Xn.useLayoutEffect=function(ke,pe){return G.H.useLayoutEffect(ke,pe)},Xn.useMemo=function(ke,pe){return G.H.useMemo(ke,pe)},Xn.useOptimistic=function(ke,pe){return G.H.useOptimistic(ke,pe)},Xn.useReducer=function(ke,pe,ye){return G.H.useReducer(ke,pe,ye)},Xn.useRef=function(ke){return G.H.useRef(ke)},Xn.useState=function(ke){return G.H.useState(ke)},Xn.useSyncExternalStore=function(ke,pe,ye){return G.H.useSyncExternalStore(ke,pe,ye)},Xn.useTransition=function(){return G.H.useTransition()},Xn.version="19.2.3",Xn}var r2;function km(){return r2||(r2=1,Jx.exports=R4()),Jx.exports}var W=km();const Tc=Vg(W),P4=O4({__proto__:null,default:Tc},[W]);var Zx={exports:{}},D0={},qx={exports:{}},eb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n2;function Q4(){return n2||(n2=1,(function(s){function e(se,de){var oe=se.length;se.push(de);e:for(;0<oe;){var Ee=oe-1>>>1,De=se[Ee];if(0<a(De,de))se[Ee]=de,se[oe]=De,oe=Ee;else break e}}function r(se){return se.length===0?null:se[0]}function n(se){if(se.length===0)return null;var de=se[0],oe=se.pop();if(oe!==de){se[0]=oe;e:for(var Ee=0,De=se.length,ke=De>>>1;Ee<ke;){var pe=2*(Ee+1)-1,ye=se[pe],fe=pe+1,te=se[fe];if(0>a(ye,oe))fe<De&&0>a(te,ye)?(se[Ee]=te,se[fe]=oe,Ee=fe):(se[Ee]=ye,se[pe]=oe,Ee=pe);else if(fe<De&&0>a(te,oe))se[Ee]=te,se[fe]=oe,Ee=fe;else break e}}return de}function a(se,de){var oe=se.sortIndex-de.sortIndex;return oe!==0?oe:se.id-de.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();s.unstable_now=function(){return u.now()-d}}var A=[],o=[],f=1,m=null,p=3,x=!1,b=!1,y=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function X(se){for(var de=r(o);de!==null;){if(de.callback===null)n(o);else if(de.startTime<=se)n(o),de.sortIndex=de.expirationTime,e(A,de);else break;de=r(o)}}function Y(se){if(y=!1,X(se),!b)if(r(A)!==null)b=!0,Q||(Q=!0,Se());else{var de=r(o);de!==null&&he(Y,de.startTime-se)}}var Q=!1,G=-1,le=5,Ae=-1;function je(){return w?!0:!(s.unstable_now()-Ae<le)}function ue(){if(w=!1,Q){var se=s.unstable_now();Ae=se;var de=!0;try{e:{b=!1,y&&(y=!1,R(G),G=-1),x=!0;var oe=p;try{t:{for(X(se),m=r(A);m!==null&&!(m.expirationTime>se&&je());){var Ee=m.callback;if(typeof Ee=="function"){m.callback=null,p=m.priorityLevel;var De=Ee(m.expirationTime<=se);if(se=s.unstable_now(),typeof De=="function"){m.callback=De,X(se),de=!0;break t}m===r(A)&&n(A),X(se)}else n(A);m=r(A)}if(m!==null)de=!0;else{var ke=r(o);ke!==null&&he(Y,ke.startTime-se),de=!1}}break e}finally{m=null,p=oe,x=!1}de=void 0}}finally{de?Se():Q=!1}}}var Se;if(typeof z=="function")Se=function(){z(ue)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Ne=ae.port2;ae.port1.onmessage=ue,Se=function(){Ne.postMessage(null)}}else Se=function(){E(ue,0)};function he(se,de){G=E(function(){se(s.unstable_now())},de)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(se){se.callback=null},s.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<se?Math.floor(1e3/se):5},s.unstable_getCurrentPriorityLevel=function(){return p},s.unstable_next=function(se){switch(p){case 1:case 2:case 3:var de=3;break;default:de=p}var oe=p;p=de;try{return se()}finally{p=oe}},s.unstable_requestPaint=function(){w=!0},s.unstable_runWithPriority=function(se,de){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var oe=p;p=se;try{return de()}finally{p=oe}},s.unstable_scheduleCallback=function(se,de,oe){var Ee=s.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ee+oe:Ee):oe=Ee,se){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=oe+De,se={id:f++,callback:de,priorityLevel:se,startTime:oe,expirationTime:De,sortIndex:-1},oe>Ee?(se.sortIndex=oe,e(o,se),r(A)===null&&se===r(o)&&(y?(R(G),G=-1):y=!0,he(Y,oe-Ee))):(se.sortIndex=De,e(A,se),b||x||(b=!0,Q||(Q=!0,Se()))),se},s.unstable_shouldYield=je,s.unstable_wrapCallback=function(se){var de=p;return function(){var oe=p;p=de;try{return se.apply(this,arguments)}finally{p=oe}}}})(eb)),eb}var a2;function _4(){return a2||(a2=1,qx.exports=Q4()),qx.exports}var tb={exports:{}},zc={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2;function H4(){if(i2)return zc;i2=1;var s=km();function e(A){var o="https://react.dev/errors/"+A;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)o+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+A+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(A,o,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:A,containerInfo:o,implementation:f}}var u=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(A,o){if(A==="font")return"";if(typeof o=="string")return o==="use-credentials"?o:""}return zc.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,zc.createPortal=function(A,o){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)throw Error(e(299));return l(A,o,null,f)},zc.flushSync=function(A){var o=u.T,f=n.p;try{if(u.T=null,n.p=2,A)return A()}finally{u.T=o,n.p=f,n.d.f()}},zc.preconnect=function(A,o){typeof A=="string"&&(o?(o=o.crossOrigin,o=typeof o=="string"?o==="use-credentials"?o:"":void 0):o=null,n.d.C(A,o))},zc.prefetchDNS=function(A){typeof A=="string"&&n.d.D(A)},zc.preinit=function(A,o){if(typeof A=="string"&&o&&typeof o.as=="string"){var f=o.as,m=d(f,o.crossOrigin),p=typeof o.integrity=="string"?o.integrity:void 0,x=typeof o.fetchPriority=="string"?o.fetchPriority:void 0;f==="style"?n.d.S(A,typeof o.precedence=="string"?o.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:x}):f==="script"&&n.d.X(A,{crossOrigin:m,integrity:p,fetchPriority:x,nonce:typeof o.nonce=="string"?o.nonce:void 0})}},zc.preinitModule=function(A,o){if(typeof A=="string")if(typeof o=="object"&&o!==null){if(o.as==null||o.as==="script"){var f=d(o.as,o.crossOrigin);n.d.M(A,{crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0})}}else o==null&&n.d.M(A)},zc.preload=function(A,o){if(typeof A=="string"&&typeof o=="object"&&o!==null&&typeof o.as=="string"){var f=o.as,m=d(f,o.crossOrigin);n.d.L(A,f,{crossOrigin:m,integrity:typeof o.integrity=="string"?o.integrity:void 0,nonce:typeof o.nonce=="string"?o.nonce:void 0,type:typeof o.type=="string"?o.type:void 0,fetchPriority:typeof o.fetchPriority=="string"?o.fetchPriority:void 0,referrerPolicy:typeof o.referrerPolicy=="string"?o.referrerPolicy:void 0,imageSrcSet:typeof o.imageSrcSet=="string"?o.imageSrcSet:void 0,imageSizes:typeof o.imageSizes=="string"?o.imageSizes:void 0,media:typeof o.media=="string"?o.media:void 0})}},zc.preloadModule=function(A,o){if(typeof A=="string")if(o){var f=d(o.as,o.crossOrigin);n.d.m(A,{as:typeof o.as=="string"&&o.as!=="script"?o.as:void 0,crossOrigin:f,integrity:typeof o.integrity=="string"?o.integrity:void 0})}else n.d.m(A)},zc.requestFormReset=function(A){n.d.r(A)},zc.unstable_batchedUpdates=function(A,o){return A(o)},zc.useFormState=function(A,o,f){return u.H.useFormState(A,o,f)},zc.useFormStatus=function(){return u.H.useHostTransitionStatus()},zc.version="19.2.3",zc}var o2;function Kj(){if(o2)return tb.exports;o2=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),tb.exports=H4(),tb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l2;function z4(){if(l2)return D0;l2=1;var s=_4(),e=km(),r=Kj();function n(i){var c="https://react.dev/errors/"+i;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+i+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var c=i,h=i;if(i.alternate)for(;c.return;)c=c.return;else{i=c;do c=i,(c.flags&4098)!==0&&(h=c.return),i=c.return;while(i)}return c.tag===3?h:null}function u(i){if(i.tag===13){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function d(i){if(i.tag===31){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function A(i){if(l(i)!==i)throw Error(n(188))}function o(i){var c=i.alternate;if(!c){if(c=l(i),c===null)throw Error(n(188));return c!==i?null:i}for(var h=i,g=c;;){var O=h.return;if(O===null)break;var _=O.alternate;if(_===null){if(g=O.return,g!==null){h=g;continue}break}if(O.child===_.child){for(_=O.child;_;){if(_===h)return A(O),i;if(_===g)return A(O),c;_=_.sibling}throw Error(n(188))}if(h.return!==g.return)h=O,g=_;else{for(var be=!1,He=O.child;He;){if(He===h){be=!0,h=O,g=_;break}if(He===g){be=!0,g=O,h=_;break}He=He.sibling}if(!be){for(He=_.child;He;){if(He===h){be=!0,h=_,g=O;break}if(He===g){be=!0,g=_,h=O;break}He=He.sibling}if(!be)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?i:c}function f(i){var c=i.tag;if(c===5||c===26||c===27||c===6)return i;for(i=i.child;i!==null;){if(c=f(i),c!==null)return c;i=i.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),z=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),Ae=Symbol.for("react.activity"),je=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function Se(i){return i===null||typeof i!="object"?null:(i=ue&&i[ue]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Symbol.for("react.client.reference");function Ne(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case y:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case Y:return"Suspense";case Q:return"SuspenseList";case Ae:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case b:return"Portal";case z:return i.displayName||"Context";case R:return(i._context.displayName||"Context")+".Consumer";case X:var c=i.render;return i=i.displayName,i||(i=c.displayName||c.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case G:return c=i.displayName||null,c!==null?c:Ne(i.type)||"Memo";case le:c=i._payload,i=i._init;try{return Ne(i(c))}catch{}}return null}var he=Array.isArray,se=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ee=[],De=-1;function ke(i){return{current:i}}function pe(i){0>De||(i.current=Ee[De],Ee[De]=null,De--)}function ye(i,c){De++,Ee[De]=i.current,i.current=c}var fe=ke(null),te=ke(null),ge=ke(null),Fe=ke(null);function $e(i,c){switch(ye(ge,c),ye(te,i),ye(fe,null),c.nodeType){case 9:case 11:i=(i=c.documentElement)&&(i=i.namespaceURI)?j1(i):0;break;default:if(i=c.tagName,c=c.namespaceURI)c=j1(c),i=N1(c,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}pe(fe),ye(fe,i)}function kt(){pe(fe),pe(te),pe(ge)}function St(i){i.memoizedState!==null&&ye(Fe,i);var c=fe.current,h=N1(c,i.type);c!==h&&(ye(te,i),ye(fe,h))}function Ge(i){te.current===i&&(pe(fe),pe(te)),Fe.current===i&&(pe(Fe),U0._currentValue=oe)}var Mt,Vt;function cs(i){if(Mt===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Mt=c&&c[1]||"",Vt=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Mt+i+Vt}var xt=!1;function ot(i,c){if(!i||xt)return"";xt=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var Is=function(){throw Error()};if(Object.defineProperty(Is.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Is,[])}catch(ds){var is=ds}Reflect.construct(i,[],Is)}else{try{Is.call()}catch(ds){is=ds}i.call(Is.prototype)}}else{try{throw Error()}catch(ds){is=ds}(Is=i())&&typeof Is.catch=="function"&&Is.catch(function(){})}}catch(ds){if(ds&&is&&typeof ds.stack=="string")return[ds.stack,is.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=g.DetermineComponentFrameRoot(),be=_[0],He=_[1];if(be&&He){var pt=be.split(`
`),as=He.split(`
`);for(O=g=0;g<pt.length&&!pt[g].includes("DetermineComponentFrameRoot");)g++;for(;O<as.length&&!as[O].includes("DetermineComponentFrameRoot");)O++;if(g===pt.length||O===as.length)for(g=pt.length-1,O=as.length-1;1<=g&&0<=O&&pt[g]!==as[O];)O--;for(;1<=g&&0<=O;g--,O--)if(pt[g]!==as[O]){if(g!==1||O!==1)do if(g--,O--,0>O||pt[g]!==as[O]){var Es=`
`+pt[g].replace(" at new "," at ");return i.displayName&&Es.includes("<anonymous>")&&(Es=Es.replace("<anonymous>",i.displayName)),Es}while(1<=g&&0<=O);break}}}finally{xt=!1,Error.prepareStackTrace=h}return(h=i?i.displayName||i.name:"")?cs(h):""}function At(i,c){switch(i.tag){case 26:case 27:case 5:return cs(i.type);case 16:return cs("Lazy");case 13:return i.child!==c&&c!==null?cs("Suspense Fallback"):cs("Suspense");case 19:return cs("SuspenseList");case 0:case 15:return ot(i.type,!1);case 11:return ot(i.type.render,!1);case 1:return ot(i.type,!0);case 31:return cs("Activity");default:return""}}function Lt(i){try{var c="",h=null;do c+=At(i,h),h=i,i=i.return;while(i);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var $s=Object.prototype.hasOwnProperty,vs=s.unstable_scheduleCallback,fr=s.unstable_cancelCallback,Ar=s.unstable_shouldYield,hr=s.unstable_requestPaint,Ms=s.unstable_now,ys=s.unstable_getCurrentPriorityLevel,Us=s.unstable_ImmediatePriority,xr=s.unstable_UserBlockingPriority,yr=s.unstable_NormalPriority,nn=s.unstable_LowPriority,Nr=s.unstable_IdlePriority,er=s.log,Ys=s.unstable_setDisableYieldValue,Ts=null,ft=null;function Kt(i){if(typeof er=="function"&&Ys(i),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(Ts,i)}catch{}}var Cs=Math.clz32?Math.clz32:wt,Vs=Math.log,ir=Math.LN2;function wt(i){return i>>>=0,i===0?32:31-(Vs(i)/ir|0)|0}var es=256,As=262144,hs=4194304;function Ks(i){var c=i&42;if(c!==0)return c;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zs(i,c,h){var g=i.pendingLanes;if(g===0)return 0;var O=0,_=i.suspendedLanes,be=i.pingedLanes;i=i.warmLanes;var He=g&134217727;return He!==0?(g=He&~_,g!==0?O=Ks(g):(be&=He,be!==0?O=Ks(be):h||(h=He&~i,h!==0&&(O=Ks(h))))):(He=g&~_,He!==0?O=Ks(He):be!==0?O=Ks(be):h||(h=g&~i,h!==0&&(O=Ks(h)))),O===0?0:c!==0&&c!==O&&(c&_)===0&&(_=O&-O,h=c&-c,_>=h||_===32&&(h&4194048)!==0)?c:O}function mr(i,c){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&c)===0}function en(i,c){switch(i){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wa(){var i=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),i}function Ss(i){for(var c=[],h=0;31>h;h++)c.push(i);return c}function Os(i,c){i.pendingLanes|=c,c!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function sr(i,c,h,g,O,_){var be=i.pendingLanes;i.pendingLanes=h,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=h,i.entangledLanes&=h,i.errorRecoveryDisabledLanes&=h,i.shellSuspendCounter=0;var He=i.entanglements,pt=i.expirationTimes,as=i.hiddenUpdates;for(h=be&~h;0<h;){var Es=31-Cs(h),Is=1<<Es;He[Es]=0,pt[Es]=-1;var is=as[Es];if(is!==null)for(as[Es]=null,Es=0;Es<is.length;Es++){var ds=is[Es];ds!==null&&(ds.lane&=-536870913)}h&=~Is}g!==0&&fs(i,g,0),_!==0&&O===0&&i.tag!==0&&(i.suspendedLanes|=_&~(be&~c))}function fs(i,c,h){i.pendingLanes|=c,i.suspendedLanes&=~c;var g=31-Cs(c);i.entangledLanes|=c,i.entanglements[g]=i.entanglements[g]|1073741824|h&261930}function Pr(i,c){var h=i.entangledLanes|=c;for(i=i.entanglements;h;){var g=31-Cs(h),O=1<<g;O&c|i[g]&c&&(i[g]|=c),h&=~O}}function Gr(i,c){var h=c&-c;return h=(h&42)!==0?1:ur(h),(h&(i.suspendedLanes|c))!==0?0:h}function ur(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Va(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function ha(){var i=de.p;return i!==0?i:(i=window.event,i===void 0?32:G1(i.type))}function fn(i,c){var h=de.p;try{return de.p=i,c()}finally{de.p=h}}var Bn=Math.random().toString(36).slice(2),ln="__reactFiber$"+Bn,fa="__reactProps$"+Bn,Zn="__reactContainer$"+Bn,Ii="__reactEvents$"+Bn,Dn="__reactListeners$"+Bn,mc="__reactHandles$"+Bn,oi="__reactResources$"+Bn,To="__reactMarker$"+Bn;function Vl(i){delete i[ln],delete i[fa],delete i[Ii],delete i[Dn],delete i[mc]}function ho(i){var c=i[ln];if(c)return c;for(var h=i.parentNode;h;){if(c=h[Zn]||h[ln]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(i=U1(i);i!==null;){if(h=i[ln])return h;i=U1(i)}return c}i=h,h=i.parentNode}return null}function ma(i){if(i=i[ln]||i[Zn]){var c=i.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return i}return null}function Ni(i){var c=i.tag;if(c===5||c===26||c===27||c===6)return i.stateNode;throw Error(n(33))}function sa(i){var c=i[oi];return c||(c=i[oi]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ua(i){i[To]=!0}var qn=new Set,fo={};function Ai(i,c){Ci(i,c),Ci(i+"Capture",c)}function Ci(i,c){for(fo[i]=c,i=0;i<c.length;i++)qn.add(c[i])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Tl={};function xa(i){return $s.call(Tl,i)?!0:$s.call(qo,i)?!1:Al.test(i)?Tl[i]=!0:(qo[i]=!0,!1)}function ja(i,c,h){if(xa(c))if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":i.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){i.removeAttribute(c);return}}i.setAttribute(c,""+h)}}function mo(i,c,h){if(h===null)i.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttribute(c,""+h)}}function ti(i,c,h,g){if(g===null)i.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(h);return}i.setAttributeNS(c,h,""+g)}}function Di(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function hi(i){var c=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Wr(i,c,h){var g=Object.getOwnPropertyDescriptor(i.constructor.prototype,c);if(!i.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var O=g.get,_=g.set;return Object.defineProperty(i,c,{configurable:!0,get:function(){return O.call(this)},set:function(be){h=""+be,_.call(this,be)}}),Object.defineProperty(i,c,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function(be){h=""+be},stopTracking:function(){i._valueTracker=null,delete i[c]}}}}function Ka(i){if(!i._valueTracker){var c=hi(i)?"checked":"value";i._valueTracker=Wr(i,c,""+i[c])}}function ki(i){if(!i)return!1;var c=i._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return i&&(g=hi(i)?i.checked?"true":"false":i.value),i=g,i!==h?(c.setValue(i),!0):!1}function Pa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var po=/[\n"\\]/g;function Gn(i){return i.replace(po,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ki(i,c,h,g,O,_,be,He){i.name="",be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?i.type=be:i.removeAttribute("type"),c!=null?be==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+Di(c)):i.value!==""+Di(c)&&(i.value=""+Di(c)):be!=="submit"&&be!=="reset"||i.removeAttribute("value"),c!=null?Da(i,be,Di(c)):h!=null?Da(i,be,Di(h)):g!=null&&i.removeAttribute("value"),O==null&&_!=null&&(i.defaultChecked=!!_),O!=null&&(i.checked=O&&typeof O!="function"&&typeof O!="symbol"),He!=null&&typeof He!="function"&&typeof He!="symbol"&&typeof He!="boolean"?i.name=""+Di(He):i.removeAttribute("name")}function Ga(i,c,h,g,O,_,be,He){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),c!=null||h!=null){if(!(_!=="submit"&&_!=="reset"||c!=null)){Ka(i);return}h=h!=null?""+Di(h):"",c=c!=null?""+Di(c):h,He||c===i.value||(i.value=c),i.defaultValue=c}g=g??O,g=typeof g!="function"&&typeof g!="symbol"&&!!g,i.checked=He?i.checked:!!g,i.defaultChecked=!!g,be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"&&(i.name=be),Ka(i)}function Da(i,c,h){c==="number"&&Pa(i.ownerDocument)===i||i.defaultValue===""+h||(i.defaultValue=""+h)}function fi(i,c,h,g){if(i=i.options,c){c={};for(var O=0;O<h.length;O++)c["$"+h[O]]=!0;for(h=0;h<i.length;h++)O=c.hasOwnProperty("$"+i[h].value),i[h].selected!==O&&(i[h].selected=O),O&&g&&(i[h].defaultSelected=!0)}else{for(h=""+Di(h),c=null,O=0;O<i.length;O++){if(i[O].value===h){i[O].selected=!0,g&&(i[O].defaultSelected=!0);return}c!==null||i[O].disabled||(c=i[O])}c!==null&&(c.selected=!0)}}function Uo(i,c,h){if(c!=null&&(c=""+Di(c),c!==i.value&&(i.value=c),h==null)){i.defaultValue!==c&&(i.defaultValue=c);return}i.defaultValue=h!=null?""+Di(h):""}function Bi(i,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(n(92));if(he(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=Di(c),i.defaultValue=h,g=i.textContent,g===h&&g!==""&&g!==null&&(i.value=g),Ka(i)}function ba(i,c){if(c){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=c;return}}i.textContent=c}var mi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eo(i,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="":g?i.setProperty(c,h):typeof h!="number"||h===0||mi.has(c)?c==="float"?i.cssFloat=h:i[c]=(""+h).trim():i[c]=h+"px"}function Si(i,c,h){if(c!=null&&typeof c!="object")throw Error(n(62));if(i=i.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?i.setProperty(g,""):g==="float"?i.cssFloat="":i[g]="");for(var O in c)g=c[O],c.hasOwnProperty(O)&&h[O]!==g&&eo(i,O,g)}else for(var _ in c)c.hasOwnProperty(_)&&eo(i,_,c[_])}function oo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function K(i){return F.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function J(){}var T=null;function M(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var $=null,ie=null;function ve(i){var c=ma(i);if(c&&(i=c.stateNode)){var h=i[fa]||null;e:switch(i=c.stateNode,c.type){case"input":if(Ki(i,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Gn(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==i&&g.form===i.form){var O=g[fa]||null;if(!O)throw Error(n(90));Ki(g,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===i.form&&ki(g)}break e;case"textarea":Uo(i,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&fi(i,!!h.multiple,c,!1)}}}var Re=!1;function Je(i,c,h){if(Re)return i(c,h);Re=!0;try{var g=i(c);return g}finally{if(Re=!1,($!==null||ie!==null)&&(_l(),$&&(c=$,i=ie,ie=$=null,ve(c),i)))for(c=0;c<i.length;c++)ve(i[c])}}function N(i,c){var h=i.stateNode;if(h===null)return null;var g=h[fa]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var v=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S=!1;if(v)try{var I={};Object.defineProperty(I,"passive",{get:function(){S=!0}}),window.addEventListener("test",I,I),window.removeEventListener("test",I,I)}catch{S=!1}var P=null,V=null,ce=null;function q(){if(ce)return ce;var i,c=V,h=c.length,g,O="value"in P?P.value:P.textContent,_=O.length;for(i=0;i<h&&c[i]===O[i];i++);var be=h-i;for(g=1;g<=be&&c[h-g]===O[_-g];g++);return ce=O.slice(i,1<g?1-g:void 0)}function ee(i){var c=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&c===13&&(i=13)):i=c,i===10&&(i=13),32<=i||i===13?i:0}function Ce(){return!0}function Me(){return!1}function ze(i){function c(h,g,O,_,be){this._reactName=h,this._targetInst=O,this.type=g,this.nativeEvent=_,this.target=be,this.currentTarget=null;for(var He in i)i.hasOwnProperty(He)&&(h=i[He],this[He]=h?h(_):_[He]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ce:Me,this.isPropagationStopped=Me,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ce)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ce)},persist:function(){},isPersistent:Ce}),c}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=ze(Xe),ct=m({},Xe,{view:0,detail:0}),it=ze(ct),ut,We,jt,Pt=m({},ct,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==jt&&(jt&&i.type==="mousemove"?(ut=i.screenX-jt.screenX,We=i.screenY-jt.screenY):We=ut=0,jt=i),ut)},movementY:function(i){return"movementY"in i?i.movementY:We}}),gt=ze(Pt),Ke=m({},Pt,{dataTransfer:0}),Ot=ze(Ke),ls=m({},ct,{relatedTarget:0}),zt=ze(ls),yt=m({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),ss=ze(yt),Ye=m({},Xe,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),st=ze(Ye),bt=m({},Xe,{data:0}),vt=ze(bt),ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},us={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bs={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gt(i){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(i):(i=bs[i])?!!c[i]:!1}function ms(){return Gt}var Xs=m({},ct,{key:function(i){if(i.key){var c=ns[i.key]||i.key;if(c!=="Unidentified")return c}return i.type==="keypress"?(i=ee(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?us[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(i){return i.type==="keypress"?ee(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ee(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Qs=ze(Xs),Qe=m({},Pt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dt=ze(Qe),ht=m({},ct,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),It=ze(ht),Qt=m({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xt=ze(Qt),ps=m({},Pt,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),gs=ze(ps),Ls=m({},Xe,{newState:0,oldState:0}),Js=ze(Ls),br=[9,13,27,32],gr=v&&"CompositionEvent"in window,Yr=null;v&&"documentMode"in document&&(Yr=document.documentMode);var et=v&&"TextEvent"in window&&!Yr,or=v&&(!gr||Yr&&8<Yr&&11>=Yr),un=" ",rr=!1;function _s(i,c){switch(i){case"keyup":return br.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tn(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vr=!1;function $r(i,c){switch(i){case"compositionend":return tn(c);case"keypress":return c.which!==32?null:(rr=!0,un);case"textInput":return i=c.data,i===un&&rr?null:i;default:return null}}function Or(i,c){if(vr)return i==="compositionend"||!gr&&_s(i,c)?(i=q(),ce=V=P=null,vr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return or&&c.locale!=="ko"?null:c.data;default:return null}}var ka={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sn(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c==="input"?!!ka[i.type]:c==="textarea"}function kr(i,c,h,g){$?ie?ie.push(g):ie=[g]:$=g,c=_m(c,"onChange"),0<c.length&&(h=new xe("onChange","change",null,h,g),i.push({event:h,listeners:c}))}var zn=null,Xr=null;function Br(i){g1(i,0)}function rn(i){var c=Ni(i);if(ki(c))return i}function Ir(i,c){if(i==="change")return c}var vn=!1;if(v){var Wn;if(v){var En="oninput"in document;if(!En){var Rn=document.createElement("div");Rn.setAttribute("oninput","return;"),En=typeof Rn.oninput=="function"}Wn=En}else Wn=!1;vn=Wn&&(!document.documentMode||9<document.documentMode)}function Wa(){zn&&(zn.detachEvent("onpropertychange",Vr),Xr=zn=null)}function Vr(i){if(i.propertyName==="value"&&rn(Xr)){var c=[];kr(c,Xr,i,M(i)),Je(Br,c)}}function Qa(i,c,h){i==="focusin"?(Wa(),zn=c,Xr=h,zn.attachEvent("onpropertychange",Vr)):i==="focusout"&&Wa()}function mn(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return rn(Xr)}function _r(i,c){if(i==="click")return rn(c)}function Na(i,c){if(i==="input"||i==="change")return rn(c)}function jn(i,c){return i===c&&(i!==0||1/i===1/c)||i!==i&&c!==c}var ar=typeof Object.is=="function"?Object.is:jn;function Fn(i,c){if(ar(i,c))return!0;if(typeof i!="object"||i===null||typeof c!="object"||c===null)return!1;var h=Object.keys(i),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var O=h[g];if(!$s.call(c,O)||!ar(i[O],c[O]))return!1}return!0}function Wc(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ri(i,c){var h=Wc(i);i=0;for(var g;h;){if(h.nodeType===3){if(g=i+h.textContent.length,i<=c&&g>=c)return{node:h,offset:c-i};i=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Wc(h)}}function lo(i,c){return i&&c?i===c?!0:i&&i.nodeType===3?!1:c&&c.nodeType===3?lo(i,c.parentNode):"contains"in i?i.contains(c):i.compareDocumentPosition?!!(i.compareDocumentPosition(c)&16):!1:!1}function Kl(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var c=Pa(i.document);c instanceof i.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)i=c.contentWindow;else break;c=Pa(i.document)}return c}function an(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c&&(c==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||c==="textarea"||i.contentEditable==="true")}var li=v&&"documentMode"in document&&11>=document.documentMode,pi=null,el=null,Lo=null,Ra=!1;function gi(i,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Ra||pi==null||pi!==Pa(g)||(g=pi,"selectionStart"in g&&an(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Lo&&Fn(Lo,g)||(Lo=g,g=_m(el,"onSelect"),0<g.length&&(c=new xe("onSelect","select",null,c,h),i.push({event:c,listeners:g}),c.target=pi)))}function ci(i,c){var h={};return h[i.toLowerCase()]=c.toLowerCase(),h["Webkit"+i]="webkit"+c,h["Moz"+i]="moz"+c,h}var Ul={animationend:ci("Animation","AnimationEnd"),animationiteration:ci("Animation","AnimationIteration"),animationstart:ci("Animation","AnimationStart"),transitionrun:ci("Transition","TransitionRun"),transitionstart:ci("Transition","TransitionStart"),transitioncancel:ci("Transition","TransitionCancel"),transitionend:ci("Transition","TransitionEnd")},Pi={},hl={};v&&(hl=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function go(i){if(Pi[i])return Pi[i];if(!Ul[i])return i;var c=Ul[i],h;for(h in c)if(c.hasOwnProperty(h)&&h in hl)return Pi[i]=c[h];return i}var Ll=go("animationend"),Fo=go("animationiteration"),fl=go("animationstart"),Yc=go("transitionrun"),ml=go("transitionstart"),Mo=go("transitioncancel"),Uc=go("transitionend"),Xc=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function tl(i,c){Xc.set(i,c),Ai(c,[i])}var Lc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Oo=[],Fl=0,xo=0;function gc(){for(var i=Fl,c=xo=Fl=0;c<i;){var h=Oo[c];Oo[c++]=null;var g=Oo[c];Oo[c++]=null;var O=Oo[c];Oo[c++]=null;var _=Oo[c];if(Oo[c++]=null,g!==null&&O!==null){var be=g.pending;be===null?O.next=O:(O.next=be.next,be.next=O),g.pending=O}_!==0&&Jd(h,O,_)}}function Fc(i,c,h,g){Oo[Fl++]=i,Oo[Fl++]=c,Oo[Fl++]=h,Oo[Fl++]=g,xo|=g,i.lanes|=g,i=i.alternate,i!==null&&(i.lanes|=g)}function ud(i,c,h,g){return Fc(i,c,h,g),Ad(i)}function Gl(i,c){return Fc(i,null,null,c),Ad(i)}function Jd(i,c,h){i.lanes|=h;var g=i.alternate;g!==null&&(g.lanes|=h);for(var O=!1,_=i.return;_!==null;)_.childLanes|=h,g=_.alternate,g!==null&&(g.childLanes|=h),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(O=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,O&&c!==null&&(O=31-Cs(h),i=_.hiddenUpdates,g=i[O],g===null?i[O]=[c]:g.push(c),c.lane=h|536870912),_):null}function Ad(i){if(50<ca)throw ca=0,ya=null,Error(n(185));for(var c=i.return;c!==null;)i=c,c=i.return;return i.tag===3?i.stateNode:null}var bo={};function Md(i,c,h,g){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Io(i,c,h,g){return new Md(i,c,h,g)}function An(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ml(i,c){var h=i.alternate;return h===null?(h=Io(i.tag,c,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=c,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&65011712,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,c=i.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h.refCleanup=i.refCleanup,h}function Wl(i,c){i.flags&=65011714;var h=i.alternate;return h===null?(i.childLanes=0,i.lanes=c,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=h.childLanes,i.lanes=h.lanes,i.child=h.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=h.memoizedProps,i.memoizedState=h.memoizedState,i.updateQueue=h.updateQueue,i.type=h.type,c=h.dependencies,i.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),i}function Yl(i,c,h,g,O,_){var be=0;if(g=i,typeof i=="function")An(i)&&(be=1);else if(typeof i=="string")be=y4(i,h,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Ae:return i=Io(31,h,c,O),i.elementType=Ae,i.lanes=_,i;case y:return Mc(h.children,O,_,c);case w:be=8,O|=24;break;case E:return i=Io(12,h,c,O|2),i.elementType=E,i.lanes=_,i;case Y:return i=Io(13,h,c,O),i.elementType=Y,i.lanes=_,i;case Q:return i=Io(19,h,c,O),i.elementType=Q,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:be=10;break e;case R:be=9;break e;case X:be=11;break e;case G:be=14;break e;case le:be=16,g=null;break e}be=29,h=Error(n(130,i===null?"null":typeof i,"")),g=null}return c=Io(be,h,c,O),c.elementType=i,c.type=g,c.lanes=_,c}function Mc(i,c,h,g){return i=Io(7,i,g,c),i.lanes=h,i}function Ol(i,c,h){return i=Io(6,i,null,c),i.lanes=h,i}function Gi(i){var c=Io(18,null,null,0);return c.stateNode=i,c}function Xl(i,c,h){return c=Io(4,i.children!==null?i.children:[],i.key,c),c.lanes=h,c.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},c}var hd=new WeakMap;function Wi(i,c){if(typeof i=="object"&&i!==null){var h=hd.get(i);return h!==void 0?h:(c={value:i,source:c,stack:Lt(c)},hd.set(i,c),c)}return{value:i,source:c,stack:Lt(c)}}var Jc=[],Do=0,fd=null,Jl=0,vo=[],to=0,Zl=null,pl=1,sl="";function gl(i,c){Jc[Do++]=Jl,Jc[Do++]=fd,fd=i,Jl=c}function gu(i,c,h){vo[to++]=pl,vo[to++]=sl,vo[to++]=Zl,Zl=i;var g=pl;i=sl;var O=32-Cs(g)-1;g&=~(1<<O),h+=1;var _=32-Cs(c)+O;if(30<_){var be=O-O%5;_=(g&(1<<be)-1).toString(32),g>>=be,O-=be,pl=1<<32-Cs(c)+O|h<<O|g,sl=_+i}else pl=1<<_|h<<O|g,sl=i}function Il(i){i.return!==null&&(gl(i,1),gu(i,1,0))}function xu(i){for(;i===fd;)fd=Jc[--Do],Jc[Do]=null,Jl=Jc[--Do],Jc[Do]=null;for(;i===Zl;)Zl=vo[--to],vo[to]=null,sl=vo[--to],vo[to]=null,pl=vo[--to],vo[to]=null}function md(i,c){vo[to++]=pl,vo[to++]=sl,vo[to++]=Zl,pl=c.id,sl=c.overflow,Zl=i}var Qi=null,_a=null,lr=!1,Oc=null,xl=!1,pd=Error(n(519));function Ro(i){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(Wi(c,i)),pd}function Ic(i){var c=i.stateNode,h=i.type,g=i.memoizedProps;switch(c[ln]=i,c[fa]=g,h){case"dialog":Ca("cancel",c),Ca("close",c);break;case"iframe":case"object":case"embed":Ca("load",c);break;case"video":case"audio":for(h=0;h<k0.length;h++)Ca(k0[h],c);break;case"source":Ca("error",c);break;case"img":case"image":case"link":Ca("error",c),Ca("load",c);break;case"details":Ca("toggle",c);break;case"input":Ca("invalid",c),Ga(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Ca("invalid",c);break;case"textarea":Ca("invalid",c),Bi(c,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||y1(c.textContent,h)?(g.popover!=null&&(Ca("beforetoggle",c),Ca("toggle",c)),g.onScroll!=null&&Ca("scroll",c),g.onScrollEnd!=null&&Ca("scrollend",c),g.onClick!=null&&(c.onclick=J),c=!0):c=!1,c||Ro(i,!0)}function bu(i){for(Qi=i.return;Qi;)switch(Qi.tag){case 5:case 31:case 13:xl=!1;return;case 27:case 3:xl=!0;return;default:Qi=Qi.return}}function gd(i){if(i!==Qi)return!1;if(!lr)return bu(i),lr=!0,!1;var c=i.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=i.type,h=!(h!=="form"&&h!=="button")||Ox(i.type,i.memoizedProps)),h=!h),h&&_a&&Ro(i),bu(i),c===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));_a=T1(i)}else if(c===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));_a=T1(i)}else c===27?(c=_a,uh(i.type)?(i=Qx,Qx=null,_a=i):_a=c):_a=Qi?au(i.stateNode.nextSibling):null;return!0}function Yi(){_a=Qi=null,lr=!1}function Zc(){var i=Oc;return i!==null&&(Ct===null?Ct=i:Ct.push.apply(Ct,i),Oc=null),i}function bl(i){Oc===null?Oc=[i]:Oc.push(i)}var Zd=ke(null),rl=null,xc=null;function Po(i,c,h){ye(Zd,c._currentValue),c._currentValue=h}function nl(i){i._currentValue=Zd.current,pe(Zd)}function xd(i,c,h){for(;i!==null;){var g=i.alternate;if((i.childLanes&c)!==c?(i.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),i===h)break;i=i.return}}function vl(i,c,h,g){var O=i.child;for(O!==null&&(O.return=i);O!==null;){var _=O.dependencies;if(_!==null){var be=O.child;_=_.firstContext;e:for(;_!==null;){var He=_;_=O;for(var pt=0;pt<c.length;pt++)if(He.context===c[pt]){_.lanes|=h,He=_.alternate,He!==null&&(He.lanes|=h),xd(_.return,h,i),g||(be=null);break e}_=He.next}}else if(O.tag===18){if(be=O.return,be===null)throw Error(n(341));be.lanes|=h,_=be.alternate,_!==null&&(_.lanes|=h),xd(be,h,i),be=null}else be=O.child;if(be!==null)be.return=O;else for(be=O;be!==null;){if(be===i){be=null;break}if(O=be.sibling,O!==null){O.return=be.return,be=O;break}be=be.return}O=be}}function bc(i,c,h,g){i=null;for(var O=c,_=!1;O!==null;){if(!_){if((O.flags&524288)!==0)_=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var be=O.alternate;if(be===null)throw Error(n(387));if(be=be.memoizedProps,be!==null){var He=O.type;ar(O.pendingProps.value,be.value)||(i!==null?i.push(He):i=[He])}}else if(O===Fe.current){if(be=O.alternate,be===null)throw Error(n(387));be.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(i!==null?i.push(U0):i=[U0])}O=O.return}i!==null&&vl(c,i,h,g),c.flags|=262144}function qc(i){for(i=i.firstContext;i!==null;){if(!ar(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function al(i){rl=i,xc=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function si(i){return vu(rl,i)}function bd(i,c){return rl===null&&al(i),vu(i,c)}function vu(i,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},xc===null){if(i===null)throw Error(n(308));xc=c,i.dependencies={lanes:0,firstContext:c},i.flags|=524288}else xc=xc.next=c;return h}var Fu=typeof AbortController<"u"?AbortController:function(){var i=[],c=this.signal={aborted:!1,addEventListener:function(h,g){i.push(g)}};this.abort=function(){c.aborted=!0,i.forEach(function(h){return h()})}},ed=s.unstable_scheduleCallback,td=s.unstable_NormalPriority,xi={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sd(){return{controller:new Fu,data:new Map,refCount:0}}function vd(i){i.refCount--,i.refCount===0&&ed(td,function(){i.controller.abort()})}var Z=null,Te=0,nt=0,mt=null;function _t(i,c){if(Z===null){var h=Z=[];Te=0,nt=kx(),mt={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Te++,c.then(ks,ks),c}function ks(){if(--Te===0&&Z!==null){mt!==null&&(mt.status="fulfilled");var i=Z;Z=null,nt=0,mt=null;for(var c=0;c<i.length;c++)(0,i[c])()}}function Ds(i,c){var h=[],g={status:"pending",value:null,reason:null,then:function(O){h.push(O)}};return i.then(function(){g.status="fulfilled",g.value=c;for(var O=0;O<h.length;O++)(0,h[O])(c)},function(O){for(g.status="rejected",g.reason=O,O=0;O<h.length;O++)(0,h[O])(void 0)}),g}var Sr=se.S;se.S=function(i,c){Ns=Ms(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&_t(i,c),Sr!==null&&Sr(i,c)};var Er=ke(null);function pn(){var i=Er.current;return i!==null?i:ga.pooledCache}function Nn(i,c){c===null?ye(Er,Er.current):ye(Er,c.pool)}function ra(){var i=pn();return i===null?null:{parent:xi._currentValue,pool:i}}var La=Error(n(460)),bi=Error(n(474)),Ba=Error(n(542)),Ei={then:function(){}};function C(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Be(i,c,h){switch(h=i[h],h===void 0?i.push(c):h!==c&&(c.then(J,J),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw i=c.reason,at(i),i;default:if(typeof c.status=="string")c.then(J,J);else{if(i=ga,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=c,i.status="pending",i.then(function(g){if(c.status==="pending"){var O=c;O.status="fulfilled",O.value=g}},function(g){if(c.status==="pending"){var O=c;O.status="rejected",O.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw i=c.reason,at(i),i}throw Pe=c,La}}function H(i){try{var c=i._init;return c(i._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Pe=h,La):h}}var Pe=null;function lt(){if(Pe===null)throw Error(n(459));var i=Pe;return Pe=null,i}function at(i){if(i===La||i===Ba)throw Error(n(483))}var Jt=null,Ut=0;function pr(i){var c=Ut;return Ut+=1,Jt===null&&(Jt=[]),Be(Jt,i,c)}function Nt(i,c){c=c.props.ref,i.ref=c!==void 0?c:null}function Zt(i,c){throw c.$$typeof===p?Error(n(525)):(i=Object.prototype.toString.call(c),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":i)))}function gn(i){function c($t,Et){if(i){var rs=$t.deletions;rs===null?($t.deletions=[Et],$t.flags|=16):rs.push(Et)}}function h($t,Et){if(!i)return null;for(;Et!==null;)c($t,Et),Et=Et.sibling;return null}function g($t){for(var Et=new Map;$t!==null;)$t.key!==null?Et.set($t.key,$t):Et.set($t.index,$t),$t=$t.sibling;return Et}function O($t,Et){return $t=Ml($t,Et),$t.index=0,$t.sibling=null,$t}function _($t,Et,rs){return $t.index=rs,i?(rs=$t.alternate,rs!==null?(rs=rs.index,rs<Et?($t.flags|=67108866,Et):rs):($t.flags|=67108866,Et)):($t.flags|=1048576,Et)}function be($t){return i&&$t.alternate===null&&($t.flags|=67108866),$t}function He($t,Et,rs,Fs){return Et===null||Et.tag!==6?(Et=Ol(rs,$t.mode,Fs),Et.return=$t,Et):(Et=O(Et,rs),Et.return=$t,Et)}function pt($t,Et,rs,Fs){var xn=rs.type;return xn===y?Es($t,Et,rs.props.children,Fs,rs.key):Et!==null&&(Et.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===le&&H(xn)===Et.type)?(Et=O(Et,rs.props),Nt(Et,rs),Et.return=$t,Et):(Et=Yl(rs.type,rs.key,rs.props,null,$t.mode,Fs),Nt(Et,rs),Et.return=$t,Et)}function as($t,Et,rs,Fs){return Et===null||Et.tag!==4||Et.stateNode.containerInfo!==rs.containerInfo||Et.stateNode.implementation!==rs.implementation?(Et=Xl(rs,$t.mode,Fs),Et.return=$t,Et):(Et=O(Et,rs.children||[]),Et.return=$t,Et)}function Es($t,Et,rs,Fs,xn){return Et===null||Et.tag!==7?(Et=Mc(rs,$t.mode,Fs,xn),Et.return=$t,Et):(Et=O(Et,rs),Et.return=$t,Et)}function Is($t,Et,rs){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return Et=Ol(""+Et,$t.mode,rs),Et.return=$t,Et;if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case x:return rs=Yl(Et.type,Et.key,Et.props,null,$t.mode,rs),Nt(rs,Et),rs.return=$t,rs;case b:return Et=Xl(Et,$t.mode,rs),Et.return=$t,Et;case le:return Et=H(Et),Is($t,Et,rs)}if(he(Et)||Se(Et))return Et=Mc(Et,$t.mode,rs,null),Et.return=$t,Et;if(typeof Et.then=="function")return Is($t,pr(Et),rs);if(Et.$$typeof===z)return Is($t,bd($t,Et),rs);Zt($t,Et)}return null}function is($t,Et,rs,Fs){var xn=Et!==null?Et.key:null;if(typeof rs=="string"&&rs!==""||typeof rs=="number"||typeof rs=="bigint")return xn!==null?null:He($t,Et,""+rs,Fs);if(typeof rs=="object"&&rs!==null){switch(rs.$$typeof){case x:return rs.key===xn?pt($t,Et,rs,Fs):null;case b:return rs.key===xn?as($t,Et,rs,Fs):null;case le:return rs=H(rs),is($t,Et,rs,Fs)}if(he(rs)||Se(rs))return xn!==null?null:Es($t,Et,rs,Fs,null);if(typeof rs.then=="function")return is($t,Et,pr(rs),Fs);if(rs.$$typeof===z)return is($t,Et,bd($t,rs),Fs);Zt($t,rs)}return null}function ds($t,Et,rs,Fs,xn){if(typeof Fs=="string"&&Fs!==""||typeof Fs=="number"||typeof Fs=="bigint")return $t=$t.get(rs)||null,He(Et,$t,""+Fs,xn);if(typeof Fs=="object"&&Fs!==null){switch(Fs.$$typeof){case x:return $t=$t.get(Fs.key===null?rs:Fs.key)||null,pt(Et,$t,Fs,xn);case b:return $t=$t.get(Fs.key===null?rs:Fs.key)||null,as(Et,$t,Fs,xn);case le:return Fs=H(Fs),ds($t,Et,rs,Fs,xn)}if(he(Fs)||Se(Fs))return $t=$t.get(rs)||null,Es(Et,$t,Fs,xn,null);if(typeof Fs.then=="function")return ds($t,Et,rs,pr(Fs),xn);if(Fs.$$typeof===z)return ds($t,Et,rs,bd(Et,Fs),xn);Zt(Et,Fs)}return null}function Qr($t,Et,rs,Fs){for(var xn=null,qa=null,Zr=Et,oa=Et=0,Ta=null;Zr!==null&&oa<rs.length;oa++){Zr.index>oa?(Ta=Zr,Zr=null):Ta=Zr.sibling;var ei=is($t,Zr,rs[oa],Fs);if(ei===null){Zr===null&&(Zr=Ta);break}i&&Zr&&ei.alternate===null&&c($t,Zr),Et=_(ei,Et,oa),qa===null?xn=ei:qa.sibling=ei,qa=ei,Zr=Ta}if(oa===rs.length)return h($t,Zr),lr&&gl($t,oa),xn;if(Zr===null){for(;oa<rs.length;oa++)Zr=Is($t,rs[oa],Fs),Zr!==null&&(Et=_(Zr,Et,oa),qa===null?xn=Zr:qa.sibling=Zr,qa=Zr);return lr&&gl($t,oa),xn}for(Zr=g(Zr);oa<rs.length;oa++)Ta=ds(Zr,$t,oa,rs[oa],Fs),Ta!==null&&(i&&Ta.alternate!==null&&Zr.delete(Ta.key===null?oa:Ta.key),Et=_(Ta,Et,oa),qa===null?xn=Ta:qa.sibling=Ta,qa=Ta);return i&&Zr.forEach(function(ph){return c($t,ph)}),lr&&gl($t,oa),xn}function kn($t,Et,rs,Fs){if(rs==null)throw Error(n(151));for(var xn=null,qa=null,Zr=Et,oa=Et=0,Ta=null,ei=rs.next();Zr!==null&&!ei.done;oa++,ei=rs.next()){Zr.index>oa?(Ta=Zr,Zr=null):Ta=Zr.sibling;var ph=is($t,Zr,ei.value,Fs);if(ph===null){Zr===null&&(Zr=Ta);break}i&&Zr&&ph.alternate===null&&c($t,Zr),Et=_(ph,Et,oa),qa===null?xn=ph:qa.sibling=ph,qa=ph,Zr=Ta}if(ei.done)return h($t,Zr),lr&&gl($t,oa),xn;if(Zr===null){for(;!ei.done;oa++,ei=rs.next())ei=Is($t,ei.value,Fs),ei!==null&&(Et=_(ei,Et,oa),qa===null?xn=ei:qa.sibling=ei,qa=ei);return lr&&gl($t,oa),xn}for(Zr=g(Zr);!ei.done;oa++,ei=rs.next())ei=ds(Zr,$t,oa,ei.value,Fs),ei!==null&&(i&&ei.alternate!==null&&Zr.delete(ei.key===null?oa:ei.key),Et=_(ei,Et,oa),qa===null?xn=ei:qa.sibling=ei,qa=ei);return i&&Zr.forEach(function(L4){return c($t,L4)}),lr&&gl($t,oa),xn}function Fi($t,Et,rs,Fs){if(typeof rs=="object"&&rs!==null&&rs.type===y&&rs.key===null&&(rs=rs.props.children),typeof rs=="object"&&rs!==null){switch(rs.$$typeof){case x:e:{for(var xn=rs.key;Et!==null;){if(Et.key===xn){if(xn=rs.type,xn===y){if(Et.tag===7){h($t,Et.sibling),Fs=O(Et,rs.props.children),Fs.return=$t,$t=Fs;break e}}else if(Et.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===le&&H(xn)===Et.type){h($t,Et.sibling),Fs=O(Et,rs.props),Nt(Fs,rs),Fs.return=$t,$t=Fs;break e}h($t,Et);break}else c($t,Et);Et=Et.sibling}rs.type===y?(Fs=Mc(rs.props.children,$t.mode,Fs,rs.key),Fs.return=$t,$t=Fs):(Fs=Yl(rs.type,rs.key,rs.props,null,$t.mode,Fs),Nt(Fs,rs),Fs.return=$t,$t=Fs)}return be($t);case b:e:{for(xn=rs.key;Et!==null;){if(Et.key===xn)if(Et.tag===4&&Et.stateNode.containerInfo===rs.containerInfo&&Et.stateNode.implementation===rs.implementation){h($t,Et.sibling),Fs=O(Et,rs.children||[]),Fs.return=$t,$t=Fs;break e}else{h($t,Et);break}else c($t,Et);Et=Et.sibling}Fs=Xl(rs,$t.mode,Fs),Fs.return=$t,$t=Fs}return be($t);case le:return rs=H(rs),Fi($t,Et,rs,Fs)}if(he(rs))return Qr($t,Et,rs,Fs);if(Se(rs)){if(xn=Se(rs),typeof xn!="function")throw Error(n(150));return rs=xn.call(rs),kn($t,Et,rs,Fs)}if(typeof rs.then=="function")return Fi($t,Et,pr(rs),Fs);if(rs.$$typeof===z)return Fi($t,Et,bd($t,rs),Fs);Zt($t,rs)}return typeof rs=="string"&&rs!==""||typeof rs=="number"||typeof rs=="bigint"?(rs=""+rs,Et!==null&&Et.tag===6?(h($t,Et.sibling),Fs=O(Et,rs),Fs.return=$t,$t=Fs):(h($t,Et),Fs=Ol(rs,$t.mode,Fs),Fs.return=$t,$t=Fs),be($t)):h($t,Et)}return function($t,Et,rs,Fs){try{Ut=0;var xn=Fi($t,Et,rs,Fs);return Jt=null,xn}catch(Zr){if(Zr===La||Zr===Ba)throw Zr;var qa=Io(29,Zr,null,$t.mode);return qa.lanes=Fs,qa.return=$t,qa}finally{}}}var nr=gn(!0),Ps=gn(!1),xs=!1;function Fa(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hn(i,c){i=i.updateQueue,c.updateQueue===i&&(c.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Kr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function cn(i,c,h){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,(va&2)!==0){var O=g.pending;return O===null?c.next=c:(c.next=O.next,O.next=c),g.pending=c,c=Ad(i),Jd(i,null,h),c}return Fc(i,g,c,h),Ad(i)}function Tn(i,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=i.pendingLanes,h|=g,c.lanes=h,Pr(i,h)}}function tr(i,c){var h=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var O=null,_=null;if(h=h.firstBaseUpdate,h!==null){do{var be={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};_===null?O=_=be:_=_.next=be,h=h.next}while(h!==null);_===null?O=_=c:_=_.next=c}else O=_=c;h={baseState:g.baseState,firstBaseUpdate:O,lastBaseUpdate:_,shared:g.shared,callbacks:g.callbacks},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=c:i.next=c,h.lastBaseUpdate=c}var Un=!1;function Ma(){if(Un){var i=mt;if(i!==null)throw i}}function Hr(i,c,h,g){Un=!1;var O=i.updateQueue;xs=!1;var _=O.firstBaseUpdate,be=O.lastBaseUpdate,He=O.shared.pending;if(He!==null){O.shared.pending=null;var pt=He,as=pt.next;pt.next=null,be===null?_=as:be.next=as,be=pt;var Es=i.alternate;Es!==null&&(Es=Es.updateQueue,He=Es.lastBaseUpdate,He!==be&&(He===null?Es.firstBaseUpdate=as:He.next=as,Es.lastBaseUpdate=pt))}if(_!==null){var Is=O.baseState;be=0,Es=as=pt=null,He=_;do{var is=He.lane&-536870913,ds=is!==He.lane;if(ds?(Hn&is)===is:(g&is)===is){is!==0&&is===nt&&(Un=!0),Es!==null&&(Es=Es.next={lane:0,tag:He.tag,payload:He.payload,callback:null,next:null});e:{var Qr=i,kn=He;is=c;var Fi=h;switch(kn.tag){case 1:if(Qr=kn.payload,typeof Qr=="function"){Is=Qr.call(Fi,Is,is);break e}Is=Qr;break e;case 3:Qr.flags=Qr.flags&-65537|128;case 0:if(Qr=kn.payload,is=typeof Qr=="function"?Qr.call(Fi,Is,is):Qr,is==null)break e;Is=m({},Is,is);break e;case 2:xs=!0}}is=He.callback,is!==null&&(i.flags|=64,ds&&(i.flags|=8192),ds=O.callbacks,ds===null?O.callbacks=[is]:ds.push(is))}else ds={lane:is,tag:He.tag,payload:He.payload,callback:He.callback,next:null},Es===null?(as=Es=ds,pt=Is):Es=Es.next=ds,be|=is;if(He=He.next,He===null){if(He=O.shared.pending,He===null)break;ds=He,He=ds.next,ds.next=null,O.lastBaseUpdate=ds,O.shared.pending=null}}while(!0);Es===null&&(pt=Is),O.baseState=pt,O.firstBaseUpdate=as,O.lastBaseUpdate=Es,_===null&&(O.shared.lanes=0),U|=be,i.lanes=be,i.memoizedState=Is}}function na(i,c){if(typeof i!="function")throw Error(n(191,i));i.call(c)}function Pn(i,c){var h=i.callbacks;if(h!==null)for(i.callbacks=null,i=0;i<h.length;i++)na(h[i],c)}var Tr=ke(null),on=ke(0);function yo(i,c){i=j,ye(on,i),ye(Tr,c),j=i|c.baseLanes}function ql(){ye(on,j),ye(Tr,Tr.current)}function yl(){j=on.current,pe(Tr),pe(on)}var Xi=ke(null),wo=null;function Ya(i){var c=i.alternate;ye(vi,vi.current&1),ye(Xi,i),wo===null&&(c===null||Tr.current!==null||c.memoizedState!==null)&&(wo=i)}function Mu(i){ye(vi,vi.current),ye(Xi,i),wo===null&&(wo=i)}function rd(i){i.tag===22?(ye(vi,vi.current),ye(Xi,i),wo===null&&(wo=i)):il()}function il(){ye(vi,vi.current),ye(Xi,Xi.current)}function ol(i){pe(Xi),wo===i&&(wo=null),pe(vi)}var vi=ke(0);function qd(i){for(var c=i;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Rx(h)||Px(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var vc=0,yn=null,pa=null,ri=null,yd=!1,ec=!1,yc=!1,Qo=0,tc=0,aa=null,Ha=0;function Qn(){throw Error(n(321))}function Ji(i,c){if(c===null)return!1;for(var h=0;h<c.length&&h<i.length;h++)if(!ar(i[h],c[h]))return!1;return!0}function nd(i,c,h,g,O,_){return vc=_,yn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,se.H=i===null||i.memoizedState===null?Xh:rh,yc=!1,_=h(g,O),yc=!1,ec&&(_=Od(c,h,g,O)),yu(i),_}function yu(i){se.H=vA;var c=pa!==null&&pa.next!==null;if(vc=0,ri=pa=yn=null,yd=!1,tc=0,aa=null,c)throw Error(n(300));i===null||Oe||(i=i.dependencies,i!==null&&qc(i)&&(Oe=!0))}function Od(i,c,h,g){yn=i;var O=0;do{if(ec&&(aa=null),tc=0,ec=!1,25<=O)throw Error(n(301));if(O+=1,ri=pa=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}se.H=nh,_=c(h,g)}while(ec);return _}function Ou(){var i=se.H,c=i.useState()[0];return c=typeof c.then=="function"?Id(c):c,i=i.useState()[0],(pa!==null?pa.memoizedState:null)!==i&&(yn.flags|=1024),c}function lA(){var i=Qo!==0;return Qo=0,i}function cA(i,c,h){c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~h}function dA(i){if(yd){for(i=i.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}yd=!1}vc=0,ri=pa=yn=null,ec=!1,tc=Qo=0,aa=null}function ll(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?yn.memoizedState=ri=i:ri=ri.next=i,ri}function Ti(){if(pa===null){var i=yn.alternate;i=i!==null?i.memoizedState:null}else i=pa.next;var c=ri===null?yn.memoizedState:ri.next;if(c!==null)ri=c,pa=i;else{if(i===null)throw yn.alternate===null?Error(n(467)):Error(n(310));pa=i,i={memoizedState:pa.memoizedState,baseState:pa.baseState,baseQueue:pa.baseQueue,queue:pa.queue,next:null},ri===null?yn.memoizedState=ri=i:ri=ri.next=i}return ri}function uA(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Id(i){var c=tc;return tc+=1,aa===null&&(aa=[]),i=Be(aa,i,c),c=yn,(ri===null?c.memoizedState:ri.next)===null&&(c=c.alternate,se.H=c===null||c.memoizedState===null?Xh:rh),i}function AA(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Id(i);if(i.$$typeof===z)return si(i)}throw Error(n(438,String(i)))}function Dl(i){var c=null,h=yn.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=yn.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(O){return O.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=uA(),yn.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(i),g=0;g<i;g++)h[g]=je;return c.index++,h}function Dc(i,c){return typeof c=="function"?c(i):c}function hA(i){var c=Ti();return zA(c,pa,i)}function zA(i,c,h){var g=i.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=h;var O=i.baseQueue,_=g.pending;if(_!==null){if(O!==null){var be=O.next;O.next=_.next,_.next=be}c.baseQueue=O=_,g.pending=null}if(_=i.baseState,O===null)i.memoizedState=_;else{c=O.next;var He=be=null,pt=null,as=c,Es=!1;do{var Is=as.lane&-536870913;if(Is!==as.lane?(Hn&Is)===Is:(vc&Is)===Is){var is=as.revertLane;if(is===0)pt!==null&&(pt=pt.next={lane:0,revertLane:0,gesture:null,action:as.action,hasEagerState:as.hasEagerState,eagerState:as.eagerState,next:null}),Is===nt&&(Es=!0);else if((vc&is)===is){as=as.next,is===nt&&(Es=!0);continue}else Is={lane:0,revertLane:as.revertLane,gesture:null,action:as.action,hasEagerState:as.hasEagerState,eagerState:as.eagerState,next:null},pt===null?(He=pt=Is,be=_):pt=pt.next=Is,yn.lanes|=is,U|=is;Is=as.action,yc&&h(_,Is),_=as.hasEagerState?as.eagerState:h(_,Is)}else is={lane:Is,revertLane:as.revertLane,gesture:as.gesture,action:as.action,hasEagerState:as.hasEagerState,eagerState:as.eagerState,next:null},pt===null?(He=pt=is,be=_):pt=pt.next=is,yn.lanes|=Is,U|=Is;as=as.next}while(as!==null&&as!==c);if(pt===null?be=_:pt.next=He,!ar(_,i.memoizedState)&&(Oe=!0,Es&&(h=mt,h!==null)))throw h;i.memoizedState=_,i.baseState=be,i.baseQueue=pt,g.lastRenderedState=_}return O===null&&(g.lanes=0),[i.memoizedState,g.dispatch]}function $A(i){var c=Ti(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=i;var g=h.dispatch,O=h.pending,_=c.memoizedState;if(O!==null){h.pending=null;var be=O=O.next;do _=i(_,be.action),be=be.next;while(be!==O);ar(_,c.memoizedState)||(Oe=!0),c.memoizedState=_,c.baseQueue===null&&(c.baseState=_),h.lastRenderedState=_}return[_,g]}function zh(i,c,h){var g=yn,O=Ti(),_=lr;if(_){if(h===void 0)throw Error(n(407));h=h()}else h=c();var be=!ar((pa||O).memoizedState,h);if(be&&(O.memoizedState=h,Oe=!0),O=O.queue,Ru(fA.bind(null,g,O,i),[i]),O.getSnapshot!==c||be||ri!==null&&ri.memoizedState.tag&1){if(g.flags|=2048,Du(9,{destroy:void 0},VA.bind(null,g,O,h,c),null),ga===null)throw Error(n(349));_||(vc&127)!==0||$h(g,c,h)}return h}function $h(i,c,h){i.flags|=16384,i={getSnapshot:c,value:h},c=yn.updateQueue,c===null?(c=uA(),yn.updateQueue=c,c.stores=[i]):(h=c.stores,h===null?c.stores=[i]:h.push(i))}function VA(i,c,h,g){c.value=h,c.getSnapshot=g,sc(c)&&wc(i)}function fA(i,c,h){return h(function(){sc(c)&&wc(i)})}function sc(i){var c=i.getSnapshot;i=i.value;try{var h=c();return!ar(i,h)}catch{return!0}}function wc(i){var c=Gl(i,2);c!==null&&yi(c,i,2)}function wu(i){var c=ll();if(typeof i=="function"){var h=i;if(i=h(),yc){Kt(!0);try{h()}finally{Kt(!1)}}}return c.memoizedState=c.baseState=i,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:i},c}function mA(i,c,h,g){return i.baseState=h,zA(i,pa,typeof g=="function"?g:Dc)}function KA(i,c,h,g,O){if(Cd(i))throw Error(n(485));if(i=c.action,i!==null){var _={payload:O,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(be){_.listeners.push(be)}};se.T!==null?h(!0):_.isTransition=!1,g(_),h=c.pending,h===null?(_.next=c.pending=_,Iu(c,_)):(_.next=h.next,c.pending=h.next=_)}}function Iu(i,c){var h=c.action,g=c.payload,O=i.state;if(c.isTransition){var _=se.T,be={};se.T=be;try{var He=h(O,g),pt=se.S;pt!==null&&pt(be,He),so(i,c,He)}catch(as){GA(i,c,as)}finally{_!==null&&be.types!==null&&(_.types=be.types),se.T=_}}else try{_=h(O,g),so(i,c,_)}catch(as){GA(i,c,as)}}function so(i,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){eu(i,c,g)},function(g){return GA(i,c,g)}):eu(i,c,h)}function eu(i,c,h){c.status="fulfilled",c.value=h,WA(c),i.state=h,c=i.pending,c!==null&&(h=c.next,h===c?i.pending=null:(h=h.next,c.next=h,Iu(i,h)))}function GA(i,c,h){var g=i.pending;if(i.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,WA(c),c=c.next;while(c!==g)}i.action=null}function WA(i){i=i.listeners;for(var c=0;c<i.length;c++)(0,i[c])()}function pA(i,c){return c}function ju(i,c){if(lr){var h=ga.formState;if(h!==null){e:{var g=yn;if(lr){if(_a){t:{for(var O=_a,_=xl;O.nodeType!==8;){if(!_){O=null;break t}if(O=au(O.nextSibling),O===null){O=null;break t}}_=O.data,O=_==="F!"||_==="F"?O:null}if(O){_a=au(O.nextSibling),g=O.data==="F!";break e}}Ro(g)}g=!1}g&&(c=h[0])}}return h=ll(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pA,lastRenderedState:c},h.queue=g,h=th.bind(null,yn,g),g.dispatch=h,g=wu(!1),_=tu.bind(null,yn,!1,g.queue),g=ll(),O={state:c,dispatch:null,action:i,pending:null},g.queue=O,h=KA.bind(null,yn,O,_,h),O.dispatch=h,g.memoizedState=i,[c,h,!1]}function YA(i){var c=Ti();return Ef(c,pa,i)}function Ef(i,c,h){if(c=zA(i,c,pA)[0],i=hA(Dc)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Id(c)}catch(be){throw be===La?Ba:be}else g=c;c=Ti();var O=c.queue,_=O.dispatch;return h!==c.memoizedState&&(yn.flags|=2048,Du(9,{destroy:void 0},N0.bind(null,O,h),null)),[g,_,i]}function N0(i,c){i.action=c}function Vh(i){var c=Ti(),h=pa;if(h!==null)return Ef(c,h,i);Ti(),c=c.memoizedState,h=Ti();var g=h.queue.dispatch;return h.memoizedState=i,[c,g,!1]}function Du(i,c,h,g){return i={tag:i,create:h,deps:g,inst:c,next:null},c=yn.updateQueue,c===null&&(c=uA(),yn.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=i.next=i:(g=h.next,h.next=i,i.next=g,c.lastEffect=i),i}function Tf(){return Ti().memoizedState}function XA(i,c,h,g){var O=ll();yn.flags|=i,O.memoizedState=Du(1|c,{destroy:void 0},h,g===void 0?null:g)}function JA(i,c,h,g){var O=Ti();g=g===void 0?null:g;var _=O.memoizedState.inst;pa!==null&&g!==null&&Ji(g,pa.memoizedState.deps)?O.memoizedState=Du(c,_,h,g):(yn.flags|=i,O.memoizedState=Du(1|c,_,h,g))}function Kh(i,c){XA(8390656,8,i,c)}function Ru(i,c){JA(2048,8,i,c)}function ZA(i){yn.flags|=4;var c=yn.updateQueue;if(c===null)c=uA(),yn.updateQueue=c,c.events=[i];else{var h=c.events;h===null?c.events=[i]:h.push(i)}}function Nu(i){var c=Ti().memoizedState;return ZA({ref:c,nextImpl:i}),function(){if((va&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function qA(i,c){return JA(4,2,i,c)}function Uf(i,c){return JA(4,4,i,c)}function Gh(i,c){if(typeof c=="function"){i=i();var h=c(i);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return i=i(),c.current=i,function(){c.current=null}}function Lf(i,c,h){h=h!=null?h.concat([i]):null,JA(4,4,Gh.bind(null,c,i),h)}function Wh(){}function gA(i,c){var h=Ti();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&Ji(c,g[1])?g[0]:(h.memoizedState=[i,c],i)}function xA(i,c){var h=Ti();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&Ji(c,g[1]))return g[0];if(g=i(),yc){Kt(!0);try{i()}finally{Kt(!1)}}return h.memoizedState=[g,c],g}function wd(i,c,h){return h===void 0||(vc&1073741824)!==0&&(Hn&261930)===0?i.memoizedState=c:(i.memoizedState=h,i=Co(),yn.lanes|=i,U|=i,h)}function jc(i,c,h,g){return ar(h,c)?h:Tr.current!==null?(i=wd(i,h,g),ar(i,c)||(Oe=!0),i):(vc&42)===0||(vc&1073741824)!==0&&(Hn&261930)===0?(Oe=!0,i.memoizedState=h):(i=Co(),yn.lanes|=i,U|=i,c)}function Rc(i,c,h,g,O){var _=de.p;de.p=_!==0&&8>_?_:8;var be=se.T,He={};se.T=He,tu(i,!1,c,h);try{var pt=O(),as=se.S;if(as!==null&&as(He,pt),pt!==null&&typeof pt=="object"&&typeof pt.then=="function"){var Es=Ds(pt,g);Nd(i,c,Es,sn(i))}else Nd(i,c,g,sn(i))}catch(Is){Nd(i,c,{then:function(){},status:"rejected",reason:Is},sn())}finally{de.p=_,be!==null&&He.types!==null&&(be.types=He.types),se.T=be}}function Ff(){}function bA(i,c,h,g){if(i.tag!==5)throw Error(n(476));var O=jd(i).queue;Rc(i,O,c,oe,h===null?Ff:function(){return Nc(i),h(g)})}function jd(i){var c=i.memoizedState;if(c!==null)return c;c={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:oe},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dc,lastRenderedState:h},next:null},i.memoizedState=c,i=i.alternate,i!==null&&(i.memoizedState=c),c}function Nc(i){var c=jd(i);c.next===null&&(c=i.alternate.memoizedState),Nd(i,c.next.queue,{},sn())}function Pu(){return si(U0)}function Yh(){return Ti().memoizedState}function eh(){return Ti().memoizedState}function Mf(i){for(var c=i.return;c!==null;){switch(c.tag){case 24:case 3:var h=sn();i=Kr(h);var g=cn(c,i,h);g!==null&&(yi(g,c,h),Tn(g,c,h)),c={cache:sd()},i.payload=c;return}c=c.return}}function Of(i,c,h){var g=sn();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Cd(i)?Qu(c,h):(h=ud(i,c,h,g),h!==null&&(yi(h,i,g),sh(h,c,g)))}function th(i,c,h){var g=sn();Nd(i,c,h,g)}function Nd(i,c,h,g){var O={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Cd(i))Qu(c,O);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=c.lastRenderedReducer,_!==null))try{var be=c.lastRenderedState,He=_(be,h);if(O.hasEagerState=!0,O.eagerState=He,ar(He,be))return Fc(i,c,O,0),ga===null&&gc(),!1}catch{}finally{}if(h=ud(i,c,O,g),h!==null)return yi(h,i,g),sh(h,c,g),!0}return!1}function tu(i,c,h,g){if(g={lane:2,revertLane:kx(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Cd(i)){if(c)throw Error(n(479))}else c=ud(i,h,g,2),c!==null&&yi(c,i,2)}function Cd(i){var c=i.alternate;return i===yn||c!==null&&c===yn}function Qu(i,c){ec=yd=!0;var h=i.pending;h===null?c.next=c:(c.next=h.next,h.next=c),i.pending=c}function sh(i,c,h){if((h&4194048)!==0){var g=c.lanes;g&=i.pendingLanes,h|=g,c.lanes=h,Pr(i,h)}}var vA={readContext:si,use:AA,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useLayoutEffect:Qn,useInsertionEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useSyncExternalStore:Qn,useId:Qn,useHostTransitionStatus:Qn,useFormState:Qn,useActionState:Qn,useOptimistic:Qn,useMemoCache:Qn,useCacheRefresh:Qn};vA.useEffectEvent=Qn;var Xh={readContext:si,use:AA,useCallback:function(i,c){return ll().memoizedState=[i,c===void 0?null:c],i},useContext:si,useEffect:Kh,useImperativeHandle:function(i,c,h){h=h!=null?h.concat([i]):null,XA(4194308,4,Gh.bind(null,c,i),h)},useLayoutEffect:function(i,c){return XA(4194308,4,i,c)},useInsertionEffect:function(i,c){XA(4,2,i,c)},useMemo:function(i,c){var h=ll();c=c===void 0?null:c;var g=i();if(yc){Kt(!0);try{i()}finally{Kt(!1)}}return h.memoizedState=[g,c],g},useReducer:function(i,c,h){var g=ll();if(h!==void 0){var O=h(c);if(yc){Kt(!0);try{h(c)}finally{Kt(!1)}}}else O=c;return g.memoizedState=g.baseState=O,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:O},g.queue=i,i=i.dispatch=Of.bind(null,yn,i),[g.memoizedState,i]},useRef:function(i){var c=ll();return i={current:i},c.memoizedState=i},useState:function(i){i=wu(i);var c=i.queue,h=th.bind(null,yn,c);return c.dispatch=h,[i.memoizedState,h]},useDebugValue:Wh,useDeferredValue:function(i,c){var h=ll();return wd(h,i,c)},useTransition:function(){var i=wu(!1);return i=Rc.bind(null,yn,i.queue,!0,!1),ll().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,c,h){var g=yn,O=ll();if(lr){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),ga===null)throw Error(n(349));(Hn&127)!==0||$h(g,c,h)}O.memoizedState=h;var _={value:h,getSnapshot:c};return O.queue=_,Kh(fA.bind(null,g,_,i),[i]),g.flags|=2048,Du(9,{destroy:void 0},VA.bind(null,g,_,h,c),null),h},useId:function(){var i=ll(),c=ga.identifierPrefix;if(lr){var h=sl,g=pl;h=(g&~(1<<32-Cs(g)-1)).toString(32)+h,c="_"+c+"R_"+h,h=Qo++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=Ha++,c="_"+c+"r_"+h.toString(32)+"_";return i.memoizedState=c},useHostTransitionStatus:Pu,useFormState:ju,useActionState:ju,useOptimistic:function(i){var c=ll();c.memoizedState=c.baseState=i;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=tu.bind(null,yn,!0,h),h.dispatch=c,[i,c]},useMemoCache:Dl,useCacheRefresh:function(){return ll().memoizedState=Mf.bind(null,yn)},useEffectEvent:function(i){var c=ll(),h={impl:i};return c.memoizedState=h,function(){if((va&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},rh={readContext:si,use:AA,useCallback:gA,useContext:si,useEffect:Ru,useImperativeHandle:Lf,useInsertionEffect:qA,useLayoutEffect:Uf,useMemo:xA,useReducer:hA,useRef:Tf,useState:function(){return hA(Dc)},useDebugValue:Wh,useDeferredValue:function(i,c){var h=Ti();return jc(h,pa.memoizedState,i,c)},useTransition:function(){var i=hA(Dc)[0],c=Ti().memoizedState;return[typeof i=="boolean"?i:Id(i),c]},useSyncExternalStore:zh,useId:Yh,useHostTransitionStatus:Pu,useFormState:YA,useActionState:YA,useOptimistic:function(i,c){var h=Ti();return mA(h,pa,i,c)},useMemoCache:Dl,useCacheRefresh:eh};rh.useEffectEvent=Nu;var nh={readContext:si,use:AA,useCallback:gA,useContext:si,useEffect:Ru,useImperativeHandle:Lf,useInsertionEffect:qA,useLayoutEffect:Uf,useMemo:xA,useReducer:$A,useRef:Tf,useState:function(){return $A(Dc)},useDebugValue:Wh,useDeferredValue:function(i,c){var h=Ti();return pa===null?wd(h,i,c):jc(h,pa.memoizedState,i,c)},useTransition:function(){var i=$A(Dc)[0],c=Ti().memoizedState;return[typeof i=="boolean"?i:Id(i),c]},useSyncExternalStore:zh,useId:Yh,useHostTransitionStatus:Pu,useFormState:Vh,useActionState:Vh,useOptimistic:function(i,c){var h=Ti();return pa!==null?mA(h,pa,i,c):(h.baseState=i,[i,h.queue.dispatch])},useMemoCache:Dl,useCacheRefresh:eh};nh.useEffectEvent=Nu;function ah(i,c,h,g){c=i.memoizedState,h=h(g,c),h=h==null?c:m({},c,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var ih={enqueueSetState:function(i,c,h){i=i._reactInternals;var g=sn(),O=Kr(g);O.payload=c,h!=null&&(O.callback=h),c=cn(i,O,g),c!==null&&(yi(c,i,g),Tn(c,i,g))},enqueueReplaceState:function(i,c,h){i=i._reactInternals;var g=sn(),O=Kr(g);O.tag=1,O.payload=c,h!=null&&(O.callback=h),c=cn(i,O,g),c!==null&&(yi(c,i,g),Tn(c,i,g))},enqueueForceUpdate:function(i,c){i=i._reactInternals;var h=sn(),g=Kr(h);g.tag=2,c!=null&&(g.callback=c),c=cn(i,g,h),c!==null&&(yi(c,i,h),Tn(c,i,h))}};function oh(i,c,h,g,O,_,be){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,_,be):c.prototype&&c.prototype.isPureReactComponent?!Fn(h,g)||!Fn(O,_):!0}function Jh(i,c,h,g){i=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==i&&ih.enqueueReplaceState(c,c.state,null)}function Dd(i,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(i=i.defaultProps){h===c&&(h=m({},h));for(var O in i)h[O]===void 0&&(h[O]=i[O])}return h}function yA(i){Lc(i)}function wA(i){console.error(i)}function jA(i){Lc(i)}function _u(i,c){try{var h=i.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function k(i,c,h){try{var g=i.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function D(i,c,h){return h=Kr(h),h.tag=3,h.payload={element:null},h.callback=function(){_u(i,c)},h}function re(i){return i=Kr(i),i.tag=3,i}function me(i,c,h,g){var O=h.type.getDerivedStateFromError;if(typeof O=="function"){var _=g.value;i.payload=function(){return O(_)},i.callback=function(){k(c,h,g)}}var be=h.stateNode;be!==null&&typeof be.componentDidCatch=="function"&&(i.callback=function(){k(c,h,g),typeof O!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var He=g.stack;this.componentDidCatch(g.value,{componentStack:He!==null?He:""})})}function Ue(i,c,h,g,O){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&bc(c,h,O,!0),h=Xi.current,h!==null){switch(h.tag){case 31:case 13:return wo===null?Bd():h.alternate===null&&L===0&&(L=3),h.flags&=-257,h.flags|=65536,h.lanes=O,g===Ei?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),jx(i,g,O)),!1;case 22:return h.flags|=65536,g===Ei?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),jx(i,g,O)),!1}throw Error(n(435,h.tag))}return jx(i,g,O),Bd(),!1}if(lr)return c=Xi.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=O,g!==pd&&(i=Error(n(422),{cause:g}),bl(Wi(i,h)))):(g!==pd&&(c=Error(n(423),{cause:g}),bl(Wi(c,h))),i=i.current.alternate,i.flags|=65536,O&=-O,i.lanes|=O,g=Wi(g,h),O=D(i.stateNode,g,O),tr(i,O),L!==4&&(L=2)),!1;var _=Error(n(520),{cause:g});if(_=Wi(_,h),qe===null?qe=[_]:qe.push(_),L!==4&&(L=2),c===null)return!0;g=Wi(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,i=O&-O,h.lanes|=i,i=D(h.stateNode,g,i),tr(h,i),!1;case 1:if(c=h.type,_=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(dr===null||!dr.has(_))))return h.flags|=65536,O&=-O,h.lanes|=O,O=re(O),me(O,i,h,g),tr(h,O),!1}h=h.return}while(h!==null);return!1}var Ie=Error(n(461)),Oe=!1;function _e(i,c,h,g){c.child=i===null?Ps(c,null,h,g):nr(c,i.child,h,g)}function Ve(i,c,h,g,O){h=h.render;var _=c.ref;if("ref"in g){var be={};for(var He in g)He!=="ref"&&(be[He]=g[He])}else be=g;return al(c),g=nd(i,c,h,be,_,O),He=lA(),i!==null&&!Oe?(cA(i,c,O),$n(i,c,O)):(lr&&He&&Il(c),c.flags|=1,_e(i,c,g,O),c.child)}function rt(i,c,h,g,O){if(i===null){var _=h.type;return typeof _=="function"&&!An(_)&&_.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=_,Bt(i,c,_,g,O)):(i=Yl(h.type,null,g,c,c.mode,O),i.ref=c.ref,i.return=c,c.child=i)}if(_=i.child,!ni(i,O)){var be=_.memoizedProps;if(h=h.compare,h=h!==null?h:Fn,h(be,g)&&i.ref===c.ref)return $n(i,c,O)}return c.flags|=1,i=Ml(_,g),i.ref=c.ref,i.return=c,c.child=i}function Bt(i,c,h,g,O){if(i!==null){var _=i.memoizedProps;if(Fn(_,g)&&i.ref===c.ref)if(Oe=!1,c.pendingProps=g=_,ni(i,O))(i.flags&131072)!==0&&(Oe=!0);else return c.lanes=i.lanes,$n(i,c,O)}return Bs(i,c,h,g,O)}function Yt(i,c,h,g){var O=g.children,_=i!==null?i.memoizedState:null;if(i===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(_=_!==null?_.baseLanes|h:h,i!==null){for(g=c.child=i.child,O=0;g!==null;)O=O|g.lanes|g.childLanes,g=g.sibling;g=O&~_}else g=0,c.child=null;return Ft(i,c,_,h,g)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nn(c,_!==null?_.cachePool:null),_!==null?yo(c,_):ql(),rd(c);else return g=c.lanes=536870912,Ft(i,c,_!==null?_.baseLanes|h:h,h,g)}else _!==null?(Nn(c,_.cachePool),yo(c,_),il(),c.memoizedState=null):(i!==null&&Nn(c,null),ql(),il());return _e(i,c,O,h),c.child}function tt(i,c){return i!==null&&i.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Ft(i,c,h,g,O){var _=pn();return _=_===null?null:{parent:xi._currentValue,pool:_},c.memoizedState={baseLanes:h,cachePool:_},i!==null&&Nn(c,null),ql(),rd(c),i!==null&&bc(i,c,g,!0),c.childLanes=O,null}function Ht(i,c){return c=Mn({mode:c.mode,children:c.children},i.mode),c.ref=i.ref,i.child=c,c.return=i,c}function ws(i,c,h){return nr(c,i.child,null,h),i=Ht(c,c.pendingProps),i.flags|=2,ol(c),c.memoizedState=null,i}function qt(i,c,h){var g=c.pendingProps,O=(c.flags&128)!==0;if(c.flags&=-129,i===null){if(lr){if(g.mode==="hidden")return i=Ht(c,g),c.lanes=536870912,tt(null,i);if(Mu(c),(i=_a)?(i=E1(i,xl),i=i!==null&&i.data==="&"?i:null,i!==null&&(c.memoizedState={dehydrated:i,treeContext:Zl!==null?{id:pl,overflow:sl}:null,retryLane:536870912,hydrationErrors:null},h=Gi(i),h.return=c,c.child=h,Qi=c,_a=null)):i=null,i===null)throw Ro(c);return c.lanes=536870912,null}return Ht(c,g)}var _=i.memoizedState;if(_!==null){var be=_.dehydrated;if(Mu(c),O)if(c.flags&256)c.flags&=-257,c=ws(i,c,h);else if(c.memoizedState!==null)c.child=i.child,c.flags|=128,c=null;else throw Error(n(558));else if(Oe||bc(i,c,h,!1),O=(h&i.childLanes)!==0,Oe||O){if(g=ga,g!==null&&(be=Gr(g,h),be!==0&&be!==_.retryLane))throw _.retryLane=be,Gl(i,be),yi(g,i,be),Ie;Bd(),c=ws(i,c,h)}else i=_.treeContext,_a=au(be.nextSibling),Qi=c,lr=!0,Oc=null,xl=!1,i!==null&&md(c,i),c=Ht(c,g),c.flags|=4096;return c}return i=Ml(i.child,{mode:g.mode,children:g.children}),i.ref=c.ref,c.child=i,i.return=c,i}function js(i,c){var h=c.ref;if(h===null)i!==null&&i.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(i===null||i.ref!==h)&&(c.flags|=4194816)}}function Bs(i,c,h,g,O){return al(c),h=nd(i,c,h,g,void 0,O),g=lA(),i!==null&&!Oe?(cA(i,c,O),$n(i,c,O)):(lr&&g&&Il(c),c.flags|=1,_e(i,c,h,O),c.child)}function Hs(i,c,h,g,O,_){return al(c),c.updateQueue=null,h=Od(c,g,h,O),yu(i),g=lA(),i!==null&&!Oe?(cA(i,c,_),$n(i,c,_)):(lr&&g&&Il(c),c.flags|=1,_e(i,c,h,_),c.child)}function Rs(i,c,h,g,O){if(al(c),c.stateNode===null){var _=bo,be=h.contextType;typeof be=="object"&&be!==null&&(_=si(be)),_=new h(g,_),c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=ih,c.stateNode=_,_._reactInternals=c,_=c.stateNode,_.props=g,_.state=c.memoizedState,_.refs={},Fa(c),be=h.contextType,_.context=typeof be=="object"&&be!==null?si(be):bo,_.state=c.memoizedState,be=h.getDerivedStateFromProps,typeof be=="function"&&(ah(c,h,be,g),_.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(be=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),be!==_.state&&ih.enqueueReplaceState(_,_.state,null),Hr(c,g,_,O),Ma(),_.state=c.memoizedState),typeof _.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(i===null){_=c.stateNode;var He=c.memoizedProps,pt=Dd(h,He);_.props=pt;var as=_.context,Es=h.contextType;be=bo,typeof Es=="object"&&Es!==null&&(be=si(Es));var Is=h.getDerivedStateFromProps;Es=typeof Is=="function"||typeof _.getSnapshotBeforeUpdate=="function",He=c.pendingProps!==He,Es||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(He||as!==be)&&Jh(c,_,g,be),xs=!1;var is=c.memoizedState;_.state=is,Hr(c,g,_,O),Ma(),as=c.memoizedState,He||is!==as||xs?(typeof Is=="function"&&(ah(c,h,Is,g),as=c.memoizedState),(pt=xs||oh(c,h,pt,g,is,as,be))?(Es||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(c.flags|=4194308)):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=as),_.props=g,_.state=as,_.context=be,g=pt):(typeof _.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{_=c.stateNode,hn(i,c),be=c.memoizedProps,Es=Dd(h,be),_.props=Es,Is=c.pendingProps,is=_.context,as=h.contextType,pt=bo,typeof as=="object"&&as!==null&&(pt=si(as)),He=h.getDerivedStateFromProps,(as=typeof He=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(be!==Is||is!==pt)&&Jh(c,_,g,pt),xs=!1,is=c.memoizedState,_.state=is,Hr(c,g,_,O),Ma();var ds=c.memoizedState;be!==Is||is!==ds||xs||i!==null&&i.dependencies!==null&&qc(i.dependencies)?(typeof He=="function"&&(ah(c,h,He,g),ds=c.memoizedState),(Es=xs||oh(c,h,Es,g,is,ds,pt)||i!==null&&i.dependencies!==null&&qc(i.dependencies))?(as||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(g,ds,pt),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(g,ds,pt)),typeof _.componentDidUpdate=="function"&&(c.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof _.componentDidUpdate!="function"||be===i.memoizedProps&&is===i.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||be===i.memoizedProps&&is===i.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=ds),_.props=g,_.state=ds,_.context=pt,g=Es):(typeof _.componentDidUpdate!="function"||be===i.memoizedProps&&is===i.memoizedState||(c.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||be===i.memoizedProps&&is===i.memoizedState||(c.flags|=1024),g=!1)}return _=g,js(i,c),g=(c.flags&128)!==0,_||g?(_=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:_.render(),c.flags|=1,i!==null&&g?(c.child=nr(c,i.child,null,O),c.child=nr(c,null,h,O)):_e(i,c,h,O),c.memoizedState=_.state,i=c.child):i=$n(i,c,O),i}function zr(i,c,h,g){return Yi(),c.flags|=256,_e(i,c,h,g),c.child}var wr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _n(i){return{baseLanes:i,cachePool:ra()}}function Rr(i,c,h){return i=i!==null?i.childLanes&~h:0,c&&(i|=Le),i}function la(i,c,h){var g=c.pendingProps,O=!1,_=(c.flags&128)!==0,be;if((be=_)||(be=i!==null&&i.memoizedState===null?!1:(vi.current&2)!==0),be&&(O=!0,c.flags&=-129),be=(c.flags&32)!==0,c.flags&=-33,i===null){if(lr){if(O?Ya(c):il(),(i=_a)?(i=E1(i,xl),i=i!==null&&i.data!=="&"?i:null,i!==null&&(c.memoizedState={dehydrated:i,treeContext:Zl!==null?{id:pl,overflow:sl}:null,retryLane:536870912,hydrationErrors:null},h=Gi(i),h.return=c,c.child=h,Qi=c,_a=null)):i=null,i===null)throw Ro(c);return Px(i)?c.lanes=32:c.lanes=536870912,null}var He=g.children;return g=g.fallback,O?(il(),O=c.mode,He=Mn({mode:"hidden",children:He},O),g=Mc(g,O,h,null),He.return=c,g.return=c,He.sibling=g,c.child=He,g=c.child,g.memoizedState=_n(h),g.childLanes=Rr(i,be,h),c.memoizedState=wr,tt(null,g)):(Ya(c),ro(c,He))}var pt=i.memoizedState;if(pt!==null&&(He=pt.dehydrated,He!==null)){if(_)c.flags&256?(Ya(c),c.flags&=-257,c=Dr(i,c,h)):c.memoizedState!==null?(il(),c.child=i.child,c.flags|=128,c=null):(il(),He=g.fallback,O=c.mode,g=Mn({mode:"visible",children:g.children},O),He=Mc(He,O,h,null),He.flags|=2,g.return=c,He.return=c,g.sibling=He,c.child=g,nr(c,i.child,null,h),g=c.child,g.memoizedState=_n(h),g.childLanes=Rr(i,be,h),c.memoizedState=wr,c=tt(null,g));else if(Ya(c),Px(He)){if(be=He.nextSibling&&He.nextSibling.dataset,be)var as=be.dgst;be=as,g=Error(n(419)),g.stack="",g.digest=be,bl({value:g,source:null,stack:null}),c=Dr(i,c,h)}else if(Oe||bc(i,c,h,!1),be=(h&i.childLanes)!==0,Oe||be){if(be=ga,be!==null&&(g=Gr(be,h),g!==0&&g!==pt.retryLane))throw pt.retryLane=g,Gl(i,g),yi(be,i,g),Ie;Rx(He)||Bd(),c=Dr(i,c,h)}else Rx(He)?(c.flags|=192,c.child=i.child,c=null):(i=pt.treeContext,_a=au(He.nextSibling),Qi=c,lr=!0,Oc=null,xl=!1,i!==null&&md(c,i),c=ro(c,g.children),c.flags|=4096);return c}return O?(il(),He=g.fallback,O=c.mode,pt=i.child,as=pt.sibling,g=Ml(pt,{mode:"hidden",children:g.children}),g.subtreeFlags=pt.subtreeFlags&65011712,as!==null?He=Ml(as,He):(He=Mc(He,O,h,null),He.flags|=2),He.return=c,g.return=c,g.sibling=He,c.child=g,tt(null,g),g=c.child,He=i.child.memoizedState,He===null?He=_n(h):(O=He.cachePool,O!==null?(pt=xi._currentValue,O=O.parent!==pt?{parent:pt,pool:pt}:O):O=ra(),He={baseLanes:He.baseLanes|h,cachePool:O}),g.memoizedState=He,g.childLanes=Rr(i,be,h),c.memoizedState=wr,tt(i.child,g)):(Ya(c),h=i.child,i=h.sibling,h=Ml(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,i!==null&&(be=c.deletions,be===null?(c.deletions=[i],c.flags|=16):be.push(i)),c.child=h,c.memoizedState=null,h)}function ro(i,c){return c=Mn({mode:"visible",children:c},i.mode),c.return=i,i.child=c}function Mn(i,c){return i=Io(22,i,null,c),i.lanes=0,i}function Dr(i,c,h){return nr(c,i.child,null,h),i=ro(c,c.pendingProps.children),i.flags|=2,c.memoizedState=null,i}function cr(i,c,h){i.lanes|=c;var g=i.alternate;g!==null&&(g.lanes|=c),xd(i.return,c,h)}function _i(i,c,h,g,O,_){var be=i.memoizedState;be===null?i.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:O,treeForkCount:_}:(be.isBackwards=c,be.rendering=null,be.renderingStartTime=0,be.last=g,be.tail=h,be.tailMode=O,be.treeForkCount=_)}function On(i,c,h){var g=c.pendingProps,O=g.revealOrder,_=g.tail;g=g.children;var be=vi.current,He=(be&2)!==0;if(He?(be=be&1|2,c.flags|=128):be&=1,ye(vi,be),_e(i,c,g,h),g=lr?Jl:0,!He&&i!==null&&(i.flags&128)!==0)e:for(i=c.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cr(i,h,c);else if(i.tag===19)cr(i,h,c);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===c)break e;for(;i.sibling===null;){if(i.return===null||i.return===c)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(O){case"forwards":for(h=c.child,O=null;h!==null;)i=h.alternate,i!==null&&qd(i)===null&&(O=h),h=h.sibling;h=O,h===null?(O=c.child,c.child=null):(O=h.sibling,h.sibling=null),_i(c,!1,O,h,_,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,O=c.child,c.child=null;O!==null;){if(i=O.alternate,i!==null&&qd(i)===null){c.child=O;break}i=O.sibling,O.sibling=h,h=O,O=i}_i(c,!0,h,null,_,g);break;case"together":_i(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function $n(i,c,h){if(i!==null&&(c.dependencies=i.dependencies),U|=c.lanes,(h&c.childLanes)===0)if(i!==null){if(bc(i,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(i!==null&&c.child!==i.child)throw Error(n(153));if(c.child!==null){for(i=c.child,h=Ml(i,i.pendingProps),c.child=h,h.return=c;i.sibling!==null;)i=i.sibling,h=h.sibling=Ml(i,i.pendingProps),h.return=c;h.sibling=null}return c.child}function ni(i,c){return(i.lanes&c)!==0?!0:(i=i.dependencies,!!(i!==null&&qc(i)))}function jo(i,c,h){switch(c.tag){case 3:$e(c,c.stateNode.containerInfo),Po(c,xi,i.memoizedState.cache),Yi();break;case 27:case 5:St(c);break;case 4:$e(c,c.stateNode.containerInfo);break;case 10:Po(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Mu(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Ya(c),c.flags|=128,null):(h&c.child.childLanes)!==0?la(i,c,h):(Ya(c),i=$n(i,c,h),i!==null?i.sibling:null);Ya(c);break;case 19:var O=(i.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(bc(i,c,h,!1),g=(h&c.childLanes)!==0),O){if(g)return On(i,c,h);c.flags|=128}if(O=c.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),ye(vi,vi.current),g)break;return null;case 22:return c.lanes=0,Yt(i,c,h,c.pendingProps);case 24:Po(c,xi,i.memoizedState.cache)}return $n(i,c,h)}function _o(i,c,h){if(i!==null)if(i.memoizedProps!==c.pendingProps)Oe=!0;else{if(!ni(i,h)&&(c.flags&128)===0)return Oe=!1,jo(i,c,h);Oe=(i.flags&131072)!==0}else Oe=!1,lr&&(c.flags&1048576)!==0&&gu(c,Jl,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(i=H(c.elementType),c.type=i,typeof i=="function")An(i)?(g=Dd(i,g),c.tag=1,c=Rs(null,c,i,g,h)):(c.tag=0,c=Bs(null,c,i,g,h));else{if(i!=null){var O=i.$$typeof;if(O===X){c.tag=11,c=Ve(null,c,i,g,h);break e}else if(O===G){c.tag=14,c=rt(null,c,i,g,h);break e}}throw c=Ne(i)||i,Error(n(306,c,""))}}return c;case 0:return Bs(i,c,c.type,c.pendingProps,h);case 1:return g=c.type,O=Dd(g,c.pendingProps),Rs(i,c,g,O,h);case 3:e:{if($e(c,c.stateNode.containerInfo),i===null)throw Error(n(387));g=c.pendingProps;var _=c.memoizedState;O=_.element,hn(i,c),Hr(c,g,null,h);var be=c.memoizedState;if(g=be.cache,Po(c,xi,g),g!==_.cache&&vl(c,[xi],h,!0),Ma(),g=be.element,_.isDehydrated)if(_={element:g,isDehydrated:!1,cache:be.cache},c.updateQueue.baseState=_,c.memoizedState=_,c.flags&256){c=zr(i,c,g,h);break e}else if(g!==O){O=Wi(Error(n(424)),c),bl(O),c=zr(i,c,g,h);break e}else{switch(i=c.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(_a=au(i.firstChild),Qi=c,lr=!0,Oc=null,xl=!0,h=Ps(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Yi(),g===O){c=$n(i,c,h);break e}_e(i,c,g,h)}c=c.child}return c;case 26:return js(i,c),i===null?(h=O1(c.type,null,c.pendingProps,null))?c.memoizedState=h:lr||(h=c.type,i=c.pendingProps,g=Hm(ge.current).createElement(h),g[ln]=c,g[fa]=i,kc(g,h,i),Ua(g),c.stateNode=g):c.memoizedState=O1(c.type,i.memoizedProps,c.pendingProps,i.memoizedState),null;case 27:return St(c),i===null&&lr&&(g=c.stateNode=L1(c.type,c.pendingProps,ge.current),Qi=c,xl=!0,O=_a,uh(c.type)?(Qx=O,_a=au(g.firstChild)):_a=O),_e(i,c,c.pendingProps.children,h),js(i,c),i===null&&(c.flags|=4194304),c.child;case 5:return i===null&&lr&&((O=g=_a)&&(g=l4(g,c.type,c.pendingProps,xl),g!==null?(c.stateNode=g,Qi=c,_a=au(g.firstChild),xl=!1,O=!0):O=!1),O||Ro(c)),St(c),O=c.type,_=c.pendingProps,be=i!==null?i.memoizedProps:null,g=_.children,Ox(O,_)?g=null:be!==null&&Ox(O,be)&&(c.flags|=32),c.memoizedState!==null&&(O=nd(i,c,Ou,null,null,h),U0._currentValue=O),js(i,c),_e(i,c,g,h),c.child;case 6:return i===null&&lr&&((i=h=_a)&&(h=c4(h,c.pendingProps,xl),h!==null?(c.stateNode=h,Qi=c,_a=null,i=!0):i=!1),i||Ro(c)),null;case 13:return la(i,c,h);case 4:return $e(c,c.stateNode.containerInfo),g=c.pendingProps,i===null?c.child=nr(c,null,g,h):_e(i,c,g,h),c.child;case 11:return Ve(i,c,c.type,c.pendingProps,h);case 7:return _e(i,c,c.pendingProps,h),c.child;case 8:return _e(i,c,c.pendingProps.children,h),c.child;case 12:return _e(i,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,Po(c,c.type,g.value),_e(i,c,g.children,h),c.child;case 9:return O=c.type._context,g=c.pendingProps.children,al(c),O=si(O),g=g(O),c.flags|=1,_e(i,c,g,h),c.child;case 14:return rt(i,c,c.type,c.pendingProps,h);case 15:return Bt(i,c,c.type,c.pendingProps,h);case 19:return On(i,c,h);case 31:return qt(i,c,h);case 22:return Yt(i,c,h,c.pendingProps);case 24:return al(c),g=si(xi),i===null?(O=pn(),O===null&&(O=ga,_=sd(),O.pooledCache=_,_.refCount++,_!==null&&(O.pooledCacheLanes|=h),O=_),c.memoizedState={parent:g,cache:O},Fa(c),Po(c,xi,O)):((i.lanes&h)!==0&&(hn(i,c),Hr(c,null,null,h),Ma()),O=i.memoizedState,_=c.memoizedState,O.parent!==g?(O={parent:g,cache:g},c.memoizedState=O,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=O),Po(c,xi,g)):(g=_.cache,Po(c,xi,g),g!==O.cache&&vl(c,[xi],h,!0))),_e(i,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Oa(i){i.flags|=4}function Ho(i,c,h,g,O){if((c=(i.mode&32)!==0)&&(c=!1),c){if(i.flags|=16777216,(O&335544128)===O)if(i.stateNode.complete)i.flags|=8192;else if(Bu())i.flags|=8192;else throw Pe=Ei,bi}else i.flags&=-16777217}function wl(i,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Q1(c))if(Bu())i.flags|=8192;else throw Pe=Ei,bi}function Hi(i,c){c!==null&&(i.flags|=4),i.flags&16384&&(c=i.tag!==22?wa():536870912,i.lanes|=c,Ze|=c)}function ia(i,c){if(!lr)switch(i.tailMode){case"hidden":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function dn(i){var c=i.alternate!==null&&i.alternate.child===i.child,h=0,g=0;if(c)for(var O=i.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags&65011712,g|=O.flags&65011712,O.return=i,O=O.sibling;else for(O=i.child;O!==null;)h|=O.lanes|O.childLanes,g|=O.subtreeFlags,g|=O.flags,O.return=i,O=O.sibling;return i.subtreeFlags|=g,i.childLanes=h,c}function Zi(i,c,h){var g=c.pendingProps;switch(xu(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(c),null;case 1:return dn(c),null;case 3:return h=c.stateNode,g=null,i!==null&&(g=i.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),nl(xi),kt(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(gd(c)?Oa(c):i===null||i.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Zc())),dn(c),null;case 26:var O=c.type,_=c.memoizedState;return i===null?(Oa(c),_!==null?(dn(c),wl(c,_)):(dn(c),Ho(c,O,null,g,h))):_?_!==i.memoizedState?(Oa(c),dn(c),wl(c,_)):(dn(c),c.flags&=-16777217):(i=i.memoizedProps,i!==g&&Oa(c),dn(c),Ho(c,O,i,g,h)),null;case 27:if(Ge(c),h=ge.current,O=c.type,i!==null&&c.stateNode!=null)i.memoizedProps!==g&&Oa(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return dn(c),null}i=fe.current,gd(c)?Ic(c):(i=L1(O,g,h),c.stateNode=i,Oa(c))}return dn(c),null;case 5:if(Ge(c),O=c.type,i!==null&&c.stateNode!=null)i.memoizedProps!==g&&Oa(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return dn(c),null}if(_=fe.current,gd(c))Ic(c);else{var be=Hm(ge.current);switch(_){case 1:_=be.createElementNS("http://www.w3.org/2000/svg",O);break;case 2:_=be.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;default:switch(O){case"svg":_=be.createElementNS("http://www.w3.org/2000/svg",O);break;case"math":_=be.createElementNS("http://www.w3.org/1998/Math/MathML",O);break;case"script":_=be.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof g.is=="string"?be.createElement("select",{is:g.is}):be.createElement("select"),g.multiple?_.multiple=!0:g.size&&(_.size=g.size);break;default:_=typeof g.is=="string"?be.createElement(O,{is:g.is}):be.createElement(O)}}_[ln]=c,_[fa]=g;e:for(be=c.child;be!==null;){if(be.tag===5||be.tag===6)_.appendChild(be.stateNode);else if(be.tag!==4&&be.tag!==27&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===c)break e;for(;be.sibling===null;){if(be.return===null||be.return===c)break e;be=be.return}be.sibling.return=be.return,be=be.sibling}c.stateNode=_;e:switch(kc(_,O,g),O){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Oa(c)}}return dn(c),Ho(c,c.type,i===null?null:i.memoizedProps,c.pendingProps,h),null;case 6:if(i&&c.stateNode!=null)i.memoizedProps!==g&&Oa(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(i=ge.current,gd(c)){if(i=c.stateNode,h=c.memoizedProps,g=null,O=Qi,O!==null)switch(O.tag){case 27:case 5:g=O.memoizedProps}i[ln]=c,i=!!(i.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||y1(i.nodeValue,h)),i||Ro(c,!0)}else i=Hm(i).createTextNode(g),i[ln]=c,c.stateNode=i}return dn(c),null;case 31:if(h=c.memoizedState,i===null||i.memoizedState!==null){if(g=gd(c),h!==null){if(i===null){if(!g)throw Error(n(318));if(i=c.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[ln]=c}else Yi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;dn(c),i=!1}else h=Zc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=h),i=!0;if(!i)return c.flags&256?(ol(c),c):(ol(c),null);if((c.flags&128)!==0)throw Error(n(558))}return dn(c),null;case 13:if(g=c.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(O=gd(c),g!==null&&g.dehydrated!==null){if(i===null){if(!O)throw Error(n(318));if(O=c.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[ln]=c}else Yi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;dn(c),O=!1}else O=Zc(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=O),O=!0;if(!O)return c.flags&256?(ol(c),c):(ol(c),null)}return ol(c),(c.flags&128)!==0?(c.lanes=h,c):(h=g!==null,i=i!==null&&i.memoizedState!==null,h&&(g=c.child,O=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(O=g.alternate.memoizedState.cachePool.pool),_=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(_=g.memoizedState.cachePool.pool),_!==O&&(g.flags|=2048)),h!==i&&h&&(c.child.flags|=8192),Hi(c,c.updateQueue),dn(c),null);case 4:return kt(),i===null&&Tx(c.stateNode.containerInfo),dn(c),null;case 10:return nl(c.type),dn(c),null;case 19:if(pe(vi),g=c.memoizedState,g===null)return dn(c),null;if(O=(c.flags&128)!==0,_=g.rendering,_===null)if(O)ia(g,!1);else{if(L!==0||i!==null&&(i.flags&128)!==0)for(i=c.child;i!==null;){if(_=qd(i),_!==null){for(c.flags|=128,ia(g,!1),i=_.updateQueue,c.updateQueue=i,Hi(c,i),c.subtreeFlags=0,i=h,h=c.child;h!==null;)Wl(h,i),h=h.sibling;return ye(vi,vi.current&1|2),lr&&gl(c,g.treeForkCount),c.child}i=i.sibling}g.tail!==null&&Ms()>jr&&(c.flags|=128,O=!0,ia(g,!1),c.lanes=4194304)}else{if(!O)if(i=qd(_),i!==null){if(c.flags|=128,O=!0,i=i.updateQueue,c.updateQueue=i,Hi(c,i),ia(g,!0),g.tail===null&&g.tailMode==="hidden"&&!_.alternate&&!lr)return dn(c),null}else 2*Ms()-g.renderingStartTime>jr&&h!==536870912&&(c.flags|=128,O=!0,ia(g,!1),c.lanes=4194304);g.isBackwards?(_.sibling=c.child,c.child=_):(i=g.last,i!==null?i.sibling=_:c.child=_,g.last=_)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ms(),i.sibling=null,h=vi.current,ye(vi,O?h&1|2:h&1),lr&&gl(c,g.treeForkCount),i):(dn(c),null);case 22:case 23:return ol(c),yl(),g=c.memoizedState!==null,i!==null?i.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(dn(c),c.subtreeFlags&6&&(c.flags|=8192)):dn(c),h=c.updateQueue,h!==null&&Hi(c,h.retryQueue),h=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),i!==null&&pe(Er),null;case 24:return h=null,i!==null&&(h=i.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),nl(xi),dn(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function za(i,c){switch(xu(c),c.tag){case 1:return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 3:return nl(xi),kt(),i=c.flags,(i&65536)!==0&&(i&128)===0?(c.flags=i&-65537|128,c):null;case 26:case 27:case 5:return Ge(c),null;case 31:if(c.memoizedState!==null){if(ol(c),c.alternate===null)throw Error(n(340));Yi()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 13:if(ol(c),i=c.memoizedState,i!==null&&i.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Yi()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 19:return pe(vi),null;case 4:return kt(),null;case 10:return nl(c.type),null;case 22:case 23:return ol(c),yl(),i!==null&&pe(Er),i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 24:return nl(xi),null;case 25:return null;default:return null}}function zo(i,c){switch(xu(c),c.tag){case 3:nl(xi),kt();break;case 26:case 27:case 5:Ge(c);break;case 4:kt();break;case 31:c.memoizedState!==null&&ol(c);break;case 13:ol(c);break;case 19:pe(vi);break;case 10:nl(c.type);break;case 22:case 23:ol(c),yl(),i!==null&&pe(Er);break;case 24:nl(xi)}}function cl(i,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var O=g.next;h=O;do{if((h.tag&i)===i){g=void 0;var _=h.create,be=h.inst;g=_(),be.destroy=g}h=h.next}while(h!==O)}}catch(He){wi(c,c.return,He)}}function Xa(i,c,h){try{var g=c.updateQueue,O=g!==null?g.lastEffect:null;if(O!==null){var _=O.next;g=_;do{if((g.tag&i)===i){var be=g.inst,He=be.destroy;if(He!==void 0){be.destroy=void 0,O=c;var pt=h,as=He;try{as()}catch(Es){wi(O,pt,Es)}}}g=g.next}while(g!==_)}}catch(Es){wi(c,c.return,Es)}}function dl(i){var c=i.updateQueue;if(c!==null){var h=i.stateNode;try{Pn(c,h)}catch(g){wi(i,i.return,g)}}}function Ja(i,c,h){h.props=Dd(i.type,i.memoizedProps),h.state=i.memoizedState;try{h.componentWillUnmount()}catch(g){wi(i,c,g)}}function Ws(i,c){try{var h=i.ref;if(h!==null){switch(i.tag){case 26:case 27:case 5:var g=i.stateNode;break;case 30:g=i.stateNode;break;default:g=i.stateNode}typeof h=="function"?i.refCleanup=h(g):h.current=g}}catch(O){wi(i,c,O)}}function ai(i,c){var h=i.ref,g=i.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(O){wi(i,c,O)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(O){wi(i,c,O)}else h.current=null}function No(i){var c=i.type,h=i.memoizedProps,g=i.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(O){wi(i,i.return,O)}}function di(i,c,h){try{var g=i.stateNode;s4(g,i.type,h,c),g[fa]=c}catch(O){wi(i,i.return,O)}}function rc(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&uh(i.type)||i.tag===4}function Ln(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||rc(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&uh(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ea(i,c,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(i,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(i),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=J));else if(g!==4&&(g===27&&uh(i.type)&&(h=i.stateNode,c=null),i=i.child,i!==null))for(ea(i,c,h),i=i.sibling;i!==null;)ea(i,c,h),i=i.sibling}function Sa(i,c,h){var g=i.tag;if(g===5||g===6)i=i.stateNode,c?h.insertBefore(i,c):h.appendChild(i);else if(g!==4&&(g===27&&uh(i.type)&&(h=i.stateNode),i=i.child,i!==null))for(Sa(i,c,h),i=i.sibling;i!==null;)Sa(i,c,h),i=i.sibling}function nc(i){var c=i.stateNode,h=i.memoizedProps;try{for(var g=i.type,O=c.attributes;O.length;)c.removeAttributeNode(O[0]);kc(c,g,h),c[ln]=i,c[fa]=h}catch(_){wi(i,i.return,_)}}var qi=!1,ui=!1,ac=!1,$o=typeof WeakSet=="function"?WeakSet:Set,no=null;function lh(i,c){if(i=i.containerInfo,Fx=Ym,i=Kl(i),an(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var O=g.anchorOffset,_=g.focusNode;g=g.focusOffset;try{h.nodeType,_.nodeType}catch{h=null;break e}var be=0,He=-1,pt=-1,as=0,Es=0,Is=i,is=null;t:for(;;){for(var ds;Is!==h||O!==0&&Is.nodeType!==3||(He=be+O),Is!==_||g!==0&&Is.nodeType!==3||(pt=be+g),Is.nodeType===3&&(be+=Is.nodeValue.length),(ds=Is.firstChild)!==null;)is=Is,Is=ds;for(;;){if(Is===i)break t;if(is===h&&++as===O&&(He=be),is===_&&++Es===g&&(pt=be),(ds=Is.nextSibling)!==null)break;Is=is,is=Is.parentNode}Is=ds}h=He===-1||pt===-1?null:{start:He,end:pt}}else h=null}h=h||{start:0,end:0}}else h=null;for(Mx={focusedElem:i,selectionRange:h},Ym=!1,no=c;no!==null;)if(c=no,i=c.child,(c.subtreeFlags&1028)!==0&&i!==null)i.return=c,no=i;else for(;no!==null;){switch(c=no,_=c.alternate,i=c.flags,c.tag){case 0:if((i&4)!==0&&(i=c.updateQueue,i=i!==null?i.events:null,i!==null))for(h=0;h<i.length;h++)O=i[h],O.ref.impl=O.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,h=c,O=_.memoizedProps,_=_.memoizedState,g=h.stateNode;try{var Qr=Dd(h.type,O);i=g.getSnapshotBeforeUpdate(Qr,_),g.__reactInternalSnapshotBeforeUpdate=i}catch(kn){wi(h,h.return,kn)}}break;case 3:if((i&1024)!==0){if(i=c.stateNode.containerInfo,h=i.nodeType,h===9)Dx(i);else if(h===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Dx(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=c.sibling,i!==null){i.return=c.return,no=i;break}no=c.return}}function NA(i,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:jl(i,h),g&4&&cl(5,h);break;case 1:if(jl(i,h),g&4)if(i=h.stateNode,c===null)try{i.componentDidMount()}catch(be){wi(h,h.return,be)}else{var O=Dd(h.type,c.memoizedProps);c=c.memoizedState;try{i.componentDidUpdate(O,c,i.__reactInternalSnapshotBeforeUpdate)}catch(be){wi(h,h.return,be)}}g&64&&dl(h),g&512&&Ws(h,h.return);break;case 3:if(jl(i,h),g&64&&(i=h.updateQueue,i!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{Pn(i,c)}catch(be){wi(h,h.return,be)}}break;case 27:c===null&&g&4&&nc(h);case 26:case 5:jl(i,h),c===null&&g&4&&No(h),g&512&&Ws(h,h.return);break;case 12:jl(i,h);break;case 31:jl(i,h),g&4&&Zh(i,h);break;case 13:jl(i,h),g&4&&If(i,h),g&64&&(i=h.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(h=$k.bind(null,h),d4(i,h))));break;case 22:if(g=h.memoizedState!==null||qi,!g){c=c!==null&&c.memoizedState!==null||ui,O=qi;var _=ui;qi=g,(ui=c)&&!_?Rd(i,h,(h.subtreeFlags&8772)!==0):jl(i,h),qi=O,ui=_}break;case 30:break;default:jl(i,h)}}function Cu(i){var c=i.alternate;c!==null&&(i.alternate=null,Cu(c)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(c=i.stateNode,c!==null&&Vl(c)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ui=null,Rl=!1;function Pc(i,c,h){for(h=h.child;h!==null;)ad(i,c,h),h=h.sibling}function ad(i,c,h){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Ts,h)}catch{}switch(h.tag){case 26:ui||ai(h,c),Pc(i,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ui||ai(h,c);var g=Ui,O=Rl;uh(h.type)&&(Ui=h.stateNode,Rl=!1),Pc(i,c,h),S0(h.stateNode),Ui=g,Rl=O;break;case 5:ui||ai(h,c);case 6:if(g=Ui,O=Rl,Ui=null,Pc(i,c,h),Ui=g,Rl=O,Ui!==null)if(Rl)try{(Ui.nodeType===9?Ui.body:Ui.nodeName==="HTML"?Ui.ownerDocument.body:Ui).removeChild(h.stateNode)}catch(_){wi(h,c,_)}else try{Ui.removeChild(h.stateNode)}catch(_){wi(h,c,_)}break;case 18:Ui!==null&&(Rl?(i=Ui,B1(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,h.stateNode),Vf(i)):B1(Ui,h.stateNode));break;case 4:g=Ui,O=Rl,Ui=h.stateNode.containerInfo,Rl=!0,Pc(i,c,h),Ui=g,Rl=O;break;case 0:case 11:case 14:case 15:Xa(2,h,c),ui||Xa(4,h,c),Pc(i,c,h);break;case 1:ui||(ai(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&Ja(h,c,g)),Pc(i,c,h);break;case 21:Pc(i,c,h);break;case 22:ui=(g=ui)||h.memoizedState!==null,Pc(i,c,h),ui=g;break;default:Pc(i,c,h)}}function Zh(i,c){if(c.memoizedState===null&&(i=c.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Vf(i)}catch(h){wi(c,c.return,h)}}}function If(i,c){if(c.memoizedState===null&&(i=c.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Vf(i)}catch(h){wi(c,c.return,h)}}function Df(i){switch(i.tag){case 31:case 13:case 19:var c=i.stateNode;return c===null&&(c=i.stateNode=new $o),c;case 22:return i=i.stateNode,c=i._retryCache,c===null&&(c=i._retryCache=new $o),c;default:throw Error(n(435,i.tag))}}function CA(i,c){var h=Df(i);c.forEach(function(g){if(!h.has(g)){h.add(g);var O=Vk.bind(null,i,g);g.then(O,O)}})}function ul(i,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var O=h[g],_=i,be=c,He=be;e:for(;He!==null;){switch(He.tag){case 27:if(uh(He.type)){Ui=He.stateNode,Rl=!1;break e}break;case 5:Ui=He.stateNode,Rl=!1;break e;case 3:case 4:Ui=He.stateNode.containerInfo,Rl=!0;break e}He=He.return}if(Ui===null)throw Error(n(160));ad(_,be,O),Ui=null,Rl=!1,_=O.alternate,_!==null&&(_.return=null),O.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)Hu(c,i),c=c.sibling}var Qc=null;function Hu(i,c){var h=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ul(c,i),Za(i),g&4&&(Xa(3,i,i.return),cl(3,i),Xa(5,i,i.return));break;case 1:ul(c,i),Za(i),g&512&&(ui||h===null||ai(h,h.return)),g&64&&qi&&(i=i.updateQueue,i!==null&&(g=i.callbacks,g!==null&&(h=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var O=Qc;if(ul(c,i),Za(i),g&512&&(ui||h===null||ai(h,h.return)),g&4){var _=h!==null?h.memoizedState:null;if(g=i.memoizedState,h===null)if(g===null)if(i.stateNode===null){e:{g=i.type,h=i.memoizedProps,O=O.ownerDocument||O;t:switch(g){case"title":_=O.getElementsByTagName("title")[0],(!_||_[To]||_[ln]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=O.createElement(g),O.head.insertBefore(_,O.querySelector("head > title"))),kc(_,g,h),_[ln]=i,Ua(_),g=_;break e;case"link":var be=R1("link","href",O).get(g+(h.href||""));if(be){for(var He=0;He<be.length;He++)if(_=be[He],_.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&_.getAttribute("rel")===(h.rel==null?null:h.rel)&&_.getAttribute("title")===(h.title==null?null:h.title)&&_.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){be.splice(He,1);break t}}_=O.createElement(g),kc(_,g,h),O.head.appendChild(_);break;case"meta":if(be=R1("meta","content",O).get(g+(h.content||""))){for(He=0;He<be.length;He++)if(_=be[He],_.getAttribute("content")===(h.content==null?null:""+h.content)&&_.getAttribute("name")===(h.name==null?null:h.name)&&_.getAttribute("property")===(h.property==null?null:h.property)&&_.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&_.getAttribute("charset")===(h.charSet==null?null:h.charSet)){be.splice(He,1);break t}}_=O.createElement(g),kc(_,g,h),O.head.appendChild(_);break;default:throw Error(n(468,g))}_[ln]=i,Ua(_),g=_}i.stateNode=g}else P1(O,i.type,i.stateNode);else i.stateNode=D1(O,g,i.memoizedProps);else _!==g?(_===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):_.count--,g===null?P1(O,i.type,i.stateNode):D1(O,g,i.memoizedProps)):g===null&&i.stateNode!==null&&di(i,i.memoizedProps,h.memoizedProps)}break;case 27:ul(c,i),Za(i),g&512&&(ui||h===null||ai(h,h.return)),h!==null&&g&4&&di(i,i.memoizedProps,h.memoizedProps);break;case 5:if(ul(c,i),Za(i),g&512&&(ui||h===null||ai(h,h.return)),i.flags&32){O=i.stateNode;try{ba(O,"")}catch(Qr){wi(i,i.return,Qr)}}g&4&&i.stateNode!=null&&(O=i.memoizedProps,di(i,O,h!==null?h.memoizedProps:O)),g&1024&&(ac=!0);break;case 6:if(ul(c,i),Za(i),g&4){if(i.stateNode===null)throw Error(n(162));g=i.memoizedProps,h=i.stateNode;try{h.nodeValue=g}catch(Qr){wi(i,i.return,Qr)}}break;case 3:if(Vm=null,O=Qc,Qc=zm(c.containerInfo),ul(c,i),Qc=O,Za(i),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Vf(c.containerInfo)}catch(Qr){wi(i,i.return,Qr)}ac&&(ac=!1,kA(i));break;case 4:g=Qc,Qc=zm(i.stateNode.containerInfo),ul(c,i),Za(i),Qc=g;break;case 12:ul(c,i),Za(i);break;case 31:ul(c,i),Za(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,CA(i,g)));break;case 13:ul(c,i),Za(i),i.child.flags&8192&&i.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Wt=Ms()),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,CA(i,g)));break;case 22:O=i.memoizedState!==null;var pt=h!==null&&h.memoizedState!==null,as=qi,Es=ui;if(qi=as||O,ui=Es||pt,ul(c,i),ui=Es,qi=as,Za(i),g&8192)e:for(c=i.stateNode,c._visibility=O?c._visibility&-2:c._visibility|1,O&&(h===null||pt||qi||ui||su(i)),h=null,c=i;;){if(c.tag===5||c.tag===26){if(h===null){pt=h=c;try{if(_=pt.stateNode,O)be=_.style,typeof be.setProperty=="function"?be.setProperty("display","none","important"):be.display="none";else{He=pt.stateNode;var Is=pt.memoizedProps.style,is=Is!=null&&Is.hasOwnProperty("display")?Is.display:null;He.style.display=is==null||typeof is=="boolean"?"":(""+is).trim()}}catch(Qr){wi(pt,pt.return,Qr)}}}else if(c.tag===6){if(h===null){pt=c;try{pt.stateNode.nodeValue=O?"":pt.memoizedProps}catch(Qr){wi(pt,pt.return,Qr)}}}else if(c.tag===18){if(h===null){pt=c;try{var ds=pt.stateNode;O?S1(ds,!0):S1(pt.stateNode,!1)}catch(Qr){wi(pt,pt.return,Qr)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===i)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break e;for(;c.sibling===null;){if(c.return===null||c.return===i)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=i.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,CA(i,h))));break;case 19:ul(c,i),Za(i),g&4&&(g=i.updateQueue,g!==null&&(i.updateQueue=null,CA(i,g)));break;case 30:break;case 21:break;default:ul(c,i),Za(i)}}function Za(i){var c=i.flags;if(c&2){try{for(var h,g=i.return;g!==null;){if(rc(g)){h=g;break}g=g.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var O=h.stateNode,_=Ln(i);Sa(i,_,O);break;case 5:var be=h.stateNode;h.flags&32&&(ba(be,""),h.flags&=-33);var He=Ln(i);Sa(i,He,be);break;case 3:case 4:var pt=h.stateNode.containerInfo,as=Ln(i);ea(i,as,pt);break;default:throw Error(n(161))}}catch(Es){wi(i,i.return,Es)}i.flags&=-3}c&4096&&(i.flags&=-4097)}function kA(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var c=i;kA(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),i=i.sibling}}function jl(i,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)NA(i,c.alternate,c),c=c.sibling}function su(i){for(i=i.child;i!==null;){var c=i;switch(c.tag){case 0:case 11:case 14:case 15:Xa(4,c,c.return),su(c);break;case 1:ai(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&Ja(c,c.return,h),su(c);break;case 27:S0(c.stateNode);case 26:case 5:ai(c,c.return),su(c);break;case 22:c.memoizedState===null&&su(c);break;case 30:su(c);break;default:su(c)}i=i.sibling}}function Rd(i,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,O=i,_=c,be=_.flags;switch(_.tag){case 0:case 11:case 15:Rd(O,_,h),cl(4,_);break;case 1:if(Rd(O,_,h),g=_,O=g.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(as){wi(g,g.return,as)}if(g=_,O=g.updateQueue,O!==null){var He=g.stateNode;try{var pt=O.shared.hiddenCallbacks;if(pt!==null)for(O.shared.hiddenCallbacks=null,O=0;O<pt.length;O++)na(pt[O],He)}catch(as){wi(g,g.return,as)}}h&&be&64&&dl(_),Ws(_,_.return);break;case 27:nc(_);case 26:case 5:Rd(O,_,h),h&&g===null&&be&4&&No(_),Ws(_,_.return);break;case 12:Rd(O,_,h);break;case 31:Rd(O,_,h),h&&be&4&&Zh(O,_);break;case 13:Rd(O,_,h),h&&be&4&&If(O,_);break;case 22:_.memoizedState===null&&Rd(O,_,h),Ws(_,_.return);break;case 30:break;default:Rd(O,_,h)}c=c.sibling}}function ru(i,c){var h=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),i=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(i=c.memoizedState.cachePool.pool),i!==h&&(i!=null&&i.refCount++,h!=null&&vd(h))}function Pd(i,c){i=null,c.alternate!==null&&(i=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==i&&(c.refCount++,i!=null&&vd(i))}function Nl(i,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Qd(i,c,h,g),c=c.sibling}function Qd(i,c,h,g){var O=c.flags;switch(c.tag){case 0:case 11:case 15:Nl(i,c,h,g),O&2048&&cl(9,c);break;case 1:Nl(i,c,h,g);break;case 3:Nl(i,c,h,g),O&2048&&(i=null,c.alternate!==null&&(i=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==i&&(c.refCount++,i!=null&&vd(i)));break;case 12:if(O&2048){Nl(i,c,h,g),i=c.stateNode;try{var _=c.memoizedProps,be=_.id,He=_.onPostCommit;typeof He=="function"&&He(be,c.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(pt){wi(c,c.return,pt)}}else Nl(i,c,h,g);break;case 31:Nl(i,c,h,g);break;case 13:Nl(i,c,h,g);break;case 23:break;case 22:_=c.stateNode,be=c.alternate,c.memoizedState!==null?_._visibility&2?Nl(i,c,h,g):zu(i,c):_._visibility&2?Nl(i,c,h,g):(_._visibility|=2,_c(i,c,h,g,(c.subtreeFlags&10256)!==0||!1)),O&2048&&ru(be,c);break;case 24:Nl(i,c,h,g),O&2048&&Pd(c.alternate,c);break;default:Nl(i,c,h,g)}}function _c(i,c,h,g,O){for(O=O&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var _=i,be=c,He=h,pt=g,as=be.flags;switch(be.tag){case 0:case 11:case 15:_c(_,be,He,pt,O),cl(8,be);break;case 23:break;case 22:var Es=be.stateNode;be.memoizedState!==null?Es._visibility&2?_c(_,be,He,pt,O):zu(_,be):(Es._visibility|=2,_c(_,be,He,pt,O)),O&&as&2048&&ru(be.alternate,be);break;case 24:_c(_,be,He,pt,O),O&&as&2048&&Pd(be.alternate,be);break;default:_c(_,be,He,pt,O)}c=c.sibling}}function zu(i,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=i,g=c,O=g.flags;switch(g.tag){case 22:zu(h,g),O&2048&&ru(g.alternate,g);break;case 24:zu(h,g),O&2048&&Pd(g.alternate,g);break;default:zu(h,g)}c=c.sibling}}var BA=8192;function nu(i,c,h){if(i.subtreeFlags&BA)for(i=i.child;i!==null;)ku(i,c,h),i=i.sibling}function ku(i,c,h){switch(i.tag){case 26:nu(i,c,h),i.flags&BA&&i.memoizedState!==null&&w4(h,Qc,i.memoizedState,i.memoizedProps);break;case 5:nu(i,c,h);break;case 3:case 4:var g=Qc;Qc=zm(i.stateNode.containerInfo),nu(i,c,h),Qc=g;break;case 22:i.memoizedState===null&&(g=i.alternate,g!==null&&g.memoizedState!==null?(g=BA,BA=16777216,nu(i,c,h),BA=g):nu(i,c,h));break;default:nu(i,c,h)}}function qh(i){var c=i.alternate;if(c!==null&&(i=c.child,i!==null)){c.child=null;do c=i.sibling,i.sibling=null,i=c;while(i!==null)}}function $u(i){var c=i.deletions;if((i.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];no=g,Pf(g,i)}qh(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rf(i),i=i.sibling}function Rf(i){switch(i.tag){case 0:case 11:case 15:$u(i),i.flags&2048&&Xa(9,i,i.return);break;case 3:$u(i);break;case 12:$u(i);break;case 22:var c=i.stateNode;i.memoizedState!==null&&c._visibility&2&&(i.return===null||i.return.tag!==13)?(c._visibility&=-3,SA(i)):$u(i);break;default:$u(i)}}function SA(i){var c=i.deletions;if((i.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];no=g,Pf(g,i)}qh(i)}for(i=i.child;i!==null;){switch(c=i,c.tag){case 0:case 11:case 15:Xa(8,c,c.return),SA(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,SA(c));break;default:SA(c)}i=i.sibling}}function Pf(i,c){for(;no!==null;){var h=no;switch(h.tag){case 0:case 11:case 15:Xa(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:vd(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,no=g;else e:for(h=i;no!==null;){g=no;var O=g.sibling,_=g.return;if(Cu(g),g===h){no=null;break e}if(O!==null){O.return=_,no=O;break e}no=_}}}var EA={getCacheForType:function(i){var c=si(xi),h=c.data.get(i);return h===void 0&&(h=i(),c.data.set(i,h)),h},cacheSignal:function(){return si(xi).controller.signal}},ef=typeof WeakMap=="function"?WeakMap:Map,va=0,ga=null,In=null,Hn=0,Ea=0,Pl=null,_d=!1,Vu=!1,B=!1,j=0,L=0,U=0,ne=0,we=0,Le=0,Ze=0,qe=null,Ct=null,Rt=!1,Wt=0,Ns=0,jr=1/0,Zs=null,dr=null,Jr=0,Fr=null,Ur=null,ta=0,Yn=0,Cn=null,Cr=null,ca=0,ya=null;function sn(){return(va&2)!==0&&Hn!==0?Hn&-Hn:se.T!==null?kx():ha()}function Co(){if(Le===0)if((Hn&536870912)===0||lr){var i=As;As<<=1,(As&3932160)===0&&(As=262144),Le=i}else Le=536870912;return i=Xi.current,i!==null&&(i.flags|=32),Le}function yi(i,c,h){(i===ga&&(Ea===2||Ea===9)||i.cancelPendingCommit!==null)&&(kd(i,0),Cc(i,Hn,Le,!1)),Os(i,h),((va&2)===0||i!==ga)&&(i===ga&&((va&2)===0&&(ne|=h),L===4&&Cc(i,Hn,Le,!1)),Wu(i))}function Hc(i,c,h){if((va&6)!==0)throw Error(n(327));var g=!h&&(c&127)===0&&(c&i.expiredLanes)===0||mr(i,c),O=g?ch(i,c):Su(i,c,!0),_=g;do{if(O===0){Vu&&!g&&Cc(i,c,0,!1);break}else{if(h=i.current.alternate,_&&!Ql(h)){O=Su(i,c,!1),_=!1;continue}if(O===2){if(_=c,i.errorRecoveryDisabledLanes&_)var be=0;else be=i.pendingLanes&-536870913,be=be!==0?be:be&536870912?536870912:0;if(be!==0){c=be;e:{var He=i;O=qe;var pt=He.current.memoizedState.isDehydrated;if(pt&&(kd(He,be).flags|=256),be=Su(He,be,!1),be!==2){if(B&&!pt){He.errorRecoveryDisabledLanes|=_,ne|=_,O=4;break e}_=Ct,Ct=O,_!==null&&(Ct===null?Ct=_:Ct.push.apply(Ct,_))}O=be}if(_=!1,O!==2)continue}}if(O===1){kd(i,0),Cc(i,c,0,!0);break}e:{switch(g=i,_=O,_){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Cc(g,c,Le,!_d);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(O=Wt+300-Ms(),10<O)){if(Cc(g,c,Le,!_d),zs(g,0,!0)!==0)break e;ta=c,g.timeoutHandle=C1(ii.bind(null,g,h,Ct,Zs,Rt,c,Le,ne,Ze,_d,_,"Throttled",-0,0),O);break e}ii(g,h,Ct,Zs,Rt,c,Le,ne,Ze,_d,_,null,-0,0)}}break}while(!0);Wu(i)}function ii(i,c,h,g,O,_,be,He,pt,as,Es,Is,is,ds){if(i.timeoutHandle=-1,Is=c.subtreeFlags,Is&8192||(Is&16785408)===16785408){Is={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:J},ku(c,_,Is);var Qr=(_&62914560)===_?Wt-Ms():(_&4194048)===_?Ns-Ms():0;if(Qr=j4(Is,Qr),Qr!==null){ta=_,i.cancelPendingCommit=Qr(r1.bind(null,i,c,_,h,g,O,be,He,pt,Es,Is,null,is,ds)),Cc(i,_,be,!as);return}}r1(i,c,_,h,g,O,be,He,pt)}function Ql(i){for(var c=i;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var O=h[g],_=O.getSnapshot;O=O.value;try{if(!ar(_(),O))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Cc(i,c,h,g){c&=~we,c&=~ne,i.suspendedLanes|=c,i.pingedLanes&=~c,g&&(i.warmLanes|=c),g=i.expirationTimes;for(var O=c;0<O;){var _=31-Cs(O),be=1<<_;g[_]=-1,O&=~be}h!==0&&fs(i,h,c)}function _l(){return(va&6)===0?(C0(0),!1):!0}function ic(){if(In!==null){if(Ea===0)var i=In.return;else i=In,xc=rl=null,dA(i),Jt=null,Ut=0,i=In;for(;i!==null;)zo(i.alternate,i),i=i.return;In=null}}function kd(i,c){var h=i.timeoutHandle;h!==-1&&(i.timeoutHandle=-1,a4(h)),h=i.cancelPendingCommit,h!==null&&(i.cancelPendingCommit=null,h()),ta=0,ic(),ga=i,In=h=Ml(i.current,null),Hn=c,Ea=0,Pl=null,_d=!1,Vu=mr(i,c),B=!1,Ze=Le=we=ne=U=L=0,Ct=qe=null,Rt=!1,(c&8)!==0&&(c|=c&32);var g=i.entangledLanes;if(g!==0)for(i=i.entanglements,g&=c;0<g;){var O=31-Cs(g),_=1<<O;c|=i[O],g&=~_}return j=c,gc(),h}function Hd(i,c){yn=null,se.H=vA,c===La||c===Ba?(c=lt(),Ea=3):c===bi?(c=lt(),Ea=4):Ea=c===Ie?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Pl=c,In===null&&(L=1,_u(i,Wi(c,i.current)))}function Bu(){var i=Xi.current;return i===null?!0:(Hn&4194048)===Hn?wo===null:(Hn&62914560)===Hn||(Hn&536870912)!==0?i===wo:!1}function Ku(){var i=se.H;return se.H=vA,i===null?vA:i}function Gu(){var i=se.A;return se.A=EA,i}function Bd(){L=4,_d||(Hn&4194048)!==Hn&&Xi.current!==null||(Vu=!0),(U&134217727)===0&&(ne&134217727)===0||ga===null||Cc(ga,Hn,Le,!1)}function Su(i,c,h){var g=va;va|=2;var O=Ku(),_=Gu();(ga!==i||Hn!==c)&&(Zs=null,kd(i,c)),c=!1;var be=L;e:do try{if(Ea!==0&&In!==null){var He=In,pt=Pl;switch(Ea){case 8:ic(),be=6;break e;case 3:case 2:case 9:case 6:Xi.current===null&&(c=!0);var as=Ea;if(Ea=0,Pl=null,Qf(i,He,pt,as),h&&Vu){be=0;break e}break;default:as=Ea,Ea=0,Pl=null,Qf(i,He,pt,as)}}Eu(),be=L;break}catch(Es){Hd(i,Es)}while(!0);return c&&i.shellSuspendCounter++,xc=rl=null,va=g,se.H=O,se.A=_,In===null&&(ga=null,Hn=0,gc()),be}function Eu(){for(;In!==null;)e1(In)}function ch(i,c){var h=va;va|=2;var g=Ku(),O=Gu();ga!==i||Hn!==c?(Zs=null,jr=Ms()+500,kd(i,c)):Vu=mr(i,c);e:do try{if(Ea!==0&&In!==null){c=In;var _=Pl;t:switch(Ea){case 1:Ea=0,Pl=null,Qf(i,c,_,1);break;case 2:case 9:if(C(_)){Ea=0,Pl=null,t1(c);break}c=function(){Ea!==2&&Ea!==9||ga!==i||(Ea=7),Wu(i)},_.then(c,c);break e;case 3:Ea=7;break e;case 4:Ea=5;break e;case 7:C(_)?(Ea=0,Pl=null,t1(c)):(Ea=0,Pl=null,Qf(i,c,_,7));break;case 5:var be=null;switch(In.tag){case 26:be=In.memoizedState;case 5:case 27:var He=In;if(be?Q1(be):He.stateNode.complete){Ea=0,Pl=null;var pt=He.sibling;if(pt!==null)In=pt;else{var as=He.return;as!==null?(In=as,Im(as)):In=null}break t}}Ea=0,Pl=null,Qf(i,c,_,5);break;case 6:Ea=0,Pl=null,Qf(i,c,_,6);break;case 8:ic(),L=6;break e;default:throw Error(n(462))}}tf();break}catch(Es){Hd(i,Es)}while(!0);return xc=rl=null,se.H=g,se.A=O,va=h,In!==null?0:(ga=null,Hn=0,gc(),L)}function tf(){for(;In!==null&&!Ar();)e1(In)}function e1(i){var c=_o(i.alternate,i,j);i.memoizedProps=i.pendingProps,c===null?Im(i):In=c}function t1(i){var c=i,h=c.alternate;switch(c.tag){case 15:case 0:c=Hs(h,c,c.pendingProps,c.type,void 0,Hn);break;case 11:c=Hs(h,c,c.pendingProps,c.type.render,c.ref,Hn);break;case 5:dA(c);default:zo(h,c),c=In=Wl(c,j),c=_o(h,c,j)}i.memoizedProps=i.pendingProps,c===null?Im(i):In=c}function Qf(i,c,h,g){xc=rl=null,dA(c),Jt=null,Ut=0;var O=c.return;try{if(Ue(i,O,c,h,Hn)){L=1,_u(i,Wi(h,i.current)),In=null;return}}catch(_){if(O!==null)throw In=O,_;L=1,_u(i,Wi(h,i.current)),In=null;return}c.flags&32768?(lr||g===1?i=!0:Vu||(Hn&536870912)!==0?i=!1:(_d=i=!0,(g===2||g===9||g===3||g===6)&&(g=Xi.current,g!==null&&g.tag===13&&(g.flags|=16384))),s1(c,i)):Im(c)}function Im(i){var c=i;do{if((c.flags&32768)!==0){s1(c,_d);return}i=c.return;var h=Zi(c.alternate,c,j);if(h!==null){In=h;return}if(c=c.sibling,c!==null){In=c;return}In=c=i}while(c!==null);L===0&&(L=5)}function s1(i,c){do{var h=za(i.alternate,i);if(h!==null){h.flags&=32767,In=h;return}if(h=i.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(i=i.sibling,i!==null)){In=i;return}In=i=h}while(i!==null);L=6,In=null}function r1(i,c,h,g,O,_,be,He,pt){i.cancelPendingCommit=null;do Dm();while(Jr!==0);if((va&6)!==0)throw Error(n(327));if(c!==null){if(c===i.current)throw Error(n(177));if(_=c.lanes|c.childLanes,_|=xo,sr(i,h,_,be,He,pt),i===ga&&(In=ga=null,Hn=0),Ur=c,Fr=i,ta=h,Yn=_,Cn=O,Cr=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Kk(yr,function(){return l1(),null})):(i.callbackNode=null,i.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=se.T,se.T=null,O=de.p,de.p=2,be=va,va|=4;try{lh(i,c,h)}finally{va=be,de.p=O,se.T=g}}Jr=1,n1(),a1(),i1()}}function n1(){if(Jr===1){Jr=0;var i=Fr,c=Ur,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=se.T,se.T=null;var g=de.p;de.p=2;var O=va;va|=4;try{Hu(c,i);var _=Mx,be=Kl(i.containerInfo),He=_.focusedElem,pt=_.selectionRange;if(be!==He&&He&&He.ownerDocument&&lo(He.ownerDocument.documentElement,He)){if(pt!==null&&an(He)){var as=pt.start,Es=pt.end;if(Es===void 0&&(Es=as),"selectionStart"in He)He.selectionStart=as,He.selectionEnd=Math.min(Es,He.value.length);else{var Is=He.ownerDocument||document,is=Is&&Is.defaultView||window;if(is.getSelection){var ds=is.getSelection(),Qr=He.textContent.length,kn=Math.min(pt.start,Qr),Fi=pt.end===void 0?kn:Math.min(pt.end,Qr);!ds.extend&&kn>Fi&&(be=Fi,Fi=kn,kn=be);var $t=Ri(He,kn),Et=Ri(He,Fi);if($t&&Et&&(ds.rangeCount!==1||ds.anchorNode!==$t.node||ds.anchorOffset!==$t.offset||ds.focusNode!==Et.node||ds.focusOffset!==Et.offset)){var rs=Is.createRange();rs.setStart($t.node,$t.offset),ds.removeAllRanges(),kn>Fi?(ds.addRange(rs),ds.extend(Et.node,Et.offset)):(rs.setEnd(Et.node,Et.offset),ds.addRange(rs))}}}}for(Is=[],ds=He;ds=ds.parentNode;)ds.nodeType===1&&Is.push({element:ds,left:ds.scrollLeft,top:ds.scrollTop});for(typeof He.focus=="function"&&He.focus(),He=0;He<Is.length;He++){var Fs=Is[He];Fs.element.scrollLeft=Fs.left,Fs.element.scrollTop=Fs.top}}Ym=!!Fx,Mx=Fx=null}finally{va=O,de.p=g,se.T=h}}i.current=c,Jr=2}}function a1(){if(Jr===2){Jr=0;var i=Fr,c=Ur,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=se.T,se.T=null;var g=de.p;de.p=2;var O=va;va|=4;try{NA(i,c.alternate,c)}finally{va=O,de.p=g,se.T=h}}Jr=3}}function i1(){if(Jr===4||Jr===3){Jr=0,hr();var i=Fr,c=Ur,h=ta,g=Cr;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Jr=5:(Jr=0,Ur=Fr=null,o1(i,i.pendingLanes));var O=i.pendingLanes;if(O===0&&(dr=null),Va(h),c=c.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Ts,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=se.T,O=de.p,de.p=2,se.T=null;try{for(var _=i.onRecoverableError,be=0;be<g.length;be++){var He=g[be];_(He.value,{componentStack:He.stack})}}finally{se.T=c,de.p=O}}(ta&3)!==0&&Dm(),Wu(i),O=i.pendingLanes,(h&261930)!==0&&(O&42)!==0?i===ya?ca++:(ca=0,ya=i):ca=0,C0(0)}}function o1(i,c){(i.pooledCacheLanes&=c)===0&&(c=i.pooledCache,c!=null&&(i.pooledCache=null,vd(c)))}function Dm(){return n1(),a1(),i1(),l1()}function l1(){if(Jr!==5)return!1;var i=Fr,c=Yn;Yn=0;var h=Va(ta),g=se.T,O=de.p;try{de.p=32>h?32:h,se.T=null,h=Cn,Cn=null;var _=Fr,be=ta;if(Jr=0,Ur=Fr=null,ta=0,(va&6)!==0)throw Error(n(331));var He=va;if(va|=4,Rf(_.current),Qd(_,_.current,be,h),va=He,C0(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Ts,_)}catch{}return!0}finally{de.p=O,se.T=g,o1(i,c)}}function c1(i,c,h){c=Wi(h,c),c=D(i.stateNode,c,2),i=cn(i,c,2),i!==null&&(Os(i,2),Wu(i))}function wi(i,c,h){if(i.tag===3)c1(i,i,h);else for(;c!==null;){if(c.tag===3){c1(c,i,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(dr===null||!dr.has(g))){i=Wi(h,i),h=re(2),g=cn(c,h,2),g!==null&&(me(h,g,c,i),Os(g,2),Wu(g));break}}c=c.return}}function jx(i,c,h){var g=i.pingCache;if(g===null){g=i.pingCache=new ef;var O=new Set;g.set(c,O)}else O=g.get(c),O===void 0&&(O=new Set,g.set(c,O));O.has(h)||(B=!0,O.add(h),i=zk.bind(null,i,c,h),c.then(i,i))}function zk(i,c,h){var g=i.pingCache;g!==null&&g.delete(c),i.pingedLanes|=i.suspendedLanes&h,i.warmLanes&=~h,ga===i&&(Hn&h)===h&&(L===4||L===3&&(Hn&62914560)===Hn&&300>Ms()-Wt?(va&2)===0&&kd(i,0):we|=h,Ze===Hn&&(Ze=0)),Wu(i)}function d1(i,c){c===0&&(c=wa()),i=Gl(i,c),i!==null&&(Os(i,c),Wu(i))}function $k(i){var c=i.memoizedState,h=0;c!==null&&(h=c.retryLane),d1(i,h)}function Vk(i,c){var h=0;switch(i.tag){case 31:case 13:var g=i.stateNode,O=i.memoizedState;O!==null&&(h=O.retryLane);break;case 19:g=i.stateNode;break;case 22:g=i.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),d1(i,h)}function Kk(i,c){return vs(i,c)}var Rm=null,_f=null,Nx=!1,Pm=!1,Cx=!1,dh=0;function Wu(i){i!==_f&&i.next===null&&(_f===null?Rm=_f=i:_f=_f.next=i),Pm=!0,Nx||(Nx=!0,Wk())}function C0(i,c){if(!Cx&&Pm){Cx=!0;do for(var h=!1,g=Rm;g!==null;){if(i!==0){var O=g.pendingLanes;if(O===0)var _=0;else{var be=g.suspendedLanes,He=g.pingedLanes;_=(1<<31-Cs(42|i)+1)-1,_&=O&~(be&~He),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(h=!0,f1(g,_))}else _=Hn,_=zs(g,g===ga?_:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(_&3)===0||mr(g,_)||(h=!0,f1(g,_));g=g.next}while(h);Cx=!1}}function Gk(){u1()}function u1(){Pm=Nx=!1;var i=0;dh!==0&&n4()&&(i=dh);for(var c=Ms(),h=null,g=Rm;g!==null;){var O=g.next,_=A1(g,c);_===0?(g.next=null,h===null?Rm=O:h.next=O,O===null&&(_f=h)):(h=g,(i!==0||(_&3)!==0)&&(Pm=!0)),g=O}Jr!==0&&Jr!==5||C0(i),dh!==0&&(dh=0)}function A1(i,c){for(var h=i.suspendedLanes,g=i.pingedLanes,O=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var be=31-Cs(_),He=1<<be,pt=O[be];pt===-1?((He&h)===0||(He&g)!==0)&&(O[be]=en(He,c)):pt<=c&&(i.expiredLanes|=He),_&=~He}if(c=ga,h=Hn,h=zs(i,i===c?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g=i.callbackNode,h===0||i===c&&(Ea===2||Ea===9)||i.cancelPendingCommit!==null)return g!==null&&g!==null&&fr(g),i.callbackNode=null,i.callbackPriority=0;if((h&3)===0||mr(i,h)){if(c=h&-h,c===i.callbackPriority)return c;switch(g!==null&&fr(g),Va(h)){case 2:case 8:h=xr;break;case 32:h=yr;break;case 268435456:h=Nr;break;default:h=yr}return g=h1.bind(null,i),h=vs(h,g),i.callbackPriority=c,i.callbackNode=h,c}return g!==null&&g!==null&&fr(g),i.callbackPriority=2,i.callbackNode=null,2}function h1(i,c){if(Jr!==0&&Jr!==5)return i.callbackNode=null,i.callbackPriority=0,null;var h=i.callbackNode;if(Dm()&&i.callbackNode!==h)return null;var g=Hn;return g=zs(i,i===ga?g:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),g===0?null:(Hc(i,g,c),A1(i,Ms()),i.callbackNode!=null&&i.callbackNode===h?h1.bind(null,i):null)}function f1(i,c){if(Dm())return null;Hc(i,c,!0)}function Wk(){i4(function(){(va&6)!==0?vs(Us,Gk):u1()})}function kx(){if(dh===0){var i=nt;i===0&&(i=es,es<<=1,(es&261888)===0&&(es=256)),dh=i}return dh}function m1(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:K(""+i)}function p1(i,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,i.id&&h.setAttribute("form",i.id),c.parentNode.insertBefore(h,c),i=new FormData(i),h.parentNode.removeChild(h),i}function Yk(i,c,h,g,O){if(c==="submit"&&h&&h.stateNode===O){var _=m1((O[fa]||null).action),be=g.submitter;be&&(c=(c=be[fa]||null)?m1(c.formAction):be.getAttribute("formAction"),c!==null&&(_=c,be=null));var He=new xe("action","action",null,g,O);i.push({event:He,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(dh!==0){var pt=be?p1(O,be):new FormData(O);bA(h,{pending:!0,data:pt,method:O.method,action:_},null,pt)}}else typeof _=="function"&&(He.preventDefault(),pt=be?p1(O,be):new FormData(O),bA(h,{pending:!0,data:pt,method:O.method,action:_},_,pt))},currentTarget:O}]})}}for(var Bx=0;Bx<pc.length;Bx++){var Sx=pc[Bx],Xk=Sx.toLowerCase(),Jk=Sx[0].toUpperCase()+Sx.slice(1);tl(Xk,"on"+Jk)}tl(Ll,"onAnimationEnd"),tl(Fo,"onAnimationIteration"),tl(fl,"onAnimationStart"),tl("dblclick","onDoubleClick"),tl("focusin","onFocus"),tl("focusout","onBlur"),tl(Yc,"onTransitionRun"),tl(ml,"onTransitionStart"),tl(Mo,"onTransitionCancel"),tl(Uc,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var k0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(k0));function g1(i,c){c=(c&4)!==0;for(var h=0;h<i.length;h++){var g=i[h],O=g.event;g=g.listeners;e:{var _=void 0;if(c)for(var be=g.length-1;0<=be;be--){var He=g[be],pt=He.instance,as=He.currentTarget;if(He=He.listener,pt!==_&&O.isPropagationStopped())break e;_=He,O.currentTarget=as;try{_(O)}catch(Es){Lc(Es)}O.currentTarget=null,_=pt}else for(be=0;be<g.length;be++){if(He=g[be],pt=He.instance,as=He.currentTarget,He=He.listener,pt!==_&&O.isPropagationStopped())break e;_=He,O.currentTarget=as;try{_(O)}catch(Es){Lc(Es)}O.currentTarget=null,_=pt}}}}function Ca(i,c){var h=c[Ii];h===void 0&&(h=c[Ii]=new Set);var g=i+"__bubble";h.has(g)||(x1(c,i,2,!1),h.add(g))}function Ex(i,c,h){var g=0;c&&(g|=4),x1(h,i,g,c)}var Qm="_reactListening"+Math.random().toString(36).slice(2);function Tx(i){if(!i[Qm]){i[Qm]=!0,qn.forEach(function(h){h!=="selectionchange"&&(Zk.has(h)||Ex(h,!1,i),Ex(h,!0,i))});var c=i.nodeType===9?i:i.ownerDocument;c===null||c[Qm]||(c[Qm]=!0,Ex("selectionchange",!1,c))}}function x1(i,c,h,g){switch(G1(c)){case 2:var O=k4;break;case 8:O=B4;break;default:O=Vx}h=O.bind(null,c,h,i),O=void 0,!S||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(O=!0),g?O!==void 0?i.addEventListener(c,h,{capture:!0,passive:O}):i.addEventListener(c,h,!0):O!==void 0?i.addEventListener(c,h,{passive:O}):i.addEventListener(c,h,!1)}function Ux(i,c,h,g,O){var _=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var be=g.tag;if(be===3||be===4){var He=g.stateNode.containerInfo;if(He===O)break;if(be===4)for(be=g.return;be!==null;){var pt=be.tag;if((pt===3||pt===4)&&be.stateNode.containerInfo===O)return;be=be.return}for(;He!==null;){if(be=ho(He),be===null)return;if(pt=be.tag,pt===5||pt===6||pt===26||pt===27){g=_=be;continue e}He=He.parentNode}}g=g.return}Je(function(){var as=_,Es=M(h),Is=[];e:{var is=Xc.get(i);if(is!==void 0){var ds=xe,Qr=i;switch(i){case"keypress":if(ee(h)===0)break e;case"keydown":case"keyup":ds=Qs;break;case"focusin":Qr="focus",ds=zt;break;case"focusout":Qr="blur",ds=zt;break;case"beforeblur":case"afterblur":ds=zt;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ds=gt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ds=Ot;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ds=It;break;case Ll:case Fo:case fl:ds=ss;break;case Uc:ds=Xt;break;case"scroll":case"scrollend":ds=it;break;case"wheel":ds=gs;break;case"copy":case"cut":case"paste":ds=st;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ds=dt;break;case"toggle":case"beforetoggle":ds=Js}var kn=(c&4)!==0,Fi=!kn&&(i==="scroll"||i==="scrollend"),$t=kn?is!==null?is+"Capture":null:is;kn=[];for(var Et=as,rs;Et!==null;){var Fs=Et;if(rs=Fs.stateNode,Fs=Fs.tag,Fs!==5&&Fs!==26&&Fs!==27||rs===null||$t===null||(Fs=N(Et,$t),Fs!=null&&kn.push(B0(Et,Fs,rs))),Fi)break;Et=Et.return}0<kn.length&&(is=new ds(is,Qr,null,h,Es),Is.push({event:is,listeners:kn}))}}if((c&7)===0){e:{if(is=i==="mouseover"||i==="pointerover",ds=i==="mouseout"||i==="pointerout",is&&h!==T&&(Qr=h.relatedTarget||h.fromElement)&&(ho(Qr)||Qr[Zn]))break e;if((ds||is)&&(is=Es.window===Es?Es:(is=Es.ownerDocument)?is.defaultView||is.parentWindow:window,ds?(Qr=h.relatedTarget||h.toElement,ds=as,Qr=Qr?ho(Qr):null,Qr!==null&&(Fi=l(Qr),kn=Qr.tag,Qr!==Fi||kn!==5&&kn!==27&&kn!==6)&&(Qr=null)):(ds=null,Qr=as),ds!==Qr)){if(kn=gt,Fs="onMouseLeave",$t="onMouseEnter",Et="mouse",(i==="pointerout"||i==="pointerover")&&(kn=dt,Fs="onPointerLeave",$t="onPointerEnter",Et="pointer"),Fi=ds==null?is:Ni(ds),rs=Qr==null?is:Ni(Qr),is=new kn(Fs,Et+"leave",ds,h,Es),is.target=Fi,is.relatedTarget=rs,Fs=null,ho(Es)===as&&(kn=new kn($t,Et+"enter",Qr,h,Es),kn.target=rs,kn.relatedTarget=Fi,Fs=kn),Fi=Fs,ds&&Qr)t:{for(kn=qk,$t=ds,Et=Qr,rs=0,Fs=$t;Fs;Fs=kn(Fs))rs++;Fs=0;for(var xn=Et;xn;xn=kn(xn))Fs++;for(;0<rs-Fs;)$t=kn($t),rs--;for(;0<Fs-rs;)Et=kn(Et),Fs--;for(;rs--;){if($t===Et||Et!==null&&$t===Et.alternate){kn=$t;break t}$t=kn($t),Et=kn(Et)}kn=null}else kn=null;ds!==null&&b1(Is,is,ds,kn,!1),Qr!==null&&Fi!==null&&b1(Is,Fi,Qr,kn,!0)}}e:{if(is=as?Ni(as):window,ds=is.nodeName&&is.nodeName.toLowerCase(),ds==="select"||ds==="input"&&is.type==="file")var qa=Ir;else if(Sn(is))if(vn)qa=Na;else{qa=mn;var Zr=Qa}else ds=is.nodeName,!ds||ds.toLowerCase()!=="input"||is.type!=="checkbox"&&is.type!=="radio"?as&&oo(as.elementType)&&(qa=Ir):qa=_r;if(qa&&(qa=qa(i,as))){kr(Is,qa,h,Es);break e}Zr&&Zr(i,is,as),i==="focusout"&&as&&is.type==="number"&&as.memoizedProps.value!=null&&Da(is,"number",is.value)}switch(Zr=as?Ni(as):window,i){case"focusin":(Sn(Zr)||Zr.contentEditable==="true")&&(pi=Zr,el=as,Lo=null);break;case"focusout":Lo=el=pi=null;break;case"mousedown":Ra=!0;break;case"contextmenu":case"mouseup":case"dragend":Ra=!1,gi(Is,h,Es);break;case"selectionchange":if(li)break;case"keydown":case"keyup":gi(Is,h,Es)}var oa;if(gr)e:{switch(i){case"compositionstart":var Ta="onCompositionStart";break e;case"compositionend":Ta="onCompositionEnd";break e;case"compositionupdate":Ta="onCompositionUpdate";break e}Ta=void 0}else vr?_s(i,h)&&(Ta="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(Ta="onCompositionStart");Ta&&(or&&h.locale!=="ko"&&(vr||Ta!=="onCompositionStart"?Ta==="onCompositionEnd"&&vr&&(oa=q()):(P=Es,V="value"in P?P.value:P.textContent,vr=!0)),Zr=_m(as,Ta),0<Zr.length&&(Ta=new vt(Ta,i,null,h,Es),Is.push({event:Ta,listeners:Zr}),oa?Ta.data=oa:(oa=tn(h),oa!==null&&(Ta.data=oa)))),(oa=et?$r(i,h):Or(i,h))&&(Ta=_m(as,"onBeforeInput"),0<Ta.length&&(Zr=new vt("onBeforeInput","beforeinput",null,h,Es),Is.push({event:Zr,listeners:Ta}),Zr.data=oa)),Yk(Is,i,as,h,Es)}g1(Is,c)})}function B0(i,c,h){return{instance:i,listener:c,currentTarget:h}}function _m(i,c){for(var h=c+"Capture",g=[];i!==null;){var O=i,_=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||_===null||(O=N(i,h),O!=null&&g.unshift(B0(i,O,_)),O=N(i,c),O!=null&&g.push(B0(i,O,_))),i.tag===3)return g;i=i.return}return[]}function qk(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function b1(i,c,h,g,O){for(var _=c._reactName,be=[];h!==null&&h!==g;){var He=h,pt=He.alternate,as=He.stateNode;if(He=He.tag,pt!==null&&pt===g)break;He!==5&&He!==26&&He!==27||as===null||(pt=as,O?(as=N(h,_),as!=null&&be.unshift(B0(h,as,pt))):O||(as=N(h,_),as!=null&&be.push(B0(h,as,pt)))),h=h.return}be.length!==0&&i.push({event:c,listeners:be})}var e4=/\r\n?/g,t4=/\u0000|\uFFFD/g;function v1(i){return(typeof i=="string"?i:""+i).replace(e4,`
`).replace(t4,"")}function y1(i,c){return c=v1(c),v1(i)===c}function Li(i,c,h,g,O,_){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||ba(i,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&ba(i,""+g);break;case"className":mo(i,"class",g);break;case"tabIndex":mo(i,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":mo(i,h,g);break;case"style":Si(i,g,_);break;case"data":if(c!=="object"){mo(i,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){i.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(h);break}g=K(""+g),i.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){i.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(h==="formAction"?(c!=="input"&&Li(i,c,"name",O.name,O,null),Li(i,c,"formEncType",O.formEncType,O,null),Li(i,c,"formMethod",O.formMethod,O,null),Li(i,c,"formTarget",O.formTarget,O,null)):(Li(i,c,"encType",O.encType,O,null),Li(i,c,"method",O.method,O,null),Li(i,c,"target",O.target,O,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){i.removeAttribute(h);break}g=K(""+g),i.setAttribute(h,g);break;case"onClick":g!=null&&(i.onclick=J);break;case"onScroll":g!=null&&Ca("scroll",i);break;case"onScrollEnd":g!=null&&Ca("scrollend",i);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(n(60));i.innerHTML=h}}break;case"multiple":i.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":i.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){i.removeAttribute("xlink:href");break}h=K(""+g),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(h,""+g):i.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(h,""):i.removeAttribute(h);break;case"capture":case"download":g===!0?i.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?i.setAttribute(h,g):i.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?i.setAttribute(h,g):i.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?i.removeAttribute(h):i.setAttribute(h,g);break;case"popover":Ca("beforetoggle",i),Ca("toggle",i),ja(i,"popover",g);break;case"xlinkActuate":ti(i,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":ti(i,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":ti(i,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":ti(i,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":ti(i,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":ti(i,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":ti(i,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":ti(i,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":ti(i,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":ja(i,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=Tt.get(h)||h,ja(i,h,g))}}function Lx(i,c,h,g,O,_){switch(h){case"style":Si(i,g,_);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(O.children!=null)throw Error(n(60));i.innerHTML=h}}break;case"children":typeof g=="string"?ba(i,g):(typeof g=="number"||typeof g=="bigint")&&ba(i,""+g);break;case"onScroll":g!=null&&Ca("scroll",i);break;case"onScrollEnd":g!=null&&Ca("scrollend",i);break;case"onClick":g!=null&&(i.onclick=J);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fo.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(O=h.endsWith("Capture"),c=h.slice(2,O?h.length-7:void 0),_=i[fa]||null,_=_!=null?_[h]:null,typeof _=="function"&&i.removeEventListener(c,_,O),typeof g=="function")){typeof _!="function"&&_!==null&&(h in i?i[h]=null:i.hasAttribute(h)&&i.removeAttribute(h)),i.addEventListener(c,g,O);break e}h in i?i[h]=g:g===!0?i.setAttribute(h,""):ja(i,h,g)}}}function kc(i,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ca("error",i),Ca("load",i);var g=!1,O=!1,_;for(_ in h)if(h.hasOwnProperty(_)){var be=h[_];if(be!=null)switch(_){case"src":g=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Li(i,c,_,be,h,null)}}O&&Li(i,c,"srcSet",h.srcSet,h,null),g&&Li(i,c,"src",h.src,h,null);return;case"input":Ca("invalid",i);var He=_=be=O=null,pt=null,as=null;for(g in h)if(h.hasOwnProperty(g)){var Es=h[g];if(Es!=null)switch(g){case"name":O=Es;break;case"type":be=Es;break;case"checked":pt=Es;break;case"defaultChecked":as=Es;break;case"value":_=Es;break;case"defaultValue":He=Es;break;case"children":case"dangerouslySetInnerHTML":if(Es!=null)throw Error(n(137,c));break;default:Li(i,c,g,Es,h,null)}}Ga(i,_,He,pt,as,be,O,!1);return;case"select":Ca("invalid",i),g=be=_=null;for(O in h)if(h.hasOwnProperty(O)&&(He=h[O],He!=null))switch(O){case"value":_=He;break;case"defaultValue":be=He;break;case"multiple":g=He;default:Li(i,c,O,He,h,null)}c=_,h=be,i.multiple=!!g,c!=null?fi(i,!!g,c,!1):h!=null&&fi(i,!!g,h,!0);return;case"textarea":Ca("invalid",i),_=O=g=null;for(be in h)if(h.hasOwnProperty(be)&&(He=h[be],He!=null))switch(be){case"value":g=He;break;case"defaultValue":O=He;break;case"children":_=He;break;case"dangerouslySetInnerHTML":if(He!=null)throw Error(n(91));break;default:Li(i,c,be,He,h,null)}Bi(i,g,O,_);return;case"option":for(pt in h)if(h.hasOwnProperty(pt)&&(g=h[pt],g!=null))switch(pt){case"selected":i.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Li(i,c,pt,g,h,null)}return;case"dialog":Ca("beforetoggle",i),Ca("toggle",i),Ca("cancel",i),Ca("close",i);break;case"iframe":case"object":Ca("load",i);break;case"video":case"audio":for(g=0;g<k0.length;g++)Ca(k0[g],i);break;case"image":Ca("error",i),Ca("load",i);break;case"details":Ca("toggle",i);break;case"embed":case"source":case"link":Ca("error",i),Ca("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(as in h)if(h.hasOwnProperty(as)&&(g=h[as],g!=null))switch(as){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Li(i,c,as,g,h,null)}return;default:if(oo(c)){for(Es in h)h.hasOwnProperty(Es)&&(g=h[Es],g!==void 0&&Lx(i,c,Es,g,h,void 0));return}}for(He in h)h.hasOwnProperty(He)&&(g=h[He],g!=null&&Li(i,c,He,g,h,null))}function s4(i,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,_=null,be=null,He=null,pt=null,as=null,Es=null;for(ds in h){var Is=h[ds];if(h.hasOwnProperty(ds)&&Is!=null)switch(ds){case"checked":break;case"value":break;case"defaultValue":pt=Is;default:g.hasOwnProperty(ds)||Li(i,c,ds,null,g,Is)}}for(var is in g){var ds=g[is];if(Is=h[is],g.hasOwnProperty(is)&&(ds!=null||Is!=null))switch(is){case"type":_=ds;break;case"name":O=ds;break;case"checked":as=ds;break;case"defaultChecked":Es=ds;break;case"value":be=ds;break;case"defaultValue":He=ds;break;case"children":case"dangerouslySetInnerHTML":if(ds!=null)throw Error(n(137,c));break;default:ds!==Is&&Li(i,c,is,ds,g,Is)}}Ki(i,be,He,pt,as,Es,_,O);return;case"select":ds=be=He=is=null;for(_ in h)if(pt=h[_],h.hasOwnProperty(_)&&pt!=null)switch(_){case"value":break;case"multiple":ds=pt;default:g.hasOwnProperty(_)||Li(i,c,_,null,g,pt)}for(O in g)if(_=g[O],pt=h[O],g.hasOwnProperty(O)&&(_!=null||pt!=null))switch(O){case"value":is=_;break;case"defaultValue":He=_;break;case"multiple":be=_;default:_!==pt&&Li(i,c,O,_,g,pt)}c=He,h=be,g=ds,is!=null?fi(i,!!h,is,!1):!!g!=!!h&&(c!=null?fi(i,!!h,c,!0):fi(i,!!h,h?[]:"",!1));return;case"textarea":ds=is=null;for(He in h)if(O=h[He],h.hasOwnProperty(He)&&O!=null&&!g.hasOwnProperty(He))switch(He){case"value":break;case"children":break;default:Li(i,c,He,null,g,O)}for(be in g)if(O=g[be],_=h[be],g.hasOwnProperty(be)&&(O!=null||_!=null))switch(be){case"value":is=O;break;case"defaultValue":ds=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(n(91));break;default:O!==_&&Li(i,c,be,O,g,_)}Uo(i,is,ds);return;case"option":for(var Qr in h)if(is=h[Qr],h.hasOwnProperty(Qr)&&is!=null&&!g.hasOwnProperty(Qr))switch(Qr){case"selected":i.selected=!1;break;default:Li(i,c,Qr,null,g,is)}for(pt in g)if(is=g[pt],ds=h[pt],g.hasOwnProperty(pt)&&is!==ds&&(is!=null||ds!=null))switch(pt){case"selected":i.selected=is&&typeof is!="function"&&typeof is!="symbol";break;default:Li(i,c,pt,is,g,ds)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kn in h)is=h[kn],h.hasOwnProperty(kn)&&is!=null&&!g.hasOwnProperty(kn)&&Li(i,c,kn,null,g,is);for(as in g)if(is=g[as],ds=h[as],g.hasOwnProperty(as)&&is!==ds&&(is!=null||ds!=null))switch(as){case"children":case"dangerouslySetInnerHTML":if(is!=null)throw Error(n(137,c));break;default:Li(i,c,as,is,g,ds)}return;default:if(oo(c)){for(var Fi in h)is=h[Fi],h.hasOwnProperty(Fi)&&is!==void 0&&!g.hasOwnProperty(Fi)&&Lx(i,c,Fi,void 0,g,is);for(Es in g)is=g[Es],ds=h[Es],!g.hasOwnProperty(Es)||is===ds||is===void 0&&ds===void 0||Lx(i,c,Es,is,g,ds);return}}for(var $t in h)is=h[$t],h.hasOwnProperty($t)&&is!=null&&!g.hasOwnProperty($t)&&Li(i,c,$t,null,g,is);for(Is in g)is=g[Is],ds=h[Is],!g.hasOwnProperty(Is)||is===ds||is==null&&ds==null||Li(i,c,Is,is,g,ds)}function w1(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function r4(){if(typeof performance.getEntriesByType=="function"){for(var i=0,c=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var O=h[g],_=O.transferSize,be=O.initiatorType,He=O.duration;if(_&&He&&w1(be)){for(be=0,He=O.responseEnd,g+=1;g<h.length;g++){var pt=h[g],as=pt.startTime;if(as>He)break;var Es=pt.transferSize,Is=pt.initiatorType;Es&&w1(Is)&&(pt=pt.responseEnd,be+=Es*(pt<He?1:(He-as)/(pt-as)))}if(--g,c+=8*(_+be)/(O.duration/1e3),i++,10<i)break}}if(0<i)return c/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Fx=null,Mx=null;function Hm(i){return i.nodeType===9?i:i.ownerDocument}function j1(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N1(i,c){if(i===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&c==="foreignObject"?0:i}function Ox(i,c){return i==="textarea"||i==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Ix=null;function n4(){var i=window.event;return i&&i.type==="popstate"?i===Ix?!1:(Ix=i,!0):(Ix=null,!1)}var C1=typeof setTimeout=="function"?setTimeout:void 0,a4=typeof clearTimeout=="function"?clearTimeout:void 0,k1=typeof Promise=="function"?Promise:void 0,i4=typeof queueMicrotask=="function"?queueMicrotask:typeof k1<"u"?function(i){return k1.resolve(null).then(i).catch(o4)}:C1;function o4(i){setTimeout(function(){throw i})}function uh(i){return i==="head"}function B1(i,c){var h=c,g=0;do{var O=h.nextSibling;if(i.removeChild(h),O&&O.nodeType===8)if(h=O.data,h==="/$"||h==="/&"){if(g===0){i.removeChild(O),Vf(c);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")S0(i.ownerDocument.documentElement);else if(h==="head"){h=i.ownerDocument.head,S0(h);for(var _=h.firstChild;_;){var be=_.nextSibling,He=_.nodeName;_[To]||He==="SCRIPT"||He==="STYLE"||He==="LINK"&&_.rel.toLowerCase()==="stylesheet"||h.removeChild(_),_=be}}else h==="body"&&S0(i.ownerDocument.body);h=O}while(h);Vf(c)}function S1(i,c){var h=i;i=0;do{var g=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(i===0)break;i--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||i++;h=g}while(h)}function Dx(i){var c=i.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Dx(h),Vl(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}i.removeChild(h)}}function l4(i,c,h,g){for(;i.nodeType===1;){var O=h;if(i.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(g){if(!i[To])switch(c){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==O.rel||i.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||i.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||i.getAttribute("title")!==(O.title==null?null:O.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(O.src==null?null:O.src)||i.getAttribute("type")!==(O.type==null?null:O.type)||i.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(c==="input"&&i.type==="hidden"){var _=O.name==null?null:""+O.name;if(O.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=au(i.nextSibling),i===null)break}return null}function c4(i,c,h){if(c==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!h||(i=au(i.nextSibling),i===null))return null;return i}function E1(i,c){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=au(i.nextSibling),i===null))return null;return i}function Rx(i){return i.data==="$?"||i.data==="$~"}function Px(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function d4(i,c){var h=i.ownerDocument;if(i.data==="$~")i._reactRetry=c;else if(i.data!=="$?"||h.readyState!=="loading")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),i._reactRetry=g}}function au(i){for(;i!=null;i=i.nextSibling){var c=i.nodeType;if(c===1||c===3)break;if(c===8){if(c=i.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return i}var Qx=null;function T1(i){i=i.nextSibling;for(var c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"||h==="/&"){if(c===0)return au(i.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}i=i.nextSibling}return null}function U1(i){i=i.previousSibling;for(var c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return i;c--}else h!=="/$"&&h!=="/&"||c++}i=i.previousSibling}return null}function L1(i,c,h){switch(c=Hm(h),i){case"html":if(i=c.documentElement,!i)throw Error(n(452));return i;case"head":if(i=c.head,!i)throw Error(n(453));return i;case"body":if(i=c.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function S0(i){for(var c=i.attributes;c.length;)i.removeAttributeNode(c[0]);Vl(i)}var iu=new Map,F1=new Set;function zm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var TA=de.d;de.d={f:u4,r:A4,D:h4,C:f4,L:m4,m:p4,X:x4,S:g4,M:b4};function u4(){var i=TA.f(),c=_l();return i||c}function A4(i){var c=ma(i);c!==null&&c.tag===5&&c.type==="form"?Nc(c):TA.r(i)}var Hf=typeof document>"u"?null:document;function M1(i,c,h){var g=Hf;if(g&&typeof c=="string"&&c){var O=Gn(c);O='link[rel="'+i+'"][href="'+O+'"]',typeof h=="string"&&(O+='[crossorigin="'+h+'"]'),F1.has(O)||(F1.add(O),i={rel:i,crossOrigin:h,href:c},g.querySelector(O)===null&&(c=g.createElement("link"),kc(c,"link",i),Ua(c),g.head.appendChild(c)))}}function h4(i){TA.D(i),M1("dns-prefetch",i,null)}function f4(i,c){TA.C(i,c),M1("preconnect",i,c)}function m4(i,c,h){TA.L(i,c,h);var g=Hf;if(g&&i&&c){var O='link[rel="preload"][as="'+Gn(c)+'"]';c==="image"&&h&&h.imageSrcSet?(O+='[imagesrcset="'+Gn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(O+='[imagesizes="'+Gn(h.imageSizes)+'"]')):O+='[href="'+Gn(i)+'"]';var _=O;switch(c){case"style":_=zf(i);break;case"script":_=$f(i)}iu.has(_)||(i=m({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:i,as:c},h),iu.set(_,i),g.querySelector(O)!==null||c==="style"&&g.querySelector(E0(_))||c==="script"&&g.querySelector(T0(_))||(c=g.createElement("link"),kc(c,"link",i),Ua(c),g.head.appendChild(c)))}}function p4(i,c){TA.m(i,c);var h=Hf;if(h&&i){var g=c&&typeof c.as=="string"?c.as:"script",O='link[rel="modulepreload"][as="'+Gn(g)+'"][href="'+Gn(i)+'"]',_=O;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=$f(i)}if(!iu.has(_)&&(i=m({rel:"modulepreload",href:i},c),iu.set(_,i),h.querySelector(O)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(T0(_)))return}g=h.createElement("link"),kc(g,"link",i),Ua(g),h.head.appendChild(g)}}}function g4(i,c,h){TA.S(i,c,h);var g=Hf;if(g&&i){var O=sa(g).hoistableStyles,_=zf(i);c=c||"default";var be=O.get(_);if(!be){var He={loading:0,preload:null};if(be=g.querySelector(E0(_)))He.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":c},h),(h=iu.get(_))&&_x(i,h);var pt=be=g.createElement("link");Ua(pt),kc(pt,"link",i),pt._p=new Promise(function(as,Es){pt.onload=as,pt.onerror=Es}),pt.addEventListener("load",function(){He.loading|=1}),pt.addEventListener("error",function(){He.loading|=2}),He.loading|=4,$m(be,c,g)}be={type:"stylesheet",instance:be,count:1,state:He},O.set(_,be)}}}function x4(i,c){TA.X(i,c);var h=Hf;if(h&&i){var g=sa(h).hoistableScripts,O=$f(i),_=g.get(O);_||(_=h.querySelector(T0(O)),_||(i=m({src:i,async:!0},c),(c=iu.get(O))&&Hx(i,c),_=h.createElement("script"),Ua(_),kc(_,"link",i),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(O,_))}}function b4(i,c){TA.M(i,c);var h=Hf;if(h&&i){var g=sa(h).hoistableScripts,O=$f(i),_=g.get(O);_||(_=h.querySelector(T0(O)),_||(i=m({src:i,async:!0,type:"module"},c),(c=iu.get(O))&&Hx(i,c),_=h.createElement("script"),Ua(_),kc(_,"link",i),h.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},g.set(O,_))}}function O1(i,c,h,g){var O=(O=ge.current)?zm(O):null;if(!O)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=zf(h.href),h=sa(O).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){i=zf(h.href);var _=sa(O).hoistableStyles,be=_.get(i);if(be||(O=O.ownerDocument||O,be={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,be),(_=O.querySelector(E0(i)))&&!_._p&&(be.instance=_,be.state.loading=5),iu.has(i)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},iu.set(i,h),_||v4(O,i,h,be.state))),c&&g===null)throw Error(n(528,""));return be}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=$f(h),h=sa(O).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function zf(i){return'href="'+Gn(i)+'"'}function E0(i){return'link[rel="stylesheet"]['+i+"]"}function I1(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function v4(i,c,h,g){i.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=i.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),kc(c,"link",h),Ua(c),i.head.appendChild(c))}function $f(i){return'[src="'+Gn(i)+'"]'}function T0(i){return"script[async]"+i}function D1(i,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=i.querySelector('style[data-href~="'+Gn(h.href)+'"]');if(g)return c.instance=g,Ua(g),g;var O=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(i.ownerDocument||i).createElement("style"),Ua(g),kc(g,"style",O),$m(g,h.precedence,i),c.instance=g;case"stylesheet":O=zf(h.href);var _=i.querySelector(E0(O));if(_)return c.state.loading|=4,c.instance=_,Ua(_),_;g=I1(h),(O=iu.get(O))&&_x(g,O),_=(i.ownerDocument||i).createElement("link"),Ua(_);var be=_;return be._p=new Promise(function(He,pt){be.onload=He,be.onerror=pt}),kc(_,"link",g),c.state.loading|=4,$m(_,h.precedence,i),c.instance=_;case"script":return _=$f(h.src),(O=i.querySelector(T0(_)))?(c.instance=O,Ua(O),O):(g=h,(O=iu.get(_))&&(g=m({},h),Hx(g,O)),i=i.ownerDocument||i,O=i.createElement("script"),Ua(O),kc(O,"link",g),i.head.appendChild(O),c.instance=O);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,$m(g,h.precedence,i));return c.instance}function $m(i,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=g.length?g[g.length-1]:null,_=O,be=0;be<g.length;be++){var He=g[be];if(He.dataset.precedence===c)_=He;else if(_!==O)break}_?_.parentNode.insertBefore(i,_.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(i,c.firstChild))}function _x(i,c){i.crossOrigin==null&&(i.crossOrigin=c.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=c.referrerPolicy),i.title==null&&(i.title=c.title)}function Hx(i,c){i.crossOrigin==null&&(i.crossOrigin=c.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=c.referrerPolicy),i.integrity==null&&(i.integrity=c.integrity)}var Vm=null;function R1(i,c,h){if(Vm===null){var g=new Map,O=Vm=new Map;O.set(h,g)}else O=Vm,g=O.get(h),g||(g=new Map,O.set(h,g));if(g.has(i))return g;for(g.set(i,null),h=h.getElementsByTagName(i),O=0;O<h.length;O++){var _=h[O];if(!(_[To]||_[ln]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var be=_.getAttribute(c)||"";be=i+be;var He=g.get(be);He?He.push(_):g.set(be,[_])}}return g}function P1(i,c,h){i=i.ownerDocument||i,i.head.insertBefore(h,c==="title"?i.querySelector("head > title"):null)}function y4(i,c,h){if(h===1||c.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return i=c.disabled,typeof c.precedence=="string"&&i==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Q1(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function w4(i,c,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var O=zf(g.href),_=c.querySelector(E0(O));if(_){c=_._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(i.count++,i=Km.bind(i),c.then(i,i)),h.state.loading|=4,h.instance=_,Ua(_);return}_=c.ownerDocument||c,g=I1(g),(O=iu.get(O))&&_x(g,O),_=_.createElement("link"),Ua(_);var be=_;be._p=new Promise(function(He,pt){be.onload=He,be.onerror=pt}),kc(_,"link",g),h.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(i.count++,h=Km.bind(i),c.addEventListener("load",h),c.addEventListener("error",h))}}var zx=0;function j4(i,c){return i.stylesheets&&i.count===0&&Wm(i,i.stylesheets),0<i.count||0<i.imgCount?function(h){var g=setTimeout(function(){if(i.stylesheets&&Wm(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+c);0<i.imgBytes&&zx===0&&(zx=62500*r4());var O=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Wm(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>zx?50:800)+c);return i.unsuspend=h,function(){i.unsuspend=null,clearTimeout(g),clearTimeout(O)}}:null}function Km(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wm(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gm=null;function Wm(i,c){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gm=new Map,c.forEach(N4,i),Gm=null,Km.call(i))}function N4(i,c){if(!(c.state.loading&4)){var h=Gm.get(i);if(h)var g=h.get(null);else{h=new Map,Gm.set(i,h);for(var O=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<O.length;_++){var be=O[_];(be.nodeName==="LINK"||be.getAttribute("media")!=="not all")&&(h.set(be.dataset.precedence,be),g=be)}g&&h.set(null,g)}O=c.instance,be=O.getAttribute("data-precedence"),_=h.get(be)||g,_===g&&h.set(null,O),h.set(be,O),this.count++,g=Km.bind(this),O.addEventListener("load",g),O.addEventListener("error",g),_?_.parentNode.insertBefore(O,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(O,i.firstChild)),c.state.loading|=4}}var U0={$$typeof:z,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function C4(i,c,h,g,O,_,be,He,pt){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ss(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ss(0),this.hiddenUpdates=Ss(null),this.identifierPrefix=g,this.onUncaughtError=O,this.onCaughtError=_,this.onRecoverableError=be,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pt,this.incompleteTransitions=new Map}function _1(i,c,h,g,O,_,be,He,pt,as,Es,Is){return i=new C4(i,c,h,be,pt,as,Es,Is,He),c=1,_===!0&&(c|=24),_=Io(3,null,null,c),i.current=_,_.stateNode=i,c=sd(),c.refCount++,i.pooledCache=c,c.refCount++,_.memoizedState={element:g,isDehydrated:h,cache:c},Fa(_),i}function H1(i){return i?(i=bo,i):bo}function z1(i,c,h,g,O,_){O=H1(O),g.context===null?g.context=O:g.pendingContext=O,g=Kr(c),g.payload={element:h},_=_===void 0?null:_,_!==null&&(g.callback=_),h=cn(i,g,c),h!==null&&(yi(h,i,c),Tn(h,i,c))}function $1(i,c){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<c?h:c}}function $x(i,c){$1(i,c),(i=i.alternate)&&$1(i,c)}function V1(i){if(i.tag===13||i.tag===31){var c=Gl(i,67108864);c!==null&&yi(c,i,67108864),$x(i,67108864)}}function K1(i){if(i.tag===13||i.tag===31){var c=sn();c=ur(c);var h=Gl(i,c);h!==null&&yi(h,i,c),$x(i,c)}}var Ym=!0;function k4(i,c,h,g){var O=se.T;se.T=null;var _=de.p;try{de.p=2,Vx(i,c,h,g)}finally{de.p=_,se.T=O}}function B4(i,c,h,g){var O=se.T;se.T=null;var _=de.p;try{de.p=8,Vx(i,c,h,g)}finally{de.p=_,se.T=O}}function Vx(i,c,h,g){if(Ym){var O=Kx(g);if(O===null)Ux(i,c,g,Xm,h),W1(i,g);else if(E4(O,i,c,h,g))g.stopPropagation();else if(W1(i,g),c&4&&-1<S4.indexOf(i)){for(;O!==null;){var _=ma(O);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var be=Ks(_.pendingLanes);if(be!==0){var He=_;for(He.pendingLanes|=2,He.entangledLanes|=2;be;){var pt=1<<31-Cs(be);He.entanglements[1]|=pt,be&=~pt}Wu(_),(va&6)===0&&(jr=Ms()+500,C0(0))}}break;case 31:case 13:He=Gl(_,2),He!==null&&yi(He,_,2),_l(),$x(_,2)}if(_=Kx(g),_===null&&Ux(i,c,g,Xm,h),_===O)break;O=_}O!==null&&g.stopPropagation()}else Ux(i,c,g,null,h)}}function Kx(i){return i=M(i),Gx(i)}var Xm=null;function Gx(i){if(Xm=null,i=ho(i),i!==null){var c=l(i);if(c===null)i=null;else{var h=c.tag;if(h===13){if(i=u(c),i!==null)return i;i=null}else if(h===31){if(i=d(c),i!==null)return i;i=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;i=null}else c!==i&&(i=null)}}return Xm=i,null}function G1(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ys()){case Us:return 2;case xr:return 8;case yr:case nn:return 32;case Nr:return 268435456;default:return 32}default:return 32}}var Wx=!1,Ah=null,hh=null,fh=null,L0=new Map,F0=new Map,mh=[],S4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W1(i,c){switch(i){case"focusin":case"focusout":Ah=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":fh=null;break;case"pointerover":case"pointerout":L0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":F0.delete(c.pointerId)}}function M0(i,c,h,g,O,_){return i===null||i.nativeEvent!==_?(i={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:_,targetContainers:[O]},c!==null&&(c=ma(c),c!==null&&V1(c)),i):(i.eventSystemFlags|=g,c=i.targetContainers,O!==null&&c.indexOf(O)===-1&&c.push(O),i)}function E4(i,c,h,g,O){switch(c){case"focusin":return Ah=M0(Ah,i,c,h,g,O),!0;case"dragenter":return hh=M0(hh,i,c,h,g,O),!0;case"mouseover":return fh=M0(fh,i,c,h,g,O),!0;case"pointerover":var _=O.pointerId;return L0.set(_,M0(L0.get(_)||null,i,c,h,g,O)),!0;case"gotpointercapture":return _=O.pointerId,F0.set(_,M0(F0.get(_)||null,i,c,h,g,O)),!0}return!1}function Y1(i){var c=ho(i.target);if(c!==null){var h=l(c);if(h!==null){if(c=h.tag,c===13){if(c=u(h),c!==null){i.blockedOn=c,fn(i.priority,function(){K1(h)});return}}else if(c===31){if(c=d(h),c!==null){i.blockedOn=c,fn(i.priority,function(){K1(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Jm(i){if(i.blockedOn!==null)return!1;for(var c=i.targetContainers;0<c.length;){var h=Kx(i.nativeEvent);if(h===null){h=i.nativeEvent;var g=new h.constructor(h.type,h);T=g,h.target.dispatchEvent(g),T=null}else return c=ma(h),c!==null&&V1(c),i.blockedOn=h,!1;c.shift()}return!0}function X1(i,c,h){Jm(i)&&h.delete(c)}function T4(){Wx=!1,Ah!==null&&Jm(Ah)&&(Ah=null),hh!==null&&Jm(hh)&&(hh=null),fh!==null&&Jm(fh)&&(fh=null),L0.forEach(X1),F0.forEach(X1)}function Zm(i,c){i.blockedOn===c&&(i.blockedOn=null,Wx||(Wx=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,T4)))}var qm=null;function J1(i){qm!==i&&(qm=i,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){qm===i&&(qm=null);for(var c=0;c<i.length;c+=3){var h=i[c],g=i[c+1],O=i[c+2];if(typeof g!="function"){if(Gx(g||h)===null)continue;break}var _=ma(h);_!==null&&(i.splice(c,3),c-=3,bA(_,{pending:!0,data:O,method:h.method,action:g},g,O))}}))}function Vf(i){function c(pt){return Zm(pt,i)}Ah!==null&&Zm(Ah,i),hh!==null&&Zm(hh,i),fh!==null&&Zm(fh,i),L0.forEach(c),F0.forEach(c);for(var h=0;h<mh.length;h++){var g=mh[h];g.blockedOn===i&&(g.blockedOn=null)}for(;0<mh.length&&(h=mh[0],h.blockedOn===null);)Y1(h),h.blockedOn===null&&mh.shift();if(h=(i.ownerDocument||i).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var O=h[g],_=h[g+1],be=O[fa]||null;if(typeof _=="function")be||J1(h);else if(be){var He=null;if(_&&_.hasAttribute("formAction")){if(O=_,be=_[fa]||null)He=be.formAction;else if(Gx(O)!==null)continue}else He=be.action;typeof He=="function"?h[g+1]=He:(h.splice(g,3),g-=3),J1(h)}}}function Z1(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(be){return O=be})},focusReset:"manual",scroll:"manual"})}function c(){O!==null&&(O(),O=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,O=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),O!==null&&(O(),O=null)}}}function Yx(i){this._internalRoot=i}ep.prototype.render=Yx.prototype.render=function(i){var c=this._internalRoot;if(c===null)throw Error(n(409));var h=c.current,g=sn();z1(h,g,i,c,null,null)},ep.prototype.unmount=Yx.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var c=i.containerInfo;z1(i.current,2,null,i,null,null),_l(),c[Zn]=null}};function ep(i){this._internalRoot=i}ep.prototype.unstable_scheduleHydration=function(i){if(i){var c=ha();i={blockedOn:null,target:i,priority:c};for(var h=0;h<mh.length&&c!==0&&c<mh[h].priority;h++);mh.splice(h,0,i),h===0&&Y1(i)}};var q1=e.version;if(q1!=="19.2.3")throw Error(n(527,q1,"19.2.3"));de.findDOMNode=function(i){var c=i._reactInternals;if(c===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=o(c),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var U4={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tp.isDisabled&&tp.supportsFiber)try{Ts=tp.inject(U4),ft=tp}catch{}}return D0.createRoot=function(i,c){if(!a(i))throw Error(n(299));var h=!1,g="",O=yA,_=wA,be=jA;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(O=c.onUncaughtError),c.onCaughtError!==void 0&&(_=c.onCaughtError),c.onRecoverableError!==void 0&&(be=c.onRecoverableError)),c=_1(i,1,!1,null,null,h,g,null,O,_,be,Z1),i[Zn]=c.current,Tx(i),new Yx(c)},D0.hydrateRoot=function(i,c,h){if(!a(i))throw Error(n(299));var g=!1,O="",_=yA,be=wA,He=jA,pt=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(O=h.identifierPrefix),h.onUncaughtError!==void 0&&(_=h.onUncaughtError),h.onCaughtError!==void 0&&(be=h.onCaughtError),h.onRecoverableError!==void 0&&(He=h.onRecoverableError),h.formState!==void 0&&(pt=h.formState)),c=_1(i,1,!0,c,h??null,g,O,pt,_,be,He,Z1),c.context=H1(null),h=c.current,g=sn(),g=ur(g),O=Kr(g),O.callback=null,cn(h,O,g),h=g,c.current.lanes=h,Os(c,h),Wu(c),i[Zn]=c.current,Tx(i),new ep(c)},D0.version="19.2.3",D0}var c2;function $4(){if(c2)return Zx.exports;c2=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Zx.exports=z4(),Zx.exports}var V4=$4();const K4=Vg(V4);var Gj=Kj();const Wj=Vg(Gj);/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function um(){return um=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},um.apply(this,arguments)}var Nh;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Nh||(Nh={}));const d2="popstate";function G4(s){s===void 0&&(s={});function e(n,a){let{pathname:l,search:u,hash:d}=n.location;return Gb("",{pathname:l,search:u,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Yj(a)}return Y4(e,r,null,s)}function Bl(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function qv(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W4(){return Math.random().toString(36).substr(2,8)}function u2(s,e){return{usr:s.state,key:s.key,idx:e}}function Gb(s,e,r,n){return r===void 0&&(r=null),um({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?g0(e):e,{state:r,key:e&&e.key||n||W4()})}function Yj(s){let{pathname:e="/",search:r="",hash:n=""}=s;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function g0(s){let e={};if(s){let r=s.indexOf("#");r>=0&&(e.hash=s.substr(r),s=s.substr(0,r));let n=s.indexOf("?");n>=0&&(e.search=s.substr(n),s=s.substr(0,n)),s&&(e.pathname=s)}return e}function Y4(s,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,u=a.history,d=Nh.Pop,A=null,o=f();o==null&&(o=0,u.replaceState(um({},u.state,{idx:o}),""));function f(){return(u.state||{idx:null}).idx}function m(){d=Nh.Pop;let w=f(),E=w==null?null:w-o;o=w,A&&A({action:d,location:y.location,delta:E})}function p(w,E){d=Nh.Push;let R=Gb(y.location,w,E);o=f()+1;let z=u2(R,o),X=y.createHref(R);try{u.pushState(z,"",X)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;a.location.assign(X)}l&&A&&A({action:d,location:y.location,delta:1})}function x(w,E){d=Nh.Replace;let R=Gb(y.location,w,E);o=f();let z=u2(R,o),X=y.createHref(R);u.replaceState(z,"",X),l&&A&&A({action:d,location:y.location,delta:0})}function b(w){let E=a.location.origin!=="null"?a.location.origin:a.location.href,R=typeof w=="string"?w:Yj(w);return R=R.replace(/ $/,"%20"),Bl(E,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,E)}let y={get action(){return d},get location(){return s(a,u)},listen(w){if(A)throw new Error("A history only accepts one active listener");return a.addEventListener(d2,m),A=w,()=>{a.removeEventListener(d2,m),A=null}},createHref(w){return e(a,w)},createURL:b,encodeLocation(w){let E=b(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:x,go(w){return u.go(w)}};return y}var A2;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(A2||(A2={}));function X4(s,e,r){return r===void 0&&(r="/"),J4(s,e,r)}function J4(s,e,r,n){let a=typeof e=="string"?g0(e):e,l=Zj(a.pathname||"/",r);if(l==null)return null;let u=Xj(s);Z4(u);let d=null;for(let A=0;d==null&&A<u.length;++A){let o=dB(l);d=oB(u[A],o)}return d}function Xj(s,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,u,d)=>{let A={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};A.relativePath.startsWith("/")&&(Bl(A.relativePath.startsWith(n),'Absolute route path "'+A.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),A.relativePath=A.relativePath.slice(n.length));let o=Af([n,A.relativePath]),f=r.concat(A);l.children&&l.children.length>0&&(Bl(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+o+'".')),Xj(l.children,e,f,o)),!(l.path==null&&!l.index)&&e.push({path:o,score:aB(o,l.index),routesMeta:f})};return s.forEach((l,u)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,u);else for(let A of Jj(l.path))a(l,u,A)}),e}function Jj(s){let e=s.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let u=Jj(n.join("/")),d=[];return d.push(...u.map(A=>A===""?l:[l,A].join("/"))),a&&d.push(...u),d.map(A=>s.startsWith("/")&&A===""?"/":A)}function Z4(s){s.sort((e,r)=>e.score!==r.score?r.score-e.score:iB(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const q4=/^:[\w-]+$/,eB=3,tB=2,sB=1,rB=10,nB=-2,h2=s=>s==="*";function aB(s,e){let r=s.split("/"),n=r.length;return r.some(h2)&&(n+=nB),e&&(n+=tB),r.filter(a=>!h2(a)).reduce((a,l)=>a+(q4.test(l)?eB:l===""?sB:rB),n)}function iB(s,e){return s.length===e.length&&s.slice(0,-1).every((n,a)=>n===e[a])?s[s.length-1]-e[e.length-1]:0}function oB(s,e,r){let{routesMeta:n}=s,a={},l="/",u=[];for(let d=0;d<n.length;++d){let A=n[d],o=d===n.length-1,f=l==="/"?e:e.slice(l.length)||"/",m=lB({path:A.relativePath,caseSensitive:A.caseSensitive,end:o},f),p=A.route;if(!m)return null;Object.assign(a,m.params),u.push({params:a,pathname:Af([l,m.pathname]),pathnameBase:mB(Af([l,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(l=Af([l,m.pathnameBase]))}return u}function lB(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,n]=cB(s.path,s.caseSensitive,s.end),a=e.match(r);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:n.reduce((o,f,m)=>{let{paramName:p,isOptional:x}=f;if(p==="*"){let y=d[m]||"";u=l.slice(0,l.length-y.length).replace(/(.)\/+$/,"$1")}const b=d[m];return x&&!b?o[p]=void 0:o[p]=(b||"").replace(/%2F/g,"/"),o},{}),pathname:l,pathnameBase:u,pattern:s}}function cB(s,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),qv(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let n=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,A)=>(n.push({paramName:d,isOptional:A!=null}),A?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(n.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function dB(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qv(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function Zj(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=s.charAt(r);return n&&n!=="/"?null:s.slice(r)||"/"}const uB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,AB=s=>uB.test(s);function hB(s,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof s=="string"?g0(s):s,l;if(r)if(AB(r))l=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),qv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+r))}r.startsWith("/")?l=f2(r.substring(1),"/"):l=f2(r,e)}else l=e;return{pathname:l,search:pB(n),hash:gB(a)}}function f2(s,e){let r=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function sb(s,e,r,n){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fB(s){return s.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qj(s,e){let r=fB(s);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function e5(s,e,r,n){n===void 0&&(n=!1);let a;typeof s=="string"?a=g0(s):(a=um({},s),Bl(!a.pathname||!a.pathname.includes("?"),sb("?","pathname","search",a)),Bl(!a.pathname||!a.pathname.includes("#"),sb("#","pathname","hash",a)),Bl(!a.search||!a.search.includes("#"),sb("#","search","hash",a)));let l=s===""||a.pathname==="",u=l?"/":a.pathname,d;if(u==null)d=r;else{let m=e.length-1;if(!n&&u.startsWith("..")){let p=u.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}d=m>=0?e[m]:"/"}let A=hB(a,d),o=u&&u!=="/"&&u.endsWith("/"),f=(l||u===".")&&r.endsWith("/");return!A.pathname.endsWith("/")&&(o||f)&&(A.pathname+="/"),A}const Af=s=>s.join("/").replace(/\/\/+/g,"/"),mB=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),pB=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,gB=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function xB(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const t5=["post","put","patch","delete"];new Set(t5);const bB=["get",...t5];new Set(bB);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Am(){return Am=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(s[n]=r[n])}return s},Am.apply(this,arguments)}const ey=W.createContext(null),vB=W.createContext(null),Bm=W.createContext(null),Kg=W.createContext(null),Rh=W.createContext({outlet:null,matches:[],isDataRoute:!1}),s5=W.createContext(null);function Sm(){return W.useContext(Kg)!=null}function x0(){return Sm()||Bl(!1),W.useContext(Kg).location}function r5(s){W.useContext(Bm).static||W.useLayoutEffect(s)}function zl(){let{isDataRoute:s}=W.useContext(Rh);return s?FB():yB()}function yB(){Sm()||Bl(!1);let s=W.useContext(ey),{basename:e,future:r,navigator:n}=W.useContext(Bm),{matches:a}=W.useContext(Rh),{pathname:l}=x0(),u=JSON.stringify(qj(a,r.v7_relativeSplatPath)),d=W.useRef(!1);return r5(()=>{d.current=!0}),W.useCallback(function(o,f){if(f===void 0&&(f={}),!d.current)return;if(typeof o=="number"){n.go(o);return}let m=e5(o,JSON.parse(u),l,f.relative==="path");s==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Af([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,u,l,s])}function Gg(){let{matches:s}=W.useContext(Rh),e=s[s.length-1];return e?e.params:{}}function wB(s,e){return jB(s,e)}function jB(s,e,r,n){Sm()||Bl(!1);let{navigator:a}=W.useContext(Bm),{matches:l}=W.useContext(Rh),u=l[l.length-1],d=u?u.params:{};u&&u.pathname;let A=u?u.pathnameBase:"/";u&&u.route;let o=x0(),f;if(e){var m;let w=typeof e=="string"?g0(e):e;A==="/"||(m=w.pathname)!=null&&m.startsWith(A)||Bl(!1),f=w}else f=o;let p=f.pathname||"/",x=p;if(A!=="/"){let w=A.replace(/^\//,"").split("/");x="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=X4(s,{pathname:x}),y=SB(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:Af([A,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?A:Af([A,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),l,r,n);return e&&y?W.createElement(Kg.Provider,{value:{location:Am({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Nh.Pop}},y):y}function NB(){let s=LB(),e=xB(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),r?W.createElement("pre",{style:a},r):null,null)}const CB=W.createElement(NB,null);class kB extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?W.createElement(Rh.Provider,{value:this.props.routeContext},W.createElement(s5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function BB(s){let{routeContext:e,match:r,children:n}=s,a=W.useContext(ey);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),W.createElement(Rh.Provider,{value:e},n)}function SB(s,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),s==null){var l;if(!r)return null;if(r.errors)s=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=(a=r)==null?void 0:a.errors;if(d!=null){let f=u.findIndex(m=>m.route.id&&(d==null?void 0:d[m.route.id])!==void 0);f>=0||Bl(!1),u=u.slice(0,Math.min(u.length,f+1))}let A=!1,o=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<u.length;f++){let m=u[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(o=f),m.route.id){let{loaderData:p,errors:x}=r,b=m.route.loader&&p[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){A=!0,o>=0?u=u.slice(0,o+1):u=[u[0]];break}}}return u.reduceRight((f,m,p)=>{let x,b=!1,y=null,w=null;r&&(x=d&&m.route.id?d[m.route.id]:void 0,y=m.route.errorElement||CB,A&&(o<0&&p===0?(MB("route-fallback"),b=!0,w=null):o===p&&(b=!0,w=m.route.hydrateFallbackElement||null)));let E=e.concat(u.slice(0,p+1)),R=()=>{let z;return x?z=y:b?z=w:m.route.Component?z=W.createElement(m.route.Component,null):m.route.element?z=m.route.element:z=f,W.createElement(BB,{match:m,routeContext:{outlet:f,matches:E,isDataRoute:r!=null},children:z})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?W.createElement(kB,{location:r.location,revalidation:r.revalidation,component:y,error:x,children:R(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):R()},null)}var n5=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(n5||{}),a5=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(a5||{});function EB(s){let e=W.useContext(ey);return e||Bl(!1),e}function TB(s){let e=W.useContext(vB);return e||Bl(!1),e}function UB(s){let e=W.useContext(Rh);return e||Bl(!1),e}function i5(s){let e=UB(),r=e.matches[e.matches.length-1];return r.route.id||Bl(!1),r.route.id}function LB(){var s;let e=W.useContext(s5),r=TB(),n=i5();return e!==void 0?e:(s=r.errors)==null?void 0:s[n]}function FB(){let{router:s}=EB(n5.UseNavigateStable),e=i5(a5.UseNavigateStable),r=W.useRef(!1);return r5(()=>{r.current=!0}),W.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?s.navigate(a):s.navigate(a,Am({fromRouteId:e},l)))},[s,e])}const m2={};function MB(s,e,r){m2[s]||(m2[s]=!0)}function OB(s,e){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function IB(s){let{to:e,replace:r,state:n,relative:a}=s;Sm()||Bl(!1);let{future:l,static:u}=W.useContext(Bm),{matches:d}=W.useContext(Rh),{pathname:A}=x0(),o=zl(),f=e5(e,qj(d,l.v7_relativeSplatPath),A,a==="path"),m=JSON.stringify(f);return W.useEffect(()=>o(JSON.parse(m),{replace:r,state:n,relative:a}),[o,m,a,r,n]),null}function Hl(s){Bl(!1)}function DB(s){let{basename:e="/",children:r=null,location:n,navigationType:a=Nh.Pop,navigator:l,static:u=!1,future:d}=s;Sm()&&Bl(!1);let A=e.replace(/^\/*/,"/"),o=W.useMemo(()=>({basename:A,navigator:l,static:u,future:Am({v7_relativeSplatPath:!1},d)}),[A,d,l,u]);typeof n=="string"&&(n=g0(n));let{pathname:f="/",search:m="",hash:p="",state:x=null,key:b="default"}=n,y=W.useMemo(()=>{let w=Zj(f,A);return w==null?null:{location:{pathname:w,search:m,hash:p,state:x,key:b},navigationType:a}},[A,f,m,p,x,b,a]);return y==null?null:W.createElement(Bm.Provider,{value:o},W.createElement(Kg.Provider,{children:r,value:y}))}function RB(s){let{children:e,location:r}=s;return wB(Wb(e),r)}new Promise(()=>{});function Wb(s,e){e===void 0&&(e=[]);let r=[];return W.Children.forEach(s,(n,a)=>{if(!W.isValidElement(n))return;let l=[...e,a];if(n.type===W.Fragment){r.push.apply(r,Wb(n.props.children,l));return}n.type!==Hl&&Bl(!1),!n.props.index||!n.props.children||Bl(!1);let u={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=Wb(n.props.children,l)),r.push(u)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yb(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,r)=>{let n=s[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function PB(s,e){let r=Yb(s);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(l=>{r.append(a,l)})}),r}const QB="6";try{window.__reactRouterVersion=QB}catch{}const _B="startTransition",p2=P4[_B];function HB(s){let{basename:e,children:r,future:n,window:a}=s,l=W.useRef();l.current==null&&(l.current=G4({window:a,v5Compat:!0}));let u=l.current,[d,A]=W.useState({action:u.action,location:u.location}),{v7_startTransition:o}=n||{},f=W.useCallback(m=>{o&&p2?p2(()=>A(m)):A(m)},[A,o]);return W.useLayoutEffect(()=>u.listen(f),[u,f]),W.useEffect(()=>OB(n),[n]),W.createElement(DB,{basename:e,children:r,location:d.location,navigationType:d.action,navigator:u,future:n})}var g2;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(g2||(g2={}));var x2;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(x2||(x2={}));function zB(s){let e=W.useRef(Yb(s)),r=W.useRef(!1),n=x0(),a=W.useMemo(()=>PB(n.search,r.current?null:e.current),[n.search]),l=zl(),u=W.useCallback((d,A)=>{const o=Yb(typeof d=="function"?d(a):d);r.current=!0,l("?"+o,A)},[l,a]);return[a,u]}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VB=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),b2=s=>{const e=VB(s);return e.charAt(0).toUpperCase()+e.slice(1)},o5=(...s)=>s.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),KB=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=W.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:l,iconNode:u,...d},A)=>W.createElement("svg",{ref:A,...GB,width:e,height:e,stroke:s,strokeWidth:n?Number(r)*24/Number(e):r,className:o5("lucide",a),...!l&&!KB(d)&&{"aria-hidden":"true"},...d},[...u.map(([o,f])=>W.createElement(o,f)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=(s,e)=>{const r=W.forwardRef(({className:n,...a},l)=>W.createElement(WB,{ref:l,iconNode:e,className:o5(`lucide-${$B(b2(s))}`,`lucide-${s}`,n),...a}));return r.displayName=b2(s),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],wp=ts("arrow-down",YB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],JB=ts("arrow-left-right",XB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rA=ts("arrow-left",ZB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],rb=ts("arrow-right-left",qB);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],DA=ts("arrow-right",eS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],sS=ts("arrow-up-right",tS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],jp=ts("arrow-up",rS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aS=ts("ban",nS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]],oS=ts("bed-double",iS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Au=ts("bell",lS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],dS=ts("bold",cS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Hp=ts("book-open",uS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],n0=ts("bot",AS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],l5=ts("building-2",hS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],Wg=ts("bus",fS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],pS=ts("calendar-days",mS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],co=ts("calendar",gS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Yg=ts("camera",xS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],c5=ts("car",bS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],d5=ts("chart-column",vS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],wS=ts("check-check",yS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wo=ts("check",jS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],a0=ts("chevron-down",NS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ph=ts("chevron-left",CS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ac=ts("chevron-right",kS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ia=ts("circle-alert",BS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bo=ts("circle-check-big",SS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uo=ts("circle-check",ES);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],Xg=ts("circle-plus",TS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],zp=ts("circle-question-mark",US);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hu=ts("circle-x",LS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],MS=ts("circle",FS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Vi=ts("clock",OS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],DS=ts("code",IS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],Em=ts("coffee",RS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Xb=ts("copy",PS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],_S=ts("cpu",QS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],i0=ts("credit-card",HS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Vd=ts("crown",zS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Jb=ts("dollar-sign",$S);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],X0=ts("download",VS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],GS=ts("ellipsis",KS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],o0=ts("external-link",WS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Zu=ts("eye-off",YS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],io=ts("eye",XS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M4 6.835V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-.343",key:"1vfytu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M2 19a2 2 0 0 1 4 0v1a2 2 0 0 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 0 1-4 0v-1a2 2 0 0 1 4 0",key:"1etmh7"}]],v2=ts("file-headphone",JS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M12.659 22H18a2 2 0 0 0 2-2V8a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 14 2H6a2 2 0 0 0-2 2v9.34",key:"o6klzx"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10.378 12.622a1 1 0 0 1 3 3.003L8.36 20.637a2 2 0 0 1-.854.506l-2.867.837a.5.5 0 0 1-.62-.62l.836-2.869a2 2 0 0 1 .506-.853z",key:"zhnas1"}]],y2=ts("file-pen",ZS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ed=ts("file-text",qS);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],t3=ts("film",e3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s3=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],$p=ts("flag",s3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],n3=ts("footprints",r3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],u5=ts("funnel",a3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],xf=ts("gift",i3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],hm=ts("globe",o3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l3=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],w2=ts("hash",l3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],d3=ts("heading-1",c3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],A3=ts("heading-2",u3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h3=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],f3=ts("heading-3",h3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m3=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bf=ts("heart",m3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p3=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],g3=ts("history",p3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Jg=ts("hotel",x3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],l0=ts("image",b3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],fm=ts("inbox",v3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],w3=ts("infinity",y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Sl=ts("info",j3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],C3=ts("italic",N3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],B3=ts("key-round",k3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],j2=ts("key",S3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],T3=ts("landmark",E3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],L3=ts("languages",U3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ty=ts("layout-dashboard",F3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],O3=ts("leaf",M3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],A5=ts("link-2",I3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Zg=ts("link",D3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],P3=ts("list-ordered",R3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],_3=ts("list",Q3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lr=ts("loader-circle",H3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Td=ts("lock",z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],qg=ts("log-out",$3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=[["path",{d:"M6 20a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2",key:"1m57jg"}],["path",{d:"M8 18V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v14",key:"1l99gc"}],["path",{d:"M10 20h4",key:"ni2waw"}],["circle",{cx:"16",cy:"20",r:"2",key:"1vifvg"}],["circle",{cx:"8",cy:"20",r:"2",key:"ckkr5m"}]],K3=ts("luggage",V3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Yd=ts("mail",G3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xo=ts("map-pin",W3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Vp=ts("map",Y3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],eA=ts("megaphone",X3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],h5=ts("menu",J3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],pu=ts("message-circle",Z3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Mh=ts("message-square",q3);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],f5=ts("mic",eE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M5 12h14",key:"1ays0h"}]],sE=ts("minus",tE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],nE=ts("moon",rE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],N2=ts("mouse-pointer-click",aE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],m5=ts("navigation",iE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]],Zb=ts("notebook-pen",oE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],nb=ts("package",lE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],dE=ts("palette",cE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],AE=ts("panel-left-close",uE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],fE=ts("panel-left",hE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],pE=ts("paperclip",mE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],xE=ts("party-popper",gE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],p5=ts("pause",bE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],g5=ts("pen-line",vE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],b0=ts("pen",yE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],ex=ts("pencil",wE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],C2=ts("percent",jE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],nA=ts("plane",NE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],qb=ts("play",CE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$i=ts("plus",kE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],SE=ts("printer",BE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],TE=ts("quote",EE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],x5=ts("receipt",UE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],FE=ts("redo",LE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ld=ts("refresh-cw",ME);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],IE=ts("rotate-ccw",OE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QA=ts("save",DE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Vc=ts("search",RE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Sh=ts("send",PE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tm=ts("settings",QE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Kp=ts("share-2",_E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],zE=ts("shield-alert",HE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],c0=ts("shield-check",$E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Kd=ts("shield",VE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],tx=ts("shopping-bag",KE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ao=ts("sparkles",GE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],YE=ts("square-check-big",WE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],sy=ts("square-pen",XE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],ZE=ts("square",JE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]],eT=ts("star-off",qE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],tA=ts("star",tT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],b5=ts("sticky-note",sT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],ry=ts("store",rT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],aT=ts("strikethrough",nT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oT=ts("sun",iT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Gp=ts("tag",lT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],k2=ts("target",cT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],uT=ts("text-align-center",dT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],hT=ts("text-align-end",AT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M3 5h18",key:"1u36vt"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 19h18",key:"awlh7x"}]],mT=ts("text-align-justify",fT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],gT=ts("text-align-start",pT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],bT=ts("ticket",xT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],ev=ts("timer",vT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jo=ts("trash-2",yT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],jT=ts("trending-down",wT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sx=ts("trending-up",NT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Zo=ts("triangle-alert",CT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],BT=ts("type",kT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],ET=ts("underline",ST);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],UT=ts("undo",TT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],FT=ts("unlink",LT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],d0=ts("upload",MT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],IT=ts("user-cog",OT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yo=ts("user",DT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ld=ts("users",RT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Gd=ts("utensils",PT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],tv=ts("volume-2",QT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],kf=ts("wallet",_T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],sv=ts("wand-sparkles",HT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],v0=ts("wifi-off",zT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],y0=ts("wifi",$T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qr=ts("x",VT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],GT=ts("zap",KT),WT={success:Bo,error:Ia,warning:Zo,info:Sl},YT={success:"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-200 dark:border-emerald-700 text-emerald-800 dark:text-emerald-200",error:"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700 text-red-800 dark:text-red-200",warning:"bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-700 text-amber-800 dark:text-amber-200",info:"bg-blue-50 dark:bg-blue-900/30 border-blue-200 dark:border-blue-700 text-blue-800 dark:text-blue-200"},XT={success:"text-emerald-500",error:"text-red-500",warning:"text-amber-500",info:"text-blue-500"},JT=({id:s,message:e,type:r,duration:n=4e3,onClose:a})=>{const[l,u]=W.useState(!1);W.useEffect(()=>{const o=setTimeout(()=>{u(!0)},n-300),f=setTimeout(()=>{a(s)},n);return()=>{clearTimeout(o),clearTimeout(f)}},[s,n,a]);const d=()=>{u(!0),setTimeout(()=>a(s),300)},A=WT[r];return t.jsxs("div",{className:`
        flex items-center gap-3 p-4 rounded-xl border shadow-lg backdrop-blur-sm
        ${YT[r]}
        ${l?"animate-slide-out-right":"animate-slide-in-right"}
        transition-all duration-300
      `,children:[t.jsx(A,{className:`w-5 h-5 flex-shrink-0 ${XT[r]}`}),t.jsx("span",{className:"font-medium text-sm flex-1",children:e}),t.jsx("button",{onClick:d,className:"p-1 rounded-lg hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:t.jsx(qr,{className:"w-4 h-4"})})]})},ZT=({toasts:s,onClose:e})=>t.jsx("div",{className:"fixed top-4 right-4 z-[200] flex flex-col gap-2 max-w-sm w-full pointer-events-none",children:s.map(r=>t.jsx("div",{className:"pointer-events-auto",children:t.jsx(JT,{id:r.id,message:r.message,type:r.type,duration:r.duration,onClose:e})},r.id))}),v5=W.createContext(null);let qT=0;const e6=({children:s})=>{const[e,r]=W.useState([]),n=W.useCallback(o=>{r(f=>f.filter(m=>m.id!==o))},[]),a=W.useCallback((o,f="info",m=4e3)=>{const p=`toast-${++qT}`;r(x=>[...x,{id:p,message:o,type:f,duration:m}])},[]),l=W.useCallback((o,f)=>{a(o,"success",f)},[a]),u=W.useCallback((o,f)=>{a(o,"error",f)},[a]),d=W.useCallback((o,f)=>{a(o,"warning",f)},[a]),A=W.useCallback((o,f)=>{a(o,"info",f)},[a]);return t.jsxs(v5.Provider,{value:{showToast:a,success:l,error:u,warning:d,info:A},children:[s,t.jsx(ZT,{toasts:e,onClose:n})]})},rx=()=>{const s=W.useContext(v5);if(!s)throw new Error("useToast must be used within a ToastProvider");return s},Vn=s=>typeof s=="string",R0=()=>{let s,e;const r=new Promise((n,a)=>{s=n,e=a});return r.resolve=s,r.reject=e,r},B2=s=>s==null?"":""+s,t6=(s,e,r)=>{s.forEach(n=>{e[n]&&(r[n]=e[n])})},s6=/###/g,S2=s=>s&&s.indexOf("###")>-1?s.replace(s6,"."):s,E2=s=>!s||Vn(s),J0=(s,e,r)=>{const n=Vn(e)?e.split("."):e;let a=0;for(;a<n.length-1;){if(E2(s))return{};const l=S2(n[a]);!s[l]&&r&&(s[l]=new r),Object.prototype.hasOwnProperty.call(s,l)?s=s[l]:s={},++a}return E2(s)?{}:{obj:s,k:S2(n[a])}},T2=(s,e,r)=>{const{obj:n,k:a}=J0(s,e,Object);if(n!==void 0||e.length===1){n[a]=r;return}let l=e[e.length-1],u=e.slice(0,e.length-1),d=J0(s,u,Object);for(;d.obj===void 0&&u.length;)l=`${u[u.length-1]}.${l}`,u=u.slice(0,u.length-1),d=J0(s,u,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=r},r6=(s,e,r,n)=>{const{obj:a,k:l}=J0(s,e,Object);a[l]=a[l]||[],a[l].push(r)},Wp=(s,e)=>{const{obj:r,k:n}=J0(s,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},n6=(s,e,r)=>{const n=Wp(s,r);return n!==void 0?n:Wp(e,r)},y5=(s,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in s?Vn(s[n])||s[n]instanceof String||Vn(e[n])||e[n]instanceof String?r&&(s[n]=e[n]):y5(s[n],e[n],r):s[n]=e[n]);return s},Kf=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var a6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const i6=s=>Vn(s)?s.replace(/[&<>"'\/]/g,e=>a6[e]):s;class o6{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const l6=[" ",",","?","!",";"],c6=new o6(20),d6=(s,e,r)=>{e=e||"",r=r||"";const n=l6.filter(u=>e.indexOf(u)<0&&r.indexOf(u)<0);if(n.length===0)return!0;const a=c6.getRegExp(`(${n.map(u=>u==="?"?"\\?":u).join("|")})`);let l=!a.test(s);if(!l){const u=s.indexOf(r);u>0&&!a.test(s.substring(0,u))&&(l=!0)}return l},rv=(s,e,r=".")=>{if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const n=e.split(r);let a=s;for(let l=0;l<n.length;){if(!a||typeof a!="object")return;let u,d="";for(let A=l;A<n.length;++A)if(A!==l&&(d+=r),d+=n[A],u=a[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&A<n.length-1)continue;l+=A-l+1;break}a=u}return a},mm=s=>s==null?void 0:s.replace("_","-"),u6={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){var r,n;(n=(r=console==null?void 0:console[s])==null?void 0:r.apply)==null||n.call(r,console,e)}};class Yp{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||u6,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,a){return a&&!this.debug?null:(Vn(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Yp(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Yp(this.logger,e)}}var qu=new Yp;let nx=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a.apply(a,[e,...r])})}};class U2 extends nx{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,a={}){var o,f;const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,r],n&&(Array.isArray(n)?d.push(...n):Vn(n)&&l?d.push(...n.split(l)):d.push(n)));const A=Wp(this.data,d);return!A&&!r&&!n&&e.indexOf(".")>-1&&(e=d[0],r=d[1],n=d.slice(2).join(".")),A||!u||!Vn(n)?A:rv((f=(o=this.data)==null?void 0:o[e])==null?void 0:f[r],n,l)}addResource(e,r,n,a,l={silent:!1}){const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,r];n&&(d=d.concat(u?n.split(u):n)),e.indexOf(".")>-1&&(d=e.split("."),a=r,r=d[1]),this.addNamespaces(r),T2(this.data,d,a),l.silent||this.emit("added",e,r,n,a)}addResources(e,r,n,a={silent:!1}){for(const l in n)(Vn(n[l])||Array.isArray(n[l]))&&this.addResource(e,r,l,n[l],{silent:!0});a.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,a,l,u={silent:!1,skipCopy:!1}){let d=[e,r];e.indexOf(".")>-1&&(d=e.split("."),a=n,n=r,r=d[1]),this.addNamespaces(r);let A=Wp(this.data,d)||{};u.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?y5(A,n,l):A={...A,...n},T2(this.data,d,A),u.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var w5={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,r,n,a){return s.forEach(l=>{var u;e=((u=this.processors[l])==null?void 0:u.process(e,r,n,a))??e}),e}};const j5=Symbol("i18next/PATH_KEY");function A6(){const s=[],e=Object.create(null);let r;return e.get=(n,a)=>{var l;return(l=r==null?void 0:r.revoke)==null||l.call(r),a===j5?s:(s.push(a),r=Proxy.revocable(n,e),r.proxy)},Proxy.revocable(Object.create(null),e).proxy}function nv(s,e){const{[j5]:r}=s(A6());return r.join((e==null?void 0:e.keySeparator)??".")}const L2={},ab=s=>!Vn(s)&&typeof s!="boolean"&&typeof s!="number";class Xp extends nx{constructor(e,r={}){super(),t6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=qu.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const a=this.resolve(e,n);if((a==null?void 0:a.res)===void 0)return!1;const l=ab(a.res);return!(n.returnObjects===!1&&l)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let l=r.ns||this.options.defaultNS||[];const u=n&&e.indexOf(n)>-1,d=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!d6(e,n,a);if(u&&!d){const A=e.match(this.interpolator.nestingRegexp);if(A&&A.length>0)return{key:e,namespaces:Vn(l)?[l]:l};const o=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(o[0])>-1)&&(l=o.shift()),e=o.join(a)}return{key:e,namespaces:Vn(l)?[l]:l}}translate(e,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=nv(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:A}=this.extractFromKey(e[e.length-1],a),o=A[A.length-1];let f=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");const m=a.lng||this.language,p=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((m==null?void 0:m.toLowerCase())==="cimode")return p?l?{res:`${o}${f}${d}`,usedKey:d,exactUsedKey:d,usedLng:m,usedNS:o,usedParams:this.getUsedParamsDetails(a)}:`${o}${f}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:m,usedNS:o,usedParams:this.getUsedParamsDetails(a)}:d;const x=this.resolve(e,a);let b=x==null?void 0:x.res;const y=(x==null?void 0:x.usedKey)||d,w=(x==null?void 0:x.exactUsedKey)||d,E=["[object Number]","[object Function]","[object RegExp]"],R=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,z=!this.i18nFormat||this.i18nFormat.handleAsObject,X=a.count!==void 0&&!Vn(a.count),Y=Xp.hasDefaultValue(a),Q=X?this.pluralResolver.getSuffix(m,a.count,a):"",G=a.ordinal&&X?this.pluralResolver.getSuffix(m,a.count,{ordinal:!1}):"",le=X&&!a.ordinal&&a.count===0,Ae=le&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${Q}`]||a[`defaultValue${G}`]||a.defaultValue;let je=b;z&&!b&&Y&&(je=Ae);const ue=ab(je),Se=Object.prototype.toString.apply(je);if(z&&je&&ue&&E.indexOf(Se)<0&&!(Vn(R)&&Array.isArray(je))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ae=this.options.returnedObjectHandler?this.options.returnedObjectHandler(y,je,{...a,ns:A}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(x.res=ae,x.usedParams=this.getUsedParamsDetails(a),x):ae}if(u){const ae=Array.isArray(je),Ne=ae?[]:{},he=ae?w:y;for(const se in je)if(Object.prototype.hasOwnProperty.call(je,se)){const de=`${he}${u}${se}`;Y&&!b?Ne[se]=this.translate(de,{...a,defaultValue:ab(Ae)?Ae[se]:void 0,joinArrays:!1,ns:A}):Ne[se]=this.translate(de,{...a,joinArrays:!1,ns:A}),Ne[se]===de&&(Ne[se]=je[se])}b=Ne}}else if(z&&Vn(R)&&Array.isArray(b))b=b.join(R),b&&(b=this.extendTranslation(b,e,a,n));else{let ae=!1,Ne=!1;!this.isValidLookup(b)&&Y&&(ae=!0,b=Ae),this.isValidLookup(b)||(Ne=!0,b=d);const se=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ne?void 0:b,de=Y&&Ae!==b&&this.options.updateMissing;if(Ne||ae||de){if(this.logger.log(de?"updateKey":"missingKey",m,o,d,de?Ae:b),u){const ke=this.resolve(d,{...a,keySeparator:!1});ke&&ke.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let oe=[];const Ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ee&&Ee[0])for(let ke=0;ke<Ee.length;ke++)oe.push(Ee[ke]);else this.options.saveMissingTo==="all"?oe=this.languageUtils.toResolveHierarchy(a.lng||this.language):oe.push(a.lng||this.language);const De=(ke,pe,ye)=>{var te;const fe=Y&&ye!==b?ye:se;this.options.missingKeyHandler?this.options.missingKeyHandler(ke,o,pe,fe,de,a):(te=this.backendConnector)!=null&&te.saveMissing&&this.backendConnector.saveMissing(ke,o,pe,fe,de,a),this.emit("missingKey",ke,o,pe,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&X?oe.forEach(ke=>{const pe=this.pluralResolver.getSuffixes(ke,a);le&&a[`defaultValue${this.options.pluralSeparator}zero`]&&pe.indexOf(`${this.options.pluralSeparator}zero`)<0&&pe.push(`${this.options.pluralSeparator}zero`),pe.forEach(ye=>{De([ke],d+ye,a[`defaultValue${ye}`]||Ae)})}):De(oe,d,Ae))}b=this.extendTranslation(b,e,a,x,n),Ne&&b===d&&this.options.appendNamespaceToMissingKey&&(b=`${o}${f}${d}`),(Ne||ae)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${o}${f}${d}`:d,ae?b:void 0,a))}return l?(x.res=b,x.usedParams=this.getUsedParamsDetails(a),x):b}extendTranslation(e,r,n,a,l){var A,o;if((A=this.i18nFormat)!=null&&A.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const f=Vn(e)&&(((o=n==null?void 0:n.interpolation)==null?void 0:o.skipOnVariables)!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(f){const x=e.match(this.interpolator.nestingRegexp);m=x&&x.length}let p=n.replace&&!Vn(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||a.usedLng,n),f){const x=e.match(this.interpolator.nestingRegexp),b=x&&x.length;m<b&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...x)=>(l==null?void 0:l[0])===x[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${r[0]}`),null):this.translate(...x,r),n)),n.interpolation&&this.interpolator.reset()}const u=n.postProcess||this.options.postProcess,d=Vn(u)?[u]:u;return e!=null&&(d!=null&&d.length)&&n.applyPostProcessor!==!1&&(e=w5.handle(d,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,a,l,u,d;return Vn(e)&&(e=[e]),e.forEach(A=>{if(this.isValidLookup(n))return;const o=this.extractFromKey(A,r),f=o.key;a=f;let m=o.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const p=r.count!==void 0&&!Vn(r.count),x=p&&!r.ordinal&&r.count===0,b=r.context!==void 0&&(Vn(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);m.forEach(w=>{var E,R;this.isValidLookup(n)||(d=w,!L2[`${y[0]}-${w}`]&&((E=this.utils)!=null&&E.hasLoadedNamespace)&&!((R=this.utils)!=null&&R.hasLoadedNamespace(d))&&(L2[`${y[0]}-${w}`]=!0,this.logger.warn(`key "${a}" for languages "${y.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(z=>{var Q;if(this.isValidLookup(n))return;u=z;const X=[f];if((Q=this.i18nFormat)!=null&&Q.addLookupKeys)this.i18nFormat.addLookupKeys(X,f,z,w,r);else{let G;p&&(G=this.pluralResolver.getSuffix(z,r.count,r));const le=`${this.options.pluralSeparator}zero`,Ae=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(r.ordinal&&G.indexOf(Ae)===0&&X.push(f+G.replace(Ae,this.options.pluralSeparator)),X.push(f+G),x&&X.push(f+le)),b){const je=`${f}${this.options.contextSeparator||"_"}${r.context}`;X.push(je),p&&(r.ordinal&&G.indexOf(Ae)===0&&X.push(je+G.replace(Ae,this.options.pluralSeparator)),X.push(je+G),x&&X.push(je+le))}}let Y;for(;Y=X.pop();)this.isValidLookup(n)||(l=Y,n=this.getResource(z,w,Y,r))}))})}),{res:n,usedKey:a,exactUsedKey:l,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,a={}){var l;return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(e,r,n,a):this.resourceStore.getResource(e,r,n,a)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Vn(e.replace);let a=n?e.replace:e;if(n&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const l of r)delete a[l]}return a}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class F2{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=qu.create("languageUtils")}getScriptPartFromCode(e){if(e=mm(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=mm(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Vn(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const l=this.getLanguagePartFromCode(n);if(this.isSupportedCode(l))return r=l;r=this.options.supportedLngs.find(u=>{if(u===l)return u;if(!(u.indexOf("-")<0&&l.indexOf("-")<0)&&(u.indexOf("-")>0&&l.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===l||u.indexOf(l)===0&&l.length>1))return u})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Vn(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),a=[],l=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return Vn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Vn(e)&&l(this.formatLanguageCode(e)),n.forEach(u=>{a.indexOf(u)<0&&l(this.formatLanguageCode(u))}),a}}const M2={zero:0,one:1,two:2,few:3,many:4,other:5},O2={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class h6{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=qu.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=mm(e==="dev"?"en":e),a=r.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:n,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let u;try{u=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),O2;if(!e.match(/-|_/))return O2;const A=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(A,r)}return this.pluralRulesCache[l]=u,u}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(n==null?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(a=>`${r}${a}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,l)=>M2[a]-M2[l]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,r,n={}){const a=this.getRule(e,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const I2=(s,e,r,n=".",a=!0)=>{let l=n6(s,e,r);return!l&&a&&Vn(r)&&(l=rv(s,r,n),l===void 0&&(l=rv(e,r,n))),l},ib=s=>s.replace(/\$/g,"$$$$");class D2{constructor(e={}){var r;this.logger=qu.create("interpolator"),this.options=e,this.format=((r=e==null?void 0:e.interpolation)==null?void 0:r.format)||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:l,prefixEscaped:u,suffix:d,suffixEscaped:A,formatSeparator:o,unescapeSuffix:f,unescapePrefix:m,nestingPrefix:p,nestingPrefixEscaped:x,nestingSuffix:b,nestingSuffixEscaped:y,nestingOptionsSeparator:w,maxReplaces:E,alwaysFormat:R}=e.interpolation;this.escape=r!==void 0?r:i6,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Kf(l):u||"{{",this.suffix=d?Kf(d):A||"}}",this.formatSeparator=o||",",this.unescapePrefix=f?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=p?Kf(p):x||Kf("$t("),this.nestingSuffix=b?Kf(b):y||Kf(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=E||1e3,this.alwaysFormat=R!==void 0?R:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>(r==null?void 0:r.source)===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,a){var x;let l,u,d;const A=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},o=b=>{if(b.indexOf(this.formatSeparator)<0){const R=I2(r,A,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(R,void 0,n,{...a,...r,interpolationkey:b}):R}const y=b.split(this.formatSeparator),w=y.shift().trim(),E=y.join(this.formatSeparator).trim();return this.format(I2(r,A,w,this.options.keySeparator,this.options.ignoreJSONStructure),E,n,{...a,...r,interpolationkey:w})};this.resetRegExp();const f=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,m=((x=a==null?void 0:a.interpolation)==null?void 0:x.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>ib(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?ib(this.escape(b)):ib(b)}].forEach(b=>{for(d=0;l=b.regex.exec(e);){const y=l[1].trim();if(u=o(y),u===void 0)if(typeof f=="function"){const E=f(e,l,a);u=Vn(E)?E:""}else if(a&&Object.prototype.hasOwnProperty.call(a,y))u="";else if(m){u=l[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),u="";else!Vn(u)&&!this.useRawValueToEscape&&(u=B2(u));const w=b.safeValue(u);if(e=e.replace(l[0],w),m?(b.regex.lastIndex+=u.length,b.regex.lastIndex-=l[0].length):b.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,r,n={}){let a,l,u;const d=(A,o)=>{const f=this.nestingOptionsSeparator;if(A.indexOf(f)<0)return A;const m=A.split(new RegExp(`${f}[ ]*{`));let p=`{${m[1]}`;A=m[0],p=this.interpolate(p,u);const x=p.match(/'/g),b=p.match(/"/g);(((x==null?void 0:x.length)??0)%2===0&&!b||b.length%2!==0)&&(p=p.replace(/'/g,'"'));try{u=JSON.parse(p),o&&(u={...o,...u})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${A}`,y),`${A}${f}${p}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,A};for(;a=this.nestingRegexp.exec(e);){let A=[];u={...n},u=u.replace&&!Vn(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const o=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(o!==-1&&(A=a[1].slice(o).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),a[1]=a[1].slice(0,o)),l=r(d.call(this,a[1].trim(),u),u),l&&a[0]===e&&!Vn(l))return l;Vn(l)||(l=B2(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),A.length&&(l=A.reduce((f,m)=>this.format(f,m,n.lng,{...n,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const f6=s=>{let e=s.toLowerCase().trim();const r={};if(s.indexOf("(")>-1){const n=s.split("(");e=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);e==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(u=>{if(u){const[d,...A]=u.split(":"),o=A.join(":").trim().replace(/^'+|'+$/g,""),f=d.trim();r[f]||(r[f]=o),o==="false"&&(r[f]=!1),o==="true"&&(r[f]=!0),isNaN(o)||(r[f]=parseInt(o,10))}})}return{formatName:e,formatOptions:r}},R2=s=>{const e={};return(r,n,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const u=n+JSON.stringify(l);let d=e[u];return d||(d=s(mm(n),a),e[u]=d),d(r)}},m6=s=>(e,r,n)=>s(mm(r),n)(e);class p6{constructor(e={}){this.logger=qu.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?R2:m6;this.formats={number:n((a,l)=>{const u=new Intl.NumberFormat(a,{...l});return d=>u.format(d)}),currency:n((a,l)=>{const u=new Intl.NumberFormat(a,{...l,style:"currency"});return d=>u.format(d)}),datetime:n((a,l)=>{const u=new Intl.DateTimeFormat(a,{...l});return d=>u.format(d)}),relativetime:n((a,l)=>{const u=new Intl.RelativeTimeFormat(a,{...l});return d=>u.format(d,l.range||"day")}),list:n((a,l)=>{const u=new Intl.ListFormat(a,{...l});return d=>u.format(d)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=R2(r)}format(e,r,n,a={}){const l=r.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(A=>A.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,A)=>{var m;const{formatName:o,formatOptions:f}=f6(A);if(this.formats[o]){let p=d;try{const x=((m=a==null?void 0:a.formatParams)==null?void 0:m[a.interpolationkey])||{},b=x.locale||x.lng||a.locale||a.lng||n;p=this.formats[o](d,b,{...f,...a,...x})}catch(x){this.logger.warn(x)}return p}else this.logger.warn(`there was no format function for ${o}`);return d},e)}}const g6=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class x6 extends nx{constructor(e,r,n,a={}){var l,u;super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=qu.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(u=(l=this.backend)==null?void 0:l.init)==null||u.call(l,n,a.backend,a)}queueLoad(e,r,n,a){const l={},u={},d={},A={};return e.forEach(o=>{let f=!0;r.forEach(m=>{const p=`${o}|${m}`;!n.reload&&this.store.hasResourceBundle(o,m)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?u[p]===void 0&&(u[p]=!0):(this.state[p]=1,f=!1,u[p]===void 0&&(u[p]=!0),l[p]===void 0&&(l[p]=!0),A[m]===void 0&&(A[m]=!0)))}),f||(d[o]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(A)}}loaded(e,r,n){const a=e.split("|"),l=a[0],u=a[1];r&&this.emit("failedLoading",l,u,r),!r&&n&&this.store.addResourceBundle(l,u,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const d={};this.queue.forEach(A=>{r6(A.loaded,[l],u),g6(A,e),r&&A.errors.push(r),A.pendingCount===0&&!A.done&&(Object.keys(A.loaded).forEach(o=>{d[o]||(d[o]={});const f=A.loaded[o];f.length&&f.forEach(m=>{d[o][m]===void 0&&(d[o][m]=!0)})}),A.done=!0,A.errors.length?A.callback(A.errors):A.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(A=>!A.done)}read(e,r,n,a=0,l=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:a,wait:l,callback:u});return}this.readingCalls++;const d=(o,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(o&&f&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,a+1,l*2,u)},l);return}u(o,f)},A=this.backend[n].bind(this.backend);if(A.length===2){try{const o=A(e,r);o&&typeof o.then=="function"?o.then(f=>d(null,f)).catch(d):d(null,o)}catch(o){d(o)}return}return A(e,r,d)}prepareLoading(e,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Vn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Vn(r)&&(r=[r]);const l=this.queueLoad(e,r,n,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(u=>{this.loadOne(u)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),a=n[0],l=n[1];this.read(a,l,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${r}loading namespace ${l} for language ${a} failed`,u),!u&&d&&this.logger.log(`${r}loaded namespace ${l} for language ${a}`,d),this.loaded(e,u,d)})}saveMissing(e,r,n,a,l,u={},d=()=>{}){var A,o,f,m,p;if((o=(A=this.services)==null?void 0:A.utils)!=null&&o.hasLoadedNamespace&&!((m=(f=this.services)==null?void 0:f.utils)!=null&&m.hasLoadedNamespace(r))){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if((p=this.backend)!=null&&p.create){const x={...u,isUpdate:l},b=this.backend.create.bind(this.backend);if(b.length<6)try{let y;b.length===5?y=b(e,r,n,a,x):y=b(e,r,n,a),y&&typeof y.then=="function"?y.then(w=>d(null,w)).catch(d):d(null,y)}catch(y){d(y)}else b(e,r,n,a,d,x)}!e||!e[0]||this.store.addResource(e[0],r,n,a)}}}const ob=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),Vn(s[1])&&(e.defaultValue=s[1]),Vn(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const r=s[3]||s[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),P2=s=>{var e,r;return Vn(s.ns)&&(s.ns=[s.ns]),Vn(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),Vn(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),((r=(e=s.supportedLngs)==null?void 0:e.indexOf)==null?void 0:r.call(e,"cimode"))<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s},sp=()=>{},b6=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(r=>{typeof s[r]=="function"&&(s[r]=s[r].bind(s))})};class Z0 extends nx{constructor(e={},r){if(super(),this.options=P2(e),this.services={},this.logger=qu,this.modules={external:[]},b6(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Vn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=ob();this.options={...n,...this.options,...P2(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);const a=o=>o?typeof o=="function"?new o:o:null;if(!this.options.isClone){this.modules.logger?qu.init(a(this.modules.logger),this.options):qu.init(null,this.options);let o;this.modules.formatter?o=this.modules.formatter:o=p6;const f=new F2(this.options);this.store=new U2(this.options.resources,this.options);const m=this.services;m.logger=qu,m.resourceStore=this.store,m.languageUtils=f,m.pluralResolver=new h6(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),o&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(m.formatter=a(o),m.formatter.init&&m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new D2(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new x6(a(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",(x,...b)=>{this.emit(x,...b)}),this.modules.languageDetector&&(m.languageDetector=a(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=a(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new Xp(this.services,this.options),this.translator.on("*",(x,...b)=>{this.emit(x,...b)}),this.modules.external.forEach(x=>{x.init&&x.init(this)})}if(this.format=this.options.interpolation.format,r||(r=sp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.length>0&&o[0]!=="dev"&&(this.options.lng=o[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(o=>{this[o]=(...f)=>this.store[o](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(o=>{this[o]=(...f)=>(this.store[o](...f),this)});const d=R0(),A=()=>{const o=(f,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(m),r(f,m)};if(this.languages&&!this.isInitialized)return o(null,this.t.bind(this));this.changeLanguage(this.options.lng,o)};return this.options.resources||!this.options.initAsync?A():setTimeout(A,0),d}loadResources(e,r=sp){var l,u;let n=r;const a=Vn(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const d=[],A=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(m=>{m!=="cimode"&&d.indexOf(m)<0&&d.push(m)})};a?A(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(f=>A(f)),(u=(l=this.options.preload)==null?void 0:l.forEach)==null||u.call(l,o=>A(o)),this.services.backendConnector.load(d,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,r,n){const a=R0();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=sp),this.services.backendConnector.reload(e,r,l=>{a.resolve(),n(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&w5.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=R0();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,A)=>{A?this.isLanguageChangingTo===e&&(a(A),this.translator.changeLanguage(A),this.isLanguageChangingTo=void 0,this.emit("languageChanged",A),this.logger.log("languageChanged",A)):this.isLanguageChangingTo=void 0,n.resolve((...o)=>this.t(...o)),r&&r(d,(...o)=>this.t(...o))},u=d=>{var f,m;!e&&!d&&this.services.languageDetector&&(d=[]);const A=Vn(d)?d:d&&d[0],o=this.store.hasLanguageSomeTranslations(A)?A:this.services.languageUtils.getBestMatchFromCodes(Vn(d)?[d]:d);o&&(this.language||a(o),this.translator.language||this.translator.changeLanguage(o),(m=(f=this.services.languageDetector)==null?void 0:f.cacheUserLanguage)==null||m.call(f,o)),this.loadResources(o,p=>{l(p,o)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),n}getFixedT(e,r,n){const a=(l,u,...d)=>{let A;typeof u!="object"?A=this.options.overloadTranslationOptionHandler([l,u].concat(d)):A={...u},A.lng=A.lng||a.lng,A.lngs=A.lngs||a.lngs,A.ns=A.ns||a.ns,A.keyPrefix!==""&&(A.keyPrefix=A.keyPrefix||n||a.keyPrefix);const o=this.options.keySeparator||".";let f;return A.keyPrefix&&Array.isArray(l)?f=l.map(m=>(typeof m=="function"&&(m=nv(m,{...this.options,...u})),`${A.keyPrefix}${o}${m}`)):(typeof l=="function"&&(l=nv(l,{...this.options,...u})),f=A.keyPrefix?`${A.keyPrefix}${o}${l}`:l),this.t(f,A)};return Vn(e)?a.lng=e:a.lngs=e,a.ns=r,a.keyPrefix=n,a}t(...e){var r;return(r=this.translator)==null?void 0:r.translate(...e)}exists(...e){var r;return(r=this.translator)==null?void 0:r.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const u=(d,A)=>{const o=this.services.backendConnector.state[`${d}|${A}`];return o===-1||o===0||o===2};if(r.precheck){const d=r.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(n,e)&&(!a||u(l,e)))}loadNamespaces(e,r){const n=R0();return this.options.ns?(Vn(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=R0();Vn(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return l.length?(this.options.preload=a.concat(l),this.loadResources(u=>{n.resolve(),r&&r(u)}),n):(r&&r(),Promise.resolve())}dir(e){var a,l;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const u=new Intl.Locale(e);if(u&&u.getTextInfo){const d=u.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=((l=this.services)==null?void 0:l.languageUtils)||new F2(ob());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new Z0(e,r);return n.createInstance=Z0.createInstance,n}cloneInstance(e={},r=sp){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new Z0(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},n){const d=Object.keys(this.store.data).reduce((A,o)=>(A[o]={...this.store.data[o]},A[o]=Object.keys(A[o]).reduce((f,m)=>(f[m]={...A[o][m]},f),A[o]),A),{});l.store=new U2(d,a),l.services.resourceStore=l.store}if(e.interpolation){const A={...ob().interpolation,...this.options.interpolation,...e.interpolation},o={...a,interpolation:A};l.services.interpolator=new D2(o)}return l.translator=new Xp(l.services,a),l.translator.on("*",(d,...A)=>{l.emit(d,...A)}),l.init(a,r),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const hc=Z0.createInstance();hc.createInstance;hc.dir;hc.init;hc.loadResources;hc.reloadResources;hc.use;hc.changeLanguage;hc.getFixedT;hc.t;hc.exists;hc.setDefaultNamespace;hc.hasLoadedNamespace;hc.loadNamespaces;hc.loadLanguages;const v6=(s,e,r,n)=>{var l,u,d,A;const a=[r,{code:e,...n||{}}];if((u=(l=s==null?void 0:s.services)==null?void 0:l.logger)!=null&&u.forward)return s.services.logger.forward(a,"warn","react-i18next::",!0);vf(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(A=(d=s==null?void 0:s.services)==null?void 0:d.logger)!=null&&A.warn?s.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},Q2={},N5=(s,e,r,n)=>{vf(r)&&Q2[r]||(vf(r)&&(Q2[r]=new Date),v6(s,e,r,n))},C5=(s,e)=>()=>{if(s.isInitialized)e();else{const r=()=>{setTimeout(()=>{s.off("initialized",r)},0),e()};s.on("initialized",r)}},av=(s,e,r)=>{s.loadNamespaces(e,C5(s,r))},_2=(s,e,r,n)=>{if(vf(r)&&(r=[r]),s.options.preload&&s.options.preload.indexOf(e)>-1)return av(s,r,n);r.forEach(a=>{s.options.ns.indexOf(a)<0&&s.options.ns.push(a)}),s.loadLanguages(e,C5(s,n))},y6=(s,e,r={})=>!e.languages||!e.languages.length?(N5(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(s,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,s))return!1}}),vf=s=>typeof s=="string",w6=s=>typeof s=="object"&&s!==null,j6=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,N6={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},C6=s=>N6[s],k6=s=>s.replace(j6,C6);let iv={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:k6,transDefaultProps:void 0};const B6=(s={})=>{iv={...iv,...s}},S6=()=>iv;let k5;const E6=s=>{k5=s},T6=()=>k5,U6={type:"3rdParty",init(s){B6(s.options.react),E6(s)}},L6=W.createContext();class F6{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var lb={exports:{}},cb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H2;function M6(){if(H2)return cb;H2=1;var s=km();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=s.useState,a=s.useEffect,l=s.useLayoutEffect,u=s.useDebugValue;function d(m,p){var x=p(),b=n({inst:{value:x,getSnapshot:p}}),y=b[0].inst,w=b[1];return l(function(){y.value=x,y.getSnapshot=p,A(y)&&w({inst:y})},[m,x,p]),a(function(){return A(y)&&w({inst:y}),m(function(){A(y)&&w({inst:y})})},[m]),u(x),x}function A(m){var p=m.getSnapshot;m=m.value;try{var x=p();return!r(m,x)}catch{return!0}}function o(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o:d;return cb.useSyncExternalStore=s.useSyncExternalStore!==void 0?s.useSyncExternalStore:f,cb}var z2;function B5(){return z2||(z2=1,lb.exports=M6()),lb.exports}var ny=B5();const O6=(s,e)=>vf(e)?e:w6(e)&&vf(e.defaultValue)?e.defaultValue:Array.isArray(s)?s[s.length-1]:s,I6={t:O6,ready:!1},D6=()=>()=>{},Xd=(s,e={})=>{var Ae,je,ue;const{i18n:r}=e,{i18n:n,defaultNS:a}=W.useContext(L6)||{},l=r||n||T6();l&&!l.reportNamespaces&&(l.reportNamespaces=new F6),l||N5(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=W.useMemo(()=>{var Se;return{...S6(),...(Se=l==null?void 0:l.options)==null?void 0:Se.react,...e}},[l,e]),{useSuspense:d,keyPrefix:A}=u,o=s||a||((Ae=l==null?void 0:l.options)==null?void 0:Ae.defaultNS),f=vf(o)?[o]:o||["translation"],m=W.useMemo(()=>f,f);(ue=(je=l==null?void 0:l.reportNamespaces)==null?void 0:je.addUsedNamespaces)==null||ue.call(je,m);const p=W.useRef(0),x=W.useCallback(Se=>{if(!l)return D6;const{bindI18n:ae,bindI18nStore:Ne}=u,he=()=>{p.current+=1,Se()};return ae&&l.on(ae,he),Ne&&l.store.on(Ne,he),()=>{ae&&ae.split(" ").forEach(se=>l.off(se,he)),Ne&&Ne.split(" ").forEach(se=>l.store.off(se,he))}},[l,u]),b=W.useRef(),y=W.useCallback(()=>{if(!l)return I6;const Se=!!(l.isInitialized||l.initializedStoreOnce)&&m.every(oe=>y6(oe,l,u)),ae=e.lng||l.language,Ne=p.current,he=b.current;if(he&&he.ready===Se&&he.lng===ae&&he.keyPrefix===A&&he.revision===Ne)return he;const de={t:l.getFixedT(ae,u.nsMode==="fallback"?m:m[0],A),ready:Se,lng:ae,keyPrefix:A,revision:Ne};return b.current=de,de},[l,m,A,u,e.lng]),[w,E]=W.useState(0),{t:R,ready:z}=ny.useSyncExternalStore(x,y,y);W.useEffect(()=>{if(l&&!z&&!d){const Se=()=>E(ae=>ae+1);e.lng?_2(l,e.lng,m,Se):av(l,m,Se)}},[l,e.lng,m,z,d,w]);const X=l||{},Y=W.useRef(null),Q=W.useRef(),G=Se=>{const ae=Object.getOwnPropertyDescriptors(Se);ae.__original&&delete ae.__original;const Ne=Object.create(Object.getPrototypeOf(Se),ae);if(!Object.prototype.hasOwnProperty.call(Ne,"__original"))try{Object.defineProperty(Ne,"__original",{value:Se,writable:!1,enumerable:!1,configurable:!1})}catch{}return Ne},le=W.useMemo(()=>{const Se=X,ae=Se==null?void 0:Se.language;let Ne=Se;Se&&(Y.current&&Y.current.__original===Se?Q.current!==ae?(Ne=G(Se),Y.current=Ne,Q.current=ae):Ne=Y.current:(Ne=G(Se),Y.current=Ne,Q.current=ae));const he=[R,Ne,z];return he.t=R,he.i18n=Ne,he.ready=z,he},[R,X,z,X.resolvedLanguage,X.language,X.languages]);if(l&&d&&!z)throw new Promise(Se=>{const ae=()=>Se();e.lng?_2(l,e.lng,m,ae):av(l,m,ae)});return le},R6=({isOpen:s,isAdminUser:e,onSwitchToAdmin:r})=>{const n=zl(),a=x0(),{t:l}=Xd("nav"),[u,d]=W.useState(!1),[A,o]=W.useState(!1),[f,m]=W.useState(!1),p=W.useRef(null),x=[{path:"/",labelKey:"sidebar.dashboard",icon:ty},{path:"/chat",labelKey:"sidebar.aiPlanner",icon:Ao},{path:"/trips",labelKey:"sidebar.myTrips",icon:nA},{path:"/blogs",labelKey:"sidebar.travelStories",icon:Hp},{path:"/scheduler",labelKey:"sidebar.notes",icon:Zb},{path:"/translate",labelKey:"sidebar.translate",icon:L3},{path:"/expenses",labelKey:"sidebar.expenses",icon:kf},{path:"/calendar",labelKey:"sidebar.calendar",icon:pS}];W.useEffect(()=>{const E=R=>{p.current&&!p.current.contains(R.target)&&o(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const b=()=>{n("/support")},y=()=>{alert(`GogoTrip v2.0 Beta

AI-Powered Travel Companion.`)},w=E=>E==="/"||E==="/dashboard"?a.pathname==="/"||a.pathname==="/dashboard":a.pathname.startsWith(E);return t.jsxs(t.Fragment,{children:[t.jsx("aside",{className:`
          fixed inset-y-0 left-0 z-50 w-72 bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl transition-transform duration-500 ease-apple
          ${s?"translate-x-0":"-translate-x-full"}
          md:hidden shadow-2xl overflow-y-auto
        `,children:t.jsxs("div",{className:"flex flex-col h-full p-4",children:[t.jsxs("div",{className:`mb-6 transition-all duration-500 delay-100 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[t.jsxs("button",{onClick:()=>m(!f),className:`w-full flex items-center justify-between p-2 rounded-2xl transition-all duration-300 active:scale-95 active:bg-slate-100 active:scale-95 ${f?"bg-slate-100 dark:bg-slate-800":""}`,children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-lg shadow-sky-500/30",children:t.jsx(n0,{className:"w-6 h-6 text-white"})}),t.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:"GogoTrip"})]}),t.jsx(a0,{className:`w-5 h-5 text-slate-400 transition-transform duration-300 ${f?"rotate-180":""}`})]}),t.jsx("div",{className:`
                overflow-hidden transition-all duration-300 ease-in-out
                ${f?"max-h-48 opacity-100 mt-2":"max-h-0 opacity-0"}
             `,children:t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-2 space-y-1",children:[t.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-700 transition-colors active:scale-95",children:[t.jsx(zp,{className:"w-4 h-4"}),l("sidebar.helpSupport")]}),t.jsxs("button",{onClick:y,className:"w-full flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-700 transition-colors active:scale-95",children:[t.jsx(Sl,{className:"w-4 h-4"}),l("sidebar.about")]})]})})]}),t.jsxs("nav",{className:"space-y-2",children:[x.map((E,R)=>t.jsxs("button",{onClick:()=>n(E.path),style:{animationDelay:`${R*100}ms`},className:`
                  w-full flex items-center gap-4 px-4 py-4 rounded-2xl transition-all duration-300 origin-left
                  ${s?"animate-fade-in-up":"opacity-0"}
                  ${w(E.path)?"bg-sky-50 text-sky-600 dark:bg-indigo-500/20 dark:text-indigo-300 font-bold shadow-sm scale-100":"text-slate-500 hover:bg-slate-50 hover:text-slate-900 dark:text-slate-400 dark:hover:bg-slate-800/50 dark:hover:text-slate-200 font-medium"}
                  active:scale-105 active:bg-slate-100 dark:active:bg-slate-800
                `,children:[t.jsx(E.icon,{className:`w-6 h-6 ${w(E.path)?"text-sky-600 dark:text-indigo-400":"text-slate-400"}`}),t.jsx("span",{className:"text-base",children:l(E.labelKey)})]},E.path)),e&&r&&t.jsxs("button",{onClick:r,className:"w-full flex items-center gap-4 px-4 py-4 rounded-2xl transition-all duration-300 origin-left mt-4 bg-violet-50 text-violet-700 dark:bg-violet-900/20 dark:text-violet-300 font-bold active:scale-95",children:[t.jsx(c0,{className:"w-6 h-6"}),t.jsx("span",{className:"text-base",children:l("sidebar.adminPortal")})]})]})]})}),t.jsx("div",{className:"hidden md:flex flex-col z-50 fixed left-4 top-4 bottom-4",onMouseEnter:()=>d(!0),onMouseLeave:()=>{d(!1),o(!1)},children:t.jsxs("div",{className:`
            h-full bg-white/90 dark:bg-slate-900/90 backdrop-blur-2xl shadow-xl dark:shadow-black/50 rounded-[2.5rem] flex flex-col transition-all duration-500 ease-apple border-none
            ${u?"w-[280px]":"w-[88px]"}
          `,children:[t.jsxs("div",{className:"relative pt-6 px-4 mb-2",ref:p,children:[t.jsxs("button",{onClick:()=>o(!A),className:`w-full flex items-center gap-4 p-4 rounded-2xl hover:bg-slate-100/50 dark:hover:bg-slate-800/50 transition-all duration-300 group ${A?"bg-slate-100 dark:bg-slate-800":""}`,children:[t.jsx("div",{className:"w-10 h-10 rounded-2xl bg-gradient-to-br from-sky-500 to-blue-600 flex-shrink-0 flex items-center justify-center shadow-lg shadow-sky-500/30 transition-transform duration-500 group-hover:scale-110",children:t.jsx(n0,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{className:`flex flex-col items-start transition-all duration-300 delay-75 origin-left ${u?"opacity-100 translate-x-0 scale-100":"opacity-0 -translate-x-4 scale-95 pointer-events-none fixed"}`,children:[t.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight leading-none group-hover:scale-105 origin-left transition-transform",children:"GogoTrip"}),t.jsx("span",{className:"text-[10px] text-slate-500 dark:text-slate-400 font-medium uppercase tracking-wider mt-1",children:"v2.0 Beta"})]}),u&&t.jsx(Ac,{className:`ml-auto w-4 h-4 text-slate-400 transition-transform duration-300 ${A?"rotate-90":""}`})]}),t.jsx("div",{className:`
                absolute top-full left-4 right-4 mt-2 bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden transition-all duration-300 origin-top z-50
                ${A&&u?"opacity-100 scale-100 translate-y-0 max-h-40":"opacity-0 scale-95 -translate-y-2 max-h-0 pointer-events-none"}
             `,children:t.jsxs("div",{className:"p-1.5 space-y-0.5",children:[t.jsxs("button",{onClick:b,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[t.jsx(zp,{className:"w-4 h-4"}),l("sidebar.helpSupport")]}),t.jsxs("button",{onClick:y,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[t.jsx(Sl,{className:"w-4 h-4"}),l("sidebar.about")]})]})})]}),t.jsxs("nav",{className:"flex-1 px-4 space-y-2 py-2 overflow-y-auto scrollbar-none",children:[x.map(E=>{const R=E.icon,z=w(E.path);return t.jsxs("button",{onClick:()=>n(E.path),className:`
                    relative w-full flex items-center h-14 rounded-full transition-all duration-300 group
                    ${z?"bg-sky-50 dark:bg-indigo-500/20":"hover:bg-slate-50 dark:hover:bg-slate-800/40"}
                  `,children:[t.jsx("div",{className:"absolute left-0 w-[56px] flex justify-center items-center transition-all duration-300",children:t.jsx(R,{className:`w-6 h-6 transition-colors duration-300 ${z?"text-sky-600 dark:text-indigo-400":"text-slate-400 group-hover:text-slate-600 dark:text-slate-500 dark:group-hover:text-slate-300"}`})}),t.jsx("span",{className:`
                    ml-[60px] text-sm font-medium whitespace-nowrap transition-all duration-300 ease-apple origin-left
                    ${u?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}
                    ${z?"text-sky-600 dark:text-indigo-300":"text-slate-600 dark:text-slate-400"}
                    group-hover:scale-105
                  `,children:l(E.labelKey)}),z&&t.jsx("div",{className:"absolute right-4 w-1.5 h-1.5 rounded-full bg-sky-500 dark:bg-indigo-400 shadow-[0_0_10px_rgba(14,165,233,0.6)]"})]},E.path)}),e&&r&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"my-2 border-t border-slate-100 dark:border-slate-800/50 mx-2"}),t.jsxs("button",{onClick:r,className:`
                    relative w-full flex items-center h-14 rounded-full transition-all duration-300 group
                    hover:bg-violet-50 dark:hover:bg-violet-900/20
                  `,title:"Back to Admin Dashboard",children:[t.jsx("div",{className:"absolute left-0 w-[56px] flex justify-center items-center transition-all duration-300",children:t.jsx(c0,{className:"w-6 h-6 text-violet-600 dark:text-violet-400"})}),t.jsx("span",{className:`
                    ml-[60px] text-sm font-bold whitespace-nowrap transition-all duration-300 ease-apple origin-left
                    text-violet-700 dark:text-violet-300
                    ${u?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}
                  `,children:l("sidebar.adminPortal")})]})]})]}),t.jsx("div",{className:"h-4"})]})}),t.jsx("div",{className:"hidden md:block w-[120px] flex-shrink-0"})]})},Dt="https://gogotrip.teocodes.com",rp=`${Dt}/api/notifications`,np={getNotifications:async()=>{try{const e=await(await fetch(`${rp}/user`,{credentials:"include"})).json();return e.success?{notifications:e.notifications,unreadCount:e.unreadCount}:{notifications:[],unreadCount:0}}catch{return{notifications:[],unreadCount:0}}},markAsRead:async s=>{try{return(await(await fetch(`${rp}/user/${s}/read`,{method:"POST",credentials:"include"})).json()).success}catch{return!1}},markAllAsRead:async()=>{try{return(await(await fetch(`${rp}/user/read-all`,{method:"POST",credentials:"include"})).json()).success}catch{return!1}},deleteNotification:async s=>{try{return(await(await fetch(`${rp}/user/${s}`,{method:"DELETE",credentials:"include"})).json()).success}catch{return!1}}},P6=({onToggleSidebar:s,title:e,isDarkMode:r,onToggleTheme:n,user:a,onLogout:l})=>{const u=zl(),{t:d,i18n:A}=Xd(["nav","common"]),[o,f]=W.useState(!1),[m,p]=W.useState(!1),[x,b]=W.useState([]),[y,w]=W.useState(0),[E,R]=W.useState(!0),z=W.useRef(null),X=W.useRef(null),Y=W.useCallback(async()=>{const ae=await np.getNotifications();b(ae.notifications),w(ae.unreadCount),R(!1)},[]);W.useEffect(()=>{Y();const ae=setInterval(Y,3e4);return()=>clearInterval(ae)},[Y]),W.useEffect(()=>{const ae=Ne=>{z.current&&!z.current.contains(Ne.target)&&f(!1),X.current&&!X.current.contains(Ne.target)&&p(!1)};return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[]);const Q=async ae=>{await np.markAsRead(ae)&&(b(he=>he.map(se=>se.id===ae?{...se,unread:!1}:se)),w(he=>Math.max(0,he-1)))},G=async()=>{await np.markAllAsRead()&&(b(Ne=>Ne.map(he=>({...he,unread:!1}))),w(0))},le=async ae=>{const Ne=x.find(se=>se.id===ae);await np.deleteNotification(ae)&&(b(se=>se.filter(de=>de.id!==ae)),Ne!=null&&Ne.unread&&w(se=>Math.max(0,se-1)))},Ae=async ae=>{ae.unread&&await Q(ae.id),ae.hasTab&&ae.tabId&&(p(!1),u(`/announcements/${ae.tabId}`))},je=ae=>{ae==="Account"||ae==="Preferences"?u("/settings"):ae==="Billing"&&u("/billing"),f(!1)},ue=ae=>{switch(ae){case"success":return t.jsx(Ao,{className:"w-4 h-4 text-green-500"});case"warning":return t.jsx(Zo,{className:"w-4 h-4 text-yellow-500"});case"alert":return t.jsx(Zo,{className:"w-4 h-4 text-red-500"});case"promotion":return t.jsx(xf,{className:"w-4 h-4 text-purple-500"});default:return t.jsx(Sl,{className:"w-4 h-4 text-blue-500"})}},Se=(ae,Ne)=>{const he=Ne?"bg-opacity-50":"";switch(ae){case"success":return`${he} ${Ne?"bg-green-50 dark:bg-green-900/10":""}`;case"warning":return`${he} ${Ne?"bg-yellow-50 dark:bg-yellow-900/10":""}`;case"alert":return`${he} ${Ne?"bg-red-50 dark:bg-red-900/10":""} border-l-4 border-l-red-500`;default:return`${he} ${Ne?"bg-sky-50 dark:bg-indigo-900/10":""}`}};return t.jsx("header",{className:"absolute top-0 left-0 right-0 z-20 px-3 md:px-4 pt-4 pb-2 transition-all duration-300 pointer-events-none",children:t.jsxs("div",{className:"mx-auto bg-slate-100/80 dark:bg-slate-900/80 backdrop-blur-xl border border-transparent hover:border-slate-300 dark:hover:border-slate-600 rounded-[2rem] shadow-sm shadow-slate-200/50 dark:shadow-black/20 pointer-events-auto h-20 px-4 md:px-8 flex items-center justify-between transition-all duration-300 ease-out hover:shadow-xl hover:-translate-y-0.5 hover:scale-[1.005]",children:[t.jsxs("div",{className:"flex items-center gap-3 md:gap-4 min-w-0 flex-1 mr-2",children:[t.jsx("button",{onClick:s,className:"p-2 -ml-2 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 rounded-full md:hidden transition-colors active:scale-95",children:t.jsx(h5,{size:24})}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("h1",{className:"text-xl md:text-2xl font-black text-slate-900 dark:text-white tracking-tight truncate bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-600 dark:from-white dark:to-slate-300",children:e}),t.jsx("span",{className:"text-[10px] md:text-xs font-bold text-slate-400 uppercase tracking-widest hidden sm:block",children:new Date().toLocaleDateString(A.language==="zh"?"zh-CN":A.language==="ms"?"ms-MY":"en-US",{weekday:"long",month:"long",day:"numeric"})})]})]}),t.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-shrink-0",children:[t.jsxs("div",{className:"relative",ref:X,children:[t.jsxs("button",{onClick:()=>p(!m),className:"p-3 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 hover:text-sky-600 dark:hover:text-indigo-400 rounded-full transition-all duration-200 relative active:scale-95 group",children:[t.jsx(Au,{size:20,className:"transition-transform group-hover:rotate-12"}),y>0&&t.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full ring-2 ring-slate-100 dark:ring-slate-900 animate-pulse"})]}),m&&t.jsxs("div",{className:"absolute right-0 mt-4 w-80 md:w-96 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden z-50 animate-in zoom-in-95 origin-top-right",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[t.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:d("nav:topBar.notifications")}),y>0&&t.jsxs("button",{onClick:G,className:"text-xs font-bold text-sky-600 hover:text-sky-700 dark:text-indigo-400 flex items-center gap-1 px-2 py-1 rounded-lg hover:bg-sky-50 dark:hover:bg-indigo-900/20 transition-colors",children:[t.jsx(Wo,{className:"w-3 h-3"})," ",d("nav:topBar.markAllRead")]})]}),t.jsx("div",{className:"max-h-[60vh] overflow-y-auto custom-scrollbar",children:E?t.jsx("div",{className:"p-8 text-center text-slate-400",children:d("common:loading")}):x.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-3 text-slate-300",children:t.jsx(Au,{className:"w-6 h-6"})}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:d("nav:topBar.noNotifications")})]}):t.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:x.map(ae=>t.jsx("div",{className:`p-4 transition-colors hover:bg-slate-50 dark:hover:bg-slate-800/50 cursor-pointer group ${Se(ae.type,ae.unread)}`,onClick:()=>Ae(ae),children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"mt-1 w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 bg-white dark:bg-slate-800 shadow-sm border border-slate-100 dark:border-slate-700",children:ue(ae.type)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-sm ${ae.unread?"font-bold text-slate-900 dark:text-white":"font-medium text-slate-600 dark:text-slate-300"}`,children:ae.title}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 line-clamp-2 leading-relaxed",children:ae.message}),t.jsx("p",{className:"text-[10px] text-slate-400 mt-2 font-medium",children:new Date(ae.createdAt).toLocaleDateString()})]}),t.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),le(ae.id)},className:"self-start p-1.5 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(qr,{className:"w-3 h-3"})})]})},ae.id))})}),t.jsx("div",{className:"p-3 bg-slate-50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-800 text-center",children:t.jsxs("button",{onClick:()=>{p(!1),u("/announcements")},className:"text-xs font-bold text-slate-500 hover:text-slate-800 dark:hover:text-slate-200 transition-colors flex items-center justify-center gap-1 w-full py-1",children:[d("nav:topBar.viewAllAnnouncements")," ",t.jsx(Ac,{className:"w-3 h-3"})]})})]})]}),t.jsx("button",{onClick:n,className:"p-3 text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800 hover:text-amber-500 dark:hover:text-yellow-400 rounded-full transition-all duration-200 active:scale-95",children:r?t.jsx(oT,{size:20}):t.jsx(nE,{size:20})}),t.jsxs("div",{className:"relative ml-2",ref:z,children:[t.jsxs("button",{onClick:()=>f(!o),className:"flex items-center gap-3 pl-1 pr-2 py-1 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700/50 rounded-full border border-slate-200 dark:border-slate-700 transition-all duration-200 active:scale-95",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center text-white shadow-md ring-2 ring-white dark:ring-slate-800 overflow-hidden",children:a.avatarUrl?t.jsx("img",{src:a.avatarUrl,alt:a.name,className:"w-full h-full object-cover"}):t.jsx("span",{className:"font-bold text-sm",children:a.name.charAt(0)})}),t.jsx("span",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 max-w-[80px] truncate hidden md:block",children:a.name})]}),o&&t.jsxs("div",{className:"absolute right-0 mt-4 w-64 bg-white dark:bg-slate-900 rounded-2xl shadow-2xl border border-slate-200 dark:border-slate-800 overflow-hidden z-50 animate-in zoom-in-95 origin-top-right",children:[t.jsxs("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/50",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:a.name}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:a.email}),a.isPremium&&t.jsx("div",{className:"mt-2 inline-flex items-center gap-1.5 px-2 py-1 bg-gradient-to-r from-amber-200 to-yellow-400 rounded-lg shadow-sm",children:t.jsxs("span",{className:"text-[10px] font-black text-yellow-900 uppercase tracking-wider flex items-center gap-1",children:[t.jsx(xf,{className:"w-3 h-3"})," ",d("nav:sidebar.premium")]})})]}),t.jsxs("div",{className:"p-2 space-y-1",children:[t.jsxs("button",{onClick:()=>je("Account"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[t.jsx(Yo,{size:16}),d("nav:userMenu.account")]}),t.jsxs("button",{onClick:()=>je("Billing"),className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:[t.jsx(i0,{size:16}),d("nav:userMenu.billing")]})]}),t.jsx("div",{className:"p-2 border-t border-slate-100 dark:border-slate-800",children:t.jsxs("button",{onClick:l,className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-bold text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t.jsx(qg,{size:16}),d("nav:userMenu.signOut")]})})]})]})]})]})})},aA=Object.create(null);aA.open="0";aA.close="1";aA.ping="2";aA.pong="3";aA.message="4";aA.upgrade="5";aA.noop="6";const Np=Object.create(null);Object.keys(aA).forEach(s=>{Np[aA[s]]=s});const ov={type:"error",data:"parser error"},S5=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",E5=typeof ArrayBuffer=="function",T5=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer,ay=({type:s,data:e},r,n)=>S5&&e instanceof Blob?r?n(e):$2(e,n):E5&&(e instanceof ArrayBuffer||T5(e))?r?n(e):$2(new Blob([e]),n):n(aA[s]+(e||"")),$2=(s,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(s)};function V2(s){return s instanceof Uint8Array?s:s instanceof ArrayBuffer?new Uint8Array(s):new Uint8Array(s.buffer,s.byteOffset,s.byteLength)}let db;function Q6(s,e){if(S5&&s.data instanceof Blob)return s.data.arrayBuffer().then(V2).then(e);if(E5&&(s.data instanceof ArrayBuffer||T5(s.data)))return e(V2(s.data));ay(s,!1,r=>{db||(db=new TextEncoder),e(db.encode(r))})}const K2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",V0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let s=0;s<K2.length;s++)V0[K2.charCodeAt(s)]=s;const _6=s=>{let e=s.length*.75,r=s.length,n,a=0,l,u,d,A;s[s.length-1]==="="&&(e--,s[s.length-2]==="="&&e--);const o=new ArrayBuffer(e),f=new Uint8Array(o);for(n=0;n<r;n+=4)l=V0[s.charCodeAt(n)],u=V0[s.charCodeAt(n+1)],d=V0[s.charCodeAt(n+2)],A=V0[s.charCodeAt(n+3)],f[a++]=l<<2|u>>4,f[a++]=(u&15)<<4|d>>2,f[a++]=(d&3)<<6|A&63;return o},H6=typeof ArrayBuffer=="function",iy=(s,e)=>{if(typeof s!="string")return{type:"message",data:U5(s,e)};const r=s.charAt(0);return r==="b"?{type:"message",data:z6(s.substring(1),e)}:Np[r]?s.length>1?{type:Np[r],data:s.substring(1)}:{type:Np[r]}:ov},z6=(s,e)=>{if(H6){const r=_6(s);return U5(r,e)}else return{base64:!0,data:s}},U5=(s,e)=>{switch(e){case"blob":return s instanceof Blob?s:new Blob([s]);case"arraybuffer":default:return s instanceof ArrayBuffer?s:s.buffer}},L5="",$6=(s,e)=>{const r=s.length,n=new Array(r);let a=0;s.forEach((l,u)=>{ay(l,!1,d=>{n[u]=d,++a===r&&e(n.join(L5))})})},V6=(s,e)=>{const r=s.split(L5),n=[];for(let a=0;a<r.length;a++){const l=iy(r[a],e);if(n.push(l),l.type==="error")break}return n};function K6(){return new TransformStream({transform(s,e){Q6(s,r=>{const n=r.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const l=new DataView(a.buffer);l.setUint8(0,126),l.setUint16(1,n)}else{a=new Uint8Array(9);const l=new DataView(a.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(n))}s.data&&typeof s.data!="string"&&(a[0]|=128),e.enqueue(a),e.enqueue(r)})}})}let ub;function ap(s){return s.reduce((e,r)=>e+r.length,0)}function ip(s,e){if(s[0].length===e)return s.shift();const r=new Uint8Array(e);let n=0;for(let a=0;a<e;a++)r[a]=s[0][n++],n===s[0].length&&(s.shift(),n=0);return s.length&&n<s[0].length&&(s[0]=s[0].slice(n)),r}function G6(s,e){ub||(ub=new TextDecoder);const r=[];let n=0,a=-1,l=!1;return new TransformStream({transform(u,d){for(r.push(u);;){if(n===0){if(ap(r)<1)break;const A=ip(r,1);l=(A[0]&128)===128,a=A[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(ap(r)<2)break;const A=ip(r,2);a=new DataView(A.buffer,A.byteOffset,A.length).getUint16(0),n=3}else if(n===2){if(ap(r)<8)break;const A=ip(r,8),o=new DataView(A.buffer,A.byteOffset,A.length),f=o.getUint32(0);if(f>Math.pow(2,21)-1){d.enqueue(ov);break}a=f*Math.pow(2,32)+o.getUint32(4),n=3}else{if(ap(r)<a)break;const A=ip(r,a);d.enqueue(iy(l?A:ub.decode(A),e)),n=0}if(a===0||a>s){d.enqueue(ov);break}}}})}const F5=4;function Cl(s){if(s)return W6(s)}function W6(s){for(var e in Cl.prototype)s[e]=Cl.prototype[e];return s}Cl.prototype.on=Cl.prototype.addEventListener=function(s,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+s]=this._callbacks["$"+s]||[]).push(e),this};Cl.prototype.once=function(s,e){function r(){this.off(s,r),e.apply(this,arguments)}return r.fn=e,this.on(s,r),this};Cl.prototype.off=Cl.prototype.removeListener=Cl.prototype.removeAllListeners=Cl.prototype.removeEventListener=function(s,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+s];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+s],this;for(var n,a=0;a<r.length;a++)if(n=r[a],n===e||n.fn===e){r.splice(a,1);break}return r.length===0&&delete this._callbacks["$"+s],this};Cl.prototype.emit=function(s){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+s],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,a=r.length;n<a;++n)r[n].apply(this,e)}return this};Cl.prototype.emitReserved=Cl.prototype.emit;Cl.prototype.listeners=function(s){return this._callbacks=this._callbacks||{},this._callbacks["$"+s]||[]};Cl.prototype.hasListeners=function(s){return!!this.listeners(s).length};const ax=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),du=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Y6="arraybuffer";function M5(s,...e){return e.reduce((r,n)=>(s.hasOwnProperty(n)&&(r[n]=s[n]),r),{})}const X6=du.setTimeout,J6=du.clearTimeout;function ix(s,e){e.useNativeTimers?(s.setTimeoutFn=X6.bind(du),s.clearTimeoutFn=J6.bind(du)):(s.setTimeoutFn=du.setTimeout.bind(du),s.clearTimeoutFn=du.clearTimeout.bind(du))}const Z6=1.33;function q6(s){return typeof s=="string"?eU(s):Math.ceil((s.byteLength||s.size)*Z6)}function eU(s){let e=0,r=0;for(let n=0,a=s.length;n<a;n++)e=s.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function O5(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function tU(s){let e="";for(let r in s)s.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(s[r]));return e}function sU(s){let e={},r=s.split("&");for(let n=0,a=r.length;n<a;n++){let l=r[n].split("=");e[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return e}class rU extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class oy extends Cl{constructor(e){super(),this.writable=!1,ix(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new rU(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=iy(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=tU(e);return r.length?"?"+r:""}}class nU extends oy{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};V6(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,$6(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=O5()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let I5=!1;try{I5=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const aU=I5;function iU(){}class oU extends nU{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(a,l)=>{this.onError("xhr post error",a,l)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class sA extends Cl{constructor(e,r,n){super(),this.createRequest=e,ix(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=M5(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=sA.requestsCount++,sA.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=iU,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete sA.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}sA.requestsCount=0;sA.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",G2);else if(typeof addEventListener=="function"){const s="onpagehide"in du?"pagehide":"unload";addEventListener(s,G2,!1)}}function G2(){for(let s in sA.requests)sA.requests.hasOwnProperty(s)&&sA.requests[s].abort()}const lU=(function(){const s=D5({xdomain:!1});return s&&s.responseType!==null})();class cU extends oU{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=lU&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new sA(D5,this.uri(),e)}}function D5(s){const e=s.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||aU))return new XMLHttpRequest}catch{}if(!e)try{return new du[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const R5=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class dU extends oy{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=R5?{}:M5(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],a=r===e.length-1;ay(n,this.supportsBinary,l=>{try{this.doWrite(n,l)}catch{}a&&ax(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=O5()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const Ab=du.WebSocket||du.MozWebSocket;let uU=class extends dU{createSocket(e,r,n){return R5?new Ab(e,r,n):r?new Ab(e,r):new Ab(e)}doWrite(e,r){this.ws.send(r)}};class AU extends oy{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=G6(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),a=K6();a.readable.pipeTo(e.writable),this._writer=a.writable.getWriter();const l=()=>{n.read().then(({done:d,value:A})=>{d||(this.onPacket(A),l())}).catch(d=>{})};l();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],a=r===e.length-1;this._writer.write(n).then(()=>{a&&ax(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const hU={websocket:uU,webtransport:AU,polling:cU},fU=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,mU=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lv(s){if(s.length>8e3)throw"URI too long";const e=s,r=s.indexOf("["),n=s.indexOf("]");r!=-1&&n!=-1&&(s=s.substring(0,r)+s.substring(r,n).replace(/:/g,";")+s.substring(n,s.length));let a=fU.exec(s||""),l={},u=14;for(;u--;)l[mU[u]]=a[u]||"";return r!=-1&&n!=-1&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=pU(l,l.path),l.queryKey=gU(l,l.query),l}function pU(s,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function gU(s,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,l){a&&(r[a]=l)}),r}const cv=typeof addEventListener=="function"&&typeof removeEventListener=="function",Cp=[];cv&&addEventListener("offline",()=>{Cp.forEach(s=>s())},!1);class Eh extends Cl{constructor(e,r){if(super(),this.binaryType=Y6,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=lv(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=lv(r.host).host);ix(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=sU(this.opts.query)),cv&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Cp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=F5,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Eh.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Eh.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(r+=q6(a)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ax(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,a){if(typeof r=="function"&&(a=r,r=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const l={type:e,data:r,options:n};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),a&&this.once("flush",a),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(Eh.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),cv&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Cp.indexOf(this._offlineEventListener);n!==-1&&Cp.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}Eh.protocol=F5;class xU extends Eh{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;Eh.priorWebsocketSuccess=!1;const a=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",m=>{if(!n)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Eh.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const p=new Error("probe error");p.transport=r.name,this.emitReserved("upgradeError",p)}}))};function l(){n||(n=!0,f(),r.close(),r=null)}const u=m=>{const p=new Error("probe error: "+m);p.transport=r.name,l(),this.emitReserved("upgradeError",p)};function d(){u("transport closed")}function A(){u("socket closed")}function o(m){r&&m.name!==r.name&&l()}const f=()=>{r.removeListener("open",a),r.removeListener("error",u),r.removeListener("close",d),this.off("close",A),this.off("upgrading",o)};r.once("open",a),r.once("error",u),r.once("close",d),this.once("close",A),this.once("upgrading",o),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let bU=class extends xU{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>hU[a]).filter(a=>!!a)),super(e,n)}};function vU(s,e="",r){let n=s;r=r||typeof location<"u"&&location,s==null&&(s=r.protocol+"//"+r.host),typeof s=="string"&&(s.charAt(0)==="/"&&(s.charAt(1)==="/"?s=r.protocol+s:s=r.host+s),/^(https?|wss?):\/\//.test(s)||(typeof r<"u"?s=r.protocol+"//"+s:s="https://"+s),n=lv(s)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const l=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+l+":"+n.port+e,n.href=n.protocol+"://"+l+(r&&r.port===n.port?"":":"+n.port),n}const yU=typeof ArrayBuffer=="function",wU=s=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(s):s.buffer instanceof ArrayBuffer,P5=Object.prototype.toString,jU=typeof Blob=="function"||typeof Blob<"u"&&P5.call(Blob)==="[object BlobConstructor]",NU=typeof File=="function"||typeof File<"u"&&P5.call(File)==="[object FileConstructor]";function ly(s){return yU&&(s instanceof ArrayBuffer||wU(s))||jU&&s instanceof Blob||NU&&s instanceof File}function kp(s,e){if(!s||typeof s!="object")return!1;if(Array.isArray(s)){for(let r=0,n=s.length;r<n;r++)if(kp(s[r]))return!0;return!1}if(ly(s))return!0;if(s.toJSON&&typeof s.toJSON=="function"&&arguments.length===1)return kp(s.toJSON(),!0);for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r)&&kp(s[r]))return!0;return!1}function CU(s){const e=[],r=s.data,n=s;return n.data=dv(r,e),n.attachments=e.length,{packet:n,buffers:e}}function dv(s,e){if(!s)return s;if(ly(s)){const r={_placeholder:!0,num:e.length};return e.push(s),r}else if(Array.isArray(s)){const r=new Array(s.length);for(let n=0;n<s.length;n++)r[n]=dv(s[n],e);return r}else if(typeof s=="object"&&!(s instanceof Date)){const r={};for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=dv(s[n],e));return r}return s}function kU(s,e){return s.data=uv(s.data,e),delete s.attachments,s}function uv(s,e){if(!s)return s;if(s&&s._placeholder===!0){if(typeof s.num=="number"&&s.num>=0&&s.num<e.length)return e[s.num];throw new Error("illegal attachments")}else if(Array.isArray(s))for(let r=0;r<s.length;r++)s[r]=uv(s[r],e);else if(typeof s=="object")for(const r in s)Object.prototype.hasOwnProperty.call(s,r)&&(s[r]=uv(s[r],e));return s}const Q5=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],BU=5;var ua;(function(s){s[s.CONNECT=0]="CONNECT",s[s.DISCONNECT=1]="DISCONNECT",s[s.EVENT=2]="EVENT",s[s.ACK=3]="ACK",s[s.CONNECT_ERROR=4]="CONNECT_ERROR",s[s.BINARY_EVENT=5]="BINARY_EVENT",s[s.BINARY_ACK=6]="BINARY_ACK"})(ua||(ua={}));class SU{constructor(e){this.replacer=e}encode(e){return(e.type===ua.EVENT||e.type===ua.ACK)&&kp(e)?this.encodeAsBinary({type:e.type===ua.EVENT?ua.BINARY_EVENT:ua.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===ua.BINARY_EVENT||e.type===ua.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=CU(e),n=this.encodeAsString(r.packet),a=r.buffers;return a.unshift(n),a}}class cy extends Cl{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===ua.BINARY_EVENT;n||r.type===ua.BINARY_ACK?(r.type=n?ua.EVENT:ua.ACK,this.reconstructor=new EU(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(ly(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(ua[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===ua.BINARY_EVENT||n.type===ua.BINARY_ACK){const l=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const u=e.substring(l,r);if(u!=Number(u)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(u)}if(e.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(l,r)}else n.nsp="/";const a=e.charAt(r+1);if(a!==""&&Number(a)==a){const l=r+1;for(;++r;){const u=e.charAt(r);if(u==null||Number(u)!=u){--r;break}if(r===e.length)break}n.id=Number(e.substring(l,r+1))}if(e.charAt(++r)){const l=this.tryParse(e.substr(r));if(cy.isPayloadValid(n.type,l))n.data=l;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case ua.CONNECT:return Jp(r);case ua.DISCONNECT:return r===void 0;case ua.CONNECT_ERROR:return typeof r=="string"||Jp(r);case ua.EVENT:case ua.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Q5.indexOf(r[0])===-1);case ua.ACK:case ua.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class EU{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=kU(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function TU(s){return typeof s=="string"}const UU=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s};function LU(s){return s===void 0||UU(s)}function Jp(s){return Object.prototype.toString.call(s)==="[object Object]"}function FU(s,e){switch(s){case ua.CONNECT:return e===void 0||Jp(e);case ua.DISCONNECT:return e===void 0;case ua.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&Q5.indexOf(e[0])===-1);case ua.ACK:return Array.isArray(e);case ua.CONNECT_ERROR:return typeof e=="string"||Jp(e);default:return!1}}function MU(s){return TU(s.nsp)&&LU(s.id)&&FU(s.type,s.data)}const OU=Object.freeze(Object.defineProperty({__proto__:null,Decoder:cy,Encoder:SU,get PacketType(){return ua},isPacketValid:MU,protocol:BU},Symbol.toStringTag,{value:"Module"}));function Tu(s,e,r){return s.on(e,r),function(){s.off(e,r)}}const IU=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _5 extends Cl{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Tu(e,"open",this.onopen.bind(this)),Tu(e,"packet",this.onpacket.bind(this)),Tu(e,"error",this.onerror.bind(this)),Tu(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,a,l;if(IU.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const u={type:ua.EVENT,data:r};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,m=r.pop();this._registerAckCallback(f,m),u.id=f}const d=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,A=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!d||(A?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,r){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[e]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===e&&this.sendBuffer.splice(d,1);r.call(this,new Error("operation has timed out"))},a),u=(...d)=>{this.io.clearTimeoutFn(l),r.apply(this,d)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...r){return new Promise((n,a)=>{const l=(u,d)=>u?a(u):n(d);l.withError=!0,r.push(l),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((a,...l)=>(this._queue[0],a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(a)):(this._queue.shift(),r&&r(null,...l)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ua.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ua.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ua.EVENT:case ua.BINARY_EVENT:this.onevent(e);break;case ua.ACK:case ua.BINARY_ACK:this.onack(e);break;case ua.DISCONNECT:this.ondisconnect();break;case ua.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...a){n||(n=!0,r.packet({type:ua.ACK,id:e,data:a}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ua.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function w0(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}w0.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*s);s=(Math.floor(e*10)&1)==0?s-r:s+r}return Math.min(s,this.max)|0};w0.prototype.reset=function(){this.attempts=0};w0.prototype.setMin=function(s){this.ms=s};w0.prototype.setMax=function(s){this.max=s};w0.prototype.setJitter=function(s){this.jitter=s};class Av extends Cl{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,ix(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new w0({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const a=r.parser||OU;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new bU(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Tu(r,"open",function(){n.onopen(),e&&e()}),l=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),e?e(d):this.maybeReconnectOnOpen()},u=Tu(r,"error",l);if(this._timeout!==!1){const d=this._timeout,A=this.setTimeoutFn(()=>{a(),l(new Error("timeout")),r.close()},d);this.opts.autoUnref&&A.unref(),this.subs.push(()=>{this.clearTimeoutFn(A)})}return this.subs.push(a),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Tu(e,"ping",this.onping.bind(this)),Tu(e,"data",this.ondata.bind(this)),Tu(e,"error",this.onerror.bind(this)),Tu(e,"close",this.onclose.bind(this)),Tu(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){ax(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new _5(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(a=>{a?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",a)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const P0={};function q0(s,e){typeof s=="object"&&(e=s,s=void 0),e=e||{};const r=vU(s,e.path||"/socket.io"),n=r.source,a=r.id,l=r.path,u=P0[a]&&l in P0[a].nsps,d=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let A;return d?A=new Av(n,e):(P0[a]||(P0[a]=new Av(n,e)),A=P0[a]),r.query&&!e.query&&(e.query=r.queryKey),A.socket(r.path,e)}Object.assign(q0,{Manager:Av,Socket:_5,io:q0,connect:q0});const H5=W.createContext(null),DU=({children:s,userId:e,isAuthenticated:r})=>{const[n,a]=W.useState(null),[l,u]=W.useState(!1),d=W.useRef(null);W.useEffect(()=>{if(!r||!e){d.current&&(d.current.disconnect(),d.current=null,a(null),u(!1));return}const Q=q0(Dt,{withCredentials:!0,transports:["websocket","polling"],autoConnect:!0,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3,reconnectionDelayMax:5e3});return d.current=Q,a(Q),Q.on("connect",()=>{console.log(" Socket connected:",Q.id),u(!0)}),Q.on("disconnect",G=>{console.log(" Socket disconnected:",G),u(!1)}),Q.on("connect_error",G=>{console.error(" Socket connection error:",G),u(!1)}),Q.on("connected",G=>{console.log(" Authenticated connection:",G)}),Q.on("error",G=>{console.error(" Socket error:",G.message)}),()=>{console.log(" Cleaning up socket connection"),Q.disconnect(),d.current=null}},[r,e]);const A=W.useCallback(Q=>{var G;(G=d.current)!=null&&G.connected&&d.current.emit("join_ticket",{ticketId:Q})},[]),o=W.useCallback(Q=>{var G;(G=d.current)!=null&&G.connected&&d.current.emit("leave_ticket",{ticketId:Q})},[]),f=W.useCallback((Q,G)=>{var le;(le=d.current)!=null&&le.connected&&d.current.emit("ticket_message",{ticketId:Q,content:G})},[]),m=W.useCallback((Q,G)=>{var le;(le=d.current)!=null&&le.connected&&d.current.emit("ticket_typing",{ticketId:Q,isTyping:G})},[]),p=W.useCallback((Q,G,le,Ae)=>{var je;(je=d.current)!=null&&je.connected&&d.current.emit("admin_message",{recipientId:Q,isBroadcast:Q===null,content:G,subject:le,priority:Ae||"normal"})},[]),x=W.useCallback(Q=>G=>d.current?(d.current.on(Q,G),()=>{var le;(le=d.current)==null||le.off(Q,G)}):()=>{},[]),b=W.useCallback(x("new_ticket_message"),[x]),y=W.useCallback(x("ticket_activity"),[x]),w=W.useCallback(x("user_typing"),[x]),E=W.useCallback(x("new_admin_message"),[x]),R=W.useCallback(x("new_ticket"),[x]),z=W.useCallback(x("ticket_accepted"),[x]),X=W.useCallback(x("ticket_resolved"),[x]),Y={socket:n,isConnected:l,joinTicket:A,leaveTicket:o,sendTicketMessage:f,sendTypingStatus:m,sendAdminMessage:p,onNewTicketMessage:b,onTicketActivity:y,onUserTyping:w,onNewAdminMessage:E,onNewTicket:R,onTicketAccepted:z,onTicketResolved:X};return t.jsx(H5.Provider,{value:Y,children:s})},Um=()=>{const s=W.useContext(H5);if(!s)throw new Error("useSocket must be used within a SocketProvider");return s},Zp={getTickets:async()=>{const e=await(await fetch(`${Dt}/api/tickets/user`,{credentials:"include"})).json();return e.success?e.tickets:[]},getTicketDetail:async s=>{const r=await(await fetch(`${Dt}/api/tickets/user/${s}`,{credentials:"include"})).json();return r.success?{ticket:r.ticket,messages:r.messages}:null},createTicket:async(s,e,r,n)=>(await fetch(`${Dt}/api/tickets/user`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({subject:s,category:e,priority:r,message:n})})).json(),closeTicket:async s=>(await fetch(`${Dt}/api/tickets/user/${s}/close`,{method:"POST",credentials:"include"})).json()},z5=({status:s})=>{const e={pending:{color:"yellow",icon:t.jsx(Vi,{className:"w-3 h-3"}),label:"Waiting"},accepted:{color:"blue",icon:t.jsx(Bo,{className:"w-3 h-3"}),label:"Accepted"},in_progress:{color:"indigo",icon:t.jsx(pu,{className:"w-3 h-3"}),label:"In Progress"},resolved:{color:"green",icon:t.jsx(Bo,{className:"w-3 h-3"}),label:"Resolved"},expired:{color:"red",icon:t.jsx(Zo,{className:"w-3 h-3"}),label:"Expired"},closed:{color:"slate",icon:t.jsx(qr,{className:"w-3 h-3"}),label:"Closed"}},{color:r,icon:n,label:a}=e[s]||e.pending,l={yellow:"bg-yellow-100 text-yellow-700",blue:"bg-blue-100 text-blue-700",indigo:"bg-indigo-100 text-indigo-700",green:"bg-green-100 text-green-700",red:"bg-red-100 text-red-700",slate:"bg-slate-100 text-slate-700"};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${l[r]}`,children:[n,a]})},RU=({category:s})=>{const e={general:t.jsx(zp,{className:"w-5 h-5"}),billing:t.jsx(i0,{className:"w-5 h-5"}),technical:t.jsx(Tm,{className:"w-5 h-5"}),feedback:t.jsx(Mh,{className:"w-5 h-5"})};return t.jsx(t.Fragment,{children:e[s]||e.general})},$5=s=>{if(s<=0)return"Expired";const e=Math.floor(s/3600),r=Math.floor(s%3600/60);return e>0?`${e}h ${r}m remaining`:`${r}m remaining`},PU=()=>{const s=zl(),{onTicketAccepted:e,onTicketResolved:r,isConnected:n}=Um(),[a,l]=W.useState([]),[u,d]=W.useState(!0),[A,o]=W.useState(!1);W.useEffect(()=>{f()},[]),W.useEffect(()=>{const m=e(x=>{l(b=>b.map(y=>y.id===x.ticketId?{...y,status:"accepted",assignedAdminName:x.adminName}:y))}),p=r(x=>{l(b=>b.map(y=>y.id===x.ticketId?{...y,status:"resolved"}:y))});return()=>{m(),p()}},[e,r]);const f=async()=>{d(!0);const m=await Zp.getTickets();l(m),d(!1)};return u?t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-blue-500"})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Support Tickets"}),t.jsxs("div",{className:`flex items-center gap-1.5 px-2 py-1 rounded-full text-xs ${n?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[n?t.jsx(y0,{className:"w-3 h-3"}):t.jsx(v0,{className:"w-3 h-3"}),n?"Live":"Offline"]})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Get help from our support team"})]}),t.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:[t.jsx($i,{className:"w-4 h-4"}),"New Ticket"]})]}),a.length===0?t.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800",children:[t.jsx(pu,{className:"w-16 h-16 text-slate-200 dark:text-slate-700 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-2",children:"No tickets yet"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:"Create a ticket to get support from our team"}),t.jsx("button",{onClick:()=>o(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:"Create Your First Ticket"})]}):t.jsx("div",{className:"space-y-3",children:a.map(m=>t.jsx("div",{onClick:()=>s(`/support/${m.id}`),className:"bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-200 dark:border-slate-800 hover:shadow-lg hover:-translate-y-0.5 transition-all cursor-pointer group",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center shrink-0 ${m.status==="expired"?"bg-red-100 text-red-600":m.status==="resolved"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"}`,children:t.jsx(RU,{category:m.category})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(z5,{status:m.status}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",m.id]})]}),t.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white group-hover:text-blue-600 transition-colors truncate",children:m.subject}),m.lastMessage&&t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate mt-1",children:[m.lastMessage.senderType==="admin"?" ":"",m.lastMessage.text]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-400",children:[t.jsx("span",{children:m.createdAt}),m.status==="pending"&&!m.isExpired&&t.jsxs("span",{className:"flex items-center gap-1 text-orange-500",children:[t.jsx(ev,{className:"w-3 h-3"}),$5(m.timeRemaining)]})]})]}),t.jsx(Ac,{className:"w-5 h-5 text-slate-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all self-center"})]})},m.id))}),A&&t.jsx(QU,{onClose:()=>o(!1),onCreated:()=>{o(!1),f()}})]})},QU=({onClose:s,onCreated:e})=>{const[r,n]=W.useState(""),[a,l]=W.useState("general"),[u,d]=W.useState("normal"),[A,o]=W.useState(""),[f,m]=W.useState(!1),[p,x]=W.useState(""),b=async()=>{if(!r.trim()||!A.trim()){x("Please fill in all required fields");return}m(!0),x("");const y=await Zp.createTicket(r,a,u,A);y.success?e():x(y.error||"Failed to create ticket"),m(!1)};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Create Support Ticket"}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:t.jsx(qr,{className:"w-5 h-5"})})]})}),t.jsxs("div",{className:"p-6 space-y-5",children:[p&&t.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-xl text-sm",children:p}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Subject *"}),t.jsx("input",{type:"text",value:r,onChange:y=>n(y.target.value),placeholder:"Brief description of your issue",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"general",label:"General",icon:t.jsx(zp,{className:"w-4 h-4"})},{id:"billing",label:"Billing",icon:t.jsx(i0,{className:"w-4 h-4"})},{id:"technical",label:"Technical",icon:t.jsx(Tm,{className:"w-4 h-4"})},{id:"feedback",label:"Feedback",icon:t.jsx(Mh,{className:"w-4 h-4"})}].map(y=>t.jsxs("button",{type:"button",onClick:()=>l(y.id),className:`flex items-center gap-2 px-4 py-3 rounded-xl border transition-colors ${a===y.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[y.icon,y.label]},y.id))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Priority"}),t.jsxs("select",{value:u,onChange:y=>d(y.target.value),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"normal",children:"Normal"}),t.jsx("option",{value:"high",children:"High"}),t.jsx("option",{value:"urgent",children:"Urgent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Description *"}),t.jsx("textarea",{value:A,onChange:y=>o(y.target.value),placeholder:"Please describe your issue in detail...",rows:4,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 rounded-xl",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Vi,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),t.jsxs("div",{className:"text-sm text-amber-700 dark:text-amber-400",children:[t.jsx("p",{className:"font-medium",children:"24-Hour Response Window"}),t.jsx("p",{className:"mt-1 opacity-80",children:"Your ticket will be active for 24 hours. If not resolved within this time, it will expire automatically."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-800 flex gap-3",children:[t.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 bg-slate-100 dark:bg-slate-800 rounded-xl font-medium hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:b,disabled:f,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:f?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx($i,{className:"w-4 h-4"}),"Create Ticket"]})})]})]})})},_U=()=>{const{id:s}=Gg(),e=zl(),r=W.useRef(null),n=W.useRef(null),{isConnected:a,joinTicket:l,leaveTicket:u,sendTicketMessage:d,sendTypingStatus:A,onNewTicketMessage:o,onUserTyping:f,onTicketAccepted:m,onTicketResolved:p}=Um(),[x,b]=W.useState(null),[y,w]=W.useState([]),[E,R]=W.useState(!0),[z,X]=W.useState(""),[Y,Q]=W.useState(!1),[G,le]=W.useState(null),Ae=W.useRef();W.useEffect(()=>{s&&je()},[s]),W.useEffect(()=>{if(s&&a)return l(Number(s)),()=>{u(Number(s))}},[s,a,l,u]),W.useEffect(()=>{const se=o(de=>{de.ticketId===Number(s)&&(w(oe=>oe.some(Ee=>Ee.id===de.id)?oe:[...oe,de]),le(null))});return()=>se()},[s,o]),W.useEffect(()=>{const se=f(de=>{de.ticketId===Number(s)&&de.isAdmin&&(de.isTyping?le(de.userName):le(null))});return()=>se()},[s,f]),W.useEffect(()=>{const se=m(oe=>{oe.ticketId===Number(s)&&b(Ee=>Ee&&{...Ee,status:"accepted",assignedAdminName:oe.adminName})}),de=p(oe=>{oe.ticketId===Number(s)&&b(Ee=>Ee&&{...Ee,status:"resolved"})});return()=>{se(),de()}},[s,m,p]),W.useEffect(()=>{ue()},[y,G]);const je=async()=>{R(!0);const se=await Zp.getTicketDetail(Number(s));se&&(b(se.ticket),w(se.messages)),R(!1)},ue=()=>{var se;(se=r.current)==null||se.scrollIntoView({behavior:"smooth"})},Se=W.useCallback(()=>{var se;!z.trim()||!x||!a||(Q(!0),d(x.id,z.trim()),X(""),Q(!1),(se=n.current)==null||se.focus(),A(x.id,!1))},[z,x,a,d,A]),ae=se=>{X(se.target.value),x&&a&&(A(x.id,!0),Ae.current&&clearTimeout(Ae.current),Ae.current=setTimeout(()=>{A(x.id,!1)},2e3))},Ne=async()=>{if(!x||!confirm("Are you sure you want to close this ticket?"))return;(await Zp.closeTicket(x.id)).success&&je()};if(E)return t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-blue-500"})});if(!x)return t.jsxs("div",{className:"text-center py-16",children:[t.jsx("p",{className:"text-slate-500",children:"Ticket not found"}),t.jsx("button",{onClick:()=>e("/support"),className:"mt-4 text-blue-600",children:"Back to tickets"})]});const he=["accepted","in_progress"].includes(x.status);return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-80px)] max-w-4xl mx-auto",children:[t.jsxs("div",{className:"p-4 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>e("/support"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:t.jsx(rA,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(z5,{status:x.status}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",x.id]}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${a?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[a?t.jsx(y0,{className:"w-3 h-3"}):t.jsx(v0,{className:"w-3 h-3"}),a?"Live":"Reconnecting..."]})]}),t.jsx("h1",{className:"font-bold text-slate-900 dark:text-white truncate",children:x.subject})]}),x.status!=="closed"&&x.status!=="expired"&&t.jsx("button",{onClick:Ne,className:"px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl",children:"Close Ticket"})]}),x.status==="pending"&&t.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-xl text-sm text-yellow-700 dark:text-yellow-400",children:[t.jsx("p",{children:" Waiting for an admin to accept your ticket..."}),t.jsx("p",{className:"text-xs mt-1 opacity-80",children:$5(x.timeRemaining)})]}),x.assignedAdminName&&t.jsxs("div",{className:"mt-3 text-sm text-slate-500",children:["Assigned to: ",t.jsx("span",{className:"font-medium",children:x.assignedAdminName})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50 dark:bg-slate-950",children:[y.map(se=>t.jsx("div",{className:`flex ${se.senderType==="user"?"justify-end":"justify-start"}`,children:se.senderType==="system"?t.jsx("div",{className:"text-center text-xs text-slate-400 py-2 w-full",children:se.content}):t.jsxs("div",{className:`max-w-[80%] ${se.senderType==="user"?"order-1":""}`,children:[t.jsx("div",{className:`px-4 py-3 rounded-2xl ${se.senderType==="user"?"bg-blue-600 text-white rounded-br-md":"bg-white dark:bg-slate-800 rounded-bl-md"}`,children:t.jsx("p",{className:"text-sm",children:se.content})}),t.jsxs("div",{className:`flex items-center gap-2 mt-1 text-xs text-slate-400 ${se.senderType==="user"?"justify-end":""}`,children:[t.jsx("span",{children:se.senderName}),t.jsx("span",{children:""}),t.jsx("span",{children:new Date(se.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},se.id)),G&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white dark:bg-slate-800 px-4 py-3 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[G," is typing..."]})]})})}),t.jsx("div",{ref:r})]}),he?t.jsx("div",{className:"p-4 bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{ref:n,type:"text",value:z,onChange:ae,onKeyDown:se=>se.key==="Enter"&&!se.shiftKey&&Se(),placeholder:a?"Type your message...":"Connecting...",disabled:!a,className:"flex-1 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:Se,disabled:Y||!z.trim()||!a,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:Y?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsx(Sh,{className:"w-5 h-5"})})]})}):t.jsx("div",{className:"p-4 bg-slate-100 dark:bg-slate-800 text-center text-sm text-slate-500",children:x.status==="pending"?"You can send messages once an admin accepts your ticket":"This ticket is closed"})]})},HU=({isPremium:s})=>{const e=zl(),{i18n:r}=Xd(),[n,a]=W.useState([]),[l,u]=W.useState(0),[d,A]=W.useState(!0),[o,f]=W.useState(!1);W.useEffect(()=>{s||m()},[s]),W.useEffect(()=>{if(n.length===0||s)return;p(n[l].id);const X=setInterval(()=>{u(Y=>(Y+1)%n.length)},3e4);return()=>clearInterval(X)},[n,l,s]);const m=async()=>{try{const X=await fetch(`${Dt}/api/advertisements/active`);if(X.ok){const Y=await X.json();Y.length>0?(a(Y),f(!1)):(a([]),f(!0))}else a([]),f(!0)}catch(X){console.error("Error fetching advertisements:",X),a([]),f(!0)}},p=async X=>{try{await fetch(`${Dt}/api/advertisements/${X}/view`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(Y){console.error("Error recording view:",Y)}},x=async X=>{try{await fetch(`${Dt}/api/advertisements/${X}/click`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch(Y){console.error("Error recording click:",Y)}},b=X=>{x(X.id),window.open(X.link,"_blank","noopener,noreferrer")},y=()=>{A(!1),sessionStorage.setItem("adDismissed","true")},w=X=>{const Y=r.language;let Q=X.title,G=X.description;return Y==="zh"&&X.title_zh?(Q=X.title_zh,G=X.description_zh||G):Y==="ms"&&X.title_ms&&(Q=X.title_ms,G=X.description_ms||G),{title:Q,description:G}};if(s||!d||sessionStorage.getItem("adDismissed")==="true")return null;const E=n.length>0?n[l]:null,{title:R,description:z}=E?w(E):{title:"",description:""};return t.jsxs("div",{className:"relative bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-6 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out overflow-hidden group",children:[t.jsx("button",{onClick:y,className:"absolute top-4 right-4 z-10 p-2 bg-white/80 dark:bg-slate-800/80 hover:bg-white dark:hover:bg-slate-800 rounded-full transition-colors shadow-sm",title:"Dismiss ad",children:t.jsx(qr,{size:16,className:"text-slate-600 dark:text-slate-400"})}),o?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-4",children:t.jsx(Ia,{size:32,className:"text-slate-400 dark:text-slate-500"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2 text-center",children:""}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center",children:""})]}):E?t.jsxs("div",{onClick:()=>b(E),className:"cursor-pointer",children:[E.imageUrl&&t.jsx("div",{className:"mb-4 rounded-2xl overflow-hidden",children:t.jsx("img",{src:`${Dt}${E.imageUrl}`,alt:E.title,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-105"})}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"flex items-start justify-between gap-2",children:t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:R})}),z&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 line-clamp-2",children:z}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-medium",children:"Sponsored"}),n.length>1&&t.jsx("div",{className:"flex gap-1",children:n.map((X,Y)=>t.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${Y===l?"bg-sky-600 dark:bg-indigo-400 w-4":"bg-slate-300 dark:bg-slate-600"}`},Y))})]})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsx("div",{className:"w-10 h-10 border-4 border-slate-200 dark:border-slate-700 border-t-sky-600 dark:border-t-indigo-600 rounded-full animate-spin mb-4"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"..."})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:["Upgrade to Premium to remove ads "," ",t.jsx("button",{onClick:()=>e("/billing"),className:"text-sky-600 dark:text-indigo-400 hover:underline font-medium cursor-pointer bg-transparent border-none p-0 inline",children:"Learn more"})]})})]})},hb=({title:s,value:e,badgeText:r,badgeColor:n="default",icon:a})=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl p-5 shadow-sm border border-transparent hover:border-sky-400 dark:hover:border-indigo-400 transition-all duration-300 ease-out group relative overflow-hidden hover:-translate-y-2 hover:scale-105 hover:shadow-2xl hover:shadow-sky-100 dark:hover:shadow-indigo-900/20",children:[t.jsxs("div",{className:"flex justify-between items-start mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-700/50 flex items-center justify-center text-slate-600 dark:text-slate-300 group-hover:bg-sky-50 group-hover:text-sky-600 dark:group-hover:bg-indigo-500/20 dark:group-hover:text-indigo-400 transition-colors",children:a}),r&&t.jsx("span",{className:`
          text-[10px] font-bold uppercase tracking-wider px-2.5 py-1 rounded-full
          ${n==="green"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/10 dark:text-emerald-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300"}
        `,children:r})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-slate-500 dark:text-slate-400 text-xs font-bold uppercase tracking-wider mb-1",children:s}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:e})]})]}),zU=({appointment:s})=>{const e=new Date(s.date),r=()=>{switch(s.type){case"flight":return t.jsx(nA,{className:"w-4 h-4"});case"activity":return t.jsx(Gd,{className:"w-4 h-4"});case"stay":return t.jsx(oS,{className:"w-4 h-4"});default:return t.jsx(Vi,{className:"w-4 h-4"})}},n=s.status==="confirmed"?"bg-emerald-500":"bg-amber-500",a=s.status==="confirmed"?"bg-emerald-50 dark:bg-emerald-500/10":"bg-amber-50 dark:bg-amber-500/10",l=s.status==="confirmed"?"text-emerald-700 dark:text-emerald-400":"text-amber-700 dark:text-amber-400";return t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white dark:bg-slate-800 rounded-3xl border border-slate-100 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 hover:shadow-2xl hover:shadow-sky-100 dark:hover:shadow-indigo-900/20 transition-all duration-300 ease-out group cursor-pointer hover:-translate-y-1 hover:scale-[1.02]",children:[t.jsxs("div",{className:`flex flex-col items-center justify-center w-14 h-14 rounded-2xl ${a} relative overflow-hidden flex-shrink-0 transition-transform group-hover:scale-110 duration-300`,children:[t.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1.5 ${n}`}),t.jsx("span",{className:`text-[10px] font-bold uppercase tracking-widest ${l} mb-0.5`,children:e.toLocaleString("en-US",{month:"short"})}),t.jsx("span",{className:`text-xl font-bold ${s.status==="confirmed"?"text-emerald-900 dark:text-emerald-200":"text-amber-900 dark:text-amber-200"}`,children:e.getDate()})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"text-base font-bold text-slate-900 dark:text-white truncate group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:s.title}),t.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-sm font-medium text-slate-500 dark:text-slate-400",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(Vi,{className:"w-3.5 h-3.5"}),t.jsx("span",{children:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.location&&t.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[t.jsx(Xo,{className:"w-3.5 h-3.5"}),t.jsx("span",{className:"truncate",children:s.location})]})]})]}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-50 dark:bg-slate-700/50 flex items-center justify-center text-slate-400 dark:text-slate-500 group-hover:bg-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 dark:group-hover:bg-slate-700 transition-all shadow-sm group-hover:scale-110 group-hover:rotate-12",children:r()})]})},$U=({user:s})=>{var f;const e=zl(),{t:r}=Xd("dashboard"),[n,a]=W.useState({upcomingTrips:0,countriesVisited:0,savedItineraries:0,nextTrip:null,upcomingAppointments:[],savedDrafts:[]}),[l,u]=W.useState(!0);W.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await fetch(`${Dt}/api/user/dashboard`,{credentials:"include"});if(m.ok){const p=await m.json();a(p)}}catch(m){console.error("Error fetching dashboard data:",m)}finally{u(!1)}};if(!s)return t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("div",{className:"text-slate-500",children:"Loading user data..."})});if(l)return t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-sky-600"})});const A=n.nextTrip?r("nextTrip.badge",{destination:n.nextTrip.destination.toUpperCase(),days:n.nextTrip.daysUntil}):r("nextTrip.badgeEmpty"),o=n.nextTrip?r("nextTrip.countdown",{destination:n.nextTrip.destination,days:n.nextTrip.daysUntil}):r("nextTrip.empty");return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-8 animate-fade-in-up",children:[t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 relative overflow-hidden shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-gradient-to-br from-white/40 to-transparent dark:from-indigo-500/10 dark:to-transparent rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-end justify-between gap-6 mb-10",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-4xl font-black text-slate-900 dark:text-white tracking-tight mb-2",children:r("title")}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-lg",children:o})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>e("/trips"),className:"px-5 py-3 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-xl text-sm font-bold hover:bg-slate-50 dark:hover:bg-slate-700 transition-all shadow-sm active:scale-95 border border-transparent hover:border-slate-300 dark:hover:border-slate-500 hover:-translate-y-1 hover:shadow-md",children:r("viewAllTrips")}),t.jsxs("button",{onClick:()=>e("/chat"),className:"px-5 py-3 bg-sky-600 dark:bg-indigo-600 text-white rounded-xl text-sm font-bold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-all shadow-lg shadow-sky-600/30 dark:shadow-indigo-600/30 flex items-center gap-2 active:scale-95 hover:-translate-y-1 hover:shadow-xl",children:[t.jsx(Ao,{className:"w-4 h-4"}),r("startAiPlanning")]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(hb,{title:r("stats.upcomingTrips"),value:n.upcomingTrips.toString(),badgeText:A,icon:t.jsx(nA,{className:"w-5 h-5"})}),t.jsx(hb,{title:r("stats.countriesVisited"),value:n.countriesVisited.toString(),badgeText:r("badges.explored"),badgeColor:"green",icon:t.jsx(hm,{className:"w-5 h-5"})}),t.jsx(hb,{title:r("stats.savedItineraries"),value:n.savedItineraries.toString(),badgeText:r("badges.ready"),badgeColor:"green",icon:t.jsx(Vp,{className:"w-5 h-5"})})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[t.jsxs("div",{className:"lg:col-span-2 bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 h-fit shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white tracking-tight",children:r("upcomingItinerary.title")}),t.jsx("button",{onClick:()=>e("/calendar"),className:"text-sm text-sky-600 hover:text-sky-500 dark:text-indigo-400 dark:hover:text-indigo-300 font-bold hover:underline",children:r("upcomingItinerary.viewFull")})]}),t.jsx("div",{className:"space-y-4",children:n.upcomingAppointments.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("upcomingItinerary.empty")}),t.jsx("button",{onClick:()=>e("/chat"),className:"mt-4 text-sky-600 dark:text-indigo-400 hover:underline font-medium",children:r("upcomingItinerary.planFirst")})]}):n.upcomingAppointments.map((m,p)=>t.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${(p+1)*100}ms`},children:t.jsx(zU,{appointment:m})},m.id))})]}),t.jsxs("div",{className:"space-y-8 animate-fade-in-up",style:{animationDelay:"300ms"},children:[t.jsx(HU,{isPremium:((f=s.subscription)==null?void 0:f.status)==="active"||s.isPremium||!1}),t.jsxs("div",{className:"bg-gradient-to-b from-sky-500 to-blue-600 dark:from-indigo-600 dark:to-violet-700 rounded-[2.5rem] p-8 relative overflow-hidden shadow-xl shadow-sky-500/20 dark:shadow-indigo-500/20 group text-center border border-transparent hover:border-white/50 transition-all duration-300 hover:-translate-y-2 hover:scale-[1.02] hover:shadow-2xl",children:[t.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 dark:bg-white/5 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none group-hover:scale-125 transition-transform duration-700"}),t.jsx("h3",{className:"text-2xl font-bold text-white mb-2 relative z-10 tracking-tight",children:r("tripIdea.title")}),t.jsx("p",{className:"text-sky-100 dark:text-indigo-100 font-medium leading-relaxed mb-8 relative z-10 px-4",children:r("tripIdea.description")}),t.jsx("div",{className:"relative z-10",children:t.jsx("button",{onClick:()=>e("/chat"),className:"w-full py-3.5 bg-white text-sky-600 hover:bg-sky-50 dark:bg-white/10 dark:backdrop-blur-md dark:text-white dark:hover:bg-white/20 text-sm font-bold rounded-xl transition-all shadow-lg active:scale-95 border border-transparent hover:border-sky-100 hover:shadow-xl hover:-translate-y-1",children:r("tripIdea.button")})})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out hover:shadow-xl hover:bg-white/70 dark:hover:bg-slate-900/70",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:r("savedDrafts.title")}),t.jsx("div",{className:"space-y-3",children:n.savedDrafts.length===0?t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 text-center py-4",children:r("savedDrafts.empty")}):n.savedDrafts.map(m=>t.jsxs("div",{onClick:()=>e("/chat"),className:"flex gap-4 p-4 bg-white dark:bg-slate-800 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-2xl transition-all cursor-pointer group border border-slate-100 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 hover:shadow-xl hover:-translate-y-1 hover:scale-[1.02] duration-300",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-50 dark:bg-slate-700 flex-shrink-0 flex items-center justify-center group-hover:scale-110 group-hover:bg-white group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-all ease-out",children:t.jsx(Xo,{className:"w-6 h-6 text-slate-400 dark:text-slate-300 group-hover:text-sky-500 dark:group-hover:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-900 dark:text-white font-bold group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:m.title}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-0.5 font-medium",children:m.details})]})]},m.id))})]})]})]})]})},VU=({isOpen:s,onClose:e})=>{const r=zl(),{i18n:n}=Xd(),[a,l]=W.useState(null),[u,d]=W.useState(5),[A,o]=W.useState(!1),[f,m]=W.useState(!1);W.useEffect(()=>{s&&(d(5),o(!1),m(!1),p())},[s]),W.useEffect(()=>{if(!s||u===0)return;const Y=setInterval(()=>{d(Q=>Q<=1?(o(!0),0):Q-1)},1e3);return()=>clearInterval(Y)},[s,u]);const p=async()=>{try{const Y=await fetch(`${Dt}/api/advertisements/active`);if(!Y.ok)throw new Error;const Q=await Y.json();if(Q.length>0){const G=Q[Math.floor(Math.random()*Q.length)];l(G),m(!1),x(G.id)}else l(null),m(!0)}catch{l(null),m(!0)}},x=async Y=>{try{await fetch(`${Dt}/api/advertisements/${Y}/view`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch{}},b=async Y=>{try{await fetch(`${Dt}/api/advertisements/${Y}/click`,{method:"POST",headers:{"Content-Type":"application/json"}})}catch{}},y=Y=>{const Q=n.language;let G=Y.title,le=Y.description;return Q==="zh"&&Y.title_zh?(G=Y.title_zh,le=Y.description_zh||le):Q==="ms"&&Y.title_ms&&(G=Y.title_ms,le=Y.description_ms||le),{title:G,description:le}},{title:w,description:E}=a?y(a):{title:"",description:""},R=Y=>{Y&&(Y.preventDefault(),Y.stopPropagation()),a&&(b(a.id),window.open(a.link,"_blank","noopener,noreferrer"))},z=Y=>{Y&&(Y.preventDefault(),Y.stopPropagation()),e(),r("/billing")},X=Y=>{Y&&(Y.preventDefault(),Y.stopPropagation()),A&&e()};return s?t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",onClick:Y=>Y.stopPropagation(),children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-3xl max-w-md w-full shadow-2xl relative animate-in zoom-in-95 duration-300",onClick:Y=>Y.stopPropagation(),children:[t.jsx("button",{type:"button",onClick:X,disabled:!A,className:`absolute top-4 right-4 z-10 p-2 rounded-full transition-all ${A?"bg-white/80 dark:bg-slate-700/80 hover:bg-white dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400 cursor-pointer":"bg-slate-100 dark:bg-slate-700/50 text-slate-400 dark:text-slate-500 cursor-not-allowed"}`,title:A?"Close":`Wait ${u}s`,children:A?t.jsx(qr,{size:20}):t.jsx("span",{className:"text-sm font-bold w-5 h-5 flex items-center justify-center",children:u})}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-xs text-slate-400 dark:text-slate-500 font-semibold uppercase tracking-wider",children:f?"Notice":"Sponsored Content"}),!A&&!f&&t.jsxs("span",{className:"text-xs text-sky-600 dark:text-indigo-400 font-semibold",children:["Closing in ",u,"s"]})]}),f?t.jsxs("div",{className:"flex flex-col items-center justify-center py-8 px-4",children:[t.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-6",children:t.jsx(Ia,{size:48,className:"text-slate-400 dark:text-slate-500"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 text-center",children:""}),t.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 text-center mb-6",children:["",t.jsx("br",{}),""]}),t.jsx("div",{className:"w-full max-w-xs",children:t.jsx("div",{className:"h-1 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-sky-500 to-blue-600 dark:from-indigo-500 dark:to-purple-600 transition-all duration-1000",style:{width:`${(5-u)/5*100}%`}})})})]}):a?t.jsxs(t.Fragment,{children:[a.imageUrl&&t.jsx("div",{onClick:R,className:"mb-4 rounded-2xl overflow-hidden cursor-pointer group",children:t.jsx("img",{src:`${Dt}${a.imageUrl}`,alt:w,className:"w-full h-64 object-cover transition-transform duration-300 group-hover:scale-105"})}),t.jsxs("div",{onClick:R,className:"cursor-pointer group",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors",children:w}),E&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:E}),t.jsx("button",{type:"button",onClick:R,className:"w-full py-3 bg-sky-600 dark:bg-indigo-600 text-white rounded-xl font-semibold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-colors shadow-lg",children:"Learn More"})]})]}):t.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 dark:border-slate-700 border-t-sky-600 dark:border-t-indigo-600 rounded-full animate-spin mb-4"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"..."})]}),t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 text-center",children:["Premium members enjoy ad-free experience "," ",t.jsx("button",{onClick:z,className:"text-sky-600 dark:text-indigo-400 hover:underline font-semibold bg-transparent border-none p-0 inline cursor-pointer",children:"Upgrade now"})]})})]})]})}):null},{slice:KU,forEach:GU}=[];function WU(s){return GU.call(KU.call(arguments,1),e=>{if(e)for(const r in e)s[r]===void 0&&(s[r]=e[r])}),s}function YU(s){return typeof s!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(s))}const W2=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,XU=function(s,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${s}=${a}`;if(n.maxAge>0){const u=n.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(u)}`}if(n.domain){if(!W2.test(n.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${n.domain}`}if(n.path){if(!W2.test(n.path))throw new TypeError("option path is invalid");l+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(l+="; Partitioned"),l},Y2={create(s,e,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),n&&(a.domain=n),document.cookie=XU(s,e,a)},read(s){const e=`${s}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(s,e){this.create(s,"",-1,e)}};var JU={name:"cookie",lookup(s){let{lookupCookie:e}=s;if(e&&typeof document<"u")return Y2.read(e)||void 0},cacheUserLanguage(s,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:a,cookieOptions:l}=e;r&&typeof document<"u"&&Y2.create(r,s,n,a,l)}},ZU={name:"querystring",lookup(s){var n;let{lookupQuerystring:e}=s,r;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((n=window.location.hash)==null?void 0:n.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const u=a.substring(1).split("&");for(let d=0;d<u.length;d++){const A=u[d].indexOf("=");A>0&&u[d].substring(0,A)===e&&(r=u[d].substring(A+1))}}return r}},qU={name:"hash",lookup(s){var a;let{lookupHash:e,lookupFromHashIndex:r}=s,n;if(typeof window<"u"){const{hash:l}=window.location;if(l&&l.length>2){const u=l.substring(1);if(e){const d=u.split("&");for(let A=0;A<d.length;A++){const o=d[A].indexOf("=");o>0&&d[A].substring(0,o)===e&&(n=d[A].substring(o+1))}}if(n)return n;if(!n&&r>-1){const d=l.match(/\/([a-zA-Z-]*)/g);return Array.isArray(d)?(a=d[typeof r=="number"?r:0])==null?void 0:a.replace("/",""):void 0}}}return n}};let Gf=null;const X2=()=>{if(Gf!==null)return Gf;try{if(Gf=typeof window<"u"&&window.localStorage!==null,!Gf)return!1;const s="i18next.translate.boo";window.localStorage.setItem(s,"foo"),window.localStorage.removeItem(s)}catch{Gf=!1}return Gf};var eL={name:"localStorage",lookup(s){let{lookupLocalStorage:e}=s;if(e&&X2())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupLocalStorage:r}=e;r&&X2()&&window.localStorage.setItem(r,s)}};let Wf=null;const J2=()=>{if(Wf!==null)return Wf;try{if(Wf=typeof window<"u"&&window.sessionStorage!==null,!Wf)return!1;const s="i18next.translate.boo";window.sessionStorage.setItem(s,"foo"),window.sessionStorage.removeItem(s)}catch{Wf=!1}return Wf};var tL={name:"sessionStorage",lookup(s){let{lookupSessionStorage:e}=s;if(e&&J2())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(s,e){let{lookupSessionStorage:r}=e;r&&J2()&&window.sessionStorage.setItem(r,s)}},sL={name:"navigator",lookup(s){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:a}=navigator;if(r)for(let l=0;l<r.length;l++)e.push(r[l]);n&&e.push(n),a&&e.push(a)}return e.length>0?e:void 0}},rL={name:"htmlTag",lookup(s){let{htmlTag:e}=s,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},nL={name:"path",lookup(s){var a;let{lookupFromPathIndex:e}=s;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?(a=r[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},aL={name:"subdomain",lookup(s){var a,l;let{lookupFromSubdomainIndex:e}=s;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&((l=(a=window.location)==null?void 0:a.hostname)==null?void 0:l.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(n)return n[r]}};let V5=!1;try{document.cookie,V5=!0}catch{}const K5=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];V5||K5.splice(1,1);const iL=()=>({order:K5,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:s=>s});class G5{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=WU(r,this.options||{},iL()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(JU),this.addDetector(ZU),this.addDetector(eL),this.addDetector(tL),this.addDetector(sL),this.addDetector(rL),this.addDetector(nL),this.addDetector(aL),this.addDetector(qU)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let a=this.detectors[n].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.filter(n=>n!=null&&!YU(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}G5.type="languageDetector";const oL="GogoTrip",lL="Loading...",cL="Save",dL="Cancel",uL="Rename",AL="Edit",hL="Confirm",fL="Close",mL="Search",pL="Back",gL="Next",xL="Submit",bL="Refresh",vL="Retry",yL="Yes",wL="No",jL="OK",NL="Done",CL="Skip",kL="View All",BL="View More",SL="Show Less",EL="No results found",TL="Nothing here yet",UL="Error",LL="Success",FL="Warning",ML="Info",OL={active:"Active",inactive:"Inactive",pending:"Pending",completed:"Completed",cancelled:"Cancelled",expired:"Expired",verified:"Verified",unverified:"Unverified"},IL={justNow:"Just now",minutesAgo:"{{count}} min ago",hoursAgo:"{{count}} hours ago",yesterday:"Yesterday",daysAgo:"{{count}} days ago"},DL={networkError:"Network error. Please try again.",serverError:"Server error occurred. Please try again later.",unauthorized:"Please log in to continue.",forbidden:"You don't have permission to do this.",notFound:"Not found.",validationError:"Please check your input.",unknownError:"Something went wrong. Please try again."},RL={signOut:"Sign Out",signIn:"Sign In",signUp:"Sign Up",learnMore:"Learn More",getStarted:"Get Started",upgrade:"Upgrade",download:"Download",share:"Share",copy:"Copy",copied:"Copied!"},PL={appName:oL,loading:lL,save:cL,cancel:dL,delete:"Delete",rename:uL,edit:AL,confirm:hL,close:fL,search:mL,back:pL,next:gL,submit:xL,refresh:bL,retry:vL,yes:yL,no:wL,ok:jL,done:NL,continue:"Continue",skip:CL,viewAll:kL,viewMore:BL,showLess:SL,noResults:EL,emptyState:TL,error:UL,success:LL,warning:FL,info:ML,status:OL,time:IL,errors:DL,actions:RL},QL="Settings",_L="Manage your account preferences",HL={profile:"Profile",security:"Security",preferences:"Preferences",integrations:"Integrations",language:"Language",notifications:"Notifications",privacy:"Privacy"},zL={title:"Profile Information",description:"Update your personal details",fullName:"Full Name",fullNamePlaceholder:"Enter your full name",email:"Email Address",emailReadOnly:"Email cannot be changed",avatar:"Profile Photo",changePhoto:"Change Photo",removePhoto:"Remove Photo",photoHint:"JPG, PNG or GIF. Max 1MB.",saveChanges:"Save Changes",saving:"Saving...",saved:"Profile updated successfully!"},$L={title:"Security Settings",description:"Manage your account security",changePassword:"Change Password",currentPassword:"Current Password",newPassword:"New Password",confirmPassword:"Confirm New Password",passwordRequirements:"Password must be at least 8 characters",updatePassword:"Update Password",twoFactor:"Two-Factor Authentication",twoFactorDesc:"Add an extra layer of security to your account",enable2FA:"Enable 2FA",disable2FA:"Disable 2FA",verificationCode:"Verification Code",enterCode:"Enter the code sent to your email",verifyCode:"Verify Code",resendCode:"Resend Code",codeExpires:"Code expires in {{seconds}} seconds"},VL={title:"Language",description:"Choose your preferred language for the interface and AI responses",selectLanguage:"Select Language",currentLanguage:"Current Language",changeSuccess:"Language updated!",changing:"Changing language...",languageHint:"This will change the language of all text in the app, including AI chat responses.",languages:{en:"English",zh:"Chinese (Simplified)",ms:"Bahasa Melayu"}},KL={title:"Notification Preferences",description:"Control how you receive updates",emailNotifications:"Email Notifications",emailNotificationsDesc:"Receive trip updates and AI suggestions via email",pushNotifications:"Push Notifications",pushNotificationsDesc:"Receive notifications in your browser",marketingEmails:"Marketing Emails",marketingEmailsDesc:"Receive news, promotions, and tips"},GL={title:"Privacy Settings",description:"Control your data and privacy",dataUsage:"AI Data Usage",dataUsageDesc:"Allow AI to use your travel history for better suggestions",analytics:"Analytics",analyticsDesc:"Help improve GogoTrip by sharing anonymous usage data",deleteAccount:"Delete Account",deleteAccountDesc:"Permanently delete your account and all data",deleteWarning:"This action cannot be undone. All your trips, data, and preferences will be permanently deleted."},WL={title:"Connected Accounts",description:"Manage your linked accounts and services",googleAccount:"Google Account",googleLinked:"Connected as {{email}}",googleNotLinked:"Not connected",linkGoogle:"Link Google Account",unlinkGoogle:"Unlink",googleCalendar:"Google Calendar",googleCalendarDesc:"Sync your trips to Google Calendar",calendarConnected:"Connected",calendarNotConnected:"Not connected",connectCalendar:"Connect Calendar",disconnectCalendar:"Disconnect"},YL={title:QL,subtitle:_L,sections:HL,profile:zL,security:$L,language:VL,notifications:KL,privacy:GL,integrations:WL},XL="AI Trip Planner",JL="Plan your perfect trip with AI assistance",ZL="Ask me anything about your trip...",qL='e.g., "Plan a 3-day trip to Penang" or "Find halal restaurants near me"',eF=["Describe your dream trip to Kyoto...","Plan a weekend getaway to Napa Valley...","Find the best sushi restaurants in Tokyo...","Suggest a 7-day itinerary for Italy...","Looking for family-friendly activities in London...","Show me flights to New York under RM 2000..."],tF="Send",sF="Sending...",rF="AI is thinking...",nF="AI is typing...",aF="New Chat",iF="Clear Chat",oF="Chat History",lF="No chat history yet",cF="Start a new chat!",dF="Load More",uF="Today",AF="Yesterday",hF="{{count}} days ago",fF={title:"Quick Start",tripWizard:"Trip Wizard",tripWizardDesc:"Plan a complete multi-day itinerary",foodWizard:"Food Wizard",foodWizardDesc:"Find the perfect place to eat"},mF={title:"Trip Wizard",destination:"Where do you want to go?",destinationPlaceholder:"e.g., Kuala Lumpur, Penang, Singapore",duration:"How long is your trip?",durationOptions:{"1day":"Day Trip","2days":"2 Days","3days":"3 Days","5days":"5 Days","7days":"1 Week",custom:"Custom"},mood:"What's your travel style?",moodOptions:{relaxed:"Relaxed",energetic:"Energetic",romantic:"Romantic",family:"Family-Friendly",adventure:"Adventure"},budget:"What's your budget?",budgetOptions:{low:"Budget",medium:"Mid-Range",high:"Premium",luxury:"Luxury"},transport:"How will you get around?",transportOptions:{public:"Public Transport",car:"Car / Grab",walk:"Walking"},dietary:"Any dietary requirements?",dietaryOptions:{halal:"Halal",vegetarian:"Vegetarian",vegan:"Vegan",noPork:"No Pork",noBeef:"No Beef"},companions:"Who are you traveling with?",companionOptions:{solo:"Solo",couple:"Couple",friends:"Friends",family:"Family"},generatePlan:"Generate Trip Plan",generating:"Creating your perfect itinerary..."},pF={title:"Food Wizard",cuisine:"What cuisine are you craving?",cuisineOptions:{local:"Local Malaysian",chinese:"Chinese",indian:"Indian",japanese:"Japanese",korean:"Korean",western:"Western",any:"Surprise Me"},mealType:"What meal?",mealOptions:{breakfast:"Breakfast",lunch:"Lunch",dinner:"Dinner",snack:"Snack/Tea",supper:"Supper"},vibe:"What's the vibe?",vibeOptions:{quick:"Quick Bite",casual:"Casual Dining",romantic:"Romantic",group:"Group Gathering"},findFood:"Find Food",finding:"Finding delicious options..."},gF={day:"Day {{number}}",morning:"Morning",afternoon:"Afternoon",evening:"Evening",night:"Night",lunch:"Lunch",dinner:"Dinner",budget:"Budget",tips:"Tips",savePlan:"Save Plan",exportCalendar:"Export to Calendar",shareLink:"Share Link"},xF={title:"Recommendations",distance:"{{distance}} away",rating:"{{rating}} stars",priceLevel:"Price: {{level}}",openNow:"Open Now",closed:"Closed",directions:"Get Directions",addToPlan:"Add to Plan"},bF={sendFailed:"Failed to send message. Please try again.",loadFailed:"Failed to load chat history.",aiError:"AI encountered an error. Please try again.",loadConversationFailed:"Failed to load conversation",deleteFailed:"Failed to delete",renameFailed:"Failed to rename",shareFailed:"Failed to share conversation",copyFailed:"Failed to copy link",saveFailed:"Failed to save trip"},vF={conversationDeleted:"Conversation deleted",linkCopied:"Link copied to clipboard!",tripSaved:"Trip saved!",placeAdded:'Added "{{name}}" to your plans!'},yF={historyLocked:"Chat history is a Premium feature",unlockHistory:"Upgrade to save and access your chat history",upgradeNow:"Upgrade Now"},wF={title:XL,subtitle:JL,placeholder:ZL,placeholderExamples:qL,placeholdersList:eF,send:tF,sending:sF,thinking:rF,typing:nF,newChat:aF,clearChat:iF,history:oF,noHistory:lF,startNewChat:cF,loadMore:dF,today:uF,yesterday:AF,daysAgo:hF,wizards:fF,tripWizard:mF,foodWizard:pF,dailyPlan:gF,recommendations:xF,errors:bF,messages:vF,premium:yF},jF={dashboard:"Travel Dashboard",aiPlanner:"AI Planner",myTrips:"My Trips",travelStories:"Travel Stories",notes:"Notes",calendar:"Calendar",translate:"Translate",expenses:"Expenses",settings:"Settings",support:"Support",billing:"Billing",premium:"Premium",adminPortal:"Admin Portal",helpSupport:"Help & Support",about:"About"},NF={search:"Search...",searchPlaceholder:"Search trips, places...",notifications:"Notifications",noNotifications:"No new notifications",markAllRead:"Mark all as read",viewAll:"View All",viewAllAnnouncements:"View all announcements"},CF={profile:"Profile",account:"Account",billing:"Billing & Plan",settings:"Settings",help:"Help & Support",signOut:"Sign Out",switchToAdmin:"Switch to Admin",switchToUser:"Switch to User View"},kF={title:"Admin Portal",dashboard:"Dashboard",users:"Users",trips:"Trips",subscriptions:"Subscriptions",notifications:"Notifications",settings:"Settings",systemLogs:"System Logs",messaging:"Messaging"},BF={copyright:"2024 GogoTrip. All rights reserved.",terms:"Terms of Service",privacy:"Privacy Policy",contact:"Contact Us"},SF={sidebar:jF,topBar:NF,userMenu:CF,admin:kF,footer:BF},EF={title:"Welcome Back",subtitle:"Sign in to continue your journey",email:"Email Address",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Enter your password",rememberMe:"Remember me",forgotPassword:"Forgot password?",signIn:"Sign In",signingIn:"Signing in...",noAccount:"Don't have an account?",signUpLink:"Sign up",orContinueWithEmail:"Or continue with email",orContinueWith:"Or continue with",googleSignIn:"Continue with Google"},TF={title:"Create Account",subtitle:"Start planning your adventures",fullName:"Full Name",fullNamePlaceholder:"Enter your full name",email:"Email Address",emailPlaceholder:"Enter your email",password:"Password",passwordPlaceholder:"Create a password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm your password",agreeTerms:"I agree to the",termsLink:"Terms of Service",andText:"and",privacyLink:"Privacy Policy",signUp:"Create Account",signingUp:"Creating account...",hasAccount:"Already have an account?",signInLink:"Sign in",backToSignUp:"Back to Sign Up"},UF={title:"Verify Your Email",subtitle:"We sent a verification code to",enterCode:"Enter verification code",codePlaceholder:"Enter {{length}}-digit code",verify:"Verify",verifying:"Verifying...",resendCode:"Resend code",resendIn:"Resend in {{seconds}}s",codeSent:"Verification code sent!",verified:"Email verified successfully!",redirecting:"Redirecting...",enterCodeDesc:"Enter the code from your email or click the verification link",didntReceive:"Didn't receive the email?",checkEmail:"Check your email for the verification code"},LF={title:"Reset Password",subtitle:"Enter your email to receive a reset link",email:"Email Address",emailPlaceholder:"Enter your email",sendLink:"Send Reset Link",sending:"Sending...",linkSent:"Reset link sent! Check your email.",backToLogin:"Back to login"},FF={title:"Set New Password",subtitle:"Enter your new password",newPassword:"New Password",newPasswordPlaceholder:"Enter new password",confirmPassword:"Confirm Password",confirmPasswordPlaceholder:"Confirm new password",resetPassword:"Reset Password",resetting:"Resetting...",success:"Password reset successfully!",loginNow:"Login Now"},MF={invalidEmail:"Please enter a valid email address",invalidPassword:"Password must be at least 8 characters",passwordMismatch:"Passwords do not match",emailExists:"An account with this email already exists",invalidCredentials:"Invalid email or password",accountNotVerified:"Please verify your email first",accountSuspended:"Your account has been suspended",tooManyAttempts:"Too many attempts. Please try again later.",invalidCode:"Invalid verification code",codeExpired:"Code has expired. Please request a new one.",networkError:"Network error. Please check your connection."},OF={title:"Sign Out",confirmMessage:"Are you sure you want to sign out?",confirm:"Sign Out",cancel:"Cancel"},IF={login:EF,register:TF,verification:UF,forgotPassword:LF,resetPassword:FF,errors:MF,signOut:OF},DF="Dashboard",RF="Welcome back, {{name}}!",PF="Welcome back!",QF="Your travel command center",_F={countdown:"Your next adventure to {{destination}} begins in {{days}} days.",empty:"Plan your next adventure today!",badge:"NEXT: {{destination}} ({{days}}D)",badgeEmpty:"NO TRIPS PLANNED"},HF={explored:"EXPLORED",ready:"READY TO GO"},zF="View All Trips",$F="Start AI Planning",VF={title:"Upcoming Itinerary",viewFull:"View Full Schedule",empty:"No upcoming appointments",planFirst:"Plan your first trip"},KF={title:"Trip Idea?",description:"Not sure where to go next? Ask the AI Planner to suggest destinations.",button:"Ask AI Planner"},GF={title:"Saved Drafts",empty:"No saved drafts yet"},WF={upcomingTrips:"Upcoming Trips",countriesVisited:"Countries Visited",savedItineraries:"Saved Itineraries",totalDistance:"Total Distance"},YF={title:"Quick Actions",planTrip:"Plan a Trip",findFood:"Find Food",viewTrips:"View My Trips",translate:"Translate"},XF={title:"Recent Trips",noTrips:"No trips yet",startPlanning:"Start planning your first adventure!",createTrip:"Create Trip",viewAll:"View All Trips"},JF={title:"Upcoming Trips",noUpcoming:"No upcoming trips",daysLeft:"{{days}} days to go",tomorrow:"Tomorrow",today:"Today"},ZF={title:"Weather",currentLocation:"Current Location",feelsLike:"Feels like",humidity:"Humidity",wind:"Wind"},qF={title:"Recent Notifications",noNotifications:"No new notifications",viewAll:"View All"},eM={title:"Upgrade to Premium",description:"Unlock unlimited trips, AI features, and more!",features:["Unlimited trip planning","Full chat history","Priority AI responses","Export to calendar"],upgradeNow:"Upgrade Now"},tM={title:DF,welcome:RF,welcomeDefault:PF,subtitle:QF,nextTrip:_F,badges:HF,viewAllTrips:zF,startAiPlanning:$F,upcomingItinerary:VF,tripIdea:KF,savedDrafts:GF,stats:WF,quickActions:YF,recentTrips:XF,upcomingTrips:JF,weather:ZF,notifications:qF,premium:eM},sM="GogoTrip",rM="...",nM="",aM="",iM="",oM="",lM="",cM="",dM="",uM="",AM="",hM="",fM="",mM="",pM="",gM="",xM="",bM="",vM="",yM="",wM="",jM="",NM="",CM="",kM="",BM="",SM="",EM="",TM={active:"",inactive:"",pending:"",completed:"",cancelled:"",expired:"",verified:"",unverified:""},UM={justNow:"",minutesAgo:"{{count}}",hoursAgo:"{{count}}",yesterday:"",daysAgo:"{{count}}"},LM={networkError:"",serverError:"",unauthorized:"",forbidden:"",notFound:"",validationError:"",unknownError:""},FM={signOut:"",signIn:"",signUp:"",learnMore:"",getStarted:"",upgrade:"",download:"",share:"",copy:"",copied:""},MM={appName:sM,loading:rM,save:nM,cancel:aM,delete:"",rename:iM,edit:oM,confirm:lM,close:cM,search:dM,back:uM,next:AM,submit:hM,refresh:fM,retry:mM,yes:pM,no:gM,ok:xM,done:bM,continue:"",skip:vM,viewAll:yM,viewMore:wM,showLess:jM,noResults:NM,emptyState:CM,error:kM,success:BM,warning:SM,info:EM,status:TM,time:UM,errors:LM,actions:FM},OM="",IM="",DM={profile:"",security:"",preferences:"",integrations:"",language:"",notifications:"",privacy:""},RM={title:"",description:"",fullName:"",fullNamePlaceholder:"",email:"",emailReadOnly:"",avatar:"",changePhoto:"",removePhoto:"",photoHint:" JPGPNG  GIF  1MB",saveChanges:"",saving:"...",saved:""},PM={title:"",description:"",changePassword:"",currentPassword:"",newPassword:"",confirmPassword:"",passwordRequirements:"8",updatePassword:"",twoFactor:"",twoFactorDesc:"",enable2FA:"",disable2FA:"",verificationCode:"",enterCode:"",verifyCode:"",resendCode:"",codeExpires:" {{seconds}} "},QM={title:"",description:"AI",selectLanguage:"",currentLanguage:"",changeSuccess:"",changing:"...",languageHint:"AI",languages:{en:"English",zh:"",ms:"Bahasa Melayu"}},_M={title:"",description:"",emailNotifications:"",emailNotificationsDesc:"AI",pushNotifications:"",pushNotificationsDesc:"",marketingEmails:"",marketingEmailsDesc:""},HM={title:"",description:"",dataUsage:"AI",dataUsageDesc:"AI",analytics:"",analyticsDesc:"GogoTrip",deleteAccount:"",deleteAccountDesc:"",deleteWarning:""},zM={title:"",description:"",googleAccount:"Google ",googleLinked:" {{email}}",googleNotLinked:"",linkGoogle:" Google ",unlinkGoogle:"",googleCalendar:"Google ",googleCalendarDesc:" Google ",calendarConnected:"",calendarNotConnected:"",connectCalendar:"",disconnectCalendar:""},$M={title:OM,subtitle:IM,sections:DM,profile:RM,security:PM,language:QM,notifications:_M,privacy:HM,integrations:zM},VM="AI",KM="AI",GM="...",WM="3",YM=["...","...","...","7...","...","RM 2000..."],XM="",JM="...",ZM="AI...",qM="AI...",e8="",t8="",s8="",r8="",n8="",a8="",i8="",o8="",l8="{{count}}",c8={title:"",tripWizard:"",tripWizardDesc:"",foodWizard:"",foodWizardDesc:""},d8={title:"",destination:"",destinationPlaceholder:"",duration:"",durationOptions:{"1day":"","2days":"2","3days":"3","5days":"5","7days":"",custom:""},mood:"",moodOptions:{relaxed:"",energetic:"",romantic:"",family:"",adventure:""},budget:"",budgetOptions:{low:"",medium:"",high:"",luxury:""},transport:"",transportOptions:{public:"",car:"/",walk:""},dietary:"",dietaryOptions:{halal:"",vegetarian:"",vegan:"",noPork:"",noBeef:""},companions:"",companionOptions:{solo:"",couple:"",friends:"",family:""},generatePlan:"",generating:"..."},u8={title:"",cuisine:"",cuisineOptions:{local:"",chinese:"",indian:"",japanese:"",korean:"",western:"",any:""},mealType:"",mealOptions:{breakfast:"",lunch:"",dinner:"",snack:"/",supper:""},vibe:"",vibeOptions:{quick:"",casual:"",romantic:"",group:""},findFood:"",finding:"..."},A8={day:"{{number}}",morning:"",afternoon:"",evening:"",night:"",lunch:"",dinner:"",budget:"",tips:"",savePlan:"",exportCalendar:"",shareLink:""},h8={title:"",distance:" {{distance}}",rating:"{{rating}} ",priceLevel:"{{level}}",openNow:"",closed:"",directions:"",addToPlan:""},f8={sendFailed:"",loadFailed:"",aiError:"AI",loadConversationFailed:"",deleteFailed:"",renameFailed:"",shareFailed:"",copyFailed:"",saveFailed:""},m8={conversationDeleted:"",linkCopied:"",tripSaved:"",placeAdded:"{{name}}"},p8={historyLocked:"",unlockHistory:"",upgradeNow:""},g8={title:VM,subtitle:KM,placeholder:GM,placeholderExamples:WM,placeholdersList:YM,send:XM,sending:JM,thinking:ZM,typing:qM,newChat:e8,clearChat:t8,history:s8,noHistory:r8,startNewChat:n8,loadMore:a8,today:i8,yesterday:o8,daysAgo:l8,wizards:c8,tripWizard:d8,foodWizard:u8,dailyPlan:A8,recommendations:h8,errors:f8,messages:m8,premium:p8},x8={dashboard:"",aiPlanner:"AI",myTrips:"",travelStories:"",notes:"",calendar:"",translate:"",expenses:"",settings:"",support:"",billing:"",premium:"",adminPortal:"",helpSupport:"",about:""},b8={search:"...",searchPlaceholder:"...",notifications:"",noNotifications:"",markAllRead:"",viewAll:"",viewAllAnnouncements:""},v8={profile:"",account:"",billing:"",settings:"",help:"",signOut:"",switchToAdmin:"",switchToUser:""},y8={title:"",dashboard:"",users:"",trips:"",subscriptions:"",notifications:"",settings:"",systemLogs:"",messaging:""},w8={copyright:" 2024 GogoTrip. ",terms:"",privacy:"",contact:""},j8={sidebar:x8,topBar:b8,userMenu:v8,admin:y8,footer:w8},N8={title:"",subtitle:"",email:"",emailPlaceholder:"",password:"",passwordPlaceholder:"",rememberMe:"",forgotPassword:"",signIn:"",signingIn:"...",noAccount:"",signUpLink:"",orContinueWithEmail:"",orContinueWith:"",googleSignIn:" Google "},C8={title:"",subtitle:"",fullName:"",fullNamePlaceholder:"",email:"",emailPlaceholder:"",password:"",passwordPlaceholder:"",confirmPassword:"",confirmPasswordPlaceholder:"",agreeTerms:"",termsLink:"",andText:"",privacyLink:"",signUp:"",signingUp:"...",hasAccount:"",signInLink:"",backToSignUp:""},k8={title:"",subtitle:"",enterCode:"",codePlaceholder:"{{length}}",verify:"",verifying:"...",resendCode:"",resendIn:"{{seconds}}",codeSent:"",verified:"",redirecting:"...",enterCodeDesc:"",didntReceive:"",checkEmail:""},B8={title:"",subtitle:"",email:"",emailPlaceholder:"",sendLink:"",sending:"...",linkSent:"",backToLogin:""},S8={title:"",subtitle:"",newPassword:"",newPasswordPlaceholder:"",confirmPassword:"",confirmPasswordPlaceholder:"",resetPassword:"",resetting:"...",success:"",loginNow:""},E8={invalidEmail:"",invalidPassword:"8",passwordMismatch:"",emailExists:"",invalidCredentials:"",accountNotVerified:"",accountSuspended:"",tooManyAttempts:"",invalidCode:"",codeExpired:"",networkError:""},T8={title:"",confirmMessage:"",confirm:"",cancel:""},U8={login:N8,register:C8,verification:k8,forgotPassword:B8,resetPassword:S8,errors:E8,signOut:T8},L8="",F8="{{name}}",M8="",O8="",I8={countdown:"{{destination}}{{days}}",empty:"",badge:"{{destination}} ({{days}})",badgeEmpty:""},D8={explored:"",ready:""},R8="",P8="AI",Q8={title:"",viewFull:"",empty:"",planFirst:""},_8={title:"",description:"AI",button:"AI"},H8={title:"",empty:""},z8={upcomingTrips:"",countriesVisited:"",savedItineraries:"",totalDistance:""},$8={title:"",planTrip:"",findFood:"",viewTrips:"",translate:""},V8={title:"",noTrips:"",startPlanning:"",createTrip:"",viewAll:""},K8={title:"",noUpcoming:"",daysLeft:" {{days}} ",tomorrow:"",today:""},G8={title:"",currentLocation:"",feelsLike:"",humidity:"",wind:""},W8={title:"",noNotifications:"",viewAll:""},Y8={title:"",description:"AI",features:["","","AI",""],upgradeNow:""},X8={title:L8,welcome:F8,welcomeDefault:M8,subtitle:O8,nextTrip:I8,badges:D8,viewAllTrips:R8,startAiPlanning:P8,upcomingItinerary:Q8,tripIdea:_8,savedDrafts:H8,stats:z8,quickActions:$8,recentTrips:V8,upcomingTrips:K8,weather:G8,notifications:W8,premium:Y8},J8="GogoTrip",Z8="Memuatkan...",q8="Simpan",eO="Batal",tO="Namakan Semula",sO="Edit",rO="Sahkan",nO="Tutup",aO="Cari",iO="Kembali",oO="Seterusnya",lO="Hantar",cO="Muat Semula",dO="Cuba Lagi",uO="Ya",AO="Tidak",hO="OK",fO="Selesai",mO="Langkau",pO="Lihat Semua",gO="Lihat Lagi",xO="Tunjuk Kurang",bO="Tiada hasil ditemui",vO="Tiada apa-apa di sini",yO="Ralat",wO="Berjaya",jO="Amaran",NO="Maklumat",CO={active:"Aktif",inactive:"Tidak Aktif",pending:"Menunggu",completed:"Selesai",cancelled:"Dibatalkan",expired:"Tamat Tempoh",verified:"Disahkan",unverified:"Belum Disahkan"},kO={justNow:"Baru sahaja",minutesAgo:"{{count}} minit lalu",hoursAgo:"{{count}} jam lalu",yesterday:"Semalam",daysAgo:"{{count}} hari lalu"},BO={networkError:"Ralat rangkaian. Sila cuba lagi.",serverError:"Ralat pelayan. Sila cuba lagi kemudian.",unauthorized:"Sila log masuk untuk meneruskan.",forbidden:"Anda tiada kebenaran untuk melakukan ini.",notFound:"Tidak ditemui.",validationError:"Sila semak input anda.",unknownError:"Sesuatu tidak kena. Sila cuba lagi."},SO={signOut:"Log Keluar",signIn:"Log Masuk",signUp:"Daftar",learnMore:"Ketahui Lebih",getStarted:"Mulakan",upgrade:"Naik Taraf",download:"Muat Turun",share:"Kongsi",copy:"Salin",copied:"Disalin!"},EO={appName:J8,loading:Z8,save:q8,cancel:eO,delete:"Padam",rename:tO,edit:sO,confirm:rO,close:nO,search:aO,back:iO,next:oO,submit:lO,refresh:cO,retry:dO,yes:uO,no:AO,ok:hO,done:fO,continue:"Teruskan",skip:mO,viewAll:pO,viewMore:gO,showLess:xO,noResults:bO,emptyState:vO,error:yO,success:wO,warning:jO,info:NO,status:CO,time:kO,errors:BO,actions:SO},TO="Tetapan",UO="Urus keutamaan akaun anda",LO={profile:"Profil",security:"Keselamatan",preferences:"Keutamaan",integrations:"Integrasi",language:"Bahasa",notifications:"Pemberitahuan",privacy:"Privasi"},FO={title:"Maklumat Profil",description:"Kemas kini butiran peribadi anda",fullName:"Nama Penuh",fullNamePlaceholder:"Masukkan nama penuh anda",email:"Alamat E-mel",emailReadOnly:"E-mel tidak boleh ditukar",avatar:"Gambar Profil",changePhoto:"Tukar Gambar",removePhoto:"Buang Gambar",photoHint:"JPG, PNG atau GIF. Maksimum 1MB.",saveChanges:"Simpan Perubahan",saving:"Menyimpan...",saved:"Profil berjaya dikemas kini!"},MO={title:"Tetapan Keselamatan",description:"Urus keselamatan akaun anda",changePassword:"Tukar Kata Laluan",currentPassword:"Kata Laluan Semasa",newPassword:"Kata Laluan Baharu",confirmPassword:"Sahkan Kata Laluan Baharu",passwordRequirements:"Kata laluan mestilah sekurang-kurangnya 8 aksara",updatePassword:"Kemas Kini Kata Laluan",twoFactor:"Pengesahan Dua Faktor",twoFactorDesc:"Tambah lapisan keselamatan tambahan pada akaun anda",enable2FA:"Aktifkan 2FA",disable2FA:"Nyahaktifkan 2FA",verificationCode:"Kod Pengesahan",enterCode:"Masukkan kod yang dihantar ke e-mel anda",verifyCode:"Sahkan Kod",resendCode:"Hantar Semula Kod",codeExpires:"Kod tamat dalam {{seconds}} saat"},OO={title:"Bahasa",description:"Pilih bahasa pilihan anda untuk antara muka dan respons AI",selectLanguage:"Pilih Bahasa",currentLanguage:"Bahasa Semasa",changeSuccess:"Bahasa berjaya dikemas kini!",changing:"Menukar bahasa...",languageHint:"Ini akan menukar bahasa semua teks dalam aplikasi, termasuk respons chat AI.",languages:{en:"English",zh:"",ms:"Bahasa Melayu"}},IO={title:"Keutamaan Pemberitahuan",description:"Kawal cara anda menerima kemas kini",emailNotifications:"Pemberitahuan E-mel",emailNotificationsDesc:"Terima kemas kini perjalanan dan cadangan AI melalui e-mel",pushNotifications:"Pemberitahuan Push",pushNotificationsDesc:"Terima pemberitahuan dalam pelayar anda",marketingEmails:"E-mel Pemasaran",marketingEmailsDesc:"Terima berita, promosi, dan tip"},DO={title:"Tetapan Privasi",description:"Kawal data dan privasi anda",dataUsage:"Penggunaan Data AI",dataUsageDesc:"Benarkan AI menggunakan sejarah perjalanan anda untuk cadangan yang lebih baik",analytics:"Analitik",analyticsDesc:"Bantu tingkatkan GogoTrip dengan berkongsi data penggunaan tanpa nama",deleteAccount:"Padam Akaun",deleteAccountDesc:"Padam akaun dan semua data anda secara kekal",deleteWarning:"Tindakan ini tidak boleh dibatalkan. Semua perjalanan, data, dan keutamaan anda akan dipadam secara kekal."},RO={title:"Akaun Bersambung",description:"Urus akaun dan perkhidmatan yang dipautkan",googleAccount:"Akaun Google",googleLinked:"Bersambung sebagai {{email}}",googleNotLinked:"Tidak bersambung",linkGoogle:"Pautkan Akaun Google",unlinkGoogle:"Nyahpaut",googleCalendar:"Kalendar Google",googleCalendarDesc:"Segerakkan perjalanan anda ke Kalendar Google",calendarConnected:"Bersambung",calendarNotConnected:"Tidak bersambung",connectCalendar:"Sambungkan Kalendar",disconnectCalendar:"Putuskan Sambungan"},PO={title:TO,subtitle:UO,sections:LO,profile:FO,security:MO,language:OO,notifications:IO,privacy:DO,integrations:RO},QO="Perancang Perjalanan AI",_O="Rancang perjalanan sempurna anda dengan bantuan AI",HO="Tanya saya apa-apa tentang perjalanan anda...",zO='cth., "Rancang perjalanan 3 hari ke Pulau Pinang" atau "Cari restoran halal berdekatan"',$O=["Gambarkan perjalanan impian anda ke Kyoto...","Rancang percutian hujung minggu ke Lembah Napa...","Cari restoran sushi terbaik di Tokyo...","Cadangkan itinerari 7 hari untuk Itali...","Mencari aktiviti mesra keluarga di London...","Tunjukkan penerbangan ke New York di bawah RM 2000..."],VO="Hantar",KO="Menghantar...",GO="AI sedang berfikir...",WO="AI sedang menaip...",YO="Perbualan Baharu",XO="Padam Perbualan",JO="Sejarah Perbualan",ZO="Tiada sejarah perbualan",qO="Mula perbualan baharu!",eI="Muat Lebih",tI="Hari Ini",sI="Semalam",rI="{{count}} hari lalu",nI={title:"Mula Pantas",tripWizard:"Wizard Perjalanan",tripWizardDesc:"Rancang itinerari berbilang hari yang lengkap",foodWizard:"Wizard Makanan",foodWizardDesc:"Cari tempat makan yang sempurna"},aI={title:"Wizard Perjalanan",destination:"Ke mana anda mahu pergi?",destinationPlaceholder:"cth., Kuala Lumpur, Pulau Pinang, Singapura",duration:"Berapa lama perjalanan anda?",durationOptions:{"1day":"Satu Hari","2days":"2 Hari","3days":"3 Hari","5days":"5 Hari","7days":"1 Minggu",custom:"Tersuai"},mood:"Apakah gaya perjalanan anda?",moodOptions:{relaxed:"Santai",energetic:"Bertenaga",romantic:"Romantik",family:"Mesra Keluarga",adventure:"Pengembaraan"},budget:"Apakah bajet anda?",budgetOptions:{low:"Bajet",medium:"Sederhana",high:"Premium",luxury:"Mewah"},transport:"Bagaimana anda akan bergerak?",transportOptions:{public:"Pengangkutan Awam",car:"Kereta / Grab",walk:"Berjalan Kaki"},dietary:"Ada keperluan diet?",dietaryOptions:{halal:"Halal",vegetarian:"Vegetarian",vegan:"Vegan",noPork:"Tiada Babi",noBeef:"Tiada Daging Lembu"},companions:"Dengan siapa anda mengembara?",companionOptions:{solo:"Bersendirian",couple:"Pasangan",friends:"Rakan-rakan",family:"Keluarga"},generatePlan:"Jana Pelan Perjalanan",generating:"Mencipta itinerari sempurna anda..."},iI={title:"Wizard Makanan",cuisine:"Apakah masakan yang anda inginkan?",cuisineOptions:{local:"Tempatan Malaysia",chinese:"Cina",indian:"India",japanese:"Jepun",korean:"Korea",western:"Barat",any:"Kejutkan Saya"},mealType:"Hidangan apa?",mealOptions:{breakfast:"Sarapan",lunch:"Makan Tengah Hari",dinner:"Makan Malam",snack:"Snek/Teh",supper:"Supper"},vibe:"Apakah suasananya?",vibeOptions:{quick:"Makan Cepat",casual:"Santai",romantic:"Romantik",group:"Berkumpulan"},findFood:"Cari Makanan",finding:"Mencari pilihan sedap..."},oI={day:"Hari {{number}}",morning:"Pagi",afternoon:"Petang",evening:"Malam",night:"Malam",lunch:"Makan Tengah Hari",dinner:"Makan Malam",budget:"Bajet",tips:"Tip",savePlan:"Simpan Pelan",exportCalendar:"Eksport ke Kalendar",shareLink:"Kongsi Pautan"},lI={title:"Cadangan",distance:"{{distance}} jauhnya",rating:"{{rating}} bintang",priceLevel:"Harga: {{level}}",openNow:"Buka Sekarang",closed:"Tutup",directions:"Dapatkan Arah",addToPlan:"Tambah ke Pelan"},cI={sendFailed:"Gagal menghantar mesej. Sila cuba lagi.",loadFailed:"Gagal memuatkan sejarah perbualan.",aiError:"AI menghadapi ralat. Sila cuba lagi.",loadConversationFailed:"Gagal memuatkan perbualan",deleteFailed:"Gagal memadam",renameFailed:"Gagal menamakan semula",shareFailed:"Gagal berkongsi perbualan",copyFailed:"Gagal menyalin pautan",saveFailed:"Gagal menyimpan perjalanan"},dI={conversationDeleted:"Perbualan dipadam",linkCopied:"Pautan disalin ke papan klip!",tripSaved:"Perjalanan disimpan!",placeAdded:'Menambah "{{name}}" ke pelan anda!'},uI={historyLocked:"Sejarah perbualan adalah ciri Premium",unlockHistory:"Naik taraf untuk menyimpan dan mengakses sejarah perbualan anda",upgradeNow:"Naik Taraf Sekarang"},AI={title:QO,subtitle:_O,placeholder:HO,placeholderExamples:zO,placeholdersList:$O,send:VO,sending:KO,thinking:GO,typing:WO,newChat:YO,clearChat:XO,history:JO,noHistory:ZO,startNewChat:qO,loadMore:eI,today:tI,yesterday:sI,daysAgo:rI,wizards:nI,tripWizard:aI,foodWizard:iI,dailyPlan:oI,recommendations:lI,errors:cI,messages:dI,premium:uI},hI={dashboard:"Papan Pemuka Perjalanan",aiPlanner:"Perancang AI",myTrips:"Perjalanan Saya",travelStories:"Cerita Perjalanan",notes:"Nota",calendar:"Kalendar",translate:"Terjemah",expenses:"Perbelanjaan",settings:"Tetapan",support:"Sokongan",billing:"Bil",premium:"Premium",adminPortal:"Portal Admin",helpSupport:"Bantuan & Sokongan",about:"Tentang"},fI={search:"Cari...",searchPlaceholder:"Cari perjalanan, tempat...",notifications:"Pemberitahuan",noNotifications:"Tiada pemberitahuan baharu",markAllRead:"Tandakan semua sudah dibaca",viewAll:"Lihat Semua",viewAllAnnouncements:"Lihat semua pengumuman"},mI={profile:"Profil",account:"Akaun",billing:"Bil & Pelan",settings:"Tetapan",help:"Bantuan & Sokongan",signOut:"Log Keluar",switchToAdmin:"Tukar ke Admin",switchToUser:"Tukar ke Paparan Pengguna"},pI={title:"Portal Admin",dashboard:"Papan Pemuka",users:"Pengguna",trips:"Perjalanan",subscriptions:"Langganan",notifications:"Pemberitahuan",settings:"Tetapan",systemLogs:"Log Sistem",messaging:"Pemesejan"},gI={copyright:"2024 GogoTrip. Hak cipta terpelihara.",terms:"Terma Perkhidmatan",privacy:"Dasar Privasi",contact:"Hubungi Kami"},xI={sidebar:hI,topBar:fI,userMenu:mI,admin:pI,footer:gI},bI={title:"Selamat Kembali",subtitle:"Log masuk untuk meneruskan perjalanan anda",email:"Alamat E-mel",emailPlaceholder:"Masukkan e-mel anda",password:"Kata Laluan",passwordPlaceholder:"Masukkan kata laluan anda",rememberMe:"Ingat saya",forgotPassword:"Lupa kata laluan?",signIn:"Log Masuk",signingIn:"Sedang log masuk...",noAccount:"Tiada akaun?",signUpLink:"Daftar",orContinueWithEmail:"Atau teruskan dengan e-mel",orContinueWith:"Atau teruskan dengan",googleSignIn:"Teruskan dengan Google"},vI={title:"Cipta Akaun",subtitle:"Mula merancang pengembaraan anda",fullName:"Nama Penuh",fullNamePlaceholder:"Masukkan nama penuh anda",email:"Alamat E-mel",emailPlaceholder:"Masukkan e-mel anda",password:"Kata Laluan",passwordPlaceholder:"Cipta kata laluan",confirmPassword:"Sahkan Kata Laluan",confirmPasswordPlaceholder:"Sahkan kata laluan anda",agreeTerms:"Saya bersetuju dengan",termsLink:"Terma Perkhidmatan",andText:"dan",privacyLink:"Dasar Privasi",signUp:"Cipta Akaun",signingUp:"Mencipta akaun...",hasAccount:"Sudah ada akaun?",signInLink:"Log masuk",backToSignUp:"Kembali ke Daftar"},yI={title:"Sahkan E-mel Anda",subtitle:"Kami telah menghantar kod pengesahan ke",enterCode:"Masukkan kod pengesahan",codePlaceholder:"Masukkan kod {{length}} digit",verify:"Sahkan",verifying:"Mengesahkan...",resendCode:"Hantar semula kod",resendIn:"Hantar semula dalam {{seconds}}s",codeSent:"Kod pengesahan dihantar!",verified:"E-mel berjaya disahkan!",redirecting:"Mengalihkan...",enterCodeDesc:"Masukkan kod dari e-mel anda atau klik pautan pengesahan",didntReceive:"Tidak menerima e-mel?",checkEmail:"Semak e-mel anda untuk kod pengesahan"},wI={title:"Tetapkan Semula Kata Laluan",subtitle:"Masukkan e-mel anda untuk menerima pautan tetapan semula",email:"Alamat E-mel",emailPlaceholder:"Masukkan e-mel anda",sendLink:"Hantar Pautan Tetapan Semula",sending:"Menghantar...",linkSent:"Pautan tetapan semula dihantar! Semak e-mel anda.",backToLogin:"Kembali ke log masuk"},jI={title:"Tetapkan Kata Laluan Baharu",subtitle:"Masukkan kata laluan baharu anda",newPassword:"Kata Laluan Baharu",newPasswordPlaceholder:"Masukkan kata laluan baharu",confirmPassword:"Sahkan Kata Laluan",confirmPasswordPlaceholder:"Sahkan kata laluan baharu",resetPassword:"Tetapkan Semula Kata Laluan",resetting:"Menetapkan semula...",success:"Kata laluan berjaya ditetapkan semula!",loginNow:"Log Masuk Sekarang"},NI={invalidEmail:"Sila masukkan alamat e-mel yang sah",invalidPassword:"Kata laluan mestilah sekurang-kurangnya 8 aksara",passwordMismatch:"Kata laluan tidak sepadan",emailExists:"Akaun dengan e-mel ini sudah wujud",invalidCredentials:"E-mel atau kata laluan tidak sah",accountNotVerified:"Sila sahkan e-mel anda terlebih dahulu",accountSuspended:"Akaun anda telah digantung",tooManyAttempts:"Terlalu banyak percubaan. Sila cuba lagi kemudian.",invalidCode:"Kod pengesahan tidak sah",codeExpired:"Kod telah tamat tempoh. Sila minta yang baharu.",networkError:"Ralat rangkaian. Sila semak sambungan anda."},CI={title:"Log Keluar",confirmMessage:"Adakah anda pasti mahu log keluar?",confirm:"Log Keluar",cancel:"Batal"},kI={login:bI,register:vI,verification:yI,forgotPassword:wI,resetPassword:jI,errors:NI,signOut:CI},BI="Papan Pemuka",SI="Selamat kembali, {{name}}!",EI="Selamat kembali!",TI="Pusat kawalan perjalanan anda",UI={countdown:"Pengembaraan anda seterusnya ke {{destination}} bermula dalam {{days}} hari.",empty:"Rancang pengembaraan anda hari ini!",badge:"SETERUSNYA: {{destination}} ({{days}}H)",badgeEmpty:"TIADA PERJALANAN"},LI={explored:"DIJELAJAH",ready:"SEDIA"},FI="Lihat Semua Perjalanan",MI="Mula Perancangan AI",OI={title:"Itinerari Akan Datang",viewFull:"Lihat Jadual Penuh",empty:"Tiada janji temu akan datang",planFirst:"Rancang perjalanan pertama anda"},II={title:"Idea Perjalanan?",description:"Tidak pasti ke mana seterusnya? Tanya Perancang AI untuk cadangan.",button:"Tanya Perancang AI"},DI={title:"Draf Disimpan",empty:"Tiada draf disimpan"},RI={upcomingTrips:"Perjalanan Akan Datang",countriesVisited:"Negara Dilawati",savedItineraries:"Itinerari Disimpan",totalDistance:"Jumlah Jarak"},PI={title:"Tindakan Pantas",planTrip:"Rancang Perjalanan",findFood:"Cari Makanan",viewTrips:"Lihat Perjalanan Saya",translate:"Terjemah"},QI={title:"Perjalanan Terkini",noTrips:"Tiada perjalanan lagi",startPlanning:"Mula merancang pengembaraan pertama anda!",createTrip:"Cipta Perjalanan",viewAll:"Lihat Semua Perjalanan"},_I={title:"Perjalanan Akan Datang",noUpcoming:"Tiada perjalanan akan datang",daysLeft:"{{days}} hari lagi",tomorrow:"Esok",today:"Hari Ini"},HI={title:"Cuaca",currentLocation:"Lokasi Semasa",feelsLike:"Terasa seperti",humidity:"Kelembapan",wind:"Angin"},zI={title:"Pemberitahuan Terkini",noNotifications:"Tiada pemberitahuan baharu",viewAll:"Lihat Semua"},$I={title:"Naik Taraf ke Premium",description:"Buka kunci perjalanan tanpa had, ciri AI, dan banyak lagi!",features:["Perancangan perjalanan tanpa had","Sejarah perbualan penuh","Respons AI keutamaan","Eksport ke kalendar"],upgradeNow:"Naik Taraf Sekarang"},VI={title:BI,welcome:SI,welcomeDefault:EI,subtitle:TI,nextTrip:UI,badges:LI,viewAllTrips:FI,startAiPlanning:MI,upcomingItinerary:OI,tripIdea:II,savedDrafts:DI,stats:RI,quickActions:PI,recentTrips:QI,upcomingTrips:_I,weather:HI,notifications:zI,premium:$I},KI=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"zh",name:"Chinese",nativeName:"",flag:""},{code:"ms",name:"Malay",nativeName:"Bahasa Melayu",flag:""}],GI={en:{common:PL,settings:YL,chat:wF,nav:SF,auth:IF,dashboard:tM},zh:{common:MM,settings:$M,chat:g8,nav:j8,auth:U8,dashboard:X8},ms:{common:EO,settings:PO,chat:AI,nav:xI,auth:kI,dashboard:VI}},dy="gogotrip_language";hc.use(G5).use(U6).init({resources:GI,fallbackLng:"en",supportedLngs:["en","zh","ms"],defaultNS:"common",ns:["common","settings","chat","nav","auth","dashboard"],detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:dy},react:{useSuspense:!1},initImmediate:!0,interpolation:{escapeValue:!1},debug:!1});const ox=async s=>{await hc.changeLanguage(s),localStorage.setItem(dy,s)},W5=()=>{const s=hc.language;if(["en","zh","ms"].includes(s))return s;const e=s.split("-")[0];return["en","zh","ms"].includes(e)?e:"en"},hv=s=>{s&&["en","zh","ms"].includes(s)&&ox(s)},WI=[{id:"relaxed",label:"Relaxed",icon:Em},{id:"energetic",label:"Energetic",icon:Ao},{id:"romantic",label:"Romantic",icon:bf},{id:"family",label:"Family Fun",icon:Ld}],YI=[{id:"solo",label:"Solo"},{id:"couple",label:"Couple"},{id:"family",label:"Family"},{id:"friends",label:"Friends"}],XI=[{id:"car",label:"Car",icon:c5},{id:"public",label:"Public Transport",icon:Xo},{id:"walk",label:"Walking",icon:n3}],JI=[{id:"low",label:"Budget",desc:"Cheap & Cheerful"},{id:"medium",label:"Standard",desc:"Balanced"},{id:"high",label:"Premium",desc:"Treat Yourself"},{id:"luxury",label:"Luxury",desc:"Spare No Expense"}],ZI=["Halal","Vegetarian","Vegan","No Beef","No Pork","Gluten Free"],qI=({isOpen:s,onClose:e,onComplete:r})=>{const[n,a]=W.useState(1),[l,u]=W.useState({mood:"",companions:"",budget:"medium",transport:"",dietary:[]});if(!s)return null;const d=()=>{n<3?a(n+1):r(l)},A=o=>{u(f=>({...f,dietary:f.dietary.includes(o)?f.dietary.filter(m=>m!==o):[...f.dietary,o]}))};return t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-200 dark:border-slate-800 flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/50",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Trip Wizard"}),t.jsxs("p",{className:"text-xs text-slate-500",children:["Step ",n," of 3"]})]}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-200 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[n===1&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"What's the vibe today?"}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:WI.map(o=>t.jsxs("button",{onClick:()=>u({...l,mood:o.id}),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border transition-all ${l.mood===o.id?"border-sky-500 bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 ring-1 ring-sky-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(o.icon,{className:"w-6 h-6"}),t.jsx("span",{className:"text-sm font-medium",children:o.label})]},o.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Who are you with?"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:YI.map(o=>t.jsx("button",{onClick:()=>u({...l,companions:o.id}),className:`px-4 py-2 rounded-full text-sm font-medium border transition-all ${l.companions===o.id?"bg-slate-900 text-white dark:bg-white dark:text-slate-900 border-transparent":"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-100"}`,children:o.label},o.id))})]})]}),n===2&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(kf,{className:"w-4 h-4"})," Budget Level"]}),t.jsx("div",{className:"grid grid-cols-1 gap-2",children:JI.map(o=>t.jsxs("button",{onClick:()=>u({...l,budget:o.id}),className:`flex items-center justify-between p-3 rounded-xl border transition-all ${l.budget===o.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 ring-1 ring-emerald-500":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx("span",{className:"text-sm font-medium text-slate-900 dark:text-white",children:o.label}),t.jsx("span",{className:"text-xs text-slate-500",children:o.desc})]},o.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"How are you getting around?"}),t.jsx("div",{className:"flex gap-2",children:XI.map(o=>t.jsxs("button",{onClick:()=>u({...l,transport:o.id}),className:`flex-1 flex flex-col items-center gap-2 p-3 rounded-xl border transition-all ${l.transport===o.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(o.icon,{className:"w-5 h-5"}),t.jsx("span",{className:"text-xs font-medium",children:o.label})]},o.id))})]})]}),n===3&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Gd,{className:"w-4 h-4"})," Dietary Preferences"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:ZI.map(o=>t.jsx("button",{onClick:()=>A(o),className:`px-3 py-1.5 rounded-lg text-sm font-medium border transition-all ${l.dietary.includes(o)?"bg-rose-100 text-rose-700 border-rose-200 dark:bg-rose-900/30 dark:text-rose-300 dark:border-rose-800":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,children:o},o))})]}),t.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-100 dark:border-slate-800 text-sm text-slate-600 dark:text-slate-400",children:t.jsx("p",{children:"Ready to generate your custom plan? The AI will use these preferences to find the best spots for you."})})]})]}),t.jsx("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900",children:t.jsx("button",{onClick:d,disabled:n===1&&(!l.mood||!l.companions),className:"w-full py-3 bg-gradient-to-r from-sky-500 to-blue-600 text-white font-bold rounded-xl shadow-lg shadow-sky-500/20 hover:shadow-sky-500/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:n===3?t.jsxs(t.Fragment,{children:[t.jsx(Ao,{className:"w-5 h-5"})," Generate My Plan"]}):t.jsxs(t.Fragment,{children:["Next Step ",t.jsx(DA,{className:"w-5 h-5"})]})})})]})})},eD=[{id:"local",label:"Local",icon:""},{id:"chinese",label:"Chinese",icon:""},{id:"japanese",label:"Japanese",icon:""},{id:"korean",label:"Korean",icon:""},{id:"western",label:"Western",icon:""},{id:"indian",label:"Indian",icon:""},{id:"thai",label:"Thai",icon:""},{id:"malay",label:"Malay",icon:""}],Z2=[{id:"quick",label:"Quick Bite",icon:Vi,desc:"Fast & convenient"},{id:"casual",label:"Casual",icon:Em,desc:"Relaxed dining"},{id:"romantic",label:"Date Night",icon:bf,desc:"Special occasion"},{id:"group",label:"Group Feast",icon:Ld,desc:"Friends & family"}],q2=[{id:"breakfast",label:"Breakfast",icon:""},{id:"lunch",label:"Lunch",icon:""},{id:"dinner",label:"Dinner",icon:""},{id:"supper",label:"Supper",icon:""},{id:"cafe",label:"Cafe/Dessert",icon:""}],ew=[{id:"low",label:"Budget",desc:"Under RM 15/pax",icon:"$"},{id:"medium",label:"Moderate",desc:"RM 15-40/pax",icon:"$$"},{id:"high",label:"Upscale",desc:"RM 40-80/pax",icon:"$$$"},{id:"luxury",label:"Fine Dining",desc:"RM 80+/pax",icon:"$$$$"}],tD=[{id:"halal",label:"Halal",icon:""},{id:"vegetarian",label:"Vegetarian",icon:""},{id:"vegan",label:"Vegan",icon:""},{id:"no-pork",label:"No Pork",icon:""},{id:"no-beef",label:"No Beef",icon:""},{id:"gluten-free",label:"Gluten Free",icon:""}],sD=[{id:"nearby",label:"Walking (< 1km)",value:"1"},{id:"short",label:"Short drive (< 5km)",value:"5"},{id:"any",label:"Any distance",value:"15"}],rD=({isOpen:s,onClose:e,onComplete:r,userLocation:n})=>{var p,x,b;const[a,l]=W.useState(1),[u,d]=W.useState({cuisine:[],mood:"",budget:"medium",dietary:[],mealType:"",distance:"5"});if(!s)return null;const A=()=>{a<3?l(a+1):r(u)},o=y=>{d(w=>({...w,cuisine:w.cuisine.includes(y)?w.cuisine.filter(E=>E!==y):[...w.cuisine,y]}))},f=y=>{d(w=>({...w,dietary:w.dietary.includes(y)?w.dietary.filter(E=>E!==y):[...w.dietary,y]}))},m=()=>a===1?u.mealType&&u.mood:!0;return t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden border border-slate-200 dark:border-slate-800 flex flex-col max-h-[90vh]",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl shadow-lg shadow-orange-500/20",children:t.jsx(Gd,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Food Finder"}),t.jsxs("p",{className:"text-xs text-slate-500",children:["Step ",a," of 3  Quick recommendations"]})]})]}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-white/50 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto flex-1",children:[a===1&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4 text-orange-500"})," What meal are you looking for?"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:q2.map(y=>t.jsxs("button",{onClick:()=>d({...u,mealType:y.id}),className:`flex items-center gap-2 px-4 py-2.5 rounded-xl border transition-all ${u.mealType===y.id?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx("span",{className:"text-lg",children:y.icon}),t.jsx("span",{className:"text-sm font-medium",children:y.label})]},y.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"What's the vibe?"}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:Z2.map(y=>t.jsxs("button",{onClick:()=>d({...u,mood:y.id}),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border transition-all ${u.mood===y.id?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(y.icon,{className:"w-6 h-6"}),t.jsx("span",{className:"text-sm font-bold",children:y.label}),t.jsx("span",{className:"text-[10px] text-slate-500",children:y.desc})]},y.id))})]})]}),a===2&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(kf,{className:"w-4 h-4 text-emerald-500"})," Budget per person"]}),t.jsx("div",{className:"grid grid-cols-2 gap-2",children:ew.map(y=>t.jsxs("button",{onClick:()=>d({...u,budget:y.id}),className:`flex items-center justify-between p-3 rounded-xl border transition-all ${u.budget===y.id?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 ring-1 ring-emerald-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsxs("div",{className:"text-left",children:[t.jsx("span",{className:"text-sm font-bold text-slate-900 dark:text-white block",children:y.label}),t.jsx("span",{className:"text-[10px] text-slate-500",children:y.desc})]}),t.jsx("span",{className:"text-lg font-bold text-emerald-600",children:y.icon})]},y.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(O3,{className:"w-4 h-4 text-green-500"})," Dietary requirements (optional)"]}),t.jsx("div",{className:"flex flex-wrap gap-2",children:tD.map(y=>t.jsxs("button",{onClick:()=>f(y.id),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-sm font-medium border transition-all ${u.dietary.includes(y.id)?"bg-green-100 text-green-700 border-green-300 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{children:y.icon}),t.jsx("span",{children:y.label})]},y.id))})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Xo,{className:"w-4 h-4 text-blue-500"})," Distance"]}),t.jsx("div",{className:"flex gap-2",children:sD.map(y=>t.jsx("button",{onClick:()=>d({...u,distance:y.value}),className:`flex-1 py-2.5 px-3 rounded-xl text-sm font-medium border transition-all ${u.distance===y.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:y.label},y.id))})]})]}),a===3&&t.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 flex items-center gap-2",children:[t.jsx(Gd,{className:"w-4 h-4 text-orange-500"})," What are you craving? (optional)"]}),t.jsx("p",{className:"text-xs text-slate-500",children:"Select one or more, or skip for varied suggestions"}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:eD.map(y=>t.jsxs("button",{onClick:()=>o(y.id),className:`flex flex-col items-center gap-1 p-3 rounded-xl border transition-all ${u.cuisine.includes(y.id)?"border-orange-500 bg-orange-50 dark:bg-orange-900/20 ring-1 ring-orange-500":"border-slate-200 dark:border-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{className:"text-2xl",children:y.icon}),t.jsx("span",{className:"text-[10px] font-bold text-slate-700 dark:text-slate-300",children:y.label})]},y.id))})]}),t.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 p-4 rounded-xl border border-orange-100 dark:border-orange-800/30",children:[t.jsxs("h4",{className:"text-sm font-bold text-orange-800 dark:text-orange-300 mb-2 flex items-center gap-2",children:[t.jsx(Ao,{className:"w-4 h-4"})," Ready to find your perfect meal!"]}),t.jsxs("div",{className:"text-xs text-orange-700 dark:text-orange-400 space-y-1",children:[t.jsxs("p",{children:[" ",((p=q2.find(y=>y.id===u.mealType))==null?void 0:p.label)||"Any meal","  ",((x=Z2.find(y=>y.id===u.mood))==null?void 0:x.label)||"Any mood"]}),t.jsxs("p",{children:[" Budget: ",(b=ew.find(y=>y.id===u.budget))==null?void 0:b.desc]}),u.dietary.length>0&&t.jsxs("p",{children:[" Dietary: ",u.dietary.join(", ")]}),u.cuisine.length>0&&t.jsxs("p",{children:[" Cuisine: ",u.cuisine.join(", ")]})]})]})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex gap-3",children:[a>1&&t.jsx("button",{onClick:()=>l(a-1),className:"px-4 py-3 text-slate-600 dark:text-slate-400 font-medium rounded-xl hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:"Back"}),t.jsx("button",{onClick:A,disabled:!m(),className:"flex-1 py-3 bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold rounded-xl shadow-lg shadow-orange-500/20 hover:shadow-orange-500/30 active:scale-[0.98] transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:a===3?t.jsxs(t.Fragment,{children:[t.jsx(Ao,{className:"w-5 h-5"})," Find Food"]}):t.jsxs(t.Fragment,{children:["Next ",t.jsx(DA,{className:"w-5 h-5"})]})})]})]})})},nD=s=>s.place_id?`${Dt}/proxy_image?place_id=${s.place_id}`:s.google_place_id?`${Dt}/proxy_image?google_place_id=${encodeURIComponent(s.google_place_id)}`:s.photo_reference&&s.photo_reference!=="N/A"?`${Dt}/proxy_image?ref=${encodeURIComponent(s.photo_reference)}`:s.name?`${Dt}/proxy_image?name=${encodeURIComponent(s.name)}`:`${Dt}/proxy_image/default`,aD=({place:s,onAddToItinerary:e,onViewDetails:r,compact:n=!1})=>{const[a,l]=W.useState(!1),u=nD(s),d=()=>{},A=f=>f?typeof f=="string"?f:"$".repeat(Math.min(f,4)):null,o=f=>{f.stopPropagation(),l(!a)};return n?t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white dark:bg-slate-800 rounded-xl border border-slate-100 dark:border-slate-700 hover:shadow-md transition-all cursor-pointer group",onClick:()=>r==null?void 0:r(s),children:[t.jsx("img",{src:u,onError:d,alt:s.name,className:"w-16 h-16 rounded-lg object-cover flex-shrink-0"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white text-sm truncate",children:s.name}),t.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-0.5",children:[s.rating&&t.jsxs("span",{className:"flex items-center gap-0.5",children:[t.jsx(tA,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),s.rating.toFixed(1)]}),A(s.price_level)&&t.jsx("span",{className:"text-emerald-600 font-bold",children:A(s.price_level)}),s.distance&&t.jsx("span",{children:s.distance})]})]}),e&&t.jsx("button",{onClick:f=>{f.stopPropagation(),e(s)},className:"p-2 text-slate-400 hover:text-orange-500 hover:bg-orange-50 dark:hover:bg-orange-900/20 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx($i,{className:"w-4 h-4"})})]}):t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 overflow-hidden shadow-sm hover:shadow-xl transition-all group",children:[t.jsxs("div",{className:"relative h-40 overflow-hidden",children:[t.jsx("img",{src:u,onError:d,alt:s.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 flex gap-2",children:[s.is_open_now!==void 0&&t.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-bold uppercase ${s.is_open_now?"bg-emerald-500 text-white":"bg-red-500 text-white"}`,children:s.is_open_now?"Open":"Closed"}),s.cuisine_type&&t.jsx("span",{className:"px-2 py-1 rounded-lg text-[10px] font-bold uppercase bg-white/90 text-slate-700",children:s.cuisine_type})]}),t.jsx("button",{onClick:o,className:`absolute top-3 right-3 p-2 rounded-full transition-all ${a?"bg-rose-500 text-white":"bg-white/90 text-slate-600 hover:bg-rose-500 hover:text-white"}`,children:t.jsx(bf,{className:`w-4 h-4 ${a?"fill-current":""}`})}),t.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:s.rating&&t.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 bg-white/95 rounded-lg text-xs font-bold text-slate-800",children:[t.jsx(tA,{className:"w-3 h-3 text-amber-500 fill-amber-500"}),s.rating.toFixed(1),s.review_count&&t.jsxs("span",{className:"text-slate-400 font-normal",children:["(",s.review_count,")"]})]})}),A(s.price_level)&&t.jsx("span",{className:"px-2 py-1 bg-emerald-500 text-white rounded-lg text-xs font-bold",children:A(s.price_level)})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white mb-1 line-clamp-1",children:s.name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-start gap-1 mb-3 line-clamp-2",children:[t.jsx(Xo,{className:"w-3.5 h-3.5 flex-shrink-0 mt-0.5"}),s.address]}),s.dietary_tags&&s.dietary_tags.length>0&&t.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:s.dietary_tags.map((f,m)=>t.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded text-[10px] font-bold",children:f},m))}),s.description&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mb-3 line-clamp-2",children:s.description}),t.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-100 dark:border-slate-700",children:[s.google_place_id&&t.jsxs("a",{href:`https://www.google.com/maps/place/?q=place_id:${s.google_place_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-1 py-2 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-sky-600 dark:hover:text-sky-400 hover:bg-sky-50 dark:hover:bg-sky-900/20 rounded-lg transition-colors",children:[t.jsx(m5,{className:"w-4 h-4"}),"Directions"]}),e&&t.jsxs("button",{onClick:()=>e(s),className:"flex-1 flex items-center justify-center gap-1 py-2 text-sm font-bold text-white bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 rounded-lg transition-all",children:[t.jsx($i,{className:"w-4 h-4"}),"Add to Plan"]})]})]})]})},iD=({places:s,onAddToItinerary:e,title:r="Food Recommendations",loading:n=!1})=>{const[a,l]=W.useState(0),u=Tc.useRef(null),d=A=>{if(!u.current)return;const o=296,f=A==="left"?Math.max(0,a-1):Math.min(s.length-1,a+1);l(f),u.current.scrollTo({left:f*o,behavior:"smooth"})};return n?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Gd,{className:"w-5 h-5 text-orange-500"}),r]}),t.jsx("div",{className:"flex gap-4 overflow-hidden",children:[1,2,3].map(A=>t.jsxs("div",{className:"w-[280px] flex-shrink-0 bg-slate-100 dark:bg-slate-800 rounded-2xl animate-pulse",children:[t.jsx("div",{className:"h-40 bg-slate-200 dark:bg-slate-700 rounded-t-2xl"}),t.jsxs("div",{className:"p-4 space-y-3",children:[t.jsx("div",{className:"h-5 bg-slate-200 dark:bg-slate-700 rounded w-3/4"}),t.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-full"}),t.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-700 rounded w-1/2"})]})]},A))})]}):!s||s.length===0?t.jsxs("div",{className:"text-center py-8 bg-slate-50 dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700",children:[t.jsx(Gd,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No food recommendations found"}),t.jsx("p",{className:"text-sm text-slate-400 dark:text-slate-500 mt-1",children:"Try adjusting your preferences"})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Gd,{className:"w-5 h-5 text-orange-500"}),r,t.jsxs("span",{className:"text-sm font-normal text-slate-500",children:["(",s.length," found)"]})]}),s.length>2&&t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>d("left"),disabled:a===0,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>d("right"),disabled:a>=s.length-2,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Ac,{className:"w-5 h-5"})})]})]}),t.jsx("div",{ref:u,className:"flex gap-4 overflow-x-auto pb-4 scroll-smooth [&::-webkit-scrollbar]:hidden",children:s.map((A,o)=>t.jsx("div",{className:"w-[280px] flex-shrink-0",children:t.jsx(aD,{place:A,onAddToItinerary:e})},A.id||o))})]})},oD=(s,e,r)=>{if(e)return`${Dt}/proxy_image?place_id=${e}`;if(r)return`${Dt}/proxy_image?name=${encodeURIComponent(r)}`;if(s&&!s.includes("unsplash.com")&&(s.includes("photo_reference")||s.includes("AF1Qip")||s.includes("photos/"))){const n=s.includes("photos/")?s.split("photos/").pop():s;if(n)return`${Dt}/proxy_image?ref=${encodeURIComponent(n)}`}return`${Dt}/proxy_image/default`},lD=({type:s,className:e="w-4 h-4"})=>{switch(s){case"food":return t.jsx(Gd,{className:e});case"attraction":return t.jsx(Yg,{className:e});case"cafe":return t.jsx(Em,{className:e});case"hotel":return t.jsx(Jg,{className:e});case"shopping":return t.jsx(tx,{className:e});case"transport":return t.jsx(Wg,{className:e});default:return t.jsx(Xo,{className:e})}},cD=({slot:s})=>{const e={morning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",lunch:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",afternoon:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400",evening:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400",night:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"},r={morning:"",lunch:"",afternoon:"",evening:"",night:""};return t.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${e[s]||e.morning}`,children:r[s]||s})},dD=({activity:s,onSave:e,onCancel:r,onDelete:n})=>{const[a,l]=W.useState({...s}),u=[{value:"morning",label:" Morning"},{value:"lunch",label:" Lunch"},{value:"afternoon",label:" Afternoon"},{value:"evening",label:" Evening"},{value:"night",label:" Night"}],d=[{value:"attraction",label:" Attraction"},{value:"food",label:" Food"},{value:"cafe",label:" Cafe"},{value:"hotel",label:" Hotel"},{value:"shopping",label:" Shopping"},{value:"transport",label:" Transport"}];return t.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:""}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"time",value:a.start_time,onChange:A=>l({...a,start_time:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"time",value:a.end_time,onChange:A=>l({...a,end_time:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("select",{value:a.time_slot,onChange:A=>l({...a,time_slot:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",children:u.map(A=>t.jsx("option",{value:A.value,children:A.label},A.value))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("select",{value:a.activity_type,onChange:A=>l({...a,activity_type:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",children:d.map(A=>t.jsx("option",{value:A.value,children:A.label},A.value))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"text",value:a.place_name,onChange:A=>l({...a,place_name:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"text",value:a.place_address,onChange:A=>l({...a,place_address:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:""})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("textarea",{value:a.description,onChange:A=>l({...a,description:A.target.value}),rows:3,className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none resize-none",placeholder:""})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"text",value:a.budget_estimate,onChange:A=>l({...a,budget_estimate:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:"RM 50"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:""}),t.jsx("input",{type:"text",value:a.tips||"",onChange:A=>l({...a,tips:A.target.value}),className:"w-full px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-sky-500 outline-none",placeholder:""})]})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl text-sm font-medium transition-colors",children:[t.jsx(Jo,{className:"w-4 h-4"}),""]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl text-sm font-medium transition-colors",children:""}),t.jsxs("button",{onClick:()=>e(a),className:"flex items-center gap-2 px-5 py-2 bg-sky-500 hover:bg-sky-600 text-white rounded-xl text-sm font-bold transition-colors",children:[t.jsx(QA,{className:"w-4 h-4"}),""]})]})]})]})})},uD=({selectedCount:s,onSubmit:e,onCancel:r,isLoading:n})=>{const[a,l]=W.useState(""),u=["1","","","","",""];return t.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl",children:t.jsx(sv,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"AI "}),t.jsxs("p",{className:"text-xs text-slate-500",children:[" ",s," "]})]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:" AI "}),t.jsx("textarea",{value:a,onChange:d=>l(d.target.value),placeholder:"2...",rows:4,className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none resize-none",disabled:n})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-2",children:""}),t.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((d,A)=>t.jsx("button",{onClick:()=>l(d),className:"px-3 py-1.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 text-xs rounded-full hover:bg-purple-100 dark:hover:bg-purple-900/30 hover:text-purple-600 dark:hover:text-purple-400 transition-colors",disabled:n,children:d},A))})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-200 dark:border-slate-800 flex justify-end gap-3",children:[t.jsx("button",{onClick:r,className:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl text-sm font-medium transition-colors",disabled:n,children:""}),t.jsx("button",{onClick:()=>e(a),disabled:!a.trim()||n,className:"flex items-center gap-2 px-5 py-2 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white rounded-xl text-sm font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:n?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"..."]}):t.jsxs(t.Fragment,{children:[t.jsx(sv,{className:"w-4 h-4"}),""]})})]})]})})},AD=({plan:s,onClose:e,onSave:r,onEditActivity:n})=>{const[a,l]=W.useState(s),[u,d]=W.useState(0),[A,o]=W.useState(null),[f,m]=W.useState(!1),[p,x]=W.useState(!1),[b,y]=W.useState(new Set),[w,E]=W.useState(!1),[R,z]=W.useState(!1),X=a.days[u],Y=()=>d(de=>Math.max(0,de-1)),Q=()=>d(de=>Math.min(a.days.length-1,de+1)),G=de=>{de.currentTarget.src=`${Dt}/proxy_image/default`},le=(de,oe,Ee)=>{o({dayIdx:de,actIdx:oe,activity:Ee})},Ae=de=>{if(!A)return;const oe={...a};oe.days=[...a.days],oe.days[A.dayIdx]={...a.days[A.dayIdx]},oe.days[A.dayIdx].activities=[...a.days[A.dayIdx].activities],oe.days[A.dayIdx].activities[A.actIdx]=de,oe.days[A.dayIdx].day_summary={...oe.days[A.dayIdx].day_summary,total_activities:oe.days[A.dayIdx].activities.length},l(oe),m(!0),o(null),n(A.dayIdx,A.actIdx,de)},je=()=>{if(!A)return;const de={...a};de.days=[...a.days],de.days[A.dayIdx]={...a.days[A.dayIdx]},de.days[A.dayIdx].activities=a.days[A.dayIdx].activities.filter((oe,Ee)=>Ee!==A.actIdx),de.days[A.dayIdx].day_summary={...de.days[A.dayIdx].day_summary,total_activities:de.days[A.dayIdx].activities.length},l(de),m(!0),o(null)},ue=()=>{o(null)},Se=()=>{p&&y(new Set),x(!p)},ae=(de,oe)=>{const Ee=`${de}-${oe}`,De=new Set(b);De.has(Ee)?De.delete(Ee):De.add(Ee),y(De)},Ne=(de,oe)=>b.has(`${de}-${oe}`),he=()=>{const de=[];return b.forEach(oe=>{const[Ee,De]=oe.split("-"),ke=parseInt(Ee),pe=parseInt(De);a.days[ke]&&a.days[ke].activities[pe]&&de.push({dayIdx:ke,actIdx:pe,activity:a.days[ke].activities[pe]})}),de},se=async de=>{const oe=he();if(oe.length!==0){z(!0);try{const Ee=await fetch(`${Dt}/api/ai/edit-activities`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({activities:oe.map(ke=>({day_index:ke.dayIdx,activity_index:ke.actIdx,activity:ke.activity})),instructions:de,plan_context:{title:a.title,destination:a.title,preferences:a.user_preferences_applied}})});if(!Ee.ok)throw new Error("AI edit request failed");const De=await Ee.json();if(De.success&&De.updated_activities){const ke={...a};ke.days=a.days.map((pe,ye)=>({...pe,activities:pe.activities.map((fe,te)=>{const ge=De.updated_activities.find(Fe=>Fe.day_index===ye&&Fe.activity_index===te);return ge?ge.activity:fe})})),l(ke),m(!0),x(!1),y(new Set)}}catch(Ee){console.error("AI Edit failed:",Ee),alert("AI ")}finally{z(!1),E(!1)}}};return t.jsxs("div",{className:"fixed inset-0 z-[70] bg-white dark:bg-slate-900 flex flex-col overflow-hidden animate-in fade-in duration-200",children:[t.jsx("div",{className:"shrink-0 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a.title}),t.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2",children:[t.jsx("span",{children:a.duration}),t.jsx("span",{children:""}),t.jsx("span",{children:a.total_budget_estimate})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:Se,className:`flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium text-sm transition-all ${p?"bg-purple-500 text-white shadow-lg shadow-purple-500/20":"bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-purple-100 dark:hover:bg-purple-900/30 hover:text-purple-600 dark:hover:text-purple-400"}`,children:[t.jsx(sv,{className:"w-4 h-4"}),p?"":"AI "]}),p&&b.size>0&&t.jsxs("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-bold text-sm shadow-lg shadow-purple-500/20 hover:from-purple-600 hover:to-pink-600 transition-all animate-in slide-in-from-right-2",children:[t.jsx(Ao,{className:"w-4 h-4"})," ",b.size," "]}),t.jsxs("button",{onClick:()=>r(a),className:`flex items-center gap-2 px-5 py-2.5 text-white font-bold rounded-xl shadow-lg transition-all active:scale-95 ${f?"bg-emerald-500 hover:bg-emerald-600 shadow-emerald-500/20":"bg-sky-500 hover:bg-sky-600 shadow-sky-500/20"}`,children:[f?t.jsx(QA,{className:"w-4 h-4"}):t.jsx(Xg,{className:"w-4 h-4"}),f?"":""]})]})]})}),t.jsx("div",{className:"shrink-0 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:t.jsx("div",{className:"max-w-6xl mx-auto px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:Y,disabled:u===0,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("div",{className:"flex-1 flex gap-2 overflow-x-auto py-1 [&::-webkit-scrollbar]:hidden",children:a.days.map((de,oe)=>t.jsx("button",{onClick:()=>d(oe),className:`shrink-0 px-4 py-2 rounded-xl font-medium text-sm transition-all ${u===oe?"bg-sky-500 text-white shadow-md shadow-sky-500/20":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-sky-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("span",{className:"font-bold",children:["Day ",de.day_number]}),t.jsx("span",{className:"text-[10px] opacity-75",children:de.theme})]})},de.day_number))}),t.jsx("button",{onClick:Q,disabled:u===a.days.length-1,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Ac,{className:"w-5 h-5"})})]})})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 space-y-8",children:[X.top_locations&&X.top_locations.length>0&&t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Ao,{className:"w-4 h-4"})," "]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:X.top_locations.map((de,oe)=>t.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden group cursor-pointer shadow-lg",children:[t.jsx("img",{src:oD(de.image_url,de.place_id,de.name),onError:G,alt:de.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:de.name}),t.jsx("p",{className:"text-white/80 text-xs",children:de.highlight_reason})]})]},oe))})]}),t.jsx("section",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-5 border border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-wrap gap-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-900/30 rounded-lg",children:t.jsx(co,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:""}),t.jsxs("p",{className:"font-bold text-slate-900 dark:text-white",children:[X.day_summary.total_activities," "]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:t.jsx(kf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:""}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:X.day_summary.total_budget})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:t.jsx(Wg,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:""}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:X.day_summary.transport_notes})]})]})]})}),t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4"})," "]}),t.jsx("div",{className:"space-y-4",children:X.activities.map((de,oe)=>t.jsxs("div",{className:"relative pl-8 group",children:[oe<X.activities.length-1&&t.jsx("div",{className:"absolute left-[11px] top-10 bottom-0 w-0.5 bg-slate-200 dark:bg-slate-700"}),t.jsx("div",{className:`absolute left-0 top-2 w-6 h-6 rounded-full flex items-center justify-center shadow-md ${de.activity_type==="food"?"bg-orange-500":de.activity_type==="attraction"?"bg-sky-500":de.activity_type==="cafe"?"bg-amber-500":"bg-slate-500"}`,children:t.jsx(lD,{type:de.activity_type,className:"w-3 h-3 text-white"})}),t.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border p-5 shadow-sm hover:shadow-lg transition-all cursor-pointer ${p&&Ne(u,oe)?"border-purple-400 dark:border-purple-500 ring-2 ring-purple-400/30":"border-slate-100 dark:border-slate-700"}`,onClick:()=>p&&ae(u,oe),children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[p&&t.jsx("button",{onClick:Ee=>{Ee.stopPropagation(),ae(u,oe)},className:`p-1 rounded-md transition-all ${Ne(u,oe)?"bg-purple-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-400"}`,children:Ne(u,oe)?t.jsx(Wo,{className:"w-4 h-4"}):t.jsx(ZE,{className:"w-4 h-4"})}),t.jsx(cD,{slot:de.time_slot}),t.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[de.start_time," - ",de.end_time]})]}),!p&&t.jsx("button",{onClick:()=>le(u,oe,de),className:"p-1.5 text-slate-300 hover:text-sky-500 hover:bg-sky-50 dark:hover:bg-sky-900/30 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(g5,{className:"w-4 h-4"})})]}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:de.place_name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-1 mb-3",children:[t.jsx(Xo,{className:"w-3 h-3"}),de.place_address]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed mb-4",children:de.description}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[t.jsx("span",{className:"px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 rounded-lg font-bold",children:de.budget_estimate}),de.dietary_info&&t.jsx("span",{className:"px-2 py-1 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-400 rounded-lg font-medium",children:de.dietary_info}),de.tips&&t.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[t.jsx(Sl,{className:"w-3 h-3"})," ",de.tips]})]})]})]},oe))})]}),a.practical_info&&t.jsxs("section",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-2xl p-5 border border-amber-100 dark:border-amber-800/30",children:[t.jsxs("h2",{className:"text-sm font-bold text-amber-800 dark:text-amber-400 mb-3 flex items-center gap-2",children:[t.jsx(Sl,{className:"w-4 h-4"})," "]}),t.jsxs("div",{className:"space-y-2 text-sm text-amber-700 dark:text-amber-300",children:[a.practical_info.best_transport&&t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",a.practical_info.best_transport]}),a.practical_info.weather_advisory&&t.jsxs("p",{children:[t.jsx("strong",{children:":"})," ",a.practical_info.weather_advisory]}),a.practical_info.booking_recommendations&&a.practical_info.booking_recommendations.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:":"}),t.jsx("ul",{className:"list-disc list-inside mt-1",children:a.practical_info.booking_recommendations.map((de,oe)=>t.jsx("li",{children:de},oe))})]})]})]})]})}),A&&t.jsx(dD,{activity:A.activity,onSave:Ae,onCancel:ue,onDelete:je}),w&&t.jsx(uD,{selectedCount:b.size,onSubmit:se,onCancel:()=>E(!1),isLoading:R})]})},hD=({suggestion:s,onClose:e,onSave:r,onUpdate:n,isSaved:a})=>{const[l,u]=W.useState(null),[d,A]=W.useState(null),o=(p,x)=>{u(p),A({...x})},f=()=>{if(l!==null&&s.itinerary){const p=[...s.itinerary];p[l]=d,n({...s,itinerary:p}),u(null)}},m=p=>{p.currentTarget.src=`${Dt}/proxy_image/default`};return t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 relative flex flex-col max-h-[85vh] overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"relative h-48 sm:h-64 shrink-0 group",children:[t.jsx("img",{src:s.imageUrl,onError:m,alt:s.title,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),t.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 bg-black/30 hover:bg-black/50 text-white rounded-full backdrop-blur-md transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[t.jsx("h3",{className:"text-2xl sm:text-3xl font-bold text-white mb-2 drop-shadow-md",children:s.title}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.tags.map(p=>t.jsx("span",{className:"px-2.5 py-1 rounded-lg bg-white/20 backdrop-blur-md text-white text-xs font-bold uppercase tracking-wider border border-white/10",children:p},p)),t.jsxs("span",{className:"px-2.5 py-1 rounded-lg bg-emerald-500/80 backdrop-blur-md text-white text-xs font-bold flex items-center gap-1 border border-white/10",children:[t.jsx("span",{className:"opacity-75",children:"Est."})," ",s.priceEstimate]})]})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 sm:p-8 space-y-8 custom-scrollbar bg-white dark:bg-slate-900",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 flex items-center gap-2",children:[t.jsx(Sl,{className:"w-3 h-3"})," About"]}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed text-sm sm:text-base bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl border border-slate-100 dark:border-slate-800",children:s.description})]}),s.itinerary&&Array.isArray(s.itinerary)&&s.itinerary.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(co,{className:"w-3 h-3"})," Itinerary"]}),t.jsx("div",{className:"space-y-4",children:s.itinerary.map((p,x)=>{var b,y,w;return t.jsxs("div",{className:"relative pl-6 pb-2 border-l-2 border-slate-100 dark:border-slate-800 last:border-0 group/item",children:[t.jsx("div",{className:"absolute left-[-5px] top-0 w-2.5 h-2.5 rounded-full bg-sky-500 ring-4 ring-white dark:ring-slate-900"}),l===x?t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border-2 border-sky-500 shadow-lg space-y-3",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{value:d.day_number,onChange:E=>A({...d,day_number:E.target.value}),className:"w-16 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-2 py-1 text-xs font-bold",placeholder:"Day"}),t.jsx("input",{value:d.start_time,onChange:E=>A({...d,start_time:E.target.value}),className:"w-20 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-2 py-1 text-xs font-bold",placeholder:"Time"})]}),t.jsx("input",{value:d.custom_title||((b=d.place)==null?void 0:b.name),onChange:E=>A({...d,custom_title:E.target.value}),className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm font-bold",placeholder:"Activity Title"}),t.jsx("textarea",{value:d.custom_notes,onChange:E=>A({...d,custom_notes:E.target.value}),className:"w-full bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg px-3 py-2 text-sm",placeholder:"Notes",rows:2}),t.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[t.jsx("button",{onClick:()=>u(null),className:"px-3 py-1.5 text-xs font-bold text-slate-500 hover:bg-slate-100 rounded-lg",children:"Cancel"}),t.jsx("button",{onClick:f,className:"px-3 py-1.5 text-xs font-bold bg-sky-500 text-white rounded-lg hover:bg-sky-600",children:"Save Changes"})]})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 border border-slate-100 dark:border-slate-700 hover:border-sky-200 dark:hover:border-sky-900 transition-all hover:shadow-md group relative",children:[t.jsx("button",{onClick:()=>o(x,p),className:"absolute top-2 right-2 p-1.5 text-slate-300 hover:text-sky-500 hover:bg-sky-50 dark:hover:bg-sky-900/30 rounded-lg opacity-0 group-hover:opacity-100 transition-all",children:t.jsx(ex,{className:"w-3.5 h-3.5"})}),t.jsx("div",{className:"flex items-start justify-between mb-1.5",children:t.jsxs("span",{className:"text-[10px] font-bold text-sky-600 dark:text-sky-400 bg-sky-50 dark:bg-sky-900/20 px-2 py-0.5 rounded uppercase tracking-wider",children:["Day ",p.day_number,"  ",p.start_time]})}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white mb-1 text-sm",children:p.custom_title||((y=p.place)==null?void 0:y.name)||"Activity"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-2 leading-relaxed",children:p.custom_notes||((w=p.place)==null?void 0:w.address)})]})]},x)})})]}),s.reviews&&s.reviews.length>0&&t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(tA,{className:"w-3 h-3"})," Reviews"]}),t.jsx("div",{className:"space-y-3",children:s.reviews.slice(0,3).map((p,x)=>t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl text-sm border border-slate-100 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[t.jsx("div",{className:"flex text-amber-400",children:[...Array(5)].map((b,y)=>t.jsx(tA,{className:`w-3 h-3 ${y<Math.round(p.rating)?"fill-current":"opacity-30"}`},y))}),t.jsx("span",{className:"font-bold text-xs text-slate-700 dark:text-slate-300",children:p.rating})]}),t.jsxs("p",{className:"text-slate-600 dark:text-slate-400 italic text-xs leading-relaxed",children:['"',p.text,'"']})]},x))})]})]}),t.jsxs("div",{className:"p-5 border-t border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 flex gap-3",children:[t.jsx("button",{onClick:e,className:"px-6 py-3.5 rounded-xl font-bold text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 transition-all",children:"Close"}),t.jsxs("button",{onClick:()=>r(s),className:`flex-1 py-3.5 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg active:scale-[0.98] ${a?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800":"bg-gradient-to-r from-sky-500 to-blue-600 hover:from-sky-400 hover:to-blue-500 text-white shadow-sky-500/25"}`,children:[a?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(Xg,{className:"w-5 h-5"}),a?"Saved to My Trips":"Save Trip Plan"]})]})]})})},fD=Tc.memo(({suggestion:s,isSaved:e,onViewDetails:r,onToggleSave:n})=>t.jsxs("div",{className:"w-full md:w-auto md:min-w-[280px] md:max-w-[320px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl isolate transform-gpu flex-shrink-0 snap-start transition-all duration-300 ease-out cursor-pointer group hover:scale-105",children:[t.jsxs("div",{className:"h-36 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:s.imageUrl,alt:s.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),t.jsx("div",{className:"absolute bottom-3 left-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight tracking-tight",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(a=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:a},a))}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Cost"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.priceEstimate})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:a=>{a.stopPropagation(),r(s)},className:"p-2 rounded-xl text-slate-400 hover:text-sky-600 hover:bg-slate-50 dark:hover:bg-slate-800 transition-all",title:"View Details",children:t.jsx(Sl,{className:"w-4 h-4"})}),t.jsxs("button",{onClick:a=>{a.stopPropagation(),n(s)},className:`flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold transition-all ${e?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 text-white"}`,children:[e?t.jsx(uo,{className:"w-3.5 h-3.5"}):t.jsx(Xg,{className:"w-3.5 h-3.5"}),e?"Added":"Add"]})]})]})]})]})),mD=({suggestions:s,savedSuggestions:e,onViewDetails:r,onToggleSave:n})=>{const a=W.useRef(null),[l,u]=W.useState(0),d=()=>{var f;if(a.current){const m=a.current.scrollLeft,p=((f=a.current.firstElementChild)==null?void 0:f.clientWidth)||300;u(Math.round(m/p))}},A=()=>{var f;return(f=a.current)==null?void 0:f.scrollBy({left:-340,behavior:"smooth"})},o=()=>{var f;return(f=a.current)==null?void 0:f.scrollBy({left:340,behavior:"smooth"})};return t.jsxs("div",{className:"relative group/list",children:[t.jsxs("div",{className:"hidden md:block opacity-0 group-hover/list:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:A,className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-5 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("button",{onClick:o,className:"absolute right-0 top-1/2 -translate-y-1/2 -mr-1 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(Ac,{className:"w-5 h-5"})})]}),t.jsx("div",{ref:a,onScroll:d,className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:s.map(f=>t.jsx(fD,{suggestion:f,isSaved:e.includes(f.id),onViewDetails:r,onToggleSave:n},f.id))}),t.jsx("div",{className:"flex justify-center gap-1.5 mt-2",children:s.map((f,m)=>t.jsx("div",{className:`h-1.5 rounded-full transition-all ${m===l?"w-6 bg-sky-500":"w-1.5 bg-slate-200 dark:bg-slate-700"}`},m))})]})},pD=Tc.memo(({plan:s,onViewDetails:e,onSave:r,isSaved:n})=>{const a=()=>{var A,o,f;const d=(f=(o=(A=s.days)==null?void 0:A[0])==null?void 0:o.top_locations)==null?void 0:f[0];return d!=null&&d.place_id?`${Dt}/proxy_image?place_id=${d.place_id}`:d!=null&&d.name?`${Dt}/proxy_image?name=${encodeURIComponent(d.name)}`:`${Dt}/proxy_image/default`},l=d=>{d.currentTarget.src=`${Dt}/proxy_image/default`},u=s.days.reduce((d,A)=>{var o;return d+(((o=A.activities)==null?void 0:o.length)||0)},0);return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[320px] md:max-w-[380px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl isolate transform-gpu flex-shrink-0 snap-start transition-all duration-300 ease-out cursor-pointer group hover:scale-[1.02] hover:shadow-xl",children:[t.jsxs("div",{className:"h-40 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:a(),onError:l,alt:s.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1 bg-sky-500/90 backdrop-blur-sm rounded-full text-white text-xs font-bold flex items-center gap-1.5",children:[t.jsx(co,{className:"w-3 h-3"}),s.duration]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight tracking-tight drop-shadow-md",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.slice(0,4).map(d=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:d},d))}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(co,{className:"w-3.5 h-3.5"}),s.days.length," "]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Xo,{className:"w-3.5 h-3.5"}),u," "]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:""}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.total_budget_estimate})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:d=>{d.stopPropagation(),e(s)},className:"flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 text-white transition-all",children:[t.jsx(Sl,{className:"w-3.5 h-3.5"}),""]}),t.jsx("button",{onClick:d=>{d.stopPropagation(),r(s)},className:`p-2 rounded-xl transition-all ${n?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/20 dark:text-emerald-400":"bg-slate-100 dark:bg-slate-800 text-slate-400 hover:text-sky-600"}`,children:n?t.jsx(uo,{className:"w-4 h-4"}):t.jsx(Xg,{className:"w-4 h-4"})})]})]})]})]})}),gD=({plans:s,savedPlans:e,onViewDetails:r,onSave:n})=>{const a=W.useRef(null),l=()=>{var d;return(d=a.current)==null?void 0:d.scrollBy({left:-380,behavior:"smooth"})},u=()=>{var d;return(d=a.current)==null?void 0:d.scrollBy({left:380,behavior:"smooth"})};return t.jsxs("div",{className:"relative group/list",children:[s.length>1&&t.jsxs("div",{className:"hidden md:block opacity-0 group-hover/list:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:l,className:"absolute left-0 top-1/2 -translate-y-1/2 -ml-5 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("button",{onClick:u,className:"absolute right-0 top-1/2 -translate-y-1/2 -mr-1 z-20 p-2 bg-white dark:bg-slate-800 rounded-full shadow-lg",children:t.jsx(Ac,{className:"w-5 h-5"})})]}),t.jsx("div",{ref:a,className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:s.map((d,A)=>t.jsx(pD,{plan:d,isSaved:e.includes(d.title),onViewDetails:r,onSave:n},`${d.title}-${A}`))})]})},xD=({conversations:s,activeConversationId:e,isLoading:r,isPremium:n,isOpen:a,onSelectConversation:l,onNewConversation:u,onDeleteConversation:d,onRenameConversation:A,onToggleSidebar:o,onUpgrade:f})=>{const{t:m}=Xd(["chat","common"]),[p,x]=W.useState(null),[b,y]=W.useState(""),[w,E]=W.useState(null),R=Q=>{x(Q.id),y(Q.title),E(null)},z=()=>{p&&b.trim()&&A(p,b.trim()),x(null),y("")},X=Q=>{const G=new Date(Q),Ae=Math.floor((new Date().getTime()-G.getTime())/(1e3*60*60*24));return Ae===0?m("today"):Ae===1?m("yesterday"):Ae<7?m("daysAgo",{count:Ae}):G.toLocaleDateString()},Y=s.reduce((Q,G)=>{const le=X(G.updatedAt);return Q[le]||(Q[le]=[]),Q[le].push(G),Q},{});return t.jsxs(t.Fragment,{children:[a&&t.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:o}),t.jsxs("div",{className:`
        fixed md:relative inset-y-0 left-0 z-50 
        w-72 bg-slate-50 dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800
        flex flex-col transition-transform duration-300 ease-in-out
        ${a?"translate-x-0":"-translate-x-full md:translate-x-0 md:w-0 md:overflow-hidden"}
      `,children:[t.jsx("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:t.jsxs("button",{onClick:u,disabled:!n,className:`w-full flex items-center justify-center gap-2 px-4 py-3 bg-white dark:bg-slate-800 
                       border border-slate-200 dark:border-slate-700 rounded-xl
                       hover:bg-slate-50 dark:hover:bg-slate-700 transition-all
                       disabled:opacity-50 disabled:cursor-not-allowed`,children:[t.jsx($i,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:m("newChat")})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:n?r?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(Lr,{className:"w-6 h-6 text-slate-400 animate-spin"})}):s.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Mh,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:m("noHistory")}),t.jsx("p",{className:"text-xs mt-1",children:m("startNewChat")})]}):Object.entries(Y).map(([Q,G])=>t.jsxs("div",{className:"mb-4",children:[t.jsx("p",{className:"px-3 py-2 text-xs font-bold text-slate-400 uppercase tracking-wider",children:Q}),G.map(le=>t.jsxs("div",{className:`
                      group relative flex items-center gap-2 px-3 py-2.5 rounded-lg cursor-pointer
                      transition-all duration-150
                      ${e===le.id?"bg-sky-100 dark:bg-sky-900/30 text-sky-700 dark:text-sky-300":"hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-700 dark:text-slate-300"}
                    `,onClick:()=>l(le.id),children:[t.jsx(Mh,{className:"w-4 h-4 flex-shrink-0 opacity-60"}),p===le.id?t.jsx("input",{type:"text",value:b,onChange:Ae=>y(Ae.target.value),onBlur:z,onKeyDown:Ae=>Ae.key==="Enter"&&z(),className:"flex-1 bg-white dark:bg-slate-700 px-2 py-1 rounded text-sm outline-none",autoFocus:!0,onClick:Ae=>Ae.stopPropagation()}):t.jsx("span",{className:"flex-1 truncate text-sm font-medium",children:le.title}),t.jsxs("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),E(w===le.id?null:le.id)},className:"p-1 hover:bg-slate-200 dark:hover:bg-slate-700 rounded",children:t.jsx(GS,{className:"w-4 h-4"})}),w===le.id&&t.jsxs("div",{className:"absolute right-2 top-full mt-1 py-1 bg-white dark:bg-slate-800 rounded-lg shadow-lg border border-slate-200 dark:border-slate-700 z-10 min-w-[120px]",children:[t.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),R(le)},className:"w-full px-3 py-2 text-left text-sm hover:bg-slate-100 dark:hover:bg-slate-700 flex items-center gap-2",children:[t.jsx(ex,{className:"w-3.5 h-3.5"}),m("common:rename")]}),t.jsxs("button",{onClick:Ae=>{Ae.stopPropagation(),d(le.id),E(null)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 flex items-center gap-2",children:[t.jsx(Jo,{className:"w-3.5 h-3.5"}),m("common:delete")]})]})]})]},le.id))]},Q)):t.jsxs("div",{className:"p-4 text-center",children:[t.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 rounded-xl mb-3",children:[t.jsx(Vd,{className:"w-8 h-8 text-amber-500 mx-auto mb-2"}),t.jsx("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:m("premium.historyLocked")}),t.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:m("premium.unlockHistory")})]}),f&&t.jsx("button",{onClick:f,className:"w-full px-4 py-2 bg-amber-500 hover:bg-amber-600 text-white text-sm font-bold rounded-xl transition-all",children:m("premium.upgradeNow")})]})}),n&&t.jsx("div",{className:"p-4 border-t border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 rounded-lg",children:[t.jsx(Vd,{className:"w-4 h-4 text-amber-500"}),t.jsx("span",{className:"text-xs font-bold text-amber-700 dark:text-amber-300",children:"Premium Active"})]})})]})]})},tw=({user:s})=>{var en,wa;const{t:e}=Xd("chat"),{conversationId:r}=Gg();zl();const[n,a]=W.useState([]),[l,u]=W.useState(null),[d,A]=W.useState(!1),[o,f]=W.useState(!0),[m,p]=W.useState(!1),[x,b]=W.useState(!1),[y,w]=W.useState([]),[E,R]=W.useState(!1),[z,X]=W.useState(!1),[Y,Q]=W.useState(null),[G,le]=W.useState(!1),[Ae,je]=W.useState(!1),[ue,Se]=W.useState([]),[ae,Ne]=W.useState(""),[he,se]=W.useState([]),[de,oe]=W.useState([]),[Ee,De]=W.useState(null),[ke,pe]=W.useState(null),[ye,fe]=W.useState(""),[te,ge]=W.useState(!0),[Fe,$e]=W.useState(0),[kt,St]=W.useState(null),[Ge,Mt]=W.useState(null),[Vt,cs]=W.useState(null),[xt,ot]=W.useState(null),[At,Lt]=W.useState(!1),[$s,vs]=W.useState(!1),[fr,Ar]=W.useState(null),hr=W.useRef(null),Ms=W.useRef(null),ys=(s==null?void 0:s.isPremium)||((en=s==null?void 0:s.subscription)==null?void 0:en.status)==="active"||!1,Us=(Ss,Os="info")=>{pe({message:Ss,type:Os}),setTimeout(()=>pe(null),3e3)},xr=Ss=>Ss.map((Os,sr)=>{const fs=()=>Os.id||Os.place_id?`${Dt}/proxy_image?place_id=${Os.id||Os.place_id}`:Os.google_place_id?`${Dt}/proxy_image?google_place_id=${encodeURIComponent(Os.google_place_id)}`:Os.photo_reference&&Os.photo_reference!=="N/A"?`${Dt}/proxy_image?ref=${encodeURIComponent(Os.photo_reference)}`:Os.name?`${Dt}/proxy_image?name=${encodeURIComponent(Os.name)}`:`${Dt}/proxy_image/default`;return Os.itinerary&&Array.isArray(Os.itinerary)?{id:Os.id||`ai-plan-${sr}-${Date.now()}`,title:Os.title||"",description:Os.description||"",duration:Os.duration||"Custom Trip",priceEstimate:Os.priceEstimate||"N/A",tags:Os.tags||["Plan"],imageUrl:fs(),itinerary:Os.itinerary,reviews:[],fullAddress:Os.description,rating:5}:{id:`g-place-${sr}-${Date.now()}`,title:Os.name||"",description:`${Os.address||""} | : ${Os.rating||"N/A"}`,duration:"Place",priceEstimate:Os.price_level?"$".repeat(Os.price_level.length):"N/A",tags:Os.business_status==="OPERATIONAL"?["",""]:[""],imageUrl:fs(),itinerary:null,reviews:Os.review_list||[],fullAddress:Os.address,rating:Os.rating}}),yr=W.useCallback(async()=>{if(ys){A(!0);try{const Ss=await fetch(`${Dt}/api/conversations`,{credentials:"include"});if(Ss.status===403)return;if(!Ss.ok)throw new Error("Failed to fetch");const Os=await Ss.json();a(Os.conversations||[])}catch(Ss){console.error("Failed to fetch conversations:",Ss)}finally{A(!1)}}},[ys]),nn=async Ss=>{try{const Os=await fetch(`${Dt}/api/conversations/${Ss}`,{credentials:"include"});if(!Os.ok)throw new Error("Failed to load");const fs=(await Os.json()).conversation;if(fs!=null&&fs.messages){const Pr=fs.messages.map(Gr=>{let ur,Va,ha,fn=Gr.content;if(Gr.content.startsWith("DAILY_PLAN::"))try{const Bn=Gr.content.substring(12),ln=JSON.parse(Bn);Va=[ln],fn=` ${ln.duration} `}catch(Bn){console.error("Failed to parse daily plan from history:",Bn)}else if(Gr.content.startsWith("FOOD_DATA::"))try{const Bn=Gr.content.substring(11),ln=JSON.parse(Bn);ln.recommendations&&(ha=ln.recommendations,fn=` ${ln.recommendations.length} `)}catch(Bn){console.error("Failed to parse food data from history:",Bn)}else if(Gr.content.startsWith("POPUP_DATA::"))try{const Bn=Gr.content.substring(12);ur=xr(JSON.parse(Bn)),fn=` ${ur.length} `}catch{}else if(Gr.suggestions)try{ur=xr(Gr.suggestions)}catch{}else Gr.dailyPlans&&(Va=Gr.dailyPlans);return{id:`msg-${Gr.id}`,sender:Gr.role==="user"?"user":"ai",text:fn,timestamp:new Date(Gr.createdAt),suggestions:ur,dailyPlans:Va,foodRecommendations:ha}});Se(Pr),u(Ss)}}catch(Os){console.error("Failed to load conversation:",Os),Us(e("errors.loadConversationFailed"),"error")}},Nr=()=>{u(null),Se([])},er=async Ss=>{if(confirm("Delete this conversation?"))try{if(!(await fetch(`${Dt}/api/conversations/${Ss}`,{method:"DELETE",credentials:"include"})).ok)throw new Error("Failed to delete");a(sr=>sr.filter(fs=>fs.id!==Ss)),l===Ss&&(u(null),Se([])),Us(e("messages.conversationDeleted"),"success")}catch{Us(e("errors.deleteFailed"),"error")}},Ys=async(Ss,Os)=>{try{if(!(await fetch(`${Dt}/api/conversations/${Ss}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:Os})})).ok)throw new Error("Failed to rename");a(fs=>fs.map(Pr=>Pr.id===Ss?{...Pr,title:Os}:Pr))}catch{Us(e("errors.renameFailed"),"error")}},Ts=async()=>{if(!(!l||!ys)){X(!0);try{const Ss=await fetch(`${Dt}/api/conversations/${l}/share`,{method:"POST",credentials:"include"});if(!Ss.ok)throw new Error("Failed to share");const Os=await Ss.json(),sr=`${window.location.origin}${Os.shareUrl}`;Q(sr),le(!0)}catch{Us(e("errors.shareFailed"),"error")}finally{X(!1)}}},ft=async()=>{if(Y)try{await navigator.clipboard.writeText(Y),je(!0),Us(e("messages.linkCopied"),"success"),setTimeout(()=>je(!1),2e3)}catch{Us(e("errors.copyFailed"),"error")}},Kt=()=>{le(!1),Q(null),je(!1)},Cs=async Ss=>{p(!1);const Os=`I need a daily plan with these preferences:
- Mood: ${Ss.mood}
- Companions: ${Ss.companions}
- Budget: ${Ss.budget}
- Transport: ${Ss.transport}
- Dietary: ${Ss.dietary.join(", ")||"None"}

Please suggest a destination or ask for one if needed.`;Nr(),Ne(Os),Ne(`Plan a trip based on my preferences:
Mood: ${Ss.mood}, Budget: ${Ss.budget}, Group: ${Ss.companions}...

(Type your destination here)`),Ms.current&&Ms.current.focus()},Vs=async Ss=>{b(!1),R(!0),w([]);const Os={id:`food-search-${Date.now()}`,sender:"ai",text:` Finding the best ${Ss.mealType} spots for you based on your preferences...`,timestamp:new Date};Se(sr=>[...sr,Os]);try{const fs=await(await fetch(`${Dt}/api/food/recommendations`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({preferences:Ss,coordinates:Vt})})).json();if(fs.success&&fs.recommendations){w(fs.recommendations);const Pr={id:`food-result-${Date.now()}`,sender:"ai",text:`Found ${fs.recommendations.length} great options for you! Check them out below:`,timestamp:new Date,foodRecommendations:fs.recommendations};Se(Gr=>[...Gr.filter(ur=>ur.id!==Os.id),Pr])}else throw new Error(fs.error||"Failed to get recommendations")}catch(sr){console.error("Food recommendations error:",sr),Se(fs=>fs.map(Pr=>Pr.id===Os.id?{...Pr,text:""}:Pr))}finally{R(!1)}},ir=Ss=>{Us(`Added "${Ss.name}" to your plans!`,"success")},wt=async()=>{if(!ae.trim()||At)return;const Ss={id:Date.now().toString(),sender:"user",text:ae,timestamp:new Date};Se(sr=>[...sr,Ss]);const Os=ae;Ne(""),Lt(!0);try{const sr=ue.map(fn=>({role:fn.sender==="user"?"user":"model",parts:[fn.text]})),fs=await fetch(`${Dt}/chat_message`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({message:Os,conversationId:l,history:sr,coordinates:Vt,language:W5()})});if(!fs.ok){const fn=await fs.json();throw new Error(fn.error||`HTTP error: ${fs.status}`)}const Pr=await fs.json();let Gr=Pr.reply||"AI ",ur,Va;if(Gr.startsWith("DAILY_PLAN::"))try{const fn=JSON.parse(Gr.substring(12));Va=[fn],Gr=` ${fn.duration} `}catch(fn){console.error("Failed to parse daily plan:",fn),Gr=""}else if(Gr.startsWith("POPUP_DATA::"))try{const fn=JSON.parse(Gr.substring(12));ur=xr(fn),Gr=` ${ur.length} `}catch{Gr=""}const ha={id:(Date.now()+1).toString(),sender:"ai",text:Gr,timestamp:new Date,suggestions:ur,dailyPlans:Va};Pr.conversationId&&!l&&(u(Pr.conversationId),yr()),ys?(Lt(!1),Se(fn=>[...fn,ha])):(Ar(ha),vs(!0))}catch(sr){console.error("Send message error:",sr),Lt(!1),Se(fs=>[...fs,{id:(Date.now()+1).toString(),sender:"ai",text:`: ${sr.message||sr}`,timestamp:new Date}])}},es=()=>{vs(!1),Lt(!1),fr&&(Se(Ss=>[...Ss,fr]),Ar(null))},As=Ss=>{Ss.key==="Enter"&&!Ss.shiftKey&&(Ss.preventDefault(),wt())},hs=W.useCallback(async Ss=>{const Os=Ss.id,sr=he.includes(Os);if(se(fs=>sr?fs.filter(Pr=>Pr!==Os):[...fs,Os]),!sr)try{if(!(await fetch(`${Dt}/api/trips/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ss),credentials:"include"})).ok)throw new Error("Failed to save trip");Us(e("messages.tripSaved"),"success")}catch{se(Pr=>Pr.filter(Gr=>Gr!==Os)),Us(e("errors.saveFailed"),"error")}},[he]),Ks=Ss=>{St(Ss)},zs=Ss=>{ot(Ss)},mr=W.useCallback(async Ss=>{const Os=Ss.title,sr=de.includes(Os);if(oe(fs=>sr?fs.filter(Pr=>Pr!==Os):[...fs,Os]),!sr)try{if(!(await fetch(`${Dt}/api/trips/save_daily_plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ss),credentials:"include"})).ok)throw new Error("Failed to save");Us(e("messages.tripSaved"),"success")}catch{oe(Pr=>Pr.filter(Gr=>Gr!==Os)),Us(e("errors.saveFailed"),"error")}},[de]);return W.useEffect(()=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(Ss=>{cs({latitude:Ss.coords.latitude,longitude:Ss.coords.longitude})},Ss=>console.warn("GPS Error:",Ss),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},[]),W.useEffect(()=>{ys&&yr()},[ys,yr]),W.useEffect(()=>{if(r){const Ss=parseInt(r,10);!isNaN(Ss)&&Ss!==l&&nn(Ss)}else ys&&n.length>0&&!l&&nn(n[0].id)},[ys,n,r]),W.useEffect(()=>{const Ss=setTimeout(()=>{var Os;(Os=hr.current)==null||Os.scrollIntoView({behavior:"smooth"})},100);return()=>clearTimeout(Ss)},[ue,At]),W.useEffect(()=>{Ms.current&&(Ms.current.style.height="56px",Ms.current.style.height=Math.min(Ms.current.scrollHeight,200)+"px")},[ae]),W.useEffect(()=>{const Ss=e("placeholdersList",{returnObjects:!0});!ye&&Ss.length>0&&fe(Ss[0]);const Os=setInterval(()=>{ge(!1),setTimeout(()=>{fe(sr=>{const fs=e("placeholdersList",{returnObjects:!0}),Pr=fs.indexOf(sr),Gr=Pr===-1?0:(Pr+1)%fs.length;return fs[Gr]}),ge(!0)},300)},4e3);return()=>clearInterval(Os)},[e,ye]),t.jsxs("div",{className:"flex h-full bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[t.jsx(xD,{conversations:n,activeConversationId:l,isLoading:d,isPremium:ys,isOpen:o,onSelectConversation:nn,onNewConversation:Nr,onDeleteConversation:er,onRenameConversation:Ys,onToggleSidebar:()=>f(!o),onUpgrade:()=>window.location.href="/pricing"}),t.jsxs("div",{className:"flex-1 flex flex-col relative overflow-hidden",children:[ke&&t.jsxs("div",{className:`absolute top-4 right-4 z-50 px-4 py-3 rounded-xl shadow-lg flex items-center gap-2 ${ke.type==="success"?"bg-emerald-500 text-white":ke.type==="error"?"bg-red-500 text-white":"bg-slate-800 text-white"}`,children:[ke.type==="success"&&t.jsx(uo,{className:"w-4 h-4"}),ke.type==="error"&&t.jsx(Zo,{className:"w-4 h-4"}),t.jsx("span",{className:"text-sm font-medium",children:ke.message})]}),t.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900/50 backdrop-blur-sm flex items-center gap-3",children:[t.jsx("button",{onClick:()=>f(!o),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:o?t.jsx(AE,{className:"w-5 h-5"}):t.jsx(fE,{className:"w-5 h-5"})}),ys&&t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-100 to-yellow-100 dark:from-amber-900/30 dark:to-yellow-900/30 rounded-full",children:[t.jsx(Vd,{className:"w-3.5 h-3.5 text-amber-600"}),t.jsx("span",{className:"text-xs font-bold text-amber-700 dark:text-amber-300",children:"PRO"})]}),l&&t.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 truncate flex-1",children:((wa=n.find(Ss=>Ss.id===l))==null?void 0:wa.title)||"Chat"}),l&&ys&&ue.length>0&&t.jsxs("button",{onClick:Ts,disabled:z,className:"flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors disabled:opacity-50",title:"Share conversation",children:[z?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(Kp,{className:"w-4 h-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto px-4 sm:px-8 py-8",children:[t.jsxs("div",{className:"flex flex-col space-y-8",children:[ue.length===0&&t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center space-y-6",children:[t.jsx("div",{className:"w-20 h-20 rounded-3xl bg-slate-100 dark:bg-slate-900 flex items-center justify-center border border-slate-200 dark:border-slate-800 shadow-sm mb-4",children:t.jsx(Vp,{className:"w-10 h-10 text-sky-500 dark:text-indigo-400"})}),t.jsxs("div",{className:"space-y-2 max-w-md",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Where to next?"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"I can help you plan the perfect trip based on your budget, mood, and preferences."})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-full shadow-lg shadow-sky-500/20 transition-all hover:scale-105 active:scale-95",children:[t.jsx(Ao,{className:"w-4 h-4"}),"Plan a Trip"]}),t.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white font-bold rounded-full shadow-lg shadow-orange-500/20 transition-all hover:scale-105 active:scale-95",children:[t.jsx(Gd,{className:"w-4 h-4"}),"Find Food"]})]})]}),ue.map(Ss=>{const Os=Ss.sender==="user";return t.jsxs("div",{className:`flex w-full flex-col ${Os?"items-end":"items-start"}`,children:[t.jsxs("div",{className:`flex gap-4 max-w-[90%] md:max-w-[70%] ${Os?"flex-row-reverse":"flex-row"}`,children:[t.jsx("div",{className:"flex-shrink-0 mt-2",children:Os?t.jsx("img",{src:s.avatarUrl,alt:"User",className:"w-10 h-10 rounded-full border-2 border-white dark:border-slate-800 shadow-sm object-cover"}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md",children:t.jsx(n0,{className:"w-5 h-5 text-white"})})}),t.jsxs("div",{className:`flex flex-col gap-1 p-5 rounded-[1.5rem] shadow-sm ${Os?"bg-sky-600 dark:bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 border border-slate-100 dark:border-slate-800 rounded-tl-sm"}`,children:[t.jsx("p",{className:"text-[15px] leading-relaxed whitespace-pre-wrap font-medium",children:Ss.text}),t.jsx("span",{className:`text-[10px] font-bold ${Os?"text-sky-100":"text-slate-400"} self-end mt-1`,children:Ss.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),Ss.suggestions&&Ss.suggestions.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(mD,{suggestions:Ss.suggestions,savedSuggestions:he,onViewDetails:Ks,onToggleSave:hs})}),Ss.dailyPlans&&Ss.dailyPlans.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(gD,{plans:Ss.dailyPlans,savedPlans:de,onViewDetails:zs,onSave:mr})}),Ss.foodRecommendations&&Ss.foodRecommendations.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx(iD,{places:Ss.foodRecommendations,onAddToItinerary:ir,title:"Recommended for You"})})]},Ss.id)}),At&&t.jsx("div",{className:"flex w-full flex-col items-start",children:t.jsxs("div",{className:"flex gap-4 max-w-[90%] md:max-w-[70%]",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md animate-pulse",children:t.jsx(n0,{className:"w-5 h-5 text-white animate-spin"})}),t.jsx("div",{className:"flex flex-col gap-1 p-5 rounded-[1.5rem] shadow-sm bg-white dark:bg-slate-900 border border-slate-100 dark:border-slate-800 rounded-tl-sm",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("div",{className:"w-2 h-2 bg-sky-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}}),t.jsx("span",{className:"text-sm text-slate-500 ml-2",children:"AI is thinking..."})]})})]})})]}),t.jsx("div",{ref:hr})]}),t.jsx("div",{className:"px-4 md:px-6 pb-6 pt-4",children:t.jsxs("div",{className:"relative w-full max-w-3xl mx-auto bg-white dark:bg-slate-900 rounded-[2rem] shadow-2xl border border-slate-200 dark:border-slate-800 flex items-end",children:[t.jsxs("div",{className:"absolute left-4 bottom-[8px] flex gap-1 z-10",children:[t.jsx("button",{className:"p-2.5 text-slate-400 hover:text-sky-600 transition-all rounded-xl",children:t.jsx(pE,{className:"w-5 h-5"})}),t.jsx("button",{className:"p-2.5 text-slate-400 hover:text-sky-600 transition-all rounded-xl",children:t.jsx(f5,{className:"w-5 h-5"})})]}),!ae&&t.jsx("div",{className:`absolute left-28 right-20 top-[18px] pointer-events-none text-slate-400 font-medium text-base transition-all duration-500 truncate ${te?"opacity-100":"opacity-0"}`,children:ye}),t.jsx("textarea",{ref:Ms,value:ae,onChange:Ss=>Ne(Ss.target.value),onKeyDown:As,className:"w-full bg-transparent text-slate-900 dark:text-slate-100 font-medium rounded-[2rem] pt-[18px] pb-[14px] pl-28 pr-16 focus:outline-none resize-none h-auto overflow-hidden leading-normal",style:{minHeight:"56px"}}),t.jsx("div",{className:"absolute right-5 bottom-[8px]",children:t.jsx("button",{onClick:wt,disabled:!ae.trim()||At,className:"p-2.5 bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-2xl transition-all",children:t.jsx(Sh,{className:"w-5 h-4"})})})]})}),t.jsx(VU,{isOpen:$s,onClose:es}),t.jsx(qI,{isOpen:m,onClose:()=>p(!1),onComplete:Cs}),t.jsx(rD,{isOpen:x,onClose:()=>b(!1),onComplete:Vs,userLocation:Vt}),kt&&t.jsx(hD,{suggestion:kt,onClose:()=>St(null),onSave:hs,onUpdate:St,isSaved:he.includes(kt.id)}),xt&&t.jsx(AD,{plan:xt,onClose:()=>ot(null),onSave:async Ss=>{try{(await fetch(`${Dt}/api/trips/save_daily_plan`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(Ss)})).ok?(oe(sr=>sr.includes(Ss.title)?sr:[...sr,Ss.title]),Us(e("messages.tripSaved"),"success"),ot(null)):Us(e("errors.saveFailed"),"error")}catch{Us(e("errors.saveFailed"),"error")}},onEditActivity:(Ss,Os,sr)=>{console.log("Edit activity:",Ss,Os,sr)}}),G&&Y&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 max-w-md w-full shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Kp,{className:"w-5 h-5 text-sky-500"}),"Share Conversation"]}),t.jsx("button",{onClick:Kt,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"Anyone with this link can view this conversation."}),t.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-100 dark:bg-slate-800 rounded-xl",children:[t.jsx(Zg,{className:"w-4 h-4 text-slate-400 flex-shrink-0"}),t.jsx("input",{type:"text",value:Y,readOnly:!0,className:"flex-1 bg-transparent text-sm text-slate-700 dark:text-slate-300 outline-none truncate"}),t.jsx("button",{onClick:ft,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${Ae?"bg-emerald-500 text-white":"bg-sky-500 hover:bg-sky-600 text-white"}`,children:Ae?t.jsxs(t.Fragment,{children:[t.jsx(Wo,{className:"w-4 h-4"}),"Copied"]}):t.jsxs(t.Fragment,{children:[t.jsx(Xb,{className:"w-4 h-4"}),"Copy"]})})]}),t.jsx("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:t.jsx("button",{onClick:Kt,className:"w-full py-2.5 text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:"Done"})})]})})]})]})},Y5=({isOpen:s,onClose:e,onGoToSettings:r,featureName:n="This feature"})=>s?t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",onClick:e,children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-6 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",onClick:a=>a.stopPropagation(),children:[t.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-1.5 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:t.jsx(qr,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center bg-amber-100 dark:bg-amber-900/30",children:t.jsx(A5,{className:"w-8 h-8 text-amber-500"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Google Account Not Linked"}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed px-2",children:[n," requires a linked Google account.",t.jsx("br",{}),"Would you like to go to Settings to link your Google account now?"]})]}),t.jsxs("div",{className:"flex items-center gap-2 py-2 px-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-5 h-5"}),t.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-300",children:"Link to enable Calendar features"})]}),t.jsxs("div",{className:"flex gap-3 w-full pt-2",children:[t.jsx("button",{onClick:e,className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:"Cancel"}),t.jsxs("button",{onClick:r,className:"flex-1 py-3 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold shadow-lg hover:shadow-sky-500/25 transition-all active:scale-[0.98] flex items-center justify-center gap-2",children:[t.jsx(Tm,{className:"w-4 h-4"}),"Go to Settings"]})]}),t.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 flex items-center gap-1.5",children:[t.jsx(Zo,{className:"w-3 h-3"}),"Your data stays secure with Google OAuth"]})]})]})}):null,X5=({user:s,onShowWarning:e,onNavigateToSettings:r})=>{const[n,a]=W.useState(!1),[l,u]=W.useState(""),d=W.useCallback(()=>s?s.authProvider==="google"?!0:s.hasGoogleLinked===!0:!1,[s]),A=W.useCallback(p=>d()?!0:(u(p),a(!0),!1),[d]),o=W.useCallback(()=>{a(!1),u(""),r?r():window.location.href="/settings#google-linking"},[r]),f=W.useCallback(()=>{a(!1),u(""),e&&e("Google account not linked. This feature cannot be used until you link your Google account in Settings.")},[e]),m=W.useCallback(()=>{a(!1),u("")},[]);return{isGoogleLinked:d,requireGoogleLink:A,showLinkDialog:n,pendingFeature:l,handleGoToSettings:o,handleCancelLink:f,closeLinkDialog:m}},qp=0,bD=24,Q0=Array.from({length:bD-qp},(s,e)=>e+qp),sw=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],vD=["January","February","March","April","May","June","July","August","September","October","November","December"],yD=({user:s})=>{const[e,r]=W.useState(new Date),[n,a]=W.useState("week"),[l,u]=W.useState([]),[d,A]=W.useState(!1),[o,f]=W.useState(!1),{requireGoogleLink:m,showLinkDialog:p,pendingFeature:x,handleGoToSettings:b,handleCancelLink:y}=X5({user:s,onShowWarning:te=>je(te,"error")}),[w,E]=W.useState(!1),[R,z]=W.useState(!1),[X,Y]=W.useState(null),[Q,G]=W.useState(null),[le,Ae]=W.useState({title:"",dateStr:"",startTime:"09:00",endTime:"10:00",type:"activity"}),je=(te,ge="success")=>{Y({message:te,type:ge}),setTimeout(()=>Y(null),3e3)},ue=async()=>{try{const te=await fetch(`${Dt}/api/calendar/events`,{credentials:"include"});if(te.ok){const Fe=(await te.json()).map($e=>{const kt=new Date($e.startTime),St=new Date($e.endTime),Ge=Mt=>Mt.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!1});return{id:$e.id,title:$e.title,date:kt,startTime:Ge(kt),endTime:Ge(St),fullStart:$e.startTime,fullEnd:$e.endTime,type:"activity",color:"bg-sky-500 border-sky-600"}});u(Fe)}}catch(te){console.error("Failed to fetch events:",te),je("Failed to load events","error")}};W.useEffect(()=>{ue()},[]);const Se=async()=>{if(m("Calendar sync")){A(!0),f(!1);try{const te=await fetch(`${Dt}/api/calendar/sync`,{method:"POST",credentials:"include"});if(te.status===401){window.location.href=`${Dt}/authorize`;return}te.ok?(f(!0),je("Calendar synced successfully!"),await ue(),setTimeout(()=>f(!1),3e3)):je("Sync failed","error")}catch(te){console.error("Sync error:",te),je("Sync error occurred","error")}finally{A(!1)}}},ae=async()=>{if(!le.title||!le.dateStr)return;const te=new Date(`${le.dateStr}T${le.startTime}:00`),ge=new Date(`${le.dateStr}T${le.endTime}:00`);try{(await fetch(`${Dt}/api/calendar/add_manual`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:le.title,startTime:te.toISOString(),endTime:ge.toISOString()})})).ok?(E(!1),await ue(),Ae({title:"",dateStr:"",startTime:"09:00",endTime:"10:00",type:"activity"}),je("Event added successfully!")):je("Failed to add event. Check network or auth.","error")}catch(Fe){console.error(Fe),je("An error occurred while adding event.","error")}},Ne=async()=>{if(Q&&window.confirm("Are you sure you want to delete this event?"))try{(await fetch(`${Dt}/api/calendar/delete/${Q.id}`,{method:"DELETE",credentials:"include"})).ok?(z(!1),G(null),await ue(),je("Event deleted successfully!")):je("Failed to delete event.","error")}catch(te){console.error(te),je("An error occurred while deleting.","error")}},he=(te,ge)=>{const Fe=te.getFullYear(),$e=String(te.getMonth()+1).padStart(2,"0"),kt=String(te.getDate()).padStart(2,"0"),St=`${Fe}-${$e}-${kt}`;let Ge="09:00",Mt="10:00";ge!==void 0&&(Ge=`${String(ge).padStart(2,"0")}:00`,Mt=`${String(ge+1).padStart(2,"0")}:00`),Ae({...le,dateStr:St,startTime:Ge,endTime:Mt,title:""}),E(!0)},se=(te,ge)=>{te.stopPropagation(),G(ge),z(!0)},de=()=>{const te=new Date(e);n==="month"?te.setMonth(te.getMonth()-1):n==="week"?te.setDate(te.getDate()-7):te.setDate(te.getDate()-1),r(te)},oe=()=>{const te=new Date(e);n==="month"?te.setMonth(te.getMonth()+1):n==="week"?te.setDate(te.getDate()+7):te.setDate(te.getDate()+1),r(te)},Ee=te=>{const ge=te.getFullYear(),Fe=te.getMonth(),$e=new Date(ge,Fe,1).getDay(),kt=new Date(ge,Fe+1,0).getDate(),St=$e===0?6:$e-1,Ge=[];for(let Mt=0;Mt<St;Mt++)Ge.push(null);for(let Mt=1;Mt<=kt;Mt++)Ge.push(new Date(ge,Fe,Mt));return Ge},De=te=>{const ge=Ee(te).length;return Math.ceil(ge/7)},ke=te=>{const ge=new Date(te),Fe=ge.getDay(),$e=ge.getDate()-Fe+(Fe===0?-6:1);ge.setDate($e);const kt=[];for(let St=0;St<7;St++){const Ge=new Date(ge);Ge.setDate(ge.getDate()+St),kt.push(Ge)}return kt},pe=te=>{if(te.fullStart){const $e=new Date(te.fullStart);return($e.getHours()*60+$e.getMinutes()-qp*60)/60*80+2}const ge=parseInt(te.startTime.split(":")[0]),Fe=parseInt(te.startTime.split(":")[1])||0;return(ge-qp+Fe/60)*80+2},ye=te=>{if(te.fullStart&&te.fullEnd){const ge=new Date(te.fullStart),$e=(new Date(te.fullEnd).getTime()-ge.getTime())/(1e3*60);return Math.max($e/60*80-4,20)}return 76},fe=(te,ge)=>{if(te.fullStart&&te.fullEnd){const $e=new Date(te.fullStart),kt=new Date(te.fullEnd),St=ge,Ge=ge+1,Mt=$e.getHours()+$e.getMinutes()/60,Vt=kt.getHours()+kt.getMinutes()/60;return Mt<Ge&&Vt>St}return parseInt(te.startTime.split(":")[0])===ge};return t.jsxs("div",{className:"flex flex-col h-[calc(100vh-4rem)] w-full p-6 overflow-hidden animate-fade-in-up relative",children:[X&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[60] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${X.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800"}`,children:[X.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):t.jsx(Wo,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:X.message}),t.jsx("button",{onClick:()=>Y(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),w&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Add New Event"}),t.jsx("button",{onClick:()=>E(!1),children:t.jsx(qr,{className:"w-5 h-5 text-slate-400 hover:text-slate-900"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Title"}),t.jsx("input",{type:"text",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",autoFocus:!0,placeholder:"e.g. Meeting",value:le.title,onChange:te=>Ae({...le,title:te.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Date"}),t.jsx("input",{type:"date",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:le.dateStr,onChange:te=>Ae({...le,dateStr:te.target.value})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Start"}),t.jsx("input",{type:"time",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:le.startTime,onChange:te=>Ae({...le,startTime:te.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"End"}),t.jsx("input",{type:"time",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-xl p-3 outline-none font-medium dark:text-white",value:le.endTime,onChange:te=>Ae({...le,endTime:te.target.value})})]})]}),t.jsx("button",{onClick:ae,className:"w-full py-3 bg-sky-600 text-white font-bold rounded-xl hover:bg-sky-500 shadow-lg mt-2",children:"Save Event"})]})]})}),R&&Q&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-start mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white break-words w-10/12",children:Q.title}),t.jsx("button",{onClick:()=>z(!1),children:t.jsx(qr,{className:"w-5 h-5 text-slate-400 hover:text-slate-900"})})]}),t.jsxs("div",{className:"space-y-6 mb-8",children:[t.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-300",children:[t.jsx(co,{className:"w-5 h-5 text-sky-500"}),t.jsx("span",{className:"font-medium",children:Q.date.toDateString()})]}),t.jsxs("div",{className:"flex items-center gap-3 text-slate-600 dark:text-slate-300",children:[t.jsx(Vi,{className:"w-5 h-5 text-sky-500"}),t.jsxs("span",{className:"font-medium",children:[Q.startTime," - ",Q.endTime]})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("button",{onClick:Ne,className:"flex-1 py-3 bg-red-50 text-red-600 font-bold rounded-xl hover:bg-red-100 transition-colors flex items-center justify-center gap-2",children:[t.jsx(Jo,{className:"w-4 h-4"}),"Delete"]}),t.jsx("button",{onClick:()=>z(!1),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-white font-bold rounded-xl hover:bg-slate-200 transition-colors",children:"Close"})]})]})}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white w-64",children:[vD[e.getMonth()]," ",e.getFullYear()]}),t.jsxs("div",{className:"flex bg-white dark:bg-slate-800 rounded-lg p-1 border border-slate-200 dark:border-slate-700 shadow-sm dark:shadow-none",children:[t.jsx("button",{onClick:de,className:"p-1 hover:bg-slate-50 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("button",{onClick:oe,className:"p-1 hover:bg-slate-50 dark:hover:bg-slate-700 rounded text-slate-500 dark:text-slate-400",children:t.jsx(Ac,{className:"w-5 h-5"})})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:Se,className:`flex items-center gap-2 px-3 py-2 bg-white text-slate-700 dark:text-slate-900 rounded-lg text-sm font-semibold hover:bg-slate-50 transition-colors border border-slate-200 shadow-sm ${o?"bg-emerald-50 text-emerald-600 border-emerald-200":""}`,children:[d?t.jsx(ld,{className:"w-4 h-4 animate-spin text-blue-500"}):o?t.jsx(Wo,{className:"w-4 h-4 text-emerald-500"}):t.jsx("span",{className:"flex items-center gap-2",children:t.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500 text-white flex items-center justify-center text-[10px] font-bold",children:"G"})}),o?"Synced!":"Sync"]}),t.jsx("div",{className:"flex bg-white dark:bg-slate-800 rounded-lg p-1 border border-slate-200 dark:border-slate-700 shadow-sm dark:shadow-none",children:["month","week","day"].map(te=>t.jsx("button",{onClick:()=>a(te),className:`px-3 py-1.5 text-sm font-medium rounded capitalize transition-all ${n===te?"bg-sky-600 dark:bg-indigo-600 text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:te},te))}),t.jsxs("button",{onClick:()=>he(new Date),className:"flex items-center gap-2 px-4 py-2 bg-sky-600 hover:bg-sky-500 text-white text-sm font-medium rounded-lg shadow-lg",children:[t.jsx($i,{className:"w-4 h-4"})," Add"]})]})]}),t.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-800/20 border border-slate-200 dark:border-slate-800 rounded-xl overflow-hidden flex flex-col shadow-sm dark:shadow-none relative",children:[n==="month"&&t.jsxs("div",{className:"flex-1 grid grid-cols-7 grid-rows-[auto_1fr]",children:[sw.map(te=>t.jsx("div",{className:"p-4 text-center border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50",children:t.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase",children:te})},te)),t.jsx("div",{className:"grid grid-cols-7 col-span-7",style:{gridTemplateRows:`repeat(${De(e)}, 1fr)`},children:Ee(e).map((te,ge)=>{const Fe=te?l.filter($e=>$e.date.getDate()===te.getDate()&&$e.date.getMonth()===te.getMonth()):[];return t.jsx("div",{onClick:()=>te&&he(te),className:`border-r border-b border-slate-100 dark:border-slate-800/50 p-2 min-h-[100px] hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors cursor-pointer ${te?"":"bg-slate-50/50 dark:bg-slate-900/50"}`,children:te&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:`text-sm font-medium ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-600 text-white w-7 h-7 flex items-center justify-center rounded-full":"text-slate-700 dark:text-slate-300"}`,children:te.getDate()}),t.jsx("div",{className:"mt-2 space-y-1",children:Fe.map($e=>t.jsx("div",{onClick:kt=>se(kt,$e),className:`text-[10px] px-1.5 py-0.5 rounded truncate text-white ${$e.color.split(" ")[0]} cursor-pointer hover:brightness-110 shadow-sm`,children:$e.title},$e.id))})]})},ge)})})]}),n==="week"&&t.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[t.jsxs("div",{className:"grid grid-cols-8 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 flex-shrink-0 sticky top-0 z-20",children:[t.jsx("div",{className:"p-4 border-r border-slate-200 dark:border-slate-800 w-20"}),ke(e).map((te,ge)=>t.jsxs("div",{className:`p-4 text-center border-r border-slate-200 dark:border-slate-800 last:border-r-0 ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-50 dark:bg-indigo-900/20":""}`,children:[t.jsx("span",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:sw[ge]}),t.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${te.getDate()===new Date().getDate()&&te.getMonth()===new Date().getMonth()?"bg-sky-600 dark:bg-indigo-600 text-white":"text-slate-700 dark:text-slate-300"}`,children:te.getDate()})]},ge))]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:t.jsxs("div",{className:"grid grid-cols-8 relative",style:{minHeight:`${Q0.length*80}px`},children:[t.jsx("div",{className:"border-r border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/30 w-20 flex-shrink-0",children:Q0.map(te=>t.jsx("div",{className:"h-20 border-b border-slate-100 dark:border-slate-800/50 text-xs text-slate-400 dark:text-slate-500 p-2 text-right relative",children:t.jsxs("span",{className:"-top-3 relative block",children:[String(te).padStart(2,"0"),":00"]})},te))}),ke(e).map((te,ge)=>{const Fe=l.filter($e=>$e.date.getDate()===te.getDate()&&$e.date.getMonth()===te.getMonth());return t.jsxs("div",{className:"border-r border-slate-100 dark:border-slate-800/50 last:border-r-0 relative",children:[Q0.map($e=>t.jsx("div",{onClick:()=>he(te,$e),className:"h-20 border-b border-slate-100 dark:border-slate-800/50 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/20"},$e)),Fe.map($e=>{const kt=pe($e),St=ye($e);return kt<0||kt>Q0.length*80?null:t.jsxs("div",{onClick:Ge=>se(Ge,$e),className:`absolute left-1 right-1 p-2 rounded border-l-4 text-white text-xs cursor-pointer hover:brightness-110 transition-all shadow-md z-10 ${$e.color}`,style:{top:`${kt}px`,height:`${St}px`,minHeight:"20px"},children:[t.jsx("div",{className:"font-bold truncate",children:$e.title}),t.jsxs("div",{className:"opacity-80",children:[$e.startTime," - ",$e.endTime]})]},$e.id)})]},ge)})]})})]}),n==="day"&&t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-4",children:t.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:Q0.map(te=>{const ge=l.filter(Fe=>Fe.date.getDate()===e.getDate()&&Fe.date.getMonth()===e.getMonth()&&fe(Fe,te));return t.jsxs("div",{className:"flex gap-4 border-b border-slate-100 dark:border-slate-800 pb-4",children:[t.jsxs("div",{className:"w-16 text-right text-sm text-slate-400 pt-2",children:[String(te).padStart(2,"0"),":00"]}),t.jsx("div",{className:"flex-1 min-h-[60px] relative",children:ge.length>0?ge.map(Fe=>t.jsx("div",{onClick:$e=>se($e,Fe),className:`p-3 rounded-xl mb-2 border-l-4 ${Fe.color} bg-opacity-10 dark:bg-opacity-20 flex justify-between items-center bg-slate-50 dark:bg-slate-800 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors`,children:t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:Fe.title}),t.jsxs("p",{className:"text-xs text-slate-500",children:[Fe.startTime," - ",Fe.endTime]})]})},Fe.id)):t.jsx("div",{onClick:()=>he(e,te),className:"border-b border-dashed border-slate-200 dark:border-slate-800/50 h-full w-full cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/20"})})]},te)})})})]}),t.jsx(Y5,{isOpen:p,onClose:y,onGoToSettings:b,featureName:x})]})},wD=s=>{if(!s)return"";try{const[e,r]=s.split(":"),n=parseInt(e),a=n>=12?"PM":"AM";return`${n%12||12}:${r} ${a}`}catch{return s}},jD=(s,e)=>{if(!s)return null;try{const r=new Date(s);return r.setDate(r.getDate()+(e-1)),r.toLocaleDateString("en-US",{month:"short",day:"numeric",weekday:"short"})}catch{return null}},ND=(s="",e="")=>{const r=(s+e).toLowerCase();return["","","","","food","restaurant","dinner","lunch","breakfast","buffet"].some(n=>r.includes(n))?{type:"Food & Dining",icon:Gd,color:"text-orange-600 dark:text-orange-400",bg:"bg-orange-50 dark:bg-orange-500/10",border:"border-orange-100 dark:border-orange-500/20",iconBg:"bg-orange-100 dark:bg-orange-500/20"}:["","","","visit","tour","sightseeing","park","museum","attraction","ticket"].some(n=>r.includes(n))?{type:"Attraction",icon:T3,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-500/10",border:"border-blue-100 dark:border-blue-500/20",iconBg:"bg-blue-100 dark:bg-blue-500/20"}:["","","","mall","shop","store","market","souvenir"].some(n=>r.includes(n))?{type:"Shopping",icon:tx,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-500/10",border:"border-emerald-100 dark:border-emerald-500/20",iconBg:"bg-emerald-100 dark:bg-emerald-500/20"}:{type:e||"Activity",icon:Xo,color:"text-slate-600 dark:text-slate-400",bg:"bg-slate-50 dark:bg-slate-800/50",border:"border-slate-200 dark:border-slate-700",iconBg:"bg-slate-200 dark:bg-slate-700"}},CD=({user:s})=>{const e=zl(),{t:r}=Xd(["common","dashboard"]),[n,a]=W.useState(null),[l,u]=W.useState(!1),[d,A]=W.useState(!1),[o,f]=W.useState([]),[m,p]=W.useState(!0),[x,b]=W.useState(!1),[y,w]=W.useState(!1),[E,R]=W.useState(null),[z,X]=W.useState(!1),[Y,Q]=W.useState(null),[G,le]=W.useState(""),[Ae,je]=W.useState(null),[ue,Se]=W.useState(null),[ae,Ne]=W.useState(!1),[he,se]=W.useState({show:!1,message:"",type:"success"}),[de,oe]=W.useState({show:!1,title:"",message:"",onConfirm:()=>{}}),Ee=o.length>0?o[0]:null,De=(At,Lt="success")=>{se({show:!0,message:At,type:Lt}),setTimeout(()=>{se($s=>({...$s,show:!1}))},3e3)},{showLinkDialog:ke,pendingFeature:pe,requireGoogleLink:ye,handleGoToSettings:fe,handleCancelLink:te}=X5({user:s,onShowWarning:At=>De(At,"info")}),ge=async()=>{p(!0);try{const At=await fetch(`${Dt}/api/trips/list`,{credentials:"include"});if(At.ok){const $s=(await At.json()).map(vs=>({id:vs.id,destination:vs.destination||vs.title,title:vs.title,dates:vs.dates||`${vs.start_date||""} - ${vs.end_date||""}`,status:vs.status||"planning",weather:"25C",imageUrl:vs.imageUrl||"https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?auto=format&fit=crop&q=80&w=400",flight:vs.flight||null,hotel:vs.hotel||null,total_expenses:vs.total_expenses||0}));f($s)}else console.error("Failed to fetch trips")}catch(At){console.error("Error fetching trips:",At)}finally{p(!1)}},Fe=async At=>{try{const Lt=await fetch(`${Dt}/api/trips/${At}`,{credentials:"include"});if(Lt.ok){const $s=await Lt.json();R($s),w(!0)}else De("Failed to load trip details","error")}catch(Lt){console.error("Error fetching trip details:",Lt),De("Error loading trip details","error")}},$e=At=>{if(!ye("Export trip to Google Calendar"))return;Q(At);const Lt=new Date().toISOString().split("T")[0];le(Lt),X(!0)},kt=async(At,Lt)=>{b(!0);try{const $s=await fetch(`${Dt}/api/trips/${At}/export_calendar`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:Lt})});if($s.ok)(await $s.json()).status==="success"&&(De("Successfully exported events to Calendar!","success"),X(!1),ge());else if($s.status===401)oe({show:!0,title:"Authorization Required",message:"You need to authorize Google Calendar first. Redirect to authorization page?",confirmText:"Authorize",isDestructive:!1,onConfirm:()=>{window.location.href=`${Dt}/auth/authorize`,oe(vs=>({...vs,show:!1}))}});else{const vs=await $s.json();De(`Export failed: ${vs.error||"Unknown error"}`,"error")}}catch($s){console.error("Export error:",$s),De("Failed to export to Google Calendar.","error")}finally{b(!1)}},St=At=>{oe({show:!0,title:"Delete Trip",message:"Are you sure you want to delete this trip? This action cannot be undone.",confirmText:"Delete",isDestructive:!0,onConfirm:()=>Ge(At)})},Ge=async At=>{oe(Lt=>({...Lt,show:!1}));try{(await fetch(`${Dt}/api/trips/${At}`,{method:"DELETE",credentials:"include"})).ok?(De("Trip deleted successfully","success"),ge()):De("Failed to delete trip","error")}catch(Lt){console.error("Delete error:",Lt),De("Failed to delete trip","error")}},Mt=()=>{if(!navigator.geolocation){Se("Geolocation is not supported by your browser");return}Ne(!0),navigator.geolocation.getCurrentPosition(At=>{je({lat:At.coords.latitude,lng:At.coords.longitude}),Se(null),Ne(!1)},At=>{console.error("Error getting location:",At),Se("Unable to retrieve your location"),Ne(!1)})};if(W.useEffect(()=>{Mt(),ge()},[]),m)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-4 animate-fade-in",children:[t.jsx("div",{className:"w-12 h-12 border-4 border-slate-200 border-t-sky-600 rounded-full animate-spin"}),t.jsx("p",{className:"text-slate-500 font-medium",children:r("common:loading")})]});if(o.length===0)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-96 space-y-6 animate-fade-in p-8",children:[t.jsx("div",{className:"w-20 h-20 rounded-3xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(nA,{className:"w-10 h-10 text-slate-400"})}),t.jsxs("div",{className:"text-center",children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:r("dashboard:recentTrips.noTrips")}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r("dashboard:recentTrips.startPlanning")})]}),t.jsxs("button",{type:"button",onClick:()=>e("/chat"),className:"px-8 py-4 bg-sky-600 dark:bg-indigo-600 text-white rounded-2xl text-sm font-bold hover:bg-sky-500 dark:hover:bg-indigo-500 transition-all shadow-lg flex items-center gap-2",children:[t.jsx($i,{className:"w-5 h-5"}),r("dashboard:recentTrips.createTrip")]})]});const Vt=Ee!=null&&Ee.hotel?[{id:"hotel-1",type:"hotel",title:Ee.hotel.name||"Luxury Hotel",subtitle:Ee.hotel.address||"Location",rating:Ee.hotel.rating||5,top:"40%",left:"45%",icon:Jg,color:"emerald",description:"Experience luxury accommodations with world-class amenities.",image:"https://images.unsplash.com/photo-1566073771259-6a8506099945?auto=format&fit=crop&q=80&w=800",tags:["Luxury","Spa","View"]}]:[],cs=["Passport & Visa","Travel Insurance","Universal Adapter","Light Jacket","Comfortable Walking Shoes","Portable Charger","Local Currency","Toiletries","Camera","Prescription Meds"],xt=Vt.find(At=>At.id===n),ot=()=>{const $s=Ae?Ae.lat:35.0116,vs=Ae?Ae.lng:135.7681;return t.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/60 backdrop-blur-md border border-white/50 dark:border-slate-700/50 hover:border-sky-400 dark:hover:border-indigo-400 rounded-[2rem] p-1.5 shadow-sm relative group overflow-hidden isolate h-[450px] transition-all duration-500 ease-out hover:-translate-y-1 hover:shadow-2xl",children:[xt&&t.jsx("div",{className:"absolute inset-2 z-50 bg-white/95 dark:bg-slate-900/95 backdrop-blur-2xl rounded-[1.7rem] overflow-hidden shadow-2xl animate-scale-in",children:t.jsxs("div",{className:"h-full flex flex-col md:flex-row",children:[t.jsxs("div",{className:"w-full md:w-5/12 h-48 md:h-full relative shrink-0",children:[t.jsx("img",{src:xt.image,alt:xt.title,className:"w-full h-full object-cover"}),t.jsx("button",{onClick:()=>a(null),className:"absolute top-4 left-4 p-2 bg-black/20 backdrop-blur-md hover:bg-black/40 text-white rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex-1 p-6 md:p-8 flex flex-col overflow-y-auto",children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-1",children:xt.title}),t.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-4",children:xt.subtitle}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300 leading-relaxed mb-6 text-sm",children:xt.description}),t.jsx("div",{className:"mt-auto flex gap-3",children:t.jsxs("button",{onClick:()=>window.open("https://maps.google.com","_blank"),className:"flex-1 py-3 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold flex items-center justify-center gap-2",children:[t.jsx(m5,{className:"w-4 h-4"}),"Directions"]})})]})]})}),t.jsx("div",{className:"w-full h-full relative bg-slate-100 dark:bg-slate-800 rounded-[1.7rem] overflow-hidden",children:t.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://maps.google.com/maps?q=${$s},${vs}&z=14&output=embed`,allowFullScreen:!0,className:"grayscale-[20%] hover:grayscale-0 transition-all duration-700"})})]})};return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-10 animate-fade-in-up relative",children:[he.show&&t.jsx("div",{className:"fixed top-6 left-1/2 transform -translate-x-1/2 z-[100] animate-fade-in-down",children:t.jsxs("div",{className:`flex items-center gap-3 px-6 py-4 rounded-2xl shadow-2xl backdrop-blur-md border border-white/10 ${he.type==="success"?"bg-emerald-500/90 text-white":he.type==="error"?"bg-red-500/90 text-white":"bg-slate-800/90 text-white"}`,children:[he.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):he.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):t.jsx(Ia,{className:"w-5 h-5"}),t.jsx("span",{className:"font-bold text-sm",children:he.message})]})}),de.show&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-6 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",children:t.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[t.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center ${de.isDestructive?"bg-red-100 dark:bg-red-900/30 text-red-500":"bg-sky-100 dark:bg-indigo-900/30 text-sky-500"}`,children:de.isDestructive?t.jsx(Jo,{className:"w-7 h-7"}):t.jsx(Zo,{className:"w-7 h-7"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:de.title}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 leading-relaxed",children:de.message})]}),t.jsxs("div",{className:"flex gap-3 w-full pt-2",children:[t.jsx("button",{onClick:()=>oe(At=>({...At,show:!1})),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all",children:r("common:cancel")}),t.jsx("button",{onClick:de.onConfirm,className:`flex-1 py-3 text-white rounded-xl text-sm font-bold shadow-lg transition-all active:scale-95 ${de.isDestructive?"bg-red-500 hover:bg-red-600":"bg-sky-600 hover:bg-sky-500"}`,children:de.confirmText||"Confirm"})]})]})})}),z&&Y&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(co,{className:"w-6 h-6 text-sky-500"}),"Select Start Date"]}),t.jsx("button",{onClick:()=>X(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors hover:scale-105",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm leading-relaxed",children:"Choose when you want your trip to start. All itinerary items will be scheduled from this date."}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Start Date"}),t.jsx("input",{type:"date",value:G,onChange:At=>le(At.target.value),min:new Date().toISOString().split("T")[0],className:"w-full bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-2xl py-4 px-4 text-slate-900 dark:text-white font-medium focus:outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 dark:focus:border-indigo-500 transition-all hover:border-sky-300 dark:hover:border-indigo-500/50"})]}),t.jsx("div",{className:"bg-sky-50 dark:bg-indigo-900/20 rounded-2xl p-4 border border-sky-100 dark:border-indigo-500/30",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-indigo-500/20 rounded-lg",children:t.jsx(co,{className:"w-5 h-5 text-sky-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white mb-1",children:"Trip Schedule Preview"}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:G?t.jsxs(t.Fragment,{children:["Your trip will start on ",t.jsx("span",{className:"font-bold text-sky-600 dark:text-indigo-400",children:new Date(G).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}):"Please select a start date"})]})]})}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{onClick:()=>X(!1),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all border border-transparent hover:border-slate-300 dark:hover:border-slate-600",children:r("common:cancel")}),t.jsx("button",{onClick:()=>kt(Y,G),disabled:!G||x,className:"flex-[2] py-3 bg-sky-600 hover:bg-sky-500 dark:bg-indigo-600 dark:hover:bg-indigo-500 text-white rounded-xl text-sm font-bold shadow-lg transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),"Exporting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(X0,{className:"w-4 h-4"}),"Export to Calendar"]})})]})]})]})}),y&&E&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-3xl rounded-[2.5rem] shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in flex flex-col max-h-[85vh]",children:[t.jsxs("div",{className:"p-8 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-white/50 dark:bg-slate-900/50 backdrop-blur-xl z-20 rounded-t-[2.5rem]",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:E.title}),t.jsxs("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 flex items-center gap-2 mt-1",children:[t.jsx(co,{className:"w-4 h-4"}),E.dates||"Trip Itinerary"]})]}),t.jsx("button",{onClick:()=>w(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors hover:rotate-90 duration-300",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar bg-white dark:bg-slate-900",children:E.items&&E.items.length>0?t.jsx("div",{className:"p-8 space-y-10",children:Object.entries(E.items.reduce((At,Lt)=>{const $s=Lt.day_number;return At[$s]||(At[$s]=[]),At[$s].push(Lt),At},{})).map(([At,Lt])=>{const $s=Lt.sort((vs,fr)=>vs.start_time.localeCompare(fr.start_time));return t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6 sticky top-0 bg-white/95 dark:bg-slate-900/95 backdrop-blur-md z-10 py-3 border-b border-slate-100 dark:border-slate-800",children:[t.jsx("div",{children:t.jsxs("h4",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:["DAY ",At,E.start_date&&t.jsx("span",{className:"text-sm font-medium text-slate-400 font-normal border-l border-slate-200 dark:border-slate-700 pl-3",children:jD(E.start_date,parseInt(At))})]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>De("AI Day Optimization coming soon!","info"),className:"text-xs font-bold text-sky-600 dark:text-sky-400 bg-sky-50 dark:bg-sky-500/10 hover:bg-sky-100 dark:hover:bg-sky-500/20 px-3 py-1.5 rounded-full transition-colors flex items-center gap-1.5",children:[t.jsx(Ao,{className:"w-3 h-3"})," Optimize Day"]}),t.jsxs("button",{onClick:()=>De("Relax Mode coming soon!","info"),className:"text-xs font-bold text-slate-500 dark:text-slate-400 bg-slate-50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 px-3 py-1.5 rounded-full transition-colors flex items-center gap-1.5",children:[t.jsx(Em,{className:"w-3 h-3"})," Relax"]})]})]}),t.jsxs("div",{className:"space-y-6 relative pl-4",children:[t.jsx("div",{className:"absolute left-[85px] top-4 bottom-4 w-0.5 bg-slate-100 dark:bg-slate-800/50"}),$s.map((vs,fr)=>{var yr;const{type:Ar,icon:hr,color:Ms,bg:ys,border:Us,iconBg:xr}=ND(vs.notes,vs.type);return t.jsxs("div",{className:"flex gap-6 relative group",children:[t.jsx("div",{className:"w-[70px] shrink-0 pt-1 text-right",children:t.jsx("span",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800 px-2.5 py-1 rounded-lg border border-transparent group-hover:border-slate-200 dark:group-hover:border-slate-700 transition-all",children:wD(vs.start_time)})}),t.jsx("div",{className:`absolute left-[81px] top-3 w-2.5 h-2.5 rounded-full z-10 border-2 border-white dark:border-slate-900 transition-all duration-300 ${Ms.replace("text-","bg-")} group-hover:scale-125 shadow-sm`}),t.jsx("div",{className:`flex-1 ${ys} rounded-2xl p-4 border ${Us} hover:shadow-lg hover:shadow-sky-100/50 dark:hover:shadow-none transition-all duration-300 group-hover:-translate-y-0.5 relative overflow-hidden`,children:t.jsxs("div",{className:"relative z-10",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`p-1.5 rounded-lg ${xr}`,children:t.jsx(hr,{className:`w-4 h-4 ${Ms}`})}),t.jsx("h5",{className:"font-bold text-slate-900 dark:text-white text-base",children:((yr=vs.place)==null?void 0:yr.name)||vs.type||"Activity"})]}),t.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 transform translate-x-2 group-hover:translate-x-0",children:[t.jsx("button",{onClick:()=>De("Edit item coming soon","info"),className:"p-1.5 text-slate-400 hover:text-sky-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Edit",children:t.jsx(b0,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>De("AI Replace coming soon","info"),className:"p-1.5 text-slate-400 hover:text-purple-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"AI Replace",children:t.jsx(ld,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>De("Delete item coming soon","info"),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-white dark:hover:bg-slate-700 rounded-lg transition-colors",title:"Delete",children:t.jsx(Jo,{className:"w-3.5 h-3.5"})})]})]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed pl-[34px]",children:vs.notes})]})})]},fr)})]})]},At)})}):t.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 py-12 space-y-4",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-50 dark:bg-slate-800 rounded-full flex items-center justify-center",children:t.jsx(Xo,{className:"w-8 h-8 text-slate-300"})}),t.jsx("p",{children:"No itinerary items yet"}),t.jsx("button",{className:"text-sky-600 font-bold text-sm hover:underline",children:"Start Planning with AI"})]})}),t.jsx("div",{className:"p-6 border-t border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-900 rounded-b-[2.5rem] z-20",children:t.jsxs("button",{onClick:()=>$e(E.id),disabled:x,className:"w-full py-4 bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-500 hover:to-emerald-400 text-white rounded-xl text-sm font-bold shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2 disabled:opacity-50 transition-all hover:scale-[1.02] active:scale-[0.98]",children:[x?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsx(X0,{className:"w-5 h-5"}),x?"Exporting to Calendar...":"Export Itinerary to Calendar"]})})]})}),d&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 relative animate-scale-in flex flex-col max-h-[80vh]",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(K3,{className:"w-6 h-6 text-sky-500"}),"Packing List"]}),t.jsx("button",{onClick:()=>A(!1),className:"p-2 text-slate-400 hover:text-slate-900 dark:hover:text-white bg-slate-100 dark:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-3",children:cs.map((At,Lt)=>t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl hover:bg-sky-50 dark:hover:bg-indigo-900/20 cursor-pointer transition-colors group",children:[t.jsx(YE,{className:"w-5 h-5 text-slate-300 group-hover:text-sky-500 dark:group-hover:text-indigo-400"}),t.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:At})]},Lt))}),t.jsx("div",{className:"mt-6 pt-4 border-t border-slate-100 dark:border-slate-700",children:t.jsx("button",{onClick:()=>A(!1),className:"w-full py-3 bg-sky-600 text-white font-bold rounded-xl shadow-lg hover:bg-sky-500 active:scale-95 transition-all",children:r("common:done")})})]})}),t.jsx("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-4xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Travel Hub"}),t.jsxs("p",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mt-1",children:[o.length," ",o.length===1?"trip":"trips"," planned"]})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((At,Lt)=>t.jsxs("div",{className:"bg-white/70 dark:bg-slate-800/40 backdrop-blur-xl border border-white/60 dark:border-slate-700/50 rounded-[2rem] overflow-hidden shadow-sm hover:shadow-2xl transition-all duration-300 group hover:-translate-y-2",style:{animationDelay:`${Lt*100}ms`},children:[t.jsxs("div",{className:"relative h-48 overflow-hidden",children:[t.jsx("img",{src:At.imageUrl,alt:At.destination,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold uppercase backdrop-blur-md ${At.status==="completed"?"bg-emerald-500/80 text-white":At.status==="upcoming"||At.status==="planning"?"bg-sky-500/80 text-white":"bg-amber-500/80 text-white"}`,children:At.status})}),t.jsx("div",{className:"absolute bottom-4 left-4",children:t.jsx("h3",{className:"text-2xl font-bold text-white tracking-tight",children:At.destination})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[t.jsx(co,{className:"w-4 h-4"}),t.jsx("span",{className:"font-medium",children:At.dates})]}),At.total_expenses>0&&t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-xl p-3",children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"Total Expenses"}),t.jsxs("p",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:["$",At.total_expenses.toFixed(2)]})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs("button",{onClick:()=>Fe(At.id),className:"flex-1 py-2.5 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-white rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-600 transition-all flex items-center justify-center gap-2",children:[t.jsx(io,{className:"w-4 h-4"}),r("common:viewMore")]}),t.jsxs("button",{onClick:()=>$e(At.id),disabled:x,className:"flex-1 py-2.5 bg-sky-600 hover:bg-sky-500 text-white rounded-xl text-sm font-bold shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:[x?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(X0,{className:"w-4 h-4"}),"Export"]}),t.jsx("button",{onClick:()=>St(At.id),className:"p-2.5 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-xl hover:bg-red-100 dark:hover:bg-red-900/40 transition-all",children:t.jsx(Jo,{className:"w-4 h-4"})})]})]})]},At.id))}),Ee&&t.jsxs("div",{className:"relative h-80 rounded-[2.5rem] overflow-hidden isolate group shadow-2xl border border-transparent hover:border-sky-500/30 transition-all duration-500 hover:scale-[1.01]",children:[t.jsx("img",{src:Ee.imageUrl,alt:Ee.destination,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-[1.5s] group-hover:scale-105"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-10",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/20 backdrop-blur-md border border-white/20 text-xs font-bold text-white mb-4 uppercase tracking-wider",children:[t.jsx(nA,{className:"w-3.5 h-3.5"}),"Next Adventure"]}),t.jsx("h3",{className:"text-5xl font-bold text-white mb-4 tracking-tighter",children:Ee.destination}),t.jsx("div",{className:"flex items-center gap-4 text-slate-200",children:t.jsxs("div",{className:"flex items-center gap-2.5 text-sm font-medium bg-black/40 px-4 py-2 rounded-xl backdrop-blur-md",children:[t.jsx(co,{className:"w-4 h-4 text-sky-400"}),Ee.dates]})})]})]}),Ee&&Vt.length>0&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-sky-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(Xo,{className:"w-5 h-5 text-sky-600 dark:text-indigo-400"})}),"Trip Map"]}),t.jsx(ot,{})]}),t.jsx(Y5,{isOpen:ke,onClose:te,onGoToSettings:fe,featureName:pe})]})};new Date(new Date().getFullYear(),new Date().getMonth()-11,1),new Date(new Date().setMonth(new Date().getMonth()-1)),new Date(new Date().setMonth(new Date().getMonth()-2)),new Date(new Date().setMonth(new Date().getMonth()-3));new Date(new Date().setHours(10,30,0,0)),new Date(new Date().setHours(15,0,0,0)),new Date(new Date().setDate(new Date().getDate()+1));const kD=[{id:"si-1",content:"Remember to buy JR Rail Pass before leaving",category:"note",timestamp:new Date,isCompleted:!1,priority:"high"},{id:"si-2",content:"Visit Fushimi Inari Shrine early morning to avoid crowds",category:"ai-suggestion",timestamp:new Date(Date.now()-864e5),isCompleted:!1,priority:"medium"},{id:"si-3",content:"Restaurant reservation: Monk (confirm 2 days prior)",category:"activity",timestamp:new Date(Date.now()-1728e5),isCompleted:!0,priority:"high"}],BD=()=>{const[s,e]=W.useState(kD),[r,n]=W.useState(""),[a,l]=W.useState("all"),[u,d]=W.useState(null),A=(b,y="success")=>{d({message:b,type:y}),setTimeout(()=>d(null),3e3)},o=()=>{if(!r.trim())return;const b={id:Date.now().toString(),content:r,category:"note",timestamp:new Date,isCompleted:!1,priority:"medium"};e(y=>[b,...y]),n(""),A("Note added successfully!","success")},f=b=>{e(y=>y.map(w=>w.id===b?{...w,isCompleted:!w.isCompleted}:w))},m=b=>{e(y=>y.filter(w=>w.id!==b)),A("Item deleted","info")},p=b=>{switch(b){case"ai-suggestion":return t.jsx(n0,{className:"w-4 h-4"});case"activity":return t.jsx(Gd,{className:"w-4 h-4"});case"logistics":return t.jsx(nA,{className:"w-4 h-4"});default:return t.jsx(b5,{className:"w-4 h-4"})}},x=a==="all"?s:s.filter(b=>b.category===a);return t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto flex flex-col h-[calc(100vh-6rem)] animate-fade-in-up relative",children:[u&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[60] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${u.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":u.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[u.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):u.type==="success"?t.jsx(Wo,{className:"w-5 h-5"}):t.jsx(Sl,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:u.message}),t.jsx("button",{onClick:()=>d(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-10",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center",children:t.jsx(Zb,{className:"w-6 h-6 text-amber-600 dark:text-amber-400"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Trip Notebook"})]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"Capture ideas, AI suggestions, and tasks for your trip."})]}),t.jsx("div",{className:"flex bg-white dark:bg-slate-800 rounded-xl p-1 shadow-sm border border-slate-200 dark:border-slate-700/50 hover:border-slate-300 dark:hover:border-slate-600 transition-colors",children:["all","note","activity","ai-suggestion"].map(b=>t.jsx("button",{onClick:()=>l(b),className:`
                 px-4 py-2 rounded-lg text-sm font-bold capitalize transition-all
                 ${a===b?"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-300":"text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white hover:bg-slate-50 dark:hover:bg-slate-700"}
               `,children:b==="ai-suggestion"?"AI Tips":b},b))})]}),t.jsxs("div",{className:"relative mb-8 z-20 group",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-200 to-orange-100 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl blur opacity-25 group-hover:opacity-50 transition-opacity duration-500"}),t.jsxs("div",{className:"relative flex items-center bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-2xl shadow-lg p-2 transition-all focus-within:ring-4 focus-within:ring-amber-500/10 focus-within:border-amber-500/50 hover:border-amber-400 dark:hover:border-amber-400 hover:-translate-y-1 hover:shadow-xl duration-300 ease-out",children:[t.jsx("div",{className:"pl-4 pr-3 text-slate-400",children:t.jsx($i,{className:"w-5 h-5"})}),t.jsx("input",{type:"text",value:r,onChange:b=>n(b.target.value),onKeyDown:b=>b.key==="Enter"&&o(),placeholder:"Add a note, restaurant idea, or reminder...",className:"flex-1 bg-transparent border-none outline-none py-3 text-slate-900 dark:text-white placeholder-slate-400 font-medium"}),t.jsx("button",{onClick:o,disabled:!r.trim(),className:"bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-6 py-2.5 rounded-xl font-bold text-sm hover:opacity-90 active:scale-95 transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg hover:-translate-y-0.5",children:"Add Note"})]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar -mr-4 pr-4 space-y-4 pb-10",children:x.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center space-y-4 opacity-50",children:[t.jsx(Zb,{className:"w-12 h-12 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium",children:"No items found. Start typing above!"})]}):x.map((b,y)=>t.jsxs("div",{className:"group flex items-start gap-4 p-5 bg-white/70 dark:bg-slate-800/40 backdrop-blur-md border border-white/60 dark:border-slate-700/50 rounded-2xl shadow-sm transition-all duration-300 animate-scale-in hover:border-amber-400 dark:hover:border-amber-500 hover:-translate-y-1 hover:scale-[1.01] hover:shadow-xl",style:{animationDelay:`${y*50}ms`},children:[t.jsx("button",{onClick:()=>f(b.id),className:`mt-0.5 flex-shrink-0 transition-all hover:scale-110 ${b.isCompleted?"text-emerald-500":"text-slate-300 dark:text-slate-600 hover:text-emerald-500"}`,children:b.isCompleted?t.jsx(uo,{className:"w-6 h-6"}):t.jsx(MS,{className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:`text-base font-medium leading-relaxed transition-all duration-300 ${b.isCompleted?"text-slate-400 line-through decoration-slate-300":"text-slate-900 dark:text-white"}`,children:b.content}),t.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[t.jsxs("span",{className:`
                     inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wider transition-transform group-hover:scale-105
                     ${b.category==="ai-suggestion"?"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":b.category==="activity"?"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300":"bg-slate-100 text-slate-600 dark:bg-slate-700/50 dark:text-slate-400"}
                   `,children:[p(b.category),b.category==="ai-suggestion"?"AI Suggestion":b.category]}),t.jsx("span",{className:"text-xs text-slate-400 font-medium",children:b.timestamp.toLocaleDateString()})]})]}),t.jsx("button",{onClick:()=>m(b.id),className:"p-2 text-slate-300 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl opacity-0 group-hover:opacity-100 transition-all border border-transparent hover:border-red-200 hover:scale-110",children:t.jsx(Jo,{className:"w-5 h-5"})})]},b.id))})]})},sf=[{code:"en",name:"English",flag:""},{code:"ja",name:"Japanese",flag:""},{code:"zh",name:"Chinese",flag:""},{code:"ko",name:"Korean",flag:""},{code:"es",name:"Spanish",flag:""},{code:"fr",name:"French",flag:""},{code:"de",name:"German",flag:""},{code:"it",name:"Italian",flag:""},{code:"my",name:"Malay",flag:""},{code:"th",name:"Thai",flag:""},{code:"vi",name:"Vietnamese",flag:""},{code:"id",name:"Indonesian",flag:""},{code:"pt",name:"Portuguese",flag:""},{code:"ru",name:"Russian",flag:""},{code:"ar",name:"Arabic",flag:""}],fb=[{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash",premiumOnly:!1},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",premiumOnly:!0}],mb=({active:s,onClick:e,icon:r,label:n,badge:a})=>t.jsxs("button",{onClick:e,className:`
      relative flex items-center gap-2 px-5 py-2.5 rounded-xl font-semibold text-sm transition-all duration-300
      ${s?"bg-gradient-to-r from-sky-500 to-indigo-500 text-white shadow-lg shadow-sky-500/25":"bg-white/50 dark:bg-slate-800/50 text-slate-600 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-800"}
    `,children:[r,n,a&&t.jsxs("span",{className:"absolute -top-1 -right-1 px-1.5 py-0.5 bg-amber-400 text-amber-900 text-[10px] font-bold rounded-full flex items-center gap-0.5",children:[t.jsx(Vd,{className:"w-2.5 h-2.5"}),a]})]}),SD=({engine:s,setEngine:e,disabled:r,isPremium:n,onUpgrade:a})=>t.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:[t.jsxs("button",{onClick:()=>!r&&e("google"),disabled:r,className:`
        flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all
        ${s==="google"?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}
        ${r?"opacity-50 cursor-not-allowed":""}
      `,children:[t.jsx(hm,{className:"w-3.5 h-3.5"}),"Google Cloud"]}),t.jsxs("button",{onClick:()=>{if(!r){if(!n){a();return}e("ai")}},disabled:r,className:`
        flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all relative
        ${s==="ai"?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700 dark:text-slate-400"}
        ${r?"opacity-50 cursor-not-allowed":""}
      `,children:[t.jsx(Ao,{className:"w-3.5 h-3.5"}),"AI Enhanced",!n&&t.jsx(Td,{className:"w-3 h-3 text-amber-500 ml-1"})]})]}),ED=({selectedModel:s,onSelect:e,isPremium:r,disabled:n,onUpgrade:a})=>{const[l,u]=W.useState(!1),d=W.useRef(null),[A,o]=W.useState({top:0,left:0,width:0}),f=()=>{if(d.current){const p=d.current.getBoundingClientRect();o({top:p.bottom+window.scrollY+8,left:p.left+window.scrollX,width:Math.max(p.width,200)})}};W.useEffect(()=>(l&&(f(),window.addEventListener("scroll",f),window.addEventListener("resize",f)),()=>{window.removeEventListener("scroll",f),window.removeEventListener("resize",f)}),[l]),W.useEffect(()=>{const p=x=>{d.current&&d.current.contains(x.target)||u(!1)};return l&&document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[l]);const m=fb.find(p=>p.id===s)||fb[0];return t.jsxs(t.Fragment,{children:[t.jsx("button",{ref:d,onClick:()=>!n&&u(!l),disabled:n,className:`
          flex items-center gap-2 px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl
          hover:border-indigo-400 transition-colors text-xs font-medium min-w-[160px] justify-between
          ${n?"opacity-50 cursor-not-allowed":""}
        `,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(_S,{className:"w-4 h-4 text-indigo-500"}),t.jsx("span",{className:"text-slate-700 dark:text-slate-200 truncate max-w-[120px]",children:m.name})]})}),l&&Gj.createPortal(t.jsxs("div",{className:"fixed z-[9999] bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden animate-in fade-in zoom-in-95 duration-100",style:{top:A.top,left:A.left,width:A.width},onMouseDown:p=>p.stopPropagation(),children:[fb.map(p=>{const x=p.premiumOnly&&!r;return t.jsxs("button",{onClick:()=>{x?(a(),u(!1)):(e(p.id),u(!1))},className:`
                  w-full flex items-center justify-between p-3 text-left border-b last:border-0 border-slate-50 dark:border-slate-700/50
                  ${s===p.id?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"text-slate-600 dark:text-slate-300"}
                  hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors
                `,children:[t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-xs font-medium",children:p.name}),p.premiumOnly&&t.jsx("span",{className:"text-[10px] text-amber-600 dark:text-amber-500",children:"PRO Model"})]}),x?t.jsx(Td,{className:"w-3.5 h-3.5 text-amber-500"}):s===p.id&&t.jsx(Wo,{className:"w-3.5 h-3.5"})]},p.id)}),!r&&t.jsx("button",{onClick:()=>{a(),u(!1)},className:"w-full p-2 bg-amber-50 dark:bg-amber-900/20 text-center hover:bg-amber-100 dark:hover:bg-amber-900/40 transition-colors",children:t.jsxs("p",{className:"text-[10px] font-bold text-amber-700 dark:text-amber-400 flex items-center justify-center gap-1",children:[t.jsx(Vd,{className:"w-3 h-3"}),"Upgrade to Unlock All"]})})]}),document.body)]})},rw=({speaker:s,flag:e,langName:r,isActive:n,isRecording:a,isProcessing:l,disabled:u,onPress:d,onRelease:A})=>t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsxs("span",{className:"text-xs font-medium text-slate-500 dark:text-slate-400",children:["Speaker ",s]}),t.jsxs("div",{className:"relative",children:[a&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"absolute inset-0 rounded-full bg-red-500/30 animate-ping",style:{animationDuration:"1s"}}),t.jsx("div",{className:"absolute -inset-2 rounded-full bg-red-500/20 animate-ping",style:{animationDuration:"1.5s"}}),t.jsx("div",{className:"absolute -inset-4 rounded-full bg-red-500/10 animate-ping",style:{animationDuration:"2s"}})]}),t.jsx("button",{onMouseDown:d,onMouseUp:A,onMouseLeave:A,onTouchStart:o=>{o.preventDefault(),d()},onTouchEnd:o=>{o.preventDefault(),A()},disabled:u,className:`
          relative w-24 h-24 rounded-full flex flex-col items-center justify-center gap-1 transition-all duration-300
          ${a?"bg-gradient-to-br from-red-500 to-rose-600 scale-110 shadow-2xl shadow-red-500/50":l?"bg-gradient-to-br from-amber-500 to-orange-500 shadow-xl shadow-amber-500/30":n?"bg-gradient-to-br from-sky-500 to-indigo-500 shadow-xl shadow-sky-500/30 hover:scale-105":"bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600"}
          ${u&&!l?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        `,children:l?t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Lr,{className:"w-7 h-7 text-white animate-spin"}),t.jsx("span",{className:"text-[10px] text-white/80 font-medium",children:"Processing"})]}):a?t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(o=>t.jsx("div",{className:"w-1 bg-white rounded-full animate-pulse",style:{height:`${12+Math.random()*16}px`,animationDelay:`${o*.1}s`,animationDuration:"0.5s"}},o))}),t.jsx("span",{className:"text-[10px] text-white/80 font-medium",children:"Recording"})]}):t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"text-2xl",children:e}),t.jsx(f5,{className:`w-5 h-5 ${n?"text-white":"text-slate-500 dark:text-slate-400"}`})]})})]}),t.jsx("span",{className:`text-sm font-medium transition-colors ${a?"text-red-500":l?"text-amber-600 dark:text-amber-400":n?"text-sky-600 dark:text-indigo-400":"text-slate-600 dark:text-slate-400"}`,children:r}),a&&t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsxs("span",{className:"relative flex h-2 w-2",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-red-500"})]}),t.jsx("span",{className:"text-xs text-red-500 font-semibold",children:"Streaming live..."})]}),l&&!a&&t.jsx("span",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:"Translating..."})]}),TD=({message:s,onPlayAudio:e,isPlaying:r})=>{const n=s.speaker==="A",a=s.type==="translated";return t.jsx("div",{className:`flex ${n?"justify-end":"justify-start"} mb-3`,children:t.jsxs("div",{className:`max-w-[80%] ${n?"items-end":"items-start"} flex flex-col gap-1`,children:[t.jsxs("div",{className:`flex items-center gap-1.5 text-xs ${n?"flex-row-reverse":""}`,children:[t.jsx("span",{children:s.flag}),t.jsx("span",{className:"font-medium text-slate-500 dark:text-slate-400",children:a?"Translation":`Speaker ${s.speaker}`})]}),t.jsx("div",{className:`
            px-4 py-3 rounded-2xl
            ${a?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white":n?"bg-sky-500 text-white":"bg-white dark:bg-slate-800 text-slate-900 dark:text-white border border-slate-200 dark:border-slate-700"}
            ${n?"rounded-tr-sm":"rounded-tl-sm"}
          `,children:t.jsx("p",{className:"text-sm leading-relaxed",children:s.text})}),a&&s.audioBase64&&e&&t.jsxs("button",{onClick:e,className:"flex items-center gap-1.5 px-2 py-1 text-xs text-slate-500 dark:text-slate-400 hover:text-indigo-500 transition-colors",children:[r?t.jsx(p5,{className:"w-3 h-3"}):t.jsx(tv,{className:"w-3 h-3"}),r?"Playing...":"Play audio"]})]})})},UD=({user:s})=>{const[e,r]=W.useState("text"),[n,a]=W.useState("en"),[l,u]=W.useState("ja"),[d,A]=W.useState("google"),[o,f]=W.useState("gemini-2.5-flash"),[m,p]=W.useState(""),[x,b]=W.useState(""),[y,w]=W.useState(!1),[E,R]=W.useState(!1),[z,X]=W.useState(!1),[Y,Q]=W.useState("A"),[G,le]=W.useState(!1),[Ae,je]=W.useState(!1),[ue,Se]=W.useState([]),[ae,Ne]=W.useState(null),[he,se]=W.useState(null),[de,oe]=W.useState(""),[Ee,De]=W.useState(""),[ke,pe]=W.useState(!1),[ye,fe]=W.useState(null),[te,ge]=W.useState(null),[Fe,$e]=W.useState(!1),[kt,St]=W.useState(!1),[Ge,Mt]=W.useState(null),Vt=W.useRef(null),cs=W.useRef(null);W.useRef([]);const xt=W.useRef(null),ot=W.useRef(null),At=W.useRef(null),Lt=W.useRef(null),$s=W.useRef(0),vs=(s==null?void 0:s.isPremium)??!1,fr=wt=>sf.find(es=>es.code===wt)||{code:wt,name:wt,flag:""};W.useEffect(()=>{var wt;(wt=xt.current)==null||wt.scrollIntoView({behavior:"smooth"})},[ue]),W.useEffect(()=>()=>{Vt.current&&Vt.current.disconnect(),cs.current&&cs.current.state!=="inactive"&&cs.current.stop()},[]),W.useEffect(()=>{!vs&&d==="ai"&&A("google")},[vs,d]);const Ar=()=>{confirm("This feature requires a Premium subscription. Unlock the full power of AI translation now!")&&(window.location.href="/billing")},hr=()=>{a(l),u(n),Vt.current&&z&&Vt.current.emit("swap_languages"),e==="text"&&(p(x),b(m))},Ms=async()=>{if(m.trim()){w(!0),b("");try{const wt=await fetch(`${Dt}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({text:m,source_lang:n,target_lang:l,engine:d,model:d==="ai"?o:void 0})}),es=await wt.json();wt.ok&&es.status==="success"?b(es.translation):b(es.error||"Error: Could not translate.")}catch{b("Error: Failed to connect to translation service.")}finally{w(!1)}}},ys=W.useCallback(()=>{if(!vs){Ar();return}se(null);const wt=q0(`${Dt}/translate-stream`,{withCredentials:!0,transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3});wt.on("connect",()=>{console.log("[StreamingConversation] Socket connected")}),wt.on("connected",es=>{console.log("[StreamingConversation] Authenticated:",es),R(!0),se(null)}),wt.on("error",es=>{console.error("[StreamingConversation] Error:",es),se(es.message),je(!1),pe(!1),oe(""),(es.code==="PREMIUM_REQUIRED"||es.code==="AUTH_REQUIRED")&&(wt.disconnect(),R(!1))}),wt.on("streaming_started",es=>{console.log("[StreamingConversation] Streaming started:",es),pe(!0),X(!0),Q(es.speaker),oe(""),$s.current=0,es.session_info&&Ne({langA:es.session_info.lang_a,langB:es.session_info.lang_b,langAName:es.session_info.lang_a_name,langBName:es.session_info.lang_b_name,langAFlag:es.session_info.lang_a_flag,langBFlag:es.session_info.lang_b_flag})}),wt.on("partial_transcription",es=>{oe(es.text)}),wt.on("partial_translation",es=>{De(es.translated_text)}),wt.on("final_transcription",es=>{oe(""),De("");const As={id:`${Date.now()}-orig-${es.speaker}`,speaker:es.speaker,type:"original",text:es.text,language:es.language,languageName:es.language_name,flag:es.flag,timestamp:new Date};Se(hs=>[...hs,As])}),wt.on("translation",es=>{De("");const As={id:`${Date.now()}-trans-${es.speaker}`,speaker:es.speaker,type:"translated",text:es.translated_text,language:es.target_lang,languageName:es.target_lang_name,flag:es.target_flag,timestamp:new Date};Se(hs=>[...hs,As])}),wt.on("audio_response",es=>{Se(As=>{const hs=[...As];for(let Ks=hs.length-1;Ks>=0;Ks--)if(hs[Ks].type==="translated"&&!hs[Ks].audioBase64){hs[Ks]={...hs[Ks],audioBase64:es.audio};break}return hs}),es.auto_play&&er(es.audio)}),wt.on("streaming_ended",es=>{console.log("[StreamingConversation] Streaming ended:",es),pe(!1),je(!1),oe("")}),wt.on("speaker_switched",es=>{console.log("[StreamingConversation] Speaker switched:",es),Q(es.speaker),oe("")}),wt.on("languages_swapped",es=>{Ne({langA:es.lang_a,langB:es.lang_b,langAName:es.lang_a_name,langBName:es.lang_b_name,langAFlag:es.lang_a_flag,langBFlag:es.lang_b_flag}),a(es.lang_a),u(es.lang_b)}),wt.on("session_ended",es=>{console.log("[StreamingConversation] Session ended:",es),X(!1),pe(!1),Ne(null),oe("")}),wt.on("disconnect",()=>{R(!1),X(!1),pe(!1),oe("")}),Vt.current=wt},[vs]),Us=()=>{Lt.current&&(Lt.current.getTracks().forEach(wt=>wt.stop()),Lt.current=null),cs.current&&cs.current.state!=="inactive"&&cs.current.stop(),Vt.current&&(Vt.current.emit("end_session"),Vt.current.disconnect(),Vt.current=null),R(!1),X(!1),le(!1),je(!1),pe(!1),oe(""),De("")},xr=wt=>{!Vt.current||!E||($s.current=0,Vt.current.emit("start_streaming",{lang_a:n,lang_b:l,speaker:wt}))},yr=W.useCallback(()=>{cs.current&&cs.current.state!=="inactive"&&cs.current.stop(),Lt.current&&(Lt.current.getTracks().forEach(wt=>{wt.stop(),wt.enabled=!1}),Lt.current=null),cs.current=null},[]),nn=async wt=>{if(!Vt.current||!E){se("Not connected to server");return}yr(),Q(wt),oe(""),se(null);try{const es=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:16e3}});Lt.current=es;let As="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(As)||(As=MediaRecorder.isTypeSupported("audio/webm")?"audio/webm":"");const hs=new MediaRecorder(es,{mimeType:As||void 0});hs.ondataavailable=async Ks=>{var zs;if(Ks.data.size>0&&((zs=Vt.current)!=null&&zs.connected))try{const mr=new FileReader;mr.onloadend=()=>{var wa;const en=mr.result.split(",")[1];(wa=Vt.current)!=null&&wa.connected&&Vt.current.emit("audio_chunk",{audio:en,speaker:wt,seq:$s.current++})},mr.readAsDataURL(Ks.data)}catch(mr){console.error("Failed to send audio chunk:",mr)}},hs.onerror=Ks=>{console.error("MediaRecorder error:",Ks.error),se("Recording error occurred"),Nr()},xr(wt),await new Promise(Ks=>setTimeout(Ks,100)),hs.start(200),cs.current=hs,le(!0)}catch(es){console.error("Failed to start recording:",es),yr(),es.name==="NotAllowedError"||es.name==="PermissionDeniedError"?se("Microphone access denied. Please allow permission."):es.name==="NotFoundError"||es.name==="DevicesNotFoundError"?se("No microphone found."):es.name==="NotReadableError"||es.name==="TrackStartError"?se("Microphone is busy or not readable."):se("Microphone access denied or not available")}},Nr=W.useCallback(()=>{var wt;yr(),(wt=Vt.current)!=null&&wt.connected&&Vt.current.emit("stop_streaming",{speaker:Y}),le(!1),je(!0),setTimeout(()=>{je(es=>es&&(console.warn("Processing state reset by timeout"),!1))},5e3)},[Y,yr]),er=wt=>{ot.current&&ot.current.pause();try{const es=Vs(wt,"audio/mp3"),As=URL.createObjectURL(es),hs=new Audio(As);hs.onended=()=>{URL.revokeObjectURL(As),Mt(null)},hs.onerror=zs=>{console.error("Audio error:",zs),URL.revokeObjectURL(As),Mt(null)};const Ks=hs.play();Ks!==void 0&&Ks.catch(zs=>{console.error("Audio playback failed:",zs)}),ot.current=hs}catch(es){console.error("Failed to setup audio playback:",es)}},Ys=(wt,es)=>{Mt(wt),er(es)},Ts=wt=>{var As;const es=(As=wt.target.files)==null?void 0:As[0];es&&(fe(es),ge(null))},ft=async()=>{if(ye){$e(!0),ge(null);try{const wt=new FormData;wt.append("file",ye),wt.append("source_lang",n),wt.append("target_lang",l),wt.append("engine",d),d==="ai"&&wt.append("model",o);const es=await fetch(`${Dt}/api/translate/audio`,{method:"POST",credentials:"include",body:wt}),As=await es.json();es.ok&&As.status==="success"?ge({originalText:As.original_text,translatedText:As.translated_text,audioBase64:As.audio_base64}):se(As.error||"Translation failed")}catch{se("Failed to connect to translation service")}finally{$e(!1)}}},Kt=async(wt,es)=>{if(wt)try{const As=await fetch(`${Dt}/tts`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({text:wt,lang:es})});if(!As.ok)throw new Error("TTS Failed");const hs=await As.blob(),Ks=URL.createObjectURL(hs),zs=new Audio(Ks);zs.onended=()=>URL.revokeObjectURL(Ks),zs.play(),ot.current=zs}catch(As){console.error("TTS error",As)}},Cs=wt=>{navigator.clipboard.writeText(wt),St(!0),setTimeout(()=>St(!1),2e3)},Vs=(wt,es)=>{const As=atob(wt),hs=new Array(As.length);for(let zs=0;zs<As.length;zs++)hs[zs]=As.charCodeAt(zs);const Ks=new Uint8Array(hs);return new Blob([Ks],{type:es})},ir=()=>{Se([]),Q("A")};return t.jsxs("div",{className:"p-4 md:p-6 w-full max-w-5xl mx-auto space-y-5",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-11 h-11 rounded-2xl bg-gradient-to-br from-sky-400 to-indigo-500 flex items-center justify-center shadow-lg shadow-sky-500/25",children:t.jsx(pu,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:"Translation Hub"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Text, conversation & audio translation"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 bg-white/50 dark:bg-slate-800/50 p-1.5 rounded-2xl backdrop-blur-sm border border-white/20 dark:border-slate-700/50 relative z-10",children:[t.jsx(SD,{engine:d,setEngine:A,disabled:y||Fe||z,isPremium:vs,onUpgrade:Ar}),d==="ai"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1"}),t.jsx(ED,{selectedModel:o,onSelect:f,isPremium:vs,disabled:y||Fe||z,onUpgrade:Ar})]}),!vs&&t.jsxs("a",{href:"/billing",className:"ml-2 flex items-center gap-1.5 px-3 py-1.5 bg-gradient-to-r from-amber-400 to-orange-500 text-white rounded-lg font-semibold text-xs shadow-lg shadow-orange-500/25 hover:shadow-xl transition-all hover:-translate-y-0.5",children:[t.jsx(Vd,{className:"w-3.5 h-3.5"}),"Upgrade"]})]})]}),t.jsxs("div",{className:"flex flex-wrap gap-2 p-1.5 bg-slate-100/50 dark:bg-slate-800/50 rounded-xl backdrop-blur-sm",children:[t.jsx(mb,{active:e==="text",onClick:()=>r("text"),icon:t.jsx(Ao,{className:"w-4 h-4"}),label:"Text"}),t.jsx(mb,{active:e==="conversation",onClick:()=>{r("conversation"),vs&&!E&&ys()},icon:t.jsx(Ld,{className:"w-4 h-4"}),label:"Conversation",badge:vs?void 0:"PRO"}),t.jsx(mb,{active:e==="batch",onClick:()=>r("batch"),icon:t.jsx(v2,{className:"w-4 h-4"}),label:"Audio File"})]}),he&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-2",children:[t.jsx(qr,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),t.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm flex-1",children:he}),t.jsx("button",{onClick:()=>se(null),className:"p-1 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg",children:t.jsx(qr,{className:"w-4 h-4 text-red-400"})})]}),t.jsxs("div",{className:"bg-white/70 dark:bg-slate-900/70 backdrop-blur-xl rounded-2xl p-5 shadow-xl border border-white/20 dark:border-slate-700/30",children:[e==="text"&&t.jsxs("div",{className:"space-y-5",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("select",{value:n,onChange:wt=>a(wt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))}),t.jsx("button",{onClick:hr,className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-sky-100 dark:hover:bg-indigo-900/50 transition-all active:rotate-180 duration-300",children:t.jsx(rb,{className:"w-4 h-4 text-slate-500"})}),t.jsx("select",{value:l,onChange:wt=>u(wt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm text-indigo-600 dark:text-indigo-400",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex flex-col bg-slate-50 dark:bg-slate-800/50 rounded-xl p-3 min-h-[200px]",children:[t.jsx("textarea",{value:m,onChange:wt=>p(wt.target.value),placeholder:"Enter text to translate...",className:"flex-1 w-full bg-transparent resize-none border-none outline-none text-sm text-slate-900 dark:text-white placeholder-slate-400"}),t.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-200 dark:border-slate-700",children:[t.jsx("button",{onClick:()=>Kt(m,n),className:"p-1.5 text-slate-400 hover:text-sky-600 rounded-lg transition-all",children:t.jsx(tv,{className:"w-4 h-4"})}),t.jsx("span",{className:"text-xs text-slate-400",children:m.length})]})]}),t.jsxs("div",{className:"flex flex-col bg-gradient-to-br from-indigo-50 to-sky-50 dark:from-indigo-900/20 dark:to-sky-900/20 rounded-xl p-3 min-h-[200px]",children:[y?t.jsxs("div",{className:"flex-1 flex items-center justify-center flex-col gap-2 text-indigo-500",children:[t.jsx(Lr,{className:"w-6 h-6 animate-spin"}),t.jsxs("span",{className:"text-xs opacity-70",children:["Using ",d==="google"?"Google Cloud":o,"..."]})]}):t.jsx("textarea",{readOnly:!0,value:x,placeholder:"Translation...",className:"flex-1 w-full bg-transparent resize-none border-none outline-none text-sm text-slate-700 dark:text-slate-200 placeholder-slate-400"}),t.jsx("div",{className:"flex justify-between items-center pt-2 border-t border-indigo-100 dark:border-indigo-900/50",children:t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>Cs(x),className:"p-1.5 text-slate-400 hover:text-emerald-500 rounded-lg transition-all",children:kt?t.jsx(Wo,{className:"w-4 h-4"}):t.jsx(Xb,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>Kt(x,l),className:"p-1.5 text-slate-400 hover:text-sky-600 rounded-lg transition-all",children:t.jsx(tv,{className:"w-4 h-4"})})]})})]})]}),t.jsxs("button",{onClick:Ms,disabled:!m||y,className:"w-full py-3 bg-gradient-to-r from-sky-500 to-indigo-500 text-white rounded-xl font-bold text-sm shadow-lg shadow-sky-500/30 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[y?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(Ao,{className:"w-4 h-4"}),y?"Translating...":"Translate"]})]}),e==="conversation"&&t.jsx("div",{className:"space-y-4",children:vs?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[E?t.jsx(y0,{className:"w-4 h-4 text-emerald-500"}):t.jsx(v0,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:`text-xs font-medium ${E?"text-emerald-600":"text-slate-500"}`,children:E?z?"Session Active":"Connected":"Disconnected"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("select",{value:n,onChange:wt=>a(wt.target.value),disabled:z,className:"bg-white dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-xs font-medium",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))}),t.jsx("button",{onClick:hr,className:"p-1 bg-slate-100 dark:bg-slate-700 rounded-lg",disabled:Ae,children:t.jsx(rb,{className:"w-3 h-3 text-slate-500"})}),t.jsx("select",{value:l,onChange:wt=>u(wt.target.value),disabled:z,className:"bg-white dark:bg-slate-800 px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-700 text-xs font-medium text-indigo-600",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))})]}),t.jsxs("div",{className:"flex gap-2",children:[ue.length>0&&t.jsx("button",{onClick:ir,className:"p-1.5 text-slate-400 hover:text-red-500 rounded-lg transition-colors",title:"Clear conversation",children:t.jsx(IE,{className:"w-4 h-4"})}),t.jsx("button",{onClick:E?Us:ys,className:`px-3 py-1 rounded-lg text-xs font-medium transition-all ${E?"bg-red-100 text-red-600 hover:bg-red-200":"bg-emerald-100 text-emerald-600 hover:bg-emerald-200"}`,children:E?"End":"Start"})]})]}),(G||de||Ee)&&t.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-gradient-to-r from-sky-500/10 via-indigo-500/10 to-purple-500/10 dark:from-sky-500/20 dark:via-indigo-500/20 dark:to-purple-500/20 border border-sky-200 dark:border-sky-800",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-sky-400/20 to-indigo-400/20 animate-pulse"}),t.jsxs("div",{className:"relative p-4 space-y-3",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsxs("span",{className:"relative flex h-2.5 w-2.5",children:[t.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),t.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500"})]}),t.jsxs("span",{className:"text-xs font-semibold text-sky-600 dark:text-sky-400",children:["LIVE  Speaker ",Y]})]}),t.jsx("span",{className:"text-xs text-slate-400",children:Y==="A"?(ae==null?void 0:ae.langAName)||fr(n).name:(ae==null?void 0:ae.langBName)||fr(l).name})]}),t.jsx("p",{className:"text-lg font-medium text-slate-800 dark:text-white min-h-[28px]",children:de||t.jsxs("span",{className:"text-slate-400 italic flex items-center gap-2",children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),"Listening..."]})})]}),Ee&&t.jsxs("div",{className:"border-t border-indigo-200 dark:border-indigo-800 pt-2",children:[t.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[t.jsx(Ao,{className:"w-3 h-3 text-indigo-500"}),t.jsx("span",{className:"text-xs font-medium text-indigo-500",children:"Translation Preview"}),t.jsx("span",{className:"text-xs text-slate-400",children:Y==="A"?(ae==null?void 0:ae.langBName)||fr(l).name:(ae==null?void 0:ae.langAName)||fr(n).name})]}),t.jsx("p",{className:"text-base text-indigo-600 dark:text-indigo-400 italic",children:Ee})]})]})]}),t.jsx("div",{className:"h-[280px] overflow-y-auto p-3 bg-slate-50 dark:bg-slate-800/30 rounded-xl",children:ue.length===0&&!G?t.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400",children:[t.jsx(Ld,{className:"w-10 h-10 mb-2 opacity-50"}),t.jsx("p",{className:"text-sm text-center",children:E?"Press and hold a speaker button to start talking":"Click Start to begin conversation"})]}):t.jsxs(t.Fragment,{children:[ue.map(wt=>t.jsx(TD,{message:wt,onPlayAudio:wt.audioBase64?()=>Ys(wt.id,wt.audioBase64):void 0,isPlaying:Ge===wt.id},wt.id)),t.jsx("div",{ref:xt})]})}),t.jsxs("div",{className:"flex justify-center gap-8 py-4",children:[t.jsx(rw,{speaker:"A",flag:(ae==null?void 0:ae.langAFlag)||fr(n).flag,langName:(ae==null?void 0:ae.langAName)||fr(n).name,isActive:Y==="A",isRecording:G&&Y==="A",isProcessing:Ae&&Y==="A",disabled:!E||Ae,onPress:()=>nn("A"),onRelease:Nr}),t.jsx(rw,{speaker:"B",flag:(ae==null?void 0:ae.langBFlag)||fr(l).flag,langName:(ae==null?void 0:ae.langBName)||fr(l).name,isActive:Y==="B",isRecording:G&&Y==="B",isProcessing:Ae&&Y==="B",disabled:!E||Ae,onPress:()=>nn("B"),onRelease:Nr})]}),t.jsx("p",{className:"text-center text-xs text-slate-400",children:"Press and hold to speak  Release to translate"})]}):t.jsxs("div",{className:"text-center py-10 px-4",children:[t.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-xl shadow-orange-500/30",children:t.jsx(Vd,{className:"w-8 h-8 text-white"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Unlock Conversation Mode"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4 text-sm max-w-md mx-auto",children:"Have real-time bilingual conversations. Perfect for travel, meetings, and making connections."}),t.jsxs("a",{href:"/billing",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-amber-400 to-orange-500 text-white rounded-xl font-bold text-sm shadow-lg",children:[t.jsx(GT,{className:"w-4 h-4"}),"Upgrade to Premium"]})]})}),e==="batch"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("select",{value:n,onChange:wt=>a(wt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))}),t.jsx("button",{onClick:hr,className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-sky-100 transition-all",children:t.jsx(rb,{className:"w-4 h-4 text-slate-500"})}),t.jsx("select",{value:l,onChange:wt=>u(wt.target.value),className:"flex-1 bg-white dark:bg-slate-800 px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 font-medium text-sm text-indigo-600",children:sf.map(wt=>t.jsxs("option",{value:wt.code,children:[wt.flag," ",wt.name]},wt.code))})]}),t.jsxs("div",{onClick:()=>{var wt;return(wt=At.current)==null?void 0:wt.click()},className:`
                border-2 border-dashed rounded-xl p-6 text-center cursor-pointer transition-all
                ${ye?"border-emerald-300 bg-emerald-50 dark:bg-emerald-900/20":"border-slate-300 hover:border-sky-400 hover:bg-slate-50 dark:hover:bg-slate-800/50"}
              `,children:[t.jsx("input",{ref:At,type:"file",accept:"audio/*",onChange:Ts,className:"hidden"}),ye?t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(v2,{className:"w-8 h-8 text-emerald-600"}),t.jsx("p",{className:"font-medium text-sm text-slate-900 dark:text-white",children:ye.name}),t.jsxs("p",{className:"text-xs text-slate-500",children:[(ye.size/1024).toFixed(1)," KB"]})]}):t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(d0,{className:"w-8 h-8 text-slate-400"}),t.jsx("p",{className:"font-medium text-sm text-slate-900 dark:text-white",children:"Upload audio file"}),t.jsx("p",{className:"text-xs text-slate-500",children:"WAV, MP3, FLAC, WebM"})]})]}),t.jsxs("button",{onClick:ft,disabled:!ye||Fe,className:"w-full py-3 bg-gradient-to-r from-sky-500 to-indigo-500 text-white rounded-xl font-bold text-sm shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[Fe?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(Ao,{className:"w-4 h-4"}),Fe?"Processing...":"Translate Audio"]}),te&&t.jsxs("div",{className:"space-y-3 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-xs font-medium text-slate-500 mb-1",children:"Original"}),t.jsx("p",{className:"text-sm text-slate-900 dark:text-white bg-white dark:bg-slate-800 p-3 rounded-lg",children:te.originalText})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"text-xs font-medium text-indigo-500 mb-1",children:["Translation",t.jsxs("span",{className:"ml-2 opacity-50 font-normal",children:["(via ",d==="google"?"Google Cloud":o,")"]})]}),t.jsx("p",{className:"text-sm text-slate-900 dark:text-white bg-indigo-50 dark:bg-indigo-900/20 p-3 rounded-lg",children:te.translatedText})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>er(te.audioBase64),className:"flex items-center gap-1.5 px-3 py-1.5 bg-indigo-100 text-indigo-600 rounded-lg text-xs font-medium",children:[t.jsx(qb,{className:"w-3 h-3"}),"Play"]}),t.jsxs("button",{onClick:()=>Cs(te.translatedText),className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 text-slate-600 rounded-lg text-xs font-medium",children:[kt?t.jsx(Wo,{className:"w-3 h-3"}):t.jsx(Xb,{className:"w-3 h-3"}),"Copy"]})]})]})]})]})]})},LD=({trips:s,selectedTripId:e,onSelectTrip:r,isOpen:n,onToggle:a})=>{const l=s.find(u=>u.id===e);return t.jsxs("div",{className:"relative",children:[t.jsxs("button",{onClick:a,className:"w-full bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-2xl px-6 py-4 flex items-center justify-between hover:border-emerald-400 transition-all shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:t.jsx(nA,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Current Trip"}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:l?l.title:"Select a trip"}),l&&t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[l.destination,"  ",l.expense_count," expenses"]})]})]}),t.jsx(a0,{className:`w-5 h-5 text-slate-400 transition-transform ${n?"rotate-180":""}`})]}),n&&t.jsx("div",{className:"absolute z-50 mt-2 w-full bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-2xl shadow-xl max-h-96 overflow-y-auto custom-scrollbar",children:s.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(co,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:"No active trips"}),t.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:"Create an active trip in Travel page first"})]}):t.jsx("div",{className:"py-2",children:s.map(u=>t.jsx("button",{onClick:()=>{r(u.id),a()},className:`
                    w-full px-6 py-4 text-left hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors
                    ${u.id===e?"bg-emerald-50 dark:bg-emerald-900/20":""}
                  `,children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-1",children:u.title}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:u.destination}),t.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[t.jsxs("span",{className:"text-slate-400",children:["Budget: RM ",u.budget.toLocaleString()]}),t.jsx("span",{className:"text-slate-400",children:""}),t.jsxs("span",{className:"text-slate-400",children:[u.expense_count," expenses"]})]})]}),u.id===e&&t.jsx("div",{className:"w-6 h-6 rounded-full bg-emerald-500 flex items-center justify-center flex-shrink-0",children:t.jsx(Wo,{className:"w-4 h-4 text-white"})})]})},u.id))})})]})},FD=({stats:s,onEditBudget:e})=>{if(!s)return t.jsx("div",{className:"bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-800 rounded-[2.5rem] p-8 text-slate-500 dark:text-slate-400 shadow-xl",children:t.jsx("p",{className:"text-center",children:"Select a trip to view budget"})});const r=Math.min(s.budget_percentage,100),n=s.is_over_budget;return t.jsxs("div",{className:`
      bg-gradient-to-br rounded-[2.5rem] p-8 text-white shadow-xl
      ${n?"from-red-500 to-red-600 shadow-red-500/20":"from-emerald-500 to-teal-600 shadow-emerald-500/20"}
    `,children:[t.jsxs("div",{className:"flex justify-between items-start mb-1",children:[t.jsx("p",{className:`font-bold uppercase tracking-wider text-xs ${n?"text-red-100":"text-emerald-100"}`,children:n?"Over Budget!":"Total Spent"}),t.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:t.jsx(g5,{className:"w-4 h-4"})})]}),t.jsxs("h3",{className:"text-4xl font-black mb-1",children:["RM ",s.total_spent.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsxs("p",{className:"text-sm mb-4 opacity-90",children:["of RM ",s.budget.toLocaleString()," budget"]}),t.jsx("div",{className:"w-full bg-black/20 rounded-full h-2 mb-2 overflow-hidden",children:t.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${n?"bg-red-200":"bg-white"}`,style:{width:`${r}%`}})}),t.jsxs("div",{className:"flex justify-between text-xs font-medium opacity-90",children:[t.jsxs("span",{children:[r.toFixed(0),"% Used"]}),t.jsx("span",{className:"flex items-center gap-1",children:n?t.jsxs(t.Fragment,{children:[t.jsx(sx,{className:"w-3 h-3"}),"RM ",Math.abs(s.remaining).toLocaleString()," over"]}):t.jsxs(t.Fragment,{children:[t.jsx(jT,{className:"w-3 h-3"}),"RM ",s.remaining.toLocaleString()," left"]})})]}),Object.keys(s.by_category).length>0&&t.jsxs("div",{className:"mt-6 pt-6 border-t border-white/20",children:[t.jsx("p",{className:"text-xs font-bold uppercase tracking-wider mb-3 opacity-75",children:"Spending by Category"}),t.jsx("div",{className:"space-y-2",children:Object.entries(s.by_category).sort(([,a],[,l])=>l-a).slice(0,3).map(([a,l])=>t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"capitalize opacity-90",children:a}),t.jsxs("span",{className:"font-bold",children:["RM ",l.toLocaleString()]})]},a))})]})]})},MD=()=>{const s=zl(),[e,r]=W.useState([]),[n,a]=W.useState(null),[l,u]=W.useState(null),[d,A]=W.useState([]),[o,f]=W.useState(!0),[m,p]=W.useState(!1),[x,b]=W.useState(!1),[y,w]=W.useState(!1),[E,R]=W.useState(!1),[z,X]=W.useState(!1),[Y,Q]=W.useState(""),[G,le]=W.useState(null),[Ae,je]=W.useState(null),[ue,Se]=W.useState(null),[ae,Ne]=W.useState({title:"",amount:0,category:"food"}),he=W.useCallback((fe,te="success")=>{le({message:fe,type:te}),setTimeout(()=>le(null),3e3)},[]),se=async()=>{f(!0),Se(null);try{const fe=await fetch("/api/expenses/active-trips",{credentials:"include"});if(fe.ok){const te=await fe.json();r(te.trips||[]),te.trips&&te.trips.length>0&&!n?a(te.trips[0].id):te.hasActiveTrips||Se("No active trips found. Please create an active trip in Travel page.")}else fe.status===401?Se("Please log in to continue"):Se("Failed to load trips")}catch(fe){console.error("Error fetching active trips:",fe),Se("Network error")}finally{f(!1)}},de=async fe=>{p(!0);try{const te=await fetch(`/api/expenses/trips/${fe}/stats`,{credentials:"include"});if(te.ok){const ge=await te.json();u(ge)}}catch(te){console.error("Error fetching trip stats:",te)}finally{p(!1)}},oe=async fe=>{b(!0);try{const te=await fetch(`/api/expenses/trips/${fe}`,{credentials:"include"});if(te.ok){const ge=await te.json();A(ge.expenses||[])}}catch(te){console.error("Error fetching expenses:",te)}finally{b(!1)}},Ee=async()=>{if(!(!n||!Y))try{const fe=await fetch(`/api/expenses/trips/${n}/budget`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({budget:parseFloat(Y)})});if(fe.ok)X(!1),Q(""),de(n),se(),he("Budget updated successfully!","success");else{const te=await fe.json();he(`Failed to update budget: ${te.error}`,"error")}}catch(fe){console.error("Error updating budget:",fe),he("Failed to update budget","error")}},De=async()=>{if(!ae.title||!ae.amount){he("Please fill in title and amount","info");return}if(!n){he("Please select a trip first","info");return}try{const fe=await fetch("/api/expenses/",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({title:ae.title,amount:ae.amount,category:ae.category,trip_id:n,transaction_date:new Date().toISOString().split("T")[0]})});if(fe.ok)Ne({title:"",amount:0,category:"food"}),R(!1),de(n),oe(n),se(),he("Expense added successfully!","success");else{const te=await fe.json();he(`Failed to add expense: ${te.error}`,"error")}}catch(fe){console.error("Error adding expense:",fe),he("Failed to add expense","error")}},ke=async()=>{if(Ae)try{(await fetch(`/api/expenses/${Ae}`,{method:"DELETE",credentials:"include"})).ok&&n?(de(n),oe(n),se(),he("Expense deleted successfully","success")):he("Failed to delete expense","error")}catch(fe){console.error("Error deleting expense:",fe),he("Failed to delete expense","error")}finally{je(null)}};W.useEffect(()=>{se()},[]),W.useEffect(()=>{n&&(de(n),oe(n))},[n]);const pe=fe=>{switch(fe){case"food":return t.jsx(Gd,{className:"w-5 h-5"});case"transport":return t.jsx(c5,{className:"w-5 h-5"});case"shopping":return t.jsx(tx,{className:"w-5 h-5"});case"accommodation":return t.jsx(Jg,{className:"w-5 h-5"});case"entertainment":return t.jsx(t3,{className:"w-5 h-5"});default:return t.jsx(Jb,{className:"w-5 h-5"})}},ye=fe=>{switch(fe){case"food":return"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400";case"transport":return"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400";case"shopping":return"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400";case"accommodation":return"bg-indigo-100 text-indigo-600 dark:bg-indigo-900/30 dark:text-indigo-400";case"entertainment":return"bg-pink-100 text-pink-600 dark:bg-pink-900/30 dark:text-pink-400";default:return"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}};return o?t.jsx("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Lr,{className:"w-12 h-12 animate-spin text-emerald-600 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500",children:"Loading trips..."})]})}):ue?t.jsx("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto",children:t.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-700 rounded-xl p-6 flex items-start gap-3",children:[t.jsx(Ia,{className:"w-6 h-6 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-100 mb-1",children:"No Active Trips"}),t.jsx("p",{className:"text-amber-700 dark:text-amber-300 mb-4",children:ue}),t.jsx("button",{onClick:()=>s("/travel"),className:"px-4 py-2 bg-amber-600 text-white rounded-lg font-medium hover:bg-amber-700 transition-colors",children:"Go to Travel Page"})]})]})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-[1800px] mx-auto animate-fade-in-up relative",children:[G&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${G.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":G.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[G.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):G.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(Sl,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:G.message}),t.jsx("button",{onClick:()=>le(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),Ae&&t.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[60] p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[2rem] p-8 shadow-2xl border border-white/20 dark:border-slate-700 text-center animate-scale-in",children:[t.jsx("div",{className:"w-14 h-14 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full flex items-center justify-center mx-auto mb-6",children:t.jsx(Jo,{className:"w-7 h-7"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Delete Expense?"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8 font-medium leading-relaxed text-sm",children:"This item will be removed from your spending history. This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>je(null),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-all active:scale-95",children:"Cancel"}),t.jsx("button",{onClick:ke,className:"flex-1 py-3 bg-red-600 hover:bg-red-500 text-white rounded-xl text-sm font-bold shadow-lg shadow-red-600/20 transition-all active:scale-95 flex items-center justify-center gap-2",children:"Yes, Delete"})]})]})}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_384px] gap-8",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"flex items-end justify-between",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center",children:t.jsx(kf,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),"Trip Wallet"]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1 font-medium ml-14",children:"Track expenses for each active trip."})]}),t.jsxs("button",{onClick:()=>R(!E),disabled:!n,className:"px-5 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl text-sm font-bold shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all active:scale-95 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx($i,{className:"w-4 h-4"}),"Add Expense"]})]}),t.jsx(LD,{trips:e,selectedTripId:n,onSelectTrip:a,isOpen:y,onToggle:()=>w(!y)}),E&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-[2rem] p-6 shadow-xl border border-slate-200 dark:border-slate-700 animate-scale-in",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Item Name"}),t.jsx("input",{type:"text",placeholder:"e.g. Sushi Dinner",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none",value:ae.title,onChange:fe=>Ne({...ae,title:fe.target.value})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Amount"}),t.jsx("input",{type:"number",placeholder:"0.00",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none",value:ae.amount||"",onChange:fe=>Ne({...ae,amount:Number(fe.target.value)})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1 block",children:"Category"}),t.jsxs("select",{className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium outline-none",value:ae.category,onChange:fe=>Ne({...ae,category:fe.target.value}),children:[t.jsx("option",{value:"food",children:"Food & Drink"}),t.jsx("option",{value:"transport",children:"Transportation"}),t.jsx("option",{value:"accommodation",children:"Accommodation"}),t.jsx("option",{value:"shopping",children:"Shopping"}),t.jsx("option",{value:"entertainment",children:"Entertainment"}),t.jsx("option",{value:"other",children:"Other"})]})]})]}),t.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-700/50 rounded-xl mb-4",children:t.jsxs("p",{className:"text-xs text-emerald-700 dark:text-emerald-300 flex items-center gap-2",children:[t.jsx(Xo,{className:"w-3 h-3"}),t.jsxs("span",{children:["This expense will be added to ",t.jsx("strong",{children:l==null?void 0:l.trip_title})]})]})}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{R(!1),Ne({title:"",amount:0,category:"food"})},className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:"Cancel"}),t.jsx("button",{onClick:De,className:"flex-1 py-3 bg-emerald-500 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-400 transition-all active:scale-95",children:"Save Expense"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:["Recent Transactions",d.length>0&&t.jsxs("span",{className:"text-sm font-normal text-slate-400 ml-2",children:["(",d.length," total)"]})]}),x?t.jsxs("div",{className:"text-center py-10",children:[t.jsx(Lr,{className:"w-8 h-8 animate-spin text-emerald-600 mx-auto mb-2"}),t.jsx("p",{className:"text-slate-400",children:"Loading expenses..."})]}):d.length===0?t.jsxs("div",{className:"text-center py-10 bg-white dark:bg-slate-800 rounded-2xl border border-slate-200 dark:border-slate-700",children:[t.jsx(Jb,{className:"w-12 h-12 text-slate-300 dark:text-slate-600 mx-auto mb-3"}),t.jsx("p",{className:"text-slate-400",children:"No expenses yet for this trip."})]}):d.map(fe=>t.jsxs("div",{className:"group bg-white/60 dark:bg-slate-800/60 backdrop-blur-xl border border-white/60 dark:border-slate-700/50 rounded-2xl p-4 flex items-center justify-between hover:scale-[1.01] hover:shadow-lg transition-all duration-300",children:[t.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[t.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center ${ye(fe.category)}`,children:pe(fe.category)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:fe.title}),t.jsx("div",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 dark:text-slate-400",children:t.jsx("span",{children:fe.date?new Date(fe.date).toLocaleDateString():"No date"})})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"text-right",children:[t.jsxs("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:["RM ",fe.amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),t.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:fe.category})]}),t.jsx("button",{onClick:()=>je(fe.id),className:"opacity-0 group-hover:opacity-100 p-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-all",children:t.jsx(qr,{className:"w-4 h-4 text-red-500"})})]})]},fe.id))]})]}),t.jsxs("div",{className:"w-full space-y-8",children:[t.jsx(FD,{stats:l,onEditBudget:()=>{X(!0),Q((l==null?void 0:l.budget.toString())||"")}}),z&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 max-w-md w-full animate-scale-in",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Update Budget"}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:["Set the budget for ",t.jsx("strong",{children:l==null?void 0:l.trip_title})]}),t.jsx("input",{type:"number",placeholder:"Enter budget amount",className:"w-full bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-emerald-500/20 outline-none mb-4",value:Y,onChange:fe=>Q(fe.target.value)}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{onClick:()=>{X(!1),Q("")},className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 dark:hover:bg-slate-700 rounded-xl transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ee,className:"flex-1 py-3 bg-emerald-500 text-white font-bold rounded-xl shadow-lg shadow-emerald-500/30 hover:bg-emerald-400 transition-all",children:"Update"})]})]})})]})]})]})},OD=({user:s,onUpdateUser:e})=>{const{t:r}=Xd(["settings","common"]),[n,a]=W.useState({name:s.name,email:s.email||"",avatarUrl:s.avatarUrl}),[l,u]=W.useState(null),d=W.useRef(null),[A,o]=W.useState({currentPassword:"",newPassword:""}),[f,m]=W.useState("idle"),[p,x]=W.useState(""),[b,y]=W.useState(!1),[w,E]=W.useState({hasLength:!1,hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpecial:!1}),[R,z]=W.useState("idle"),[X,Y]=W.useState(null),[Q,G]=W.useState(""),[le,Ae]=W.useState(0),[je,ue]=W.useState(""),[Se,ae]=W.useState("idle"),[Ne,he]=W.useState(""),[se,de]=W.useState(null),[oe,Ee]=W.useState(""),[De,ke]=W.useState(0),[pe,ye]=W.useState(!1),[fe,te]=W.useState(null),[ge,Fe]=W.useState(s.emailNotifications??!0),[$e,kt]=W.useState(!0),[St,Ge]=W.useState(s.preferredLanguage||W5()),[Mt,Vt]=W.useState(!1);W.useEffect(()=>{Fe(s.emailNotifications??!0)},[s.emailNotifications]),W.useEffect(()=>{s.preferredLanguage&&Ge(s.preferredLanguage)},[s.preferredLanguage]);const[cs,xt]=W.useState(!1),[ot,At]=W.useState(!1),[Lt,$s]=W.useState(null),[vs,fr]=W.useState(!1),[Ar,hr]=W.useState(!1),Ms=(ft,Kt="success")=>{$s({message:ft,type:Kt}),setTimeout(()=>$s(null),3e3)},ys=async ft=>{if(ft!==St){Vt(!0);try{await ox(ft),Ge(ft);const Kt=new FormData;Kt.append("preferredLanguage",ft);const Cs=await fetch(`${Dt}/auth/update-profile`,{method:"PUT",credentials:"include",body:Kt});if(Cs.ok){const Vs=await Cs.json();Vs.user&&e({...Vs.user}),Ms(r("settings:language.changeSuccess",{fallback:"Language updated!"}),"success")}}catch(Kt){console.error("Failed to update language:",Kt)}finally{Vt(!1)}}};W.useEffect(()=>{const ft=new URLSearchParams(window.location.search),Kt=ft.get("success"),Cs=ft.get("error");Kt==="google_linked"&&(Ms("Google account linked successfully!","success"),window.history.replaceState({},"","/settings"),window.location.reload()),Cs==="google_already_linked"&&(Ms("This Google account is already linked to another user.","error"),window.history.replaceState({},"","/settings")),Cs==="linking_failed"&&(Ms("Failed to link Google account. Please try again.","error"),window.history.replaceState({},"","/settings")),Cs==="already_linked"&&(Ms("Your account already has Google linked.","info"),window.history.replaceState({},"","/settings")),Cs==="session_expired"&&(Ms("Session expired. Please try again.","error"),window.history.replaceState({},"","/settings"))},[]),W.useEffect(()=>{window.location.hash==="#google-linking"&&setTimeout(()=>{const ft=document.getElementById("google-linking-section");ft==null||ft.scrollIntoView({behavior:"smooth",block:"center"})},100)},[]);const Us=W.useCallback(ft=>{const Kt={hasLength:ft.length>=8,hasUpper:/[A-Z]/.test(ft),hasLower:/[a-z]/.test(ft),hasNumber:/[0-9]/.test(ft),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(ft)};E(Kt),y(Object.values(Kt).every(Boolean))},[]),xr=async()=>{if(!A.currentPassword){m("error"),x("Please enter your current password.");return}m("loading"),x("");try{const ft=await fetch(`${Dt}/auth/password-change/send-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({current_password:A.currentPassword})}),Kt=await ft.json();ft.ok&&Kt.status==="success"?(Y(Kt.token),z("verify_code"),Ae(60),m("idle"),Ms("Verification code sent to your email","success")):(m("error"),x(Kt.message||"Failed to verify password."))}catch{m("error"),x("Network error.")}},yr=async()=>{if(!Q||Q.length!==6){m("error"),x("Please enter the 6-digit code.");return}if(!b){m("error"),x("New password is too weak.");return}if(A.newPassword!==je){m("error"),x("Passwords do not match.");return}m("loading");try{const ft=await fetch(`${Dt}/auth/password-change/confirm`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:X,code:Q,new_password:A.newPassword})}),Kt=await ft.json();ft.ok&&Kt.status==="success"?(z("success"),m("success"),x("Password changed successfully!"),Ms("Password updated successfully","success"),setTimeout(()=>{z("idle"),o({currentPassword:"",newPassword:""}),G(""),ue(""),Y(null),m("idle"),x(""),y(!1)},2e3)):(m("error"),x(Kt.message||"Failed to change password."))}catch{m("error"),x("Network error.")}},nn=async()=>{if(!(le>0))try{const ft=await fetch(`${Dt}/auth/password-change/resend-code`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:X})}),Kt=await ft.json();ft.ok&&Kt.status==="success"?(Y(Kt.token),Ae(60),Ms("Code resent successfully","success")):Ms(Kt.message||"Failed to resend","error")}catch{Ms("Network error","error")}};Tc.useEffect(()=>{if(le>0){const ft=setTimeout(()=>Ae(Kt=>Kt-1),1e3);return()=>clearTimeout(ft)}},[le]),Tc.useEffect(()=>{if(De>0){const ft=setTimeout(()=>ke(Kt=>Kt-1),1e3);return()=>clearTimeout(ft)}},[De]);const Nr=ft=>{var Cs;const Kt=(Cs=ft.target.files)==null?void 0:Cs[0];if(Kt){if(Kt.size>1048576){Ms("File is too large! Please upload an image smaller than 1MB.","error"),ft.target.value="";return}u(Kt);const ir=new FileReader;ir.onloadend=()=>{a(wt=>({...wt,avatarUrl:ir.result}))},ir.readAsDataURL(Kt)}},er=async()=>{xt(!0);try{const ft=new FormData;ft.append("name",n.name),ft.append("emailNotifications",String(ge)),l&&ft.append("avatar",l);const Kt=await fetch(`${Dt}/auth/update-profile`,{method:"PUT",credentials:"include",body:ft}),Cs=await Kt.json();Kt.ok?(At(!0),setTimeout(()=>At(!1),3e3),Cs.user&&e({...Cs.user}),u(null),Ms("Profile updated successfully!","success")):Ms(Cs.message||"Update failed","error")}catch(ft){console.error("Upload error:",ft),Ms("Network error occurred. Please try again.","error")}finally{xt(!1)}},Ys=()=>t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-slate-500 bg-white dark:bg-slate-700/50 p-3 rounded-lg border border-slate-200 dark:border-slate-600 mt-2",children:[t.jsxs("div",{className:`flex items-center gap-1.5 ${w.hasLength?"text-emerald-500 font-bold":""}`,children:[w.hasLength?t.jsx(Wo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Min 8 chars"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${w.hasUpper?"text-emerald-500 font-bold":""}`,children:[w.hasUpper?t.jsx(Wo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Uppercase"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${w.hasLower?"text-emerald-500 font-bold":""}`,children:[w.hasLower?t.jsx(Wo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Lowercase"]}),t.jsxs("div",{className:`flex items-center gap-1.5 ${w.hasNumber?"text-emerald-500 font-bold":""}`,children:[w.hasNumber?t.jsx(Wo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Number"]}),t.jsxs("div",{className:`col-span-2 flex items-center gap-1.5 ${w.hasSpecial?"text-emerald-500 font-bold":""}`,children:[w.hasSpecial?t.jsx(Wo,{className:"w-3 h-3"}):t.jsx("div",{className:"w-3 h-3 rounded-full border border-slate-300 dark:border-slate-500"}),"Special char (!@#$%^&*)"]})]}),Ts=()=>R==="idle"||R==="verify_current"?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(B3,{className:"w-5 h-5 text-sky-500"}),t.jsx("h4",{className:"font-bold text-slate-700 dark:text-white",children:"Change Password (Secure)"})]}),t.jsx("p",{className:"text-xs text-slate-500 mb-4",children:"For your security, we'll send a verification code to your email."}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Td,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"",value:A.currentPassword,onChange:ft=>o({...A,currentPassword:ft.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("div",{children:f==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:p})}),t.jsx("button",{onClick:xr,disabled:f==="loading"||!A.currentPassword,className:"px-5 py-2 bg-sky-600 text-white rounded-xl text-xs font-bold hover:bg-sky-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f==="loading"?t.jsx(Lr,{className:"w-3 h-3 animate-spin"}):t.jsxs(t.Fragment,{children:["Continue ",t.jsx(DA,{className:"w-3 h-3"})]})})]})]})]}):R==="verify_code"?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(Kd,{className:"w-5 h-5 text-blue-500"}),t.jsx("h4",{className:"font-bold text-slate-700 dark:text-white",children:"Verify & Set New Password"})]}),t.jsxs("p",{className:"text-xs text-slate-500 mb-4",children:["Enter the 6-digit code sent to ",t.jsx("strong",{children:s.email})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Verification Code"}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",placeholder:"000000",value:Q,onChange:ft=>G(ft.target.value.replace(/\D/g,"").slice(0,6)),maxLength:6,className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 px-4 text-sm font-mono tracking-[0.3em] text-center font-bold outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all"})}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{onClick:nn,disabled:le>0,className:"text-xs text-sky-600 hover:text-sky-700 font-medium disabled:text-slate-400",children:le>0?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{className:"w-3 h-3"})," Resend in ",le,"s"]}):t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ld,{className:"w-3 h-3"})," Resend Code"]})})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Td,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Min 8 characters",value:A.newPassword,onChange:ft=>{const Kt=ft.target.value;o({...A,newPassword:Kt}),Us(Kt)},className:`w-full bg-white dark:bg-slate-800 border rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none transition-all ${A.newPassword.length>0&&!b?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 dark:border-slate-700 focus:ring-sky-500/20 focus:border-sky-500"}`})]}),A.newPassword.length>0&&Ys()]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Td,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Confirm password",value:je,onChange:ft=>ue(ft.target.value),className:`w-full bg-white dark:bg-slate-800 border rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none transition-all ${je.length>0&&je!==A.newPassword?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 dark:border-slate-700 focus:ring-sky-500/20 focus:border-sky-500"}`})]}),je.length>0&&je!==A.newPassword&&t.jsx("p",{className:"text-xs text-red-500 font-bold",children:"Passwords do not match"})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2",children:[t.jsx("button",{onClick:()=>{z("idle"),G(""),o({currentPassword:"",newPassword:""}),ue(""),m("idle"),x("")},className:"text-xs text-slate-500 hover:text-slate-700",children:" Back"}),t.jsxs("div",{className:"flex items-center gap-3",children:[f==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:p}),t.jsx("button",{onClick:yr,disabled:f==="loading"||Q.length!==6||!b||A.newPassword!==je,className:"px-5 py-2 bg-emerald-600 text-white rounded-xl text-xs font-bold hover:bg-emerald-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f==="loading"?t.jsx(Lr,{className:"w-3 h-3 animate-spin"}):t.jsxs(t.Fragment,{children:[t.jsx(Wo,{className:"w-3 h-3"})," Change Password"]})})]})]})]})]}):R==="success"?t.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl p-6 border border-emerald-200 dark:border-emerald-800",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(uo,{className:"w-6 h-6 text-emerald-600"}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-bold text-emerald-800 dark:text-emerald-200",children:"Password Changed!"}),t.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400",children:"Your password has been updated successfully."})]})]})}):null;return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-4xl mx-auto animate-fade-in-up relative",children:[Lt&&t.jsxs("div",{className:`fixed bottom-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-2xl animate-fade-in-up transition-all ${Lt.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800":Lt.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-300 dark:border-emerald-800":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800 dark:text-slate-300 dark:border-slate-700"}`,children:[Lt.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):Lt.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(Sl,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:Lt.message}),t.jsx("button",{onClick:()=>$s(null),className:"ml-2 hover:opacity-70",children:t.jsx(qr,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(Yo,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"General Settings"})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-10 pb-10 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var ft;return(ft=d.current)==null?void 0:ft.click()},children:[t.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white dark:border-slate-800 shadow-xl ring-2 ring-slate-100 dark:ring-slate-700",children:t.jsx("img",{src:n.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx(Yg,{className:"w-8 h-8 text-white"})}),t.jsx("input",{type:"file",ref:d,className:"hidden",accept:"image/*",onChange:Nr})]}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Profile Photo"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 mb-4",children:"Click the image to upload a new photo. JPG, GIF or PNG."}),t.jsx("button",{onClick:()=>{var ft;return(ft=d.current)==null?void 0:ft.click()},className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Change Photo"})]})]}),t.jsxs("div",{className:"space-y-6 max-w-2xl",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Personal Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Yo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:n.name,onChange:ft=>a({...n,name:ft.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Yd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",value:n.email,disabled:!0,className:"w-full bg-slate-100 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none text-slate-500 cursor-not-allowed"})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:"Security"}),s.authProvider==="google"||!s.email?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 flex items-center gap-3 text-slate-500 border border-slate-200 dark:border-slate-700",children:[t.jsx(Kd,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm",children:"You are logged in via Google. Password change is not applicable."})]}):Ts()]}),t.jsxs("div",{id:"google-linking-section",className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(A5,{className:"w-5 h-5 text-sky-500"}),"Google Account"]}),s.authProvider==="google"||s.hasGoogleLinked?t.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl p-5 border border-emerald-200 dark:border-emerald-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center shadow-sm border border-emerald-200 dark:border-emerald-700",children:t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"font-bold text-emerald-800 dark:text-emerald-200",children:"Google Account Linked"}),t.jsx(uo,{className:"w-5 h-5 text-emerald-500"})]}),t.jsx("p",{className:"text-xs text-emerald-600 dark:text-emerald-400 mt-1",children:s.authProvider==="google"?"You signed up with Google. Calendar features are available.":"Your Google account is connected. Calendar sync and trip export are enabled."})]})]}),s.authProvider==="email"&&s.hasGoogleLinked&&t.jsx("div",{className:"mt-4 pt-4 border-t border-emerald-200 dark:border-emerald-700/50",children:t.jsxs("button",{onClick:async()=>{if(window.confirm("Are you sure you want to unlink your Google account? Calendar sync and trip export will no longer work.")){hr(!0);try{const ft=await fetch(`${Dt}/auth/unlink-google`,{method:"POST",credentials:"include"}),Kt=await ft.json();ft.ok&&Kt.status==="success"?(Ms("Google account unlinked successfully","success"),Kt.user&&e(Kt.user)):Ms(Kt.message||"Failed to unlink Google account","error")}catch{Ms("Network error. Please try again.","error")}finally{hr(!1)}}},disabled:Ar,className:"text-xs text-emerald-600 dark:text-emerald-400 hover:text-emerald-700 dark:hover:text-emerald-300 font-medium flex items-center gap-1.5 disabled:opacity-50",children:[Ar?t.jsx(Lr,{className:"w-3 h-3 animate-spin"}):t.jsx(FT,{className:"w-3 h-3"}),Ar?"Unlinking...":"Unlink Google Account"]})})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-white dark:bg-slate-800 flex items-center justify-center shadow-sm border border-slate-200 dark:border-slate-700",children:t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"w-6 h-6"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Link Google Account"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-4 leading-relaxed",children:"Connect your Google account to enable Calendar sync and export your trips to Google Calendar."}),t.jsxs("button",{onClick:()=>{fr(!0),window.location.href=`${Dt}/auth/link-google`},disabled:vs,className:"px-5 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl text-sm font-bold text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-slate-700 transition-all shadow-sm flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[vs?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"",className:"w-4 h-4"}),vs?"Connecting...":"Connect Google Account",!vs&&t.jsx(o0,{className:"w-3 h-3 text-slate-400"})]})]})]}),t.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700/50 flex items-start gap-2",children:[t.jsx(Sl,{className:"w-4 h-4 text-slate-400 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 leading-relaxed",children:"We only access your Google Calendar to sync events. Your data stays secure with Google OAuth."})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Preferences"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:t.jsx(Au,{className:"w-5 h-5 text-sky-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Email Notifications"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Receive trip updates and AI suggestions"})]})]}),t.jsx("button",{onClick:()=>Fe(!ge),className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors duration-300 ${ge?"bg-sky-500":"bg-slate-300 dark:bg-slate-700"}`,children:t.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-300 ${ge?"translate-x-6":"translate-x-0"}`})})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg shadow-sm",children:t.jsx(Kd,{className:"w-5 h-5 text-emerald-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:"Data Privacy"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Allow AI to use travel history for better suggestions"})]})]}),t.jsx("button",{onClick:()=>kt(!$e),className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors duration-300 ${$e?"bg-emerald-500":"bg-slate-300 dark:bg-slate-700"}`,children:t.jsx("div",{className:`bg-white w-4 h-4 rounded-full shadow-sm transition-transform duration-300 ${$e?"translate-x-6":"translate-x-0"}`})})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(hm,{className:"w-5 h-5 text-indigo-500"}),r("settings:language.title","Language")]}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:r("settings:language.description","Choose your preferred language for the interface and AI responses")}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:KI.map(ft=>t.jsxs("button",{onClick:()=>ys(ft.code),disabled:Mt,className:`p-4 rounded-xl border-2 transition-all duration-200 text-left relative ${St===ft.code?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 shadow-md":"border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/50 hover:border-slate-300 dark:hover:border-slate-600"} ${Mt?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[St===ft.code&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(uo,{className:"w-5 h-5 text-indigo-500"})}),t.jsx("span",{className:"text-2xl mb-2 block",children:ft.flag}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:ft.nativeName}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:ft.name})]},ft.code))}),Mt&&t.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-slate-500",children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),r("settings:language.changing","Changing language...")]})]}),t.jsx("div",{className:"pt-6 mt-6 flex justify-end",children:t.jsxs("button",{onClick:er,disabled:cs,className:`w-full md:w-auto px-8 py-3 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl shadow-lg hover:bg-slate-800 dark:hover:bg-slate-200 transition-all flex items-center justify-center gap-2 ${cs?"opacity-70 cursor-not-allowed":""}`,children:[cs?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):ot?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(QA,{className:"w-5 h-5"}),ot?"Saved":cs?"Saving...":"Save Changes"]})})]})]})]})},ID=({user:s,onUpdateUser:e})=>{const r=zl(),[n]=zB(),[a,l]=W.useState("plans"),[u,d]=W.useState(!1),[A,o]=W.useState(null),[f,m]=W.useState(null),[p,x]=W.useState(null),[b,y]=W.useState(!1),[w,E]=W.useState([]),[R,z]=W.useState(!0),[X,Y]=W.useState(""),[Q,G]=W.useState(!1),[le,Ae]=W.useState(null),[je,ue]=W.useState(null),[Se,ae]=W.useState(""),[Ne,he]=W.useState([]),[se,de]=W.useState(!1),[oe,Ee]=W.useState("all"),[De,ke]=W.useState(null),pe={monthly:["Unlimited AI trip planning","Advanced route optimization","Priority support","Budget tracking","Calendar sync"],yearly:["Everything in Monthly","2 months FREE","Early access to new features","Exclusive travel tips","No price increases"],lifetime:["Everything in Yearly","Lifetime updates","VIP support","Transferable license","Exclusive community access"]};W.useEffect(()=>{fe(),ye();const xt=n.get("success"),ot=n.get("activated");xt==="true"&&(ke(" Payment successful! Your premium membership is updated."),setTimeout(()=>ke(null),5e3)),ot==="true"&&(ke(" Premium membership activated successfully!"),setTimeout(()=>ke(null),5e3))},[]),W.useEffect(()=>{a==="transactions"&&te()},[a,oe]),W.useEffect(()=>{if(f!=null&&f.pendingOrder){const xt=setInterval(ge,1e4);return()=>clearInterval(xt)}},[f]);const ye=async()=>{try{z(!0);const xt=await fetch(`${Dt}/api/payment/plans`,{credentials:"include"});if(xt.ok){const ot=await xt.json();E(ot.plans||[])}}catch(xt){console.error("Failed to fetch plans:",xt)}finally{z(!1)}},fe=async()=>{try{const xt=await fetch(`${Dt}/api/payment/subscription-status`,{credentials:"include"});if(xt.ok){const ot=await xt.json();m(ot)}}catch(xt){console.error("Failed to fetch subscription status:",xt)}},te=async()=>{try{de(!0);const xt=oe==="all"?`${Dt}/api/payment/transactions`:`${Dt}/api/payment/transactions?status=${oe}`,At=await(await fetch(xt,{credentials:"include"})).json();he(At.transactions||[])}catch(xt){console.error("Failed to fetch transactions:",xt)}finally{de(!1)}},ge=async()=>{var xt;if(f!=null&&f.pendingOrder){y(!0);try{const At=await(await fetch(`${Dt}/api/payment/verify-order/${f.pendingOrder.orderReference}`,{method:"POST",credentials:"include"})).json();At.success&&((xt=At.order)==null?void 0:xt.status)==="active"&&(await fe(),e({isPremium:!0}),ke(" Payment confirmed! Your plan is now active."),setTimeout(()=>ke(null),5e3))}catch(ot){console.error("Error checking order status:",ot)}finally{y(!1)}}},Fe=async xt=>{if(!X.trim()){ae("Please enter a voucher code");return}G(!0),ae("");const ot=xt!==void 0?xt:A==null?void 0:A.id;try{const Lt=await(await fetch(`${Dt}/api/payment/validate-voucher`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:X.trim(),planId:ot||null})})).json();Lt.valid?(Ae(Lt.voucher),ue(Lt.preview),ae(""),Lt.voucher.type==="activation"&&o(null)):(ae(Lt.error||"Invalid voucher code"),ue(null))}catch{ae("Failed to validate voucher")}finally{G(!1)}},$e=()=>{Ae(null),ue(null),Y(""),ae("")},kt=async xt=>{d(!0),xt&&o(xt),x(null);try{const ot={};if(xt&&(ot.planId=xt.id),le&&(ot.voucherCode=le.code),!xt&&(le==null?void 0:le.type)!=="activation")throw new Error("Please select a plan.");const At=await fetch(`${Dt}/api/payment/create-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(ot)}),Lt=await At.json();if(Lt.activated){await fe(),e({isPremium:!0}),ke(" Premium membership activated!"),$e();return}if(At.ok&&Lt.paymentUrl)window.location.href=Lt.paymentUrl;else if(Lt.redirectTo)await fe(),e({isPremium:!0}),ke(" Premium membership activated with voucher!"),$e();else throw new Error(Lt.error||"Payment creation failed")}catch(ot){x(ot.message||"Payment failed")}finally{d(!1)}},St=async xt=>{try{const At=await(await fetch(`${Dt}/api/payment/continue-payment/${xt}`,{credentials:"include"})).json();At.paymentUrl?window.location.href=At.paymentUrl:At.error&&x(At.error)}catch{x("Failed to continue payment")}},Ge=async xt=>{try{(await fetch(`${Dt}/api/payment/cancel-order/${xt}`,{method:"POST",credentials:"include"})).ok&&(te(),fe())}catch(ot){console.error("Failed to cancel order:",ot)}},Mt=xt=>{r(`/receipt?order_id=${xt}`)},Vt=xt=>{const ot={pending:{icon:Vi,color:"text-amber-600 bg-amber-50 dark:bg-amber-900/20",label:"Pending"},paid:{icon:Bo,color:"text-green-600 bg-green-50 dark:bg-green-900/20",label:"Paid"},active:{icon:Bo,color:"text-green-600 bg-green-50 dark:bg-green-900/20",label:"Active"},cancelled:{icon:hu,color:"text-red-600 bg-red-50 dark:bg-red-900/20",label:"Cancelled"},expired:{icon:Zo,color:"text-gray-600 bg-gray-50 dark:bg-gray-800",label:"Expired"},refunded:{icon:hu,color:"text-blue-600 bg-blue-50 dark:bg-blue-900/20",label:"Refunded"},failed:{icon:hu,color:"text-red-600 bg-red-50 dark:bg-red-900/20",label:"Failed"}},At=ot[xt]||ot.pending,Lt=At.icon;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${At.color}`,children:[t.jsx(Lt,{size:14}),At.label]})},cs=xt=>xt.durationDays===null||xt.slug==="lifetime"?"one-time":xt.durationDays===30||xt.slug==="monthly"?"month":xt.durationDays===365||xt.slug==="yearly"?"year":`${xt.durationDays} days`;return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-7xl mx-auto animate-fade-in-up",children:[De&&t.jsxs("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl p-4 flex items-center gap-3",children:[t.jsx(Bo,{className:"w-5 h-5 text-green-600"}),t.jsx("p",{className:"text-green-700 dark:text-green-400 font-medium",children:De})]}),(f==null?void 0:f.pendingOrder)&&t.jsx("div",{className:"mb-8 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-2xl p-6 shadow-sm",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:b?t.jsx(Lr,{className:"w-6 h-6 text-amber-600 animate-spin"}):t.jsx(Ia,{className:"w-6 h-6 text-amber-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-amber-900 dark:text-amber-100 mb-2",children:"Payment in Progress"}),t.jsxs("p",{className:"text-sm text-amber-700 dark:text-amber-400 mb-4",children:["Order ",t.jsx("span",{className:"font-mono font-bold",children:f.pendingOrder.orderReference})," is pending payment.",f.pendingOrder.remainingTime>0&&t.jsxs("span",{className:"ml-2",children:["Expires in ",Math.floor(f.pendingOrder.remainingTime/60),":",String(f.pendingOrder.remainingTime%60).padStart(2,"0")]})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{onClick:()=>St(f.pendingOrder.orderReference),className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700 transition-colors flex items-center gap-2",children:[t.jsx(i0,{className:"w-4 h-4"}),"Continue Payment"]}),t.jsxs("button",{onClick:()=>ge(),disabled:b,className:"px-4 py-2 bg-white dark:bg-slate-800 border border-amber-200 dark:border-amber-800 text-amber-700 dark:text-amber-400 rounded-lg hover:bg-amber-50 dark:hover:bg-amber-900/10 transition-colors flex items-center gap-2",children:[b?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(Bo,{className:"w-4 h-4"}),"Refresh Status"]})]})]})]})}),t.jsxs("div",{className:"text-center mb-8",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-amber-500/20 to-orange-500/20 rounded-full mb-4",children:[t.jsx(Vd,{className:"w-5 h-5 text-amber-600"}),t.jsx("span",{className:"text-sm font-bold text-amber-700 dark:text-amber-400",children:"Premium Plans"})]}),t.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-4",children:["Upgrade to ",t.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-amber-500 to-orange-600",children:"Premium"})]}),t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 max-w-2xl mx-auto",children:"Unlock unlimited AI-powered trip planning and advanced features"})]}),(f==null?void 0:f.isPremium)&&t.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl p-6 mb-8 border border-amber-200 dark:border-amber-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Ao,{className:"w-6 h-6 text-amber-600"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Active Premium Subscription"})]}),f.subscriptionEndDate?t.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:[t.jsx(co,{className:"w-4 h-4 inline mr-2"}),"Valid until: ",new Date(f.subscriptionEndDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})]}):t.jsxs("p",{className:"text-slate-600 dark:text-slate-400 flex items-center gap-2",children:[t.jsx(Vd,{className:"w-4 h-4 text-amber-600"}),t.jsx("span",{className:"font-bold text-amber-700",children:"Lifetime Access"})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800 overflow-hidden mb-8",children:[t.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("button",{onClick:()=>l("plans"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${a==="plans"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(kf,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:"Plans"})]}),t.jsxs("button",{onClick:()=>l("transactions"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${a==="transactions"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(g3,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:"Transactions"})]}),t.jsxs("button",{onClick:()=>l("voucher"),className:`flex-1 px-6 py-4 flex items-center justify-center gap-2 font-medium transition-colors ${a==="voucher"?"text-amber-600 bg-amber-50 dark:bg-amber-900/20 border-b-2 border-amber-500":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[t.jsx(xf,{size:18}),t.jsx("span",{className:"hidden sm:inline",children:"Redeem Code"})]})]}),t.jsxs("div",{className:"p-6",children:[p&&t.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl p-4 mb-6 flex items-center gap-3",children:[t.jsx(Ia,{className:"w-5 h-5 text-red-600"}),t.jsx("p",{className:"text-red-700 dark:text-red-400",children:p}),t.jsx("button",{onClick:()=>x(null),className:"ml-auto text-red-400 hover:text-red-600",children:t.jsx(qr,{size:18})})]}),a==="plans"&&t.jsx("div",{children:R?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-amber-500"})}):t.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:w.map(xt=>{var Us;const ot=pe[xt.slug]||pe.monthly,At=(A==null?void 0:A.id)===xt.id,Lt=At&&je,$s=xt.actionType||"purchase",vs=xt.canPurchase!==!1;let fr=i0,Ar="Subscribe Now",hr=!1;$s==="upgrade"?(Ar="Upgrade Plan",fr=sx,hr=!0):$s==="renew"?(Ar="Renew Subscription",fr=ld):$s==="blocked"?(Ar="Current Plan is Higher",fr=Td):f!=null&&f.isPremium&&xt.slug==="lifetime"&&!f.subscriptionEndDate&&(Ar="Current Plan",fr=Wo),((Us=f==null?void 0:f.currentSubscription)==null?void 0:Us.planId)===xt.id&&$s==="renew"&&(Ar="Renew / Extend");const ys=u||!vs;return t.jsxs("div",{onClick:()=>{(!ys||$s!=="blocked")&&(o(xt),X.trim()&&Fe(xt.id))},className:`relative bg-white dark:bg-slate-800 rounded-2xl p-6 border-2 transition-all duration-300 ${ys?"opacity-80":"cursor-pointer hover:scale-[1.02]"} ${xt.isFeatured||xt.slug==="yearly"?"border-amber-500 shadow-xl shadow-amber-500/20":At?"border-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:[(xt.isFeatured||xt.slug==="yearly")&&t.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-4 py-1 bg-gradient-to-r from-amber-500 to-orange-600 text-white text-xs font-bold rounded-full shadow-lg",children:"Most Popular"}),t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:xt.name}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:xt.description}),t.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[Lt?t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-2xl text-slate-400 line-through",children:["RM ",je.originalPrice]}),t.jsxs("span",{className:"text-3xl font-bold text-green-600",children:["RM ",je.finalPrice.toFixed(2)]})]}):t.jsxs("span",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:["RM ",xt.price]}),t.jsxs("span",{className:"text-slate-500 dark:text-slate-400",children:["/",cs(xt)]})]}),Lt&&t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Save RM ",je.discount.toFixed(2),"!"]})]}),t.jsx("ul",{className:"space-y-3 mb-6",children:ot.map((xr,yr)=>t.jsxs("li",{className:"flex items-start gap-3",children:[t.jsx(Wo,{className:"w-5 h-5 text-emerald-500 flex-shrink-0 mt-0.5"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:xr})]},yr))}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("button",{onClick:xr=>{xr.stopPropagation(),ys||kt(xt)},disabled:ys,className:`w-full py-3 rounded-xl font-bold transition-all flex items-center justify-center gap-2 ${ys?"bg-slate-100 dark:bg-slate-700 text-slate-400 dark:text-slate-500 cursor-not-allowed":xt.isFeatured||xt.slug==="yearly"?"bg-gradient-to-r from-amber-500 to-orange-600 text-white hover:shadow-lg hover:shadow-amber-500/50":"bg-slate-100 dark:bg-slate-700 text-slate-900 dark:text-white hover:bg-slate-200 dark:hover:bg-slate-600"}`,children:u&&(A==null?void 0:A.id)===xt.id?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(fr,{className:"w-5 h-5"}),Ar]})}),hr&&!ys&&t.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 text-center font-medium animate-pulse",children:" Remaining days will be added to new plan!"}),$s==="blocked"&&t.jsx("p",{className:"text-xs text-slate-400 text-center",children:"You are on a higher tier plan."})]})]},xt.id)})})}),a==="transactions"&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Transaction History"}),t.jsxs("select",{value:oe,onChange:xt=>Ee(xt.target.value),className:"px-3 py-2 bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm",children:[t.jsx("option",{value:"all",children:"All"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"paid",children:"Paid"}),t.jsx("option",{value:"expired",children:"Expired"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),se?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-amber-500"})}):Ne.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(x5,{className:"w-12 h-12 mx-auto mb-3 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No transactions found"})]}):t.jsx("div",{className:"space-y-4",children:Ne.map(xt=>t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:xt.planName}),t.jsx("p",{className:"text-sm text-slate-500 font-mono",children:xt.orderReference}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:xt.createdAt})]}),t.jsxs("div",{className:"text-right",children:[Vt(xt.status),t.jsxs("p",{className:"mt-2 font-bold text-lg text-slate-900 dark:text-white",children:["RM ",xt.amount.toFixed(2)]}),xt.discountAmount>0&&t.jsxs("p",{className:"text-xs text-green-600",children:["-RM ",xt.discountAmount.toFixed(2)," discount"]})]})]}),xt.canContinuePayment&&xt.status==="pending"&&t.jsxs("div",{className:"mt-4 flex gap-2",children:[t.jsxs("button",{onClick:()=>St(xt.orderReference),className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg flex items-center justify-center gap-2",children:[t.jsx(o0,{size:18}),"Continue Payment"]}),t.jsx("button",{onClick:()=>Ge(xt.orderReference),className:"px-4 py-2.5 border border-red-200 text-red-600 hover:bg-red-50 rounded-lg",children:"Cancel"})]}),["paid","active"].includes(xt.status)&&xt.paymentMethod!=="activation_code"&&t.jsxs("button",{onClick:()=>Mt(xt.orderReference),className:"mt-4 w-full py-2.5 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 rounded-lg flex items-center justify-center gap-2 hover:bg-slate-100 dark:hover:bg-slate-700",children:[t.jsx(Ed,{size:18}),"View Receipt"]}),xt.voucherCode&&t.jsxs("p",{className:"mt-3 text-xs text-slate-500",children:["Voucher: ",t.jsx("span",{className:"font-mono bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded",children:xt.voucherCode})]})]},xt.id))})]}),a==="voucher"&&t.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[t.jsxs("div",{className:"text-center",children:[t.jsx(xf,{className:"w-12 h-12 mx-auto mb-3 text-amber-500"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Redeem Code"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Enter your activation code or discount voucher below."})]}),!le&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx(Gp,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:X,onChange:xt=>Y(xt.target.value.toUpperCase()),placeholder:"ENTER CODE HERE",className:"w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl font-mono uppercase text-lg tracking-wider focus:ring-2 focus:ring-amber-500 focus:border-transparent transition-all shadow-sm",onKeyDown:xt=>xt.key==="Enter"&&Fe()})]}),t.jsx("button",{onClick:()=>Fe(),disabled:!X.trim()||Q,className:"w-full py-3.5 bg-amber-500 hover:bg-amber-600 text-white font-bold rounded-xl disabled:opacity-50 flex items-center justify-center gap-2 shadow-lg shadow-amber-500/20 transition-all hover:scale-[1.02]",children:Q?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-5 h-5 animate-spin"}),"Validating..."]}):t.jsxs(t.Fragment,{children:["Check Code ",t.jsx(DA,{size:18})]})}),Se&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900/50 rounded-lg flex items-center justify-center gap-2 text-red-600 dark:text-red-400 text-sm animate-shake",children:[t.jsx(Ia,{size:16}),Se]})]}),(le==null?void 0:le.type)==="activation"&&t.jsx("div",{className:"animate-fade-in-up",children:t.jsx("div",{className:"p-1 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-2xl shadow-xl",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Ao,{className:"w-8 h-8 text-purple-600 dark:text-purple-400"})}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:"Premium Activation"}),t.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6",children:["Code: ",t.jsx("span",{className:"font-mono font-bold text-purple-600",children:le.code})]}),t.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4 mb-6 border border-purple-100 dark:border-purple-800/50",children:[t.jsx("p",{className:"text-sm text-purple-800 dark:text-purple-300 mb-1",children:"You will receive:"}),t.jsxs("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-400",children:[le.activationDays?`${le.activationDays} Days`:"Lifetime"," Premium"]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("button",{onClick:()=>kt(),disabled:u,className:"w-full py-4 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-purple-600/30 transition-all hover:scale-[1.02]",children:u?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-5 h-5 animate-spin"}),"Activating..."]}):t.jsxs(t.Fragment,{children:["Activate Now ",t.jsx(Ao,{className:"w-5 h-5"})]})}),t.jsx("button",{onClick:$e,className:"text-sm text-slate-500 hover:text-slate-700 dark:hover:text-slate-300 underline",children:"Use a different code"})]})]})})}),(le==null?void 0:le.type)==="discount"&&t.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-200 dark:border-green-800",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Gp,{className:"w-5 h-5 text-green-600"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-mono font-bold text-green-700 dark:text-green-400",children:le.code}),t.jsx("p",{className:"text-sm text-green-600",children:le.discountType==="percentage"?`${le.discountValue}% Discount`:`RM${le.discountValue} Off`})]})]}),t.jsx("button",{onClick:$e,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:t.jsx(qr,{size:18})})]}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white mb-3 flex items-center gap-2",children:[t.jsx("span",{className:"w-6 h-6 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center text-xs font-bold",children:"1"}),"Select a Plan"]}),t.jsx("div",{className:"grid grid-cols-1 gap-3",children:w.map(xt=>t.jsxs("button",{onClick:()=>{xt.canPurchase!==!1&&(o(xt),X.trim()&&Fe(xt.id))},disabled:xt.canPurchase===!1&&xt.actionType==="blocked",className:`flex items-center justify-between p-4 rounded-xl border-2 transition-all ${(A==null?void 0:A.id)===xt.id?"border-amber-500 bg-amber-50 dark:bg-amber-900/10":"border-slate-200 dark:border-slate-700 hover:border-amber-200"} ${xt.canPurchase===!1?"opacity-60 cursor-not-allowed":""}`,children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:xt.name}),t.jsx("p",{className:"text-xs text-slate-500",children:xt.description})]}),t.jsxs("span",{className:"font-medium text-slate-900 dark:text-white",children:["RM ",xt.price]})]},xt.id))})]}),A&&t.jsxs("div",{className:"animate-fade-in-up",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsxs("h4",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx("span",{className:"w-6 h-6 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center text-xs font-bold",children:"2"}),"Confirm & Pay"]}),t.jsx("button",{onClick:()=>Fe(),className:"text-xs text-amber-600 underline",children:"Refresh Price"})]}),t.jsxs("div",{className:"p-5 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[je?t.jsxs("div",{className:"space-y-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("span",{className:"text-slate-500",children:["Plan Price (",A.name,")"]}),t.jsxs("span",{className:"text-slate-900 dark:text-white",children:["RM ",A.price.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between text-green-600 font-medium",children:[t.jsx("span",{children:"Voucher Applied"}),t.jsxs("span",{children:["-RM ",je.discount.toFixed(2)]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-3 flex justify-between items-end",children:[t.jsx("span",{className:"text-slate-900 dark:text-white font-bold",children:"Total Amount"}),t.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:["RM ",je.finalPrice.toFixed(2)]})]})]}):t.jsxs("div",{className:"text-center py-4 text-slate-500 text-sm",children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin mx-auto mb-2"}),"Calculating discount..."]}),t.jsx("button",{onClick:()=>kt(A),disabled:u||!je,className:"w-full mt-5 py-3.5 bg-gradient-to-r from-amber-500 to-orange-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 shadow-lg shadow-amber-500/30 hover:scale-[1.02] transition-transform disabled:opacity-50 disabled:scale-100",children:u?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:["Proceed to Payment ",t.jsx(DA,{size:18})]})})]})]})]})]})]})]})]})};var pb={exports:{}},Bp={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var DD=Bp.exports,nw;function RD(){return nw||(nw=1,(function(s,e){(function(r,n){s.exports=n()})(DD,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var r=function(B,j){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,U){L.__proto__=U}||function(L,U){for(var ne in U)Object.prototype.hasOwnProperty.call(U,ne)&&(L[ne]=U[ne])},r(B,j)};function n(B,j){if(typeof j!="function"&&j!==null)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");r(B,j);function L(){this.constructor=B}B.prototype=j===null?Object.create(j):(L.prototype=j.prototype,new L)}var a=function(){return a=Object.assign||function(j){for(var L,U=1,ne=arguments.length;U<ne;U++){L=arguments[U];for(var we in L)Object.prototype.hasOwnProperty.call(L,we)&&(j[we]=L[we])}return j},a.apply(this,arguments)};function l(B,j,L,U){function ne(we){return we instanceof L?we:new L(function(Le){Le(we)})}return new(L||(L=Promise))(function(we,Le){function Ze(Rt){try{Ct(U.next(Rt))}catch(Wt){Le(Wt)}}function qe(Rt){try{Ct(U.throw(Rt))}catch(Wt){Le(Wt)}}function Ct(Rt){Rt.done?we(Rt.value):ne(Rt.value).then(Ze,qe)}Ct((U=U.apply(B,[])).next())})}function u(B,j){var L={label:0,sent:function(){if(we[0]&1)throw we[1];return we[1]},trys:[],ops:[]},U,ne,we,Le;return Le={next:Ze(0),throw:Ze(1),return:Ze(2)},typeof Symbol=="function"&&(Le[Symbol.iterator]=function(){return this}),Le;function Ze(Ct){return function(Rt){return qe([Ct,Rt])}}function qe(Ct){if(U)throw new TypeError("Generator is already executing.");for(;L;)try{if(U=1,ne&&(we=Ct[0]&2?ne.return:Ct[0]?ne.throw||((we=ne.return)&&we.call(ne),0):ne.next)&&!(we=we.call(ne,Ct[1])).done)return we;switch(ne=0,we&&(Ct=[Ct[0]&2,we.value]),Ct[0]){case 0:case 1:we=Ct;break;case 4:return L.label++,{value:Ct[1],done:!1};case 5:L.label++,ne=Ct[1],Ct=[0];continue;case 7:Ct=L.ops.pop(),L.trys.pop();continue;default:if(we=L.trys,!(we=we.length>0&&we[we.length-1])&&(Ct[0]===6||Ct[0]===2)){L=0;continue}if(Ct[0]===3&&(!we||Ct[1]>we[0]&&Ct[1]<we[3])){L.label=Ct[1];break}if(Ct[0]===6&&L.label<we[1]){L.label=we[1],we=Ct;break}if(we&&L.label<we[2]){L.label=we[2],L.ops.push(Ct);break}we[2]&&L.ops.pop(),L.trys.pop();continue}Ct=j.call(B,L)}catch(Rt){Ct=[6,Rt],ne=0}finally{U=we=0}if(Ct[0]&5)throw Ct[1];return{value:Ct[0]?Ct[1]:void 0,done:!0}}}function d(B,j,L){if(arguments.length===2)for(var U=0,ne=j.length,we;U<ne;U++)(we||!(U in j))&&(we||(we=Array.prototype.slice.call(j,0,U)),we[U]=j[U]);return B.concat(we||j)}for(var A=(function(){function B(j,L,U,ne){this.left=j,this.top=L,this.width=U,this.height=ne}return B.prototype.add=function(j,L,U,ne){return new B(this.left+j,this.top+L,this.width+U,this.height+ne)},B.fromClientRect=function(j,L){return new B(L.left+j.windowBounds.left,L.top+j.windowBounds.top,L.width,L.height)},B.fromDOMRectList=function(j,L){var U=Array.from(L).find(function(ne){return ne.width!==0});return U?new B(U.left+j.windowBounds.left,U.top+j.windowBounds.top,U.width,U.height):B.EMPTY},B.EMPTY=new B(0,0,0,0),B})(),o=function(B,j){return A.fromClientRect(B,j.getBoundingClientRect())},f=function(B){var j=B.body,L=B.documentElement;if(!j||!L)throw new Error("Unable to get document size");var U=Math.max(Math.max(j.scrollWidth,L.scrollWidth),Math.max(j.offsetWidth,L.offsetWidth),Math.max(j.clientWidth,L.clientWidth)),ne=Math.max(Math.max(j.scrollHeight,L.scrollHeight),Math.max(j.offsetHeight,L.offsetHeight),Math.max(j.clientHeight,L.clientHeight));return new A(0,0,U,ne)},m=function(B){for(var j=[],L=0,U=B.length;L<U;){var ne=B.charCodeAt(L++);if(ne>=55296&&ne<=56319&&L<U){var we=B.charCodeAt(L++);(we&64512)===56320?j.push(((ne&1023)<<10)+(we&1023)+65536):(j.push(ne),L--)}else j.push(ne)}return j},p=function(){for(var B=[],j=0;j<arguments.length;j++)B[j]=arguments[j];if(String.fromCodePoint)return String.fromCodePoint.apply(String,B);var L=B.length;if(!L)return"";for(var U=[],ne=-1,we="";++ne<L;){var Le=B[ne];Le<=65535?U.push(Le):(Le-=65536,U.push((Le>>10)+55296,Le%1024+56320)),(ne+1===L||U.length>16384)&&(we+=String.fromCharCode.apply(String,U),U.length=0)}return we},x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=typeof Uint8Array>"u"?[]:new Uint8Array(256),y=0;y<x.length;y++)b[x.charCodeAt(y)]=y;for(var w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=typeof Uint8Array>"u"?[]:new Uint8Array(256),R=0;R<w.length;R++)E[w.charCodeAt(R)]=R;for(var z=function(B){var j=B.length*.75,L=B.length,U,ne=0,we,Le,Ze,qe;B[B.length-1]==="="&&(j--,B[B.length-2]==="="&&j--);var Ct=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(j):new Array(j),Rt=Array.isArray(Ct)?Ct:new Uint8Array(Ct);for(U=0;U<L;U+=4)we=E[B.charCodeAt(U)],Le=E[B.charCodeAt(U+1)],Ze=E[B.charCodeAt(U+2)],qe=E[B.charCodeAt(U+3)],Rt[ne++]=we<<2|Le>>4,Rt[ne++]=(Le&15)<<4|Ze>>2,Rt[ne++]=(Ze&3)<<6|qe&63;return Ct},X=function(B){for(var j=B.length,L=[],U=0;U<j;U+=2)L.push(B[U+1]<<8|B[U]);return L},Y=function(B){for(var j=B.length,L=[],U=0;U<j;U+=4)L.push(B[U+3]<<24|B[U+2]<<16|B[U+1]<<8|B[U]);return L},Q=5,G=11,le=2,Ae=G-Q,je=65536>>Q,ue=1<<Q,Se=ue-1,ae=1024>>Q,Ne=je+ae,he=Ne,se=32,de=he+se,oe=65536>>G,Ee=1<<Ae,De=Ee-1,ke=function(B,j,L){return B.slice?B.slice(j,L):new Uint16Array(Array.prototype.slice.call(B,j,L))},pe=function(B,j,L){return B.slice?B.slice(j,L):new Uint32Array(Array.prototype.slice.call(B,j,L))},ye=function(B,j){var L=z(B),U=Array.isArray(L)?Y(L):new Uint32Array(L),ne=Array.isArray(L)?X(L):new Uint16Array(L),we=24,Le=ke(ne,we/2,U[4]/2),Ze=U[5]===2?ke(ne,(we+U[4])/2):pe(U,Math.ceil((we+U[4])/4));return new fe(U[0],U[1],U[2],U[3],Le,Ze)},fe=(function(){function B(j,L,U,ne,we,Le){this.initialValue=j,this.errorValue=L,this.highStart=U,this.highValueIndex=ne,this.index=we,this.data=Le}return B.prototype.get=function(j){var L;if(j>=0){if(j<55296||j>56319&&j<=65535)return L=this.index[j>>Q],L=(L<<le)+(j&Se),this.data[L];if(j<=65535)return L=this.index[je+(j-55296>>Q)],L=(L<<le)+(j&Se),this.data[L];if(j<this.highStart)return L=de-oe+(j>>G),L=this.index[L],L+=j>>Q&De,L=this.index[L],L=(L<<le)+(j&Se),this.data[L];if(j<=1114111)return this.data[this.highValueIndex]}return this.errorValue},B})(),te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ge=typeof Uint8Array>"u"?[]:new Uint8Array(256),Fe=0;Fe<te.length;Fe++)ge[te.charCodeAt(Fe)]=Fe;var $e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",kt=50,St=1,Ge=2,Mt=3,Vt=4,cs=5,xt=7,ot=8,At=9,Lt=10,$s=11,vs=12,fr=13,Ar=14,hr=15,Ms=16,ys=17,Us=18,xr=19,yr=20,nn=21,Nr=22,er=23,Ys=24,Ts=25,ft=26,Kt=27,Cs=28,Vs=29,ir=30,wt=31,es=32,As=33,hs=34,Ks=35,zs=36,mr=37,en=38,wa=39,Ss=40,Os=41,sr=42,fs=43,Pr=[9001,65288],Gr="!",ur="",Va="",ha=ye($e),fn=[ir,zs],Bn=[St,Ge,Mt,cs],ln=[Lt,ot],fa=[Kt,ft],Zn=Bn.concat(ln),Ii=[en,wa,Ss,hs,Ks],Dn=[hr,fr],mc=function(B,j){j===void 0&&(j="strict");var L=[],U=[],ne=[];return B.forEach(function(we,Le){var Ze=ha.get(we);if(Ze>kt?(ne.push(!0),Ze-=kt):ne.push(!1),["normal","auto","loose"].indexOf(j)!==-1&&[8208,8211,12316,12448].indexOf(we)!==-1)return U.push(Le),L.push(Ms);if(Ze===Vt||Ze===$s){if(Le===0)return U.push(Le),L.push(ir);var qe=L[Le-1];return Zn.indexOf(qe)===-1?(U.push(U[Le-1]),L.push(qe)):(U.push(Le),L.push(ir))}if(U.push(Le),Ze===wt)return L.push(j==="strict"?nn:mr);if(Ze===sr||Ze===Vs)return L.push(ir);if(Ze===fs)return we>=131072&&we<=196605||we>=196608&&we<=262141?L.push(mr):L.push(ir);L.push(Ze)}),[U,L,ne]},oi=function(B,j,L,U){var ne=U[L];if(Array.isArray(B)?B.indexOf(ne)!==-1:B===ne)for(var we=L;we<=U.length;){we++;var Le=U[we];if(Le===j)return!0;if(Le!==Lt)break}if(ne===Lt)for(var we=L;we>0;){we--;var Ze=U[we];if(Array.isArray(B)?B.indexOf(Ze)!==-1:B===Ze)for(var qe=L;qe<=U.length;){qe++;var Le=U[qe];if(Le===j)return!0;if(Le!==Lt)break}if(Ze!==Lt)break}return!1},To=function(B,j){for(var L=B;L>=0;){var U=j[L];if(U===Lt)L--;else return U}return 0},Vl=function(B,j,L,U,ne){if(L[U]===0)return ur;var we=U-1;if(Array.isArray(ne)&&ne[we]===!0)return ur;var Le=we-1,Ze=we+1,qe=j[we],Ct=Le>=0?j[Le]:0,Rt=j[Ze];if(qe===Ge&&Rt===Mt)return ur;if(Bn.indexOf(qe)!==-1)return Gr;if(Bn.indexOf(Rt)!==-1||ln.indexOf(Rt)!==-1)return ur;if(To(we,j)===ot)return Va;if(ha.get(B[we])===$s||(qe===es||qe===As)&&ha.get(B[Ze])===$s||qe===xt||Rt===xt||qe===At||[Lt,fr,hr].indexOf(qe)===-1&&Rt===At||[ys,Us,xr,Ys,Cs].indexOf(Rt)!==-1||To(we,j)===Nr||oi(er,Nr,we,j)||oi([ys,Us],nn,we,j)||oi(vs,vs,we,j))return ur;if(qe===Lt)return Va;if(qe===er||Rt===er)return ur;if(Rt===Ms||qe===Ms)return Va;if([fr,hr,nn].indexOf(Rt)!==-1||qe===Ar||Ct===zs&&Dn.indexOf(qe)!==-1||qe===Cs&&Rt===zs||Rt===yr||fn.indexOf(Rt)!==-1&&qe===Ts||fn.indexOf(qe)!==-1&&Rt===Ts||qe===Kt&&[mr,es,As].indexOf(Rt)!==-1||[mr,es,As].indexOf(qe)!==-1&&Rt===ft||fn.indexOf(qe)!==-1&&fa.indexOf(Rt)!==-1||fa.indexOf(qe)!==-1&&fn.indexOf(Rt)!==-1||[Kt,ft].indexOf(qe)!==-1&&(Rt===Ts||[Nr,hr].indexOf(Rt)!==-1&&j[Ze+1]===Ts)||[Nr,hr].indexOf(qe)!==-1&&Rt===Ts||qe===Ts&&[Ts,Cs,Ys].indexOf(Rt)!==-1)return ur;if([Ts,Cs,Ys,ys,Us].indexOf(Rt)!==-1)for(var Wt=we;Wt>=0;){var Ns=j[Wt];if(Ns===Ts)return ur;if([Cs,Ys].indexOf(Ns)!==-1)Wt--;else break}if([Kt,ft].indexOf(Rt)!==-1)for(var Wt=[ys,Us].indexOf(qe)!==-1?Le:we;Wt>=0;){var Ns=j[Wt];if(Ns===Ts)return ur;if([Cs,Ys].indexOf(Ns)!==-1)Wt--;else break}if(en===qe&&[en,wa,hs,Ks].indexOf(Rt)!==-1||[wa,hs].indexOf(qe)!==-1&&[wa,Ss].indexOf(Rt)!==-1||[Ss,Ks].indexOf(qe)!==-1&&Rt===Ss||Ii.indexOf(qe)!==-1&&[yr,ft].indexOf(Rt)!==-1||Ii.indexOf(Rt)!==-1&&qe===Kt||fn.indexOf(qe)!==-1&&fn.indexOf(Rt)!==-1||qe===Ys&&fn.indexOf(Rt)!==-1||fn.concat(Ts).indexOf(qe)!==-1&&Rt===Nr&&Pr.indexOf(B[Ze])===-1||fn.concat(Ts).indexOf(Rt)!==-1&&qe===Us)return ur;if(qe===Os&&Rt===Os){for(var jr=L[we],Zs=1;jr>0&&(jr--,j[jr]===Os);)Zs++;if(Zs%2!==0)return ur}return qe===es&&Rt===As?ur:Va},ho=function(B,j){j||(j={lineBreak:"normal",wordBreak:"normal"});var L=mc(B,j.lineBreak),U=L[0],ne=L[1],we=L[2];(j.wordBreak==="break-all"||j.wordBreak==="break-word")&&(ne=ne.map(function(Ze){return[Ts,ir,sr].indexOf(Ze)!==-1?mr:Ze}));var Le=j.wordBreak==="keep-all"?we.map(function(Ze,qe){return Ze&&B[qe]>=19968&&B[qe]<=40959}):void 0;return[U,ne,Le]},ma=(function(){function B(j,L,U,ne){this.codePoints=j,this.required=L===Gr,this.start=U,this.end=ne}return B.prototype.slice=function(){return p.apply(void 0,this.codePoints.slice(this.start,this.end))},B})(),Ni=function(B,j){var L=m(B),U=ho(L,j),ne=U[0],we=U[1],Le=U[2],Ze=L.length,qe=0,Ct=0;return{next:function(){if(Ct>=Ze)return{done:!0,value:null};for(var Rt=ur;Ct<Ze&&(Rt=Vl(L,we,ne,++Ct,Le))===ur;);if(Rt!==ur||Ct===Ze){var Wt=new ma(L,Rt,qe,Ct);return qe=Ct,{value:Wt,done:!1}}return{done:!0,value:null}}}},sa=1,Ua=2,qn=4,fo=8,Ai=10,Ci=47,Al=92,qo=9,Tl=32,xa=34,ja=61,mo=35,ti=36,Di=37,hi=39,Wr=40,Ka=41,ki=95,Pa=45,po=33,Gn=60,Ki=62,Ga=64,Da=91,fi=93,Uo=61,Bi=123,ba=63,mi=125,eo=124,Si=126,oo=128,Tt=65533,F=42,K=43,J=44,T=58,M=59,$=46,ie=0,ve=8,Re=11,Je=14,N=31,v=127,S=-1,I=48,P=97,V=101,ce=102,q=117,ee=122,Ce=65,Me=69,ze=70,Xe=85,xe=90,ct=function(B){return B>=I&&B<=57},it=function(B){return B>=55296&&B<=57343},ut=function(B){return ct(B)||B>=Ce&&B<=ze||B>=P&&B<=ce},We=function(B){return B>=P&&B<=ee},jt=function(B){return B>=Ce&&B<=xe},Pt=function(B){return We(B)||jt(B)},gt=function(B){return B>=oo},Ke=function(B){return B===Ai||B===qo||B===Tl},Ot=function(B){return Pt(B)||gt(B)||B===ki},ls=function(B){return Ot(B)||ct(B)||B===Pa},zt=function(B){return B>=ie&&B<=ve||B===Re||B>=Je&&B<=N||B===v},yt=function(B,j){return B!==Al?!1:j!==Ai},ss=function(B,j,L){return B===Pa?Ot(j)||yt(j,L):Ot(B)?!0:!!(B===Al&&yt(B,j))},Ye=function(B,j,L){return B===K||B===Pa?ct(j)?!0:j===$&&ct(L):ct(B===$?j:B)},st=function(B){var j=0,L=1;(B[j]===K||B[j]===Pa)&&(B[j]===Pa&&(L=-1),j++);for(var U=[];ct(B[j]);)U.push(B[j++]);var ne=U.length?parseInt(p.apply(void 0,U),10):0;B[j]===$&&j++;for(var we=[];ct(B[j]);)we.push(B[j++]);var Le=we.length,Ze=Le?parseInt(p.apply(void 0,we),10):0;(B[j]===Me||B[j]===V)&&j++;var qe=1;(B[j]===K||B[j]===Pa)&&(B[j]===Pa&&(qe=-1),j++);for(var Ct=[];ct(B[j]);)Ct.push(B[j++]);var Rt=Ct.length?parseInt(p.apply(void 0,Ct),10):0;return L*(ne+Ze*Math.pow(10,-Le))*Math.pow(10,qe*Rt)},bt={type:2},vt={type:3},ns={type:4},us={type:13},bs={type:8},Gt={type:21},ms={type:9},Xs={type:10},Qs={type:11},Qe={type:12},dt={type:14},ht={type:23},It={type:1},Qt={type:25},Xt={type:24},ps={type:26},gs={type:27},Ls={type:28},Js={type:29},br={type:31},gr={type:32},Yr=(function(){function B(){this._value=[]}return B.prototype.write=function(j){this._value=this._value.concat(m(j))},B.prototype.read=function(){for(var j=[],L=this.consumeToken();L!==gr;)j.push(L),L=this.consumeToken();return j},B.prototype.consumeToken=function(){var j=this.consumeCodePoint();switch(j){case xa:return this.consumeStringToken(xa);case mo:var L=this.peekCodePoint(0),U=this.peekCodePoint(1),ne=this.peekCodePoint(2);if(ls(L)||yt(U,ne)){var we=ss(L,U,ne)?Ua:sa,Le=this.consumeName();return{type:5,value:Le,flags:we}}break;case ti:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),us;break;case hi:return this.consumeStringToken(hi);case Wr:return bt;case Ka:return vt;case F:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),dt;break;case K:if(Ye(j,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(j),this.consumeNumericToken();break;case J:return ns;case Pa:var Ze=j,qe=this.peekCodePoint(0),Ct=this.peekCodePoint(1);if(Ye(Ze,qe,Ct))return this.reconsumeCodePoint(j),this.consumeNumericToken();if(ss(Ze,qe,Ct))return this.reconsumeCodePoint(j),this.consumeIdentLikeToken();if(qe===Pa&&Ct===Ki)return this.consumeCodePoint(),this.consumeCodePoint(),Xt;break;case $:if(Ye(j,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(j),this.consumeNumericToken();break;case Ci:if(this.peekCodePoint(0)===F)for(this.consumeCodePoint();;){var Rt=this.consumeCodePoint();if(Rt===F&&(Rt=this.consumeCodePoint(),Rt===Ci))return this.consumeToken();if(Rt===S)return this.consumeToken()}break;case T:return ps;case M:return gs;case Gn:if(this.peekCodePoint(0)===po&&this.peekCodePoint(1)===Pa&&this.peekCodePoint(2)===Pa)return this.consumeCodePoint(),this.consumeCodePoint(),Qt;break;case Ga:var Wt=this.peekCodePoint(0),Ns=this.peekCodePoint(1),jr=this.peekCodePoint(2);if(ss(Wt,Ns,jr)){var Le=this.consumeName();return{type:7,value:Le}}break;case Da:return Ls;case Al:if(yt(j,this.peekCodePoint(0)))return this.reconsumeCodePoint(j),this.consumeIdentLikeToken();break;case fi:return Js;case Uo:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),bs;break;case Bi:return Qs;case mi:return Qe;case q:case Xe:var Zs=this.peekCodePoint(0),dr=this.peekCodePoint(1);return Zs===K&&(ut(dr)||dr===ba)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(j),this.consumeIdentLikeToken();case eo:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),ms;if(this.peekCodePoint(0)===eo)return this.consumeCodePoint(),Gt;break;case Si:if(this.peekCodePoint(0)===ja)return this.consumeCodePoint(),Xs;break;case S:return gr}return Ke(j)?(this.consumeWhiteSpace(),br):ct(j)?(this.reconsumeCodePoint(j),this.consumeNumericToken()):Ot(j)?(this.reconsumeCodePoint(j),this.consumeIdentLikeToken()):{type:6,value:p(j)}},B.prototype.consumeCodePoint=function(){var j=this._value.shift();return typeof j>"u"?-1:j},B.prototype.reconsumeCodePoint=function(j){this._value.unshift(j)},B.prototype.peekCodePoint=function(j){return j>=this._value.length?-1:this._value[j]},B.prototype.consumeUnicodeRangeToken=function(){for(var j=[],L=this.consumeCodePoint();ut(L)&&j.length<6;)j.push(L),L=this.consumeCodePoint();for(var U=!1;L===ba&&j.length<6;)j.push(L),L=this.consumeCodePoint(),U=!0;if(U){var ne=parseInt(p.apply(void 0,j.map(function(qe){return qe===ba?I:qe})),16),we=parseInt(p.apply(void 0,j.map(function(qe){return qe===ba?ze:qe})),16);return{type:30,start:ne,end:we}}var Le=parseInt(p.apply(void 0,j),16);if(this.peekCodePoint(0)===Pa&&ut(this.peekCodePoint(1))){this.consumeCodePoint(),L=this.consumeCodePoint();for(var Ze=[];ut(L)&&Ze.length<6;)Ze.push(L),L=this.consumeCodePoint();var we=parseInt(p.apply(void 0,Ze),16);return{type:30,start:Le,end:we}}else return{type:30,start:Le,end:Le}},B.prototype.consumeIdentLikeToken=function(){var j=this.consumeName();return j.toLowerCase()==="url"&&this.peekCodePoint(0)===Wr?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Wr?(this.consumeCodePoint(),{type:19,value:j}):{type:20,value:j}},B.prototype.consumeUrlToken=function(){var j=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===S)return{type:22,value:""};var L=this.peekCodePoint(0);if(L===hi||L===xa){var U=this.consumeStringToken(this.consumeCodePoint());return U.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===S||this.peekCodePoint(0)===Ka)?(this.consumeCodePoint(),{type:22,value:U.value}):(this.consumeBadUrlRemnants(),ht)}for(;;){var ne=this.consumeCodePoint();if(ne===S||ne===Ka)return{type:22,value:p.apply(void 0,j)};if(Ke(ne))return this.consumeWhiteSpace(),this.peekCodePoint(0)===S||this.peekCodePoint(0)===Ka?(this.consumeCodePoint(),{type:22,value:p.apply(void 0,j)}):(this.consumeBadUrlRemnants(),ht);if(ne===xa||ne===hi||ne===Wr||zt(ne))return this.consumeBadUrlRemnants(),ht;if(ne===Al)if(yt(ne,this.peekCodePoint(0)))j.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ht;else j.push(ne)}},B.prototype.consumeWhiteSpace=function(){for(;Ke(this.peekCodePoint(0));)this.consumeCodePoint()},B.prototype.consumeBadUrlRemnants=function(){for(;;){var j=this.consumeCodePoint();if(j===Ka||j===S)return;yt(j,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},B.prototype.consumeStringSlice=function(j){for(var L=5e4,U="";j>0;){var ne=Math.min(L,j);U+=p.apply(void 0,this._value.splice(0,ne)),j-=ne}return this._value.shift(),U},B.prototype.consumeStringToken=function(j){var L="",U=0;do{var ne=this._value[U];if(ne===S||ne===void 0||ne===j)return L+=this.consumeStringSlice(U),{type:0,value:L};if(ne===Ai)return this._value.splice(0,U),It;if(ne===Al){var we=this._value[U+1];we!==S&&we!==void 0&&(we===Ai?(L+=this.consumeStringSlice(U),U=-1,this._value.shift()):yt(ne,we)&&(L+=this.consumeStringSlice(U),L+=p(this.consumeEscapedCodePoint()),U=-1))}U++}while(!0)},B.prototype.consumeNumber=function(){var j=[],L=qn,U=this.peekCodePoint(0);for((U===K||U===Pa)&&j.push(this.consumeCodePoint());ct(this.peekCodePoint(0));)j.push(this.consumeCodePoint());U=this.peekCodePoint(0);var ne=this.peekCodePoint(1);if(U===$&&ct(ne))for(j.push(this.consumeCodePoint(),this.consumeCodePoint()),L=fo;ct(this.peekCodePoint(0));)j.push(this.consumeCodePoint());U=this.peekCodePoint(0),ne=this.peekCodePoint(1);var we=this.peekCodePoint(2);if((U===Me||U===V)&&((ne===K||ne===Pa)&&ct(we)||ct(ne)))for(j.push(this.consumeCodePoint(),this.consumeCodePoint()),L=fo;ct(this.peekCodePoint(0));)j.push(this.consumeCodePoint());return[st(j),L]},B.prototype.consumeNumericToken=function(){var j=this.consumeNumber(),L=j[0],U=j[1],ne=this.peekCodePoint(0),we=this.peekCodePoint(1),Le=this.peekCodePoint(2);if(ss(ne,we,Le)){var Ze=this.consumeName();return{type:15,number:L,flags:U,unit:Ze}}return ne===Di?(this.consumeCodePoint(),{type:16,number:L,flags:U}):{type:17,number:L,flags:U}},B.prototype.consumeEscapedCodePoint=function(){var j=this.consumeCodePoint();if(ut(j)){for(var L=p(j);ut(this.peekCodePoint(0))&&L.length<6;)L+=p(this.consumeCodePoint());Ke(this.peekCodePoint(0))&&this.consumeCodePoint();var U=parseInt(L,16);return U===0||it(U)||U>1114111?Tt:U}return j===S?Tt:j},B.prototype.consumeName=function(){for(var j="";;){var L=this.consumeCodePoint();if(ls(L))j+=p(L);else if(yt(L,this.peekCodePoint(0)))j+=p(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(L),j}},B})(),et=(function(){function B(j){this._tokens=j}return B.create=function(j){var L=new Yr;return L.write(j),new B(L.read())},B.parseValue=function(j){return B.create(j).parseComponentValue()},B.parseValues=function(j){return B.create(j).parseComponentValues()},B.prototype.parseComponentValue=function(){for(var j=this.consumeToken();j.type===31;)j=this.consumeToken();if(j.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(j);var L=this.consumeComponentValue();do j=this.consumeToken();while(j.type===31);if(j.type===32)return L;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},B.prototype.parseComponentValues=function(){for(var j=[];;){var L=this.consumeComponentValue();if(L.type===32)return j;j.push(L),j.push()}},B.prototype.consumeComponentValue=function(){var j=this.consumeToken();switch(j.type){case 11:case 28:case 2:return this.consumeSimpleBlock(j.type);case 19:return this.consumeFunction(j)}return j},B.prototype.consumeSimpleBlock=function(j){for(var L={type:j,values:[]},U=this.consumeToken();;){if(U.type===32||ka(U,j))return L;this.reconsumeToken(U),L.values.push(this.consumeComponentValue()),U=this.consumeToken()}},B.prototype.consumeFunction=function(j){for(var L={name:j.value,values:[],type:18};;){var U=this.consumeToken();if(U.type===32||U.type===3)return L;this.reconsumeToken(U),L.values.push(this.consumeComponentValue())}},B.prototype.consumeToken=function(){var j=this._tokens.shift();return typeof j>"u"?gr:j},B.prototype.reconsumeToken=function(j){this._tokens.unshift(j)},B})(),or=function(B){return B.type===15},un=function(B){return B.type===17},rr=function(B){return B.type===20},_s=function(B){return B.type===0},tn=function(B,j){return rr(B)&&B.value===j},vr=function(B){return B.type!==31},$r=function(B){return B.type!==31&&B.type!==4},Or=function(B){var j=[],L=[];return B.forEach(function(U){if(U.type===4){if(L.length===0)throw new Error("Error parsing function args, zero tokens for arg");j.push(L),L=[];return}U.type!==31&&L.push(U)}),L.length&&j.push(L),j},ka=function(B,j){return j===11&&B.type===12||j===28&&B.type===29?!0:j===2&&B.type===3},Sn=function(B){return B.type===17||B.type===15},kr=function(B){return B.type===16||Sn(B)},zn=function(B){return B.length>1?[B[0],B[1]]:[B[0]]},Xr={type:17,number:0,flags:qn},Br={type:16,number:50,flags:qn},rn={type:16,number:100,flags:qn},Ir=function(B,j,L){var U=B[0],ne=B[1];return[vn(U,j),vn(typeof ne<"u"?ne:U,L)]},vn=function(B,j){if(B.type===16)return B.number/100*j;if(or(B))switch(B.unit){case"rem":case"em":return 16*B.number;case"px":default:return B.number}return B.number},Wn="deg",En="grad",Rn="rad",Wa="turn",Vr={name:"angle",parse:function(B,j){if(j.type===15)switch(j.unit){case Wn:return Math.PI*j.number/180;case En:return Math.PI/200*j.number;case Rn:return j.number;case Wa:return Math.PI*2*j.number}throw new Error("Unsupported angle type")}},Qa=function(B){return B.type===15&&(B.unit===Wn||B.unit===En||B.unit===Rn||B.unit===Wa)},mn=function(B){var j=B.filter(rr).map(function(L){return L.value}).join(" ");switch(j){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Xr,Xr];case"to top":case"bottom":return _r(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Xr,rn];case"to right":case"left":return _r(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[rn,rn];case"to bottom":case"top":return _r(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[rn,Xr];case"to left":case"right":return _r(270)}return 0},_r=function(B){return Math.PI*B/180},Na={name:"color",parse:function(B,j){if(j.type===18){var L=an[j.name];if(typeof L>"u")throw new Error('Attempting to parse an unsupported color function "'+j.name+'"');return L(B,j.values)}if(j.type===5){if(j.value.length===3){var U=j.value.substring(0,1),ne=j.value.substring(1,2),we=j.value.substring(2,3);return Fn(parseInt(U+U,16),parseInt(ne+ne,16),parseInt(we+we,16),1)}if(j.value.length===4){var U=j.value.substring(0,1),ne=j.value.substring(1,2),we=j.value.substring(2,3),Le=j.value.substring(3,4);return Fn(parseInt(U+U,16),parseInt(ne+ne,16),parseInt(we+we,16),parseInt(Le+Le,16)/255)}if(j.value.length===6){var U=j.value.substring(0,2),ne=j.value.substring(2,4),we=j.value.substring(4,6);return Fn(parseInt(U,16),parseInt(ne,16),parseInt(we,16),1)}if(j.value.length===8){var U=j.value.substring(0,2),ne=j.value.substring(2,4),we=j.value.substring(4,6),Le=j.value.substring(6,8);return Fn(parseInt(U,16),parseInt(ne,16),parseInt(we,16),parseInt(Le,16)/255)}}if(j.type===20){var Ze=pi[j.value.toUpperCase()];if(typeof Ze<"u")return Ze}return pi.TRANSPARENT}},jn=function(B){return(255&B)===0},ar=function(B){var j=255&B,L=255&B>>8,U=255&B>>16,ne=255&B>>24;return j<255?"rgba("+ne+","+U+","+L+","+j/255+")":"rgb("+ne+","+U+","+L+")"},Fn=function(B,j,L,U){return(B<<24|j<<16|L<<8|Math.round(U*255)<<0)>>>0},Wc=function(B,j){if(B.type===17)return B.number;if(B.type===16){var L=j===3?1:255;return j===3?B.number/100*L:Math.round(B.number/100*L)}return 0},Ri=function(B,j){var L=j.filter($r);if(L.length===3){var U=L.map(Wc),ne=U[0],we=U[1],Le=U[2];return Fn(ne,we,Le,1)}if(L.length===4){var Ze=L.map(Wc),ne=Ze[0],we=Ze[1],Le=Ze[2],qe=Ze[3];return Fn(ne,we,Le,qe)}return 0};function lo(B,j,L){return L<0&&(L+=1),L>=1&&(L-=1),L<1/6?(j-B)*L*6+B:L<1/2?j:L<2/3?(j-B)*6*(2/3-L)+B:B}var Kl=function(B,j){var L=j.filter($r),U=L[0],ne=L[1],we=L[2],Le=L[3],Ze=(U.type===17?_r(U.number):Vr.parse(B,U))/(Math.PI*2),qe=kr(ne)?ne.number/100:0,Ct=kr(we)?we.number/100:0,Rt=typeof Le<"u"&&kr(Le)?vn(Le,1):1;if(qe===0)return Fn(Ct*255,Ct*255,Ct*255,1);var Wt=Ct<=.5?Ct*(qe+1):Ct+qe-Ct*qe,Ns=Ct*2-Wt,jr=lo(Ns,Wt,Ze+1/3),Zs=lo(Ns,Wt,Ze),dr=lo(Ns,Wt,Ze-1/3);return Fn(jr*255,Zs*255,dr*255,Rt)},an={hsl:Kl,hsla:Kl,rgb:Ri,rgba:Ri},li=function(B,j){return Na.parse(B,et.create(j).parseComponentValue())},pi={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},el={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(B,j){return j.map(function(L){if(rr(L))switch(L.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Lo={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ra=function(B,j){var L=Na.parse(B,j[0]),U=j[1];return U&&kr(U)?{color:L,stop:U}:{color:L,stop:null}},gi=function(B,j){var L=B[0],U=B[B.length-1];L.stop===null&&(L.stop=Xr),U.stop===null&&(U.stop=rn);for(var ne=[],we=0,Le=0;Le<B.length;Le++){var Ze=B[Le].stop;if(Ze!==null){var qe=vn(Ze,j);qe>we?ne.push(qe):ne.push(we),we=qe}else ne.push(null)}for(var Ct=null,Le=0;Le<ne.length;Le++){var Rt=ne[Le];if(Rt===null)Ct===null&&(Ct=Le);else if(Ct!==null){for(var Wt=Le-Ct,Ns=ne[Ct-1],jr=(Rt-Ns)/(Wt+1),Zs=1;Zs<=Wt;Zs++)ne[Ct+Zs-1]=jr*Zs;Ct=null}}return B.map(function(dr,Jr){var Fr=dr.color;return{color:Fr,stop:Math.max(Math.min(1,ne[Jr]/j),0)}})},ci=function(B,j,L){var U=j/2,ne=L/2,we=vn(B[0],j)-U,Le=ne-vn(B[1],L);return(Math.atan2(Le,we)+Math.PI*2)%(Math.PI*2)},Ul=function(B,j,L){var U=typeof B=="number"?B:ci(B,j,L),ne=Math.abs(j*Math.sin(U))+Math.abs(L*Math.cos(U)),we=j/2,Le=L/2,Ze=ne/2,qe=Math.sin(U-Math.PI/2)*Ze,Ct=Math.cos(U-Math.PI/2)*Ze;return[ne,we-Ct,we+Ct,Le-qe,Le+qe]},Pi=function(B,j){return Math.sqrt(B*B+j*j)},hl=function(B,j,L,U,ne){var we=[[0,0],[0,j],[B,0],[B,j]];return we.reduce(function(Le,Ze){var qe=Ze[0],Ct=Ze[1],Rt=Pi(L-qe,U-Ct);return(ne?Rt<Le.optimumDistance:Rt>Le.optimumDistance)?{optimumCorner:Ze,optimumDistance:Rt}:Le},{optimumDistance:ne?1/0:-1/0,optimumCorner:null}).optimumCorner},go=function(B,j,L,U,ne){var we=0,Le=0;switch(B.size){case 0:B.shape===0?we=Le=Math.min(Math.abs(j),Math.abs(j-U),Math.abs(L),Math.abs(L-ne)):B.shape===1&&(we=Math.min(Math.abs(j),Math.abs(j-U)),Le=Math.min(Math.abs(L),Math.abs(L-ne)));break;case 2:if(B.shape===0)we=Le=Math.min(Pi(j,L),Pi(j,L-ne),Pi(j-U,L),Pi(j-U,L-ne));else if(B.shape===1){var Ze=Math.min(Math.abs(L),Math.abs(L-ne))/Math.min(Math.abs(j),Math.abs(j-U)),qe=hl(U,ne,j,L,!0),Ct=qe[0],Rt=qe[1];we=Pi(Ct-j,(Rt-L)/Ze),Le=Ze*we}break;case 1:B.shape===0?we=Le=Math.max(Math.abs(j),Math.abs(j-U),Math.abs(L),Math.abs(L-ne)):B.shape===1&&(we=Math.max(Math.abs(j),Math.abs(j-U)),Le=Math.max(Math.abs(L),Math.abs(L-ne)));break;case 3:if(B.shape===0)we=Le=Math.max(Pi(j,L),Pi(j,L-ne),Pi(j-U,L),Pi(j-U,L-ne));else if(B.shape===1){var Ze=Math.max(Math.abs(L),Math.abs(L-ne))/Math.max(Math.abs(j),Math.abs(j-U)),Wt=hl(U,ne,j,L,!1),Ct=Wt[0],Rt=Wt[1];we=Pi(Ct-j,(Rt-L)/Ze),Le=Ze*we}break}return Array.isArray(B.size)&&(we=vn(B.size[0],U),Le=B.size.length===2?vn(B.size[1],ne):we),[we,Le]},Ll=function(B,j){var L=_r(180),U=[];return Or(j).forEach(function(ne,we){if(we===0){var Le=ne[0];if(Le.type===20&&Le.value==="to"){L=mn(ne);return}else if(Qa(Le)){L=Vr.parse(B,Le);return}}var Ze=Ra(B,ne);U.push(Ze)}),{angle:L,stops:U,type:1}},Fo=function(B,j){var L=_r(180),U=[];return Or(j).forEach(function(ne,we){if(we===0){var Le=ne[0];if(Le.type===20&&["top","left","right","bottom"].indexOf(Le.value)!==-1){L=mn(ne);return}else if(Qa(Le)){L=(Vr.parse(B,Le)+_r(270))%_r(360);return}}var Ze=Ra(B,ne);U.push(Ze)}),{angle:L,stops:U,type:1}},fl=function(B,j){var L=_r(180),U=[],ne=1,we=0,Le=3,Ze=[];return Or(j).forEach(function(qe,Ct){var Rt=qe[0];if(Ct===0){if(rr(Rt)&&Rt.value==="linear"){ne=1;return}else if(rr(Rt)&&Rt.value==="radial"){ne=2;return}}if(Rt.type===18){if(Rt.name==="from"){var Wt=Na.parse(B,Rt.values[0]);U.push({stop:Xr,color:Wt})}else if(Rt.name==="to"){var Wt=Na.parse(B,Rt.values[0]);U.push({stop:rn,color:Wt})}else if(Rt.name==="color-stop"){var Ns=Rt.values.filter($r);if(Ns.length===2){var Wt=Na.parse(B,Ns[1]),jr=Ns[0];un(jr)&&U.push({stop:{type:16,number:jr.number*100,flags:jr.flags},color:Wt})}}}}),ne===1?{angle:(L+_r(180))%_r(360),stops:U,type:ne}:{size:Le,shape:we,stops:U,position:Ze,type:ne}},Yc="closest-side",ml="farthest-side",Mo="closest-corner",Uc="farthest-corner",Xc="circle",pc="ellipse",tl="cover",Lc="contain",Oo=function(B,j){var L=0,U=3,ne=[],we=[];return Or(j).forEach(function(Le,Ze){var qe=!0;if(Ze===0){var Ct=!1;qe=Le.reduce(function(Wt,Ns){if(Ct)if(rr(Ns))switch(Ns.value){case"center":return we.push(Br),Wt;case"top":case"left":return we.push(Xr),Wt;case"right":case"bottom":return we.push(rn),Wt}else(kr(Ns)||Sn(Ns))&&we.push(Ns);else if(rr(Ns))switch(Ns.value){case Xc:return L=0,!1;case pc:return L=1,!1;case"at":return Ct=!0,!1;case Yc:return U=0,!1;case tl:case ml:return U=1,!1;case Lc:case Mo:return U=2,!1;case Uc:return U=3,!1}else if(Sn(Ns)||kr(Ns))return Array.isArray(U)||(U=[]),U.push(Ns),!1;return Wt},qe)}if(qe){var Rt=Ra(B,Le);ne.push(Rt)}}),{size:U,shape:L,stops:ne,position:we,type:2}},Fl=function(B,j){var L=0,U=3,ne=[],we=[];return Or(j).forEach(function(Le,Ze){var qe=!0;if(Ze===0?qe=Le.reduce(function(Rt,Wt){if(rr(Wt))switch(Wt.value){case"center":return we.push(Br),!1;case"top":case"left":return we.push(Xr),!1;case"right":case"bottom":return we.push(rn),!1}else if(kr(Wt)||Sn(Wt))return we.push(Wt),!1;return Rt},qe):Ze===1&&(qe=Le.reduce(function(Rt,Wt){if(rr(Wt))switch(Wt.value){case Xc:return L=0,!1;case pc:return L=1,!1;case Lc:case Yc:return U=0,!1;case ml:return U=1,!1;case Mo:return U=2,!1;case tl:case Uc:return U=3,!1}else if(Sn(Wt)||kr(Wt))return Array.isArray(U)||(U=[]),U.push(Wt),!1;return Rt},qe)),qe){var Ct=Ra(B,Le);ne.push(Ct)}}),{size:U,shape:L,stops:ne,position:we,type:2}},xo=function(B){return B.type===1},gc=function(B){return B.type===2},Fc={name:"image",parse:function(B,j){if(j.type===22){var L={url:j.value,type:0};return B.cache.addImage(j.value),L}if(j.type===18){var U=Gl[j.name];if(typeof U>"u")throw new Error('Attempting to parse an unsupported image function "'+j.name+'"');return U(B,j.values)}throw new Error("Unsupported image type "+j.type)}};function ud(B){return!(B.type===20&&B.value==="none")&&(B.type!==18||!!Gl[B.name])}var Gl={"linear-gradient":Ll,"-moz-linear-gradient":Fo,"-ms-linear-gradient":Fo,"-o-linear-gradient":Fo,"-webkit-linear-gradient":Fo,"radial-gradient":Oo,"-moz-radial-gradient":Fl,"-ms-radial-gradient":Fl,"-o-radial-gradient":Fl,"-webkit-radial-gradient":Fl,"-webkit-gradient":fl},Jd={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(B,j){if(j.length===0)return[];var L=j[0];return L.type===20&&L.value==="none"?[]:j.filter(function(U){return $r(U)&&ud(U)}).map(function(U){return Fc.parse(B,U)})}},Ad={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(B,j){return j.map(function(L){if(rr(L))switch(L.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bo={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(B,j){return Or(j).map(function(L){return L.filter(kr)}).map(zn)}},Md={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(B,j){return Or(j).map(function(L){return L.filter(rr).map(function(U){return U.value}).join(" ")}).map(Io)}},Io=function(B){switch(B){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},An;(function(B){B.AUTO="auto",B.CONTAIN="contain",B.COVER="cover"})(An||(An={}));var Ml={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(B,j){return Or(j).map(function(L){return L.filter(Wl)})}},Wl=function(B){return rr(B)||kr(B)},Yl=function(B){return{name:"border-"+B+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Mc=Yl("top"),Ol=Yl("right"),Gi=Yl("bottom"),Xl=Yl("left"),hd=function(B){return{name:"border-radius-"+B,initialValue:"0 0",prefix:!1,type:1,parse:function(j,L){return zn(L.filter(kr))}}},Wi=hd("top-left"),Jc=hd("top-right"),Do=hd("bottom-right"),fd=hd("bottom-left"),Jl=function(B){return{name:"border-"+B+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(j,L){switch(L){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},vo=Jl("top"),to=Jl("right"),Zl=Jl("bottom"),pl=Jl("left"),sl=function(B){return{name:"border-"+B+"-width",initialValue:"0",type:0,prefix:!1,parse:function(j,L){return or(L)?L.number:0}}},gl=sl("top"),gu=sl("right"),Il=sl("bottom"),xu=sl("left"),md={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Qi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(B,j){switch(j){case"rtl":return 1;case"ltr":default:return 0}}},_a={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(B,j){return j.filter(rr).reduce(function(L,U){return L|lr(U.value)},0)}},lr=function(B){switch(B){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Oc={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(B,j){switch(j){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},xl={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(B,j){return j.type===20&&j.value==="normal"?0:j.type===17||j.type===15?j.number:0}},pd;(function(B){B.NORMAL="normal",B.STRICT="strict"})(pd||(pd={}));var Ro={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(B,j){switch(j){case"strict":return pd.STRICT;case"normal":default:return pd.NORMAL}}},Ic={name:"line-height",initialValue:"normal",prefix:!1,type:4},bu=function(B,j){return rr(B)&&B.value==="normal"?1.2*j:B.type===17?j*B.number:kr(B)?vn(B,j):j},gd={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(B,j){return j.type===20&&j.value==="none"?null:Fc.parse(B,j)}},Yi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(B,j){switch(j){case"inside":return 0;case"outside":default:return 1}}},Zc={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(B,j){switch(j){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},bl=function(B){return{name:"margin-"+B,initialValue:"0",prefix:!1,type:4}},Zd=bl("top"),rl=bl("right"),xc=bl("bottom"),Po=bl("left"),nl={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(B,j){return j.filter(rr).map(function(L){switch(L.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},xd={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(B,j){switch(j){case"break-word":return"break-word";case"normal":default:return"normal"}}},vl=function(B){return{name:"padding-"+B,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},bc=vl("top"),qc=vl("right"),al=vl("bottom"),si=vl("left"),bd={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(B,j){switch(j){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},vu={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(B,j){switch(j){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Fu={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(B,j){return j.length===1&&tn(j[0],"none")?[]:Or(j).map(function(L){for(var U={color:pi.TRANSPARENT,offsetX:Xr,offsetY:Xr,blur:Xr},ne=0,we=0;we<L.length;we++){var Le=L[we];Sn(Le)?(ne===0?U.offsetX=Le:ne===1?U.offsetY=Le:U.blur=Le,ne++):U.color=Na.parse(B,Le)}return U})}},ed={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(B,j){switch(j){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},td={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(B,j){if(j.type===20&&j.value==="none")return null;if(j.type===18){var L=vd[j.name];if(typeof L>"u")throw new Error('Attempting to parse an unsupported transform function "'+j.name+'"');return L(j.values)}return null}},xi=function(B){var j=B.filter(function(L){return L.type===17}).map(function(L){return L.number});return j.length===6?j:null},sd=function(B){var j=B.filter(function(qe){return qe.type===17}).map(function(qe){return qe.number}),L=j[0],U=j[1];j[2],j[3];var ne=j[4],we=j[5];j[6],j[7],j[8],j[9],j[10],j[11];var Le=j[12],Ze=j[13];return j[14],j[15],j.length===16?[L,U,ne,we,Le,Ze]:null},vd={matrix:xi,matrix3d:sd},Z={type:16,number:50,flags:qn},Te=[Z,Z],nt={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(B,j){var L=j.filter(kr);return L.length!==2?Te:[L[0],L[1]]}},mt={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(B,j){switch(j){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},_t;(function(B){B.NORMAL="normal",B.BREAK_ALL="break-all",B.KEEP_ALL="keep-all"})(_t||(_t={}));for(var ks={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(B,j){switch(j){case"break-all":return _t.BREAK_ALL;case"keep-all":return _t.KEEP_ALL;case"normal":default:return _t.NORMAL}}},Ds={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(B,j){if(j.type===20)return{auto:!0,order:0};if(un(j))return{auto:!1,order:j.number};throw new Error("Invalid z-index number parsed")}},Sr={name:"time",parse:function(B,j){if(j.type===15)switch(j.unit.toLowerCase()){case"s":return 1e3*j.number;case"ms":return j.number}throw new Error("Unsupported time type")}},Er={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(B,j){return un(j)?j.number:1}},pn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Nn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(B,j){return j.filter(rr).map(function(L){switch(L.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(L){return L!==0})}},ra={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(B,j){var L=[],U=[];return j.forEach(function(ne){switch(ne.type){case 20:case 0:L.push(ne.value);break;case 17:L.push(ne.number.toString());break;case 4:U.push(L.join(" ")),L.length=0;break}}),L.length&&U.push(L.join(" ")),U.map(function(ne){return ne.indexOf(" ")===-1?ne:"'"+ne+"'"})}},La={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},bi={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(B,j){if(un(j))return j.number;if(rr(j))switch(j.value){case"bold":return 700;case"normal":default:return 400}return 400}},Ba={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(B,j){return j.filter(rr).map(function(L){return L.value})}},Ei={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(B,j){switch(j){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},C=function(B,j){return(B&j)!==0},Be={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(B,j){if(j.length===0)return[];var L=j[0];return L.type===20&&L.value==="none"?[]:j}},H={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(B,j){if(j.length===0)return null;var L=j[0];if(L.type===20&&L.value==="none")return null;for(var U=[],ne=j.filter(vr),we=0;we<ne.length;we++){var Le=ne[we],Ze=ne[we+1];if(Le.type===20){var qe=Ze&&un(Ze)?Ze.number:1;U.push({counter:Le.value,increment:qe})}}return U}},Pe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(B,j){if(j.length===0)return[];for(var L=[],U=j.filter(vr),ne=0;ne<U.length;ne++){var we=U[ne],Le=U[ne+1];if(rr(we)&&we.value!=="none"){var Ze=Le&&un(Le)?Le.number:0;L.push({counter:we.value,reset:Ze})}}return L}},lt={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(B,j){return j.filter(or).map(function(L){return Sr.parse(B,L)})}},at={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(B,j){if(j.length===0)return null;var L=j[0];if(L.type===20&&L.value==="none")return null;var U=[],ne=j.filter(_s);if(ne.length%2!==0)return null;for(var we=0;we<ne.length;we+=2){var Le=ne[we].value,Ze=ne[we+1].value;U.push({open:Le,close:Ze})}return U}},Jt=function(B,j,L){if(!B)return"";var U=B[Math.min(j,B.length-1)];return U?L?U.open:U.close:""},Ut={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(B,j){return j.length===1&&tn(j[0],"none")?[]:Or(j).map(function(L){for(var U={color:255,offsetX:Xr,offsetY:Xr,blur:Xr,spread:Xr,inset:!1},ne=0,we=0;we<L.length;we++){var Le=L[we];tn(Le,"inset")?U.inset=!0:Sn(Le)?(ne===0?U.offsetX=Le:ne===1?U.offsetY=Le:ne===2?U.blur=Le:U.spread=Le,ne++):U.color=Na.parse(B,Le)}return U})}},pr={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(B,j){var L=[0,1,2],U=[];return j.filter(rr).forEach(function(ne){switch(ne.value){case"stroke":U.push(1);break;case"fill":U.push(0);break;case"markers":U.push(2);break}}),L.forEach(function(ne){U.indexOf(ne)===-1&&U.push(ne)}),U}},Nt={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Zt={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(B,j){return or(j)?j.number:0}},gn=(function(){function B(j,L){var U,ne;this.animationDuration=xs(j,lt,L.animationDuration),this.backgroundClip=xs(j,el,L.backgroundClip),this.backgroundColor=xs(j,Lo,L.backgroundColor),this.backgroundImage=xs(j,Jd,L.backgroundImage),this.backgroundOrigin=xs(j,Ad,L.backgroundOrigin),this.backgroundPosition=xs(j,bo,L.backgroundPosition),this.backgroundRepeat=xs(j,Md,L.backgroundRepeat),this.backgroundSize=xs(j,Ml,L.backgroundSize),this.borderTopColor=xs(j,Mc,L.borderTopColor),this.borderRightColor=xs(j,Ol,L.borderRightColor),this.borderBottomColor=xs(j,Gi,L.borderBottomColor),this.borderLeftColor=xs(j,Xl,L.borderLeftColor),this.borderTopLeftRadius=xs(j,Wi,L.borderTopLeftRadius),this.borderTopRightRadius=xs(j,Jc,L.borderTopRightRadius),this.borderBottomRightRadius=xs(j,Do,L.borderBottomRightRadius),this.borderBottomLeftRadius=xs(j,fd,L.borderBottomLeftRadius),this.borderTopStyle=xs(j,vo,L.borderTopStyle),this.borderRightStyle=xs(j,to,L.borderRightStyle),this.borderBottomStyle=xs(j,Zl,L.borderBottomStyle),this.borderLeftStyle=xs(j,pl,L.borderLeftStyle),this.borderTopWidth=xs(j,gl,L.borderTopWidth),this.borderRightWidth=xs(j,gu,L.borderRightWidth),this.borderBottomWidth=xs(j,Il,L.borderBottomWidth),this.borderLeftWidth=xs(j,xu,L.borderLeftWidth),this.boxShadow=xs(j,Ut,L.boxShadow),this.color=xs(j,md,L.color),this.direction=xs(j,Qi,L.direction),this.display=xs(j,_a,L.display),this.float=xs(j,Oc,L.cssFloat),this.fontFamily=xs(j,ra,L.fontFamily),this.fontSize=xs(j,La,L.fontSize),this.fontStyle=xs(j,Ei,L.fontStyle),this.fontVariant=xs(j,Ba,L.fontVariant),this.fontWeight=xs(j,bi,L.fontWeight),this.letterSpacing=xs(j,xl,L.letterSpacing),this.lineBreak=xs(j,Ro,L.lineBreak),this.lineHeight=xs(j,Ic,L.lineHeight),this.listStyleImage=xs(j,gd,L.listStyleImage),this.listStylePosition=xs(j,Yi,L.listStylePosition),this.listStyleType=xs(j,Zc,L.listStyleType),this.marginTop=xs(j,Zd,L.marginTop),this.marginRight=xs(j,rl,L.marginRight),this.marginBottom=xs(j,xc,L.marginBottom),this.marginLeft=xs(j,Po,L.marginLeft),this.opacity=xs(j,Er,L.opacity);var we=xs(j,nl,L.overflow);this.overflowX=we[0],this.overflowY=we[we.length>1?1:0],this.overflowWrap=xs(j,xd,L.overflowWrap),this.paddingTop=xs(j,bc,L.paddingTop),this.paddingRight=xs(j,qc,L.paddingRight),this.paddingBottom=xs(j,al,L.paddingBottom),this.paddingLeft=xs(j,si,L.paddingLeft),this.paintOrder=xs(j,pr,L.paintOrder),this.position=xs(j,vu,L.position),this.textAlign=xs(j,bd,L.textAlign),this.textDecorationColor=xs(j,pn,(U=L.textDecorationColor)!==null&&U!==void 0?U:L.color),this.textDecorationLine=xs(j,Nn,(ne=L.textDecorationLine)!==null&&ne!==void 0?ne:L.textDecoration),this.textShadow=xs(j,Fu,L.textShadow),this.textTransform=xs(j,ed,L.textTransform),this.transform=xs(j,td,L.transform),this.transformOrigin=xs(j,nt,L.transformOrigin),this.visibility=xs(j,mt,L.visibility),this.webkitTextStrokeColor=xs(j,Nt,L.webkitTextStrokeColor),this.webkitTextStrokeWidth=xs(j,Zt,L.webkitTextStrokeWidth),this.wordBreak=xs(j,ks,L.wordBreak),this.zIndex=xs(j,Ds,L.zIndex)}return B.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},B.prototype.isTransparent=function(){return jn(this.backgroundColor)},B.prototype.isTransformed=function(){return this.transform!==null},B.prototype.isPositioned=function(){return this.position!==0},B.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},B.prototype.isFloating=function(){return this.float!==0},B.prototype.isInlineLevel=function(){return C(this.display,4)||C(this.display,33554432)||C(this.display,268435456)||C(this.display,536870912)||C(this.display,67108864)||C(this.display,134217728)},B})(),nr=(function(){function B(j,L){this.content=xs(j,Be,L.content),this.quotes=xs(j,at,L.quotes)}return B})(),Ps=(function(){function B(j,L){this.counterIncrement=xs(j,H,L.counterIncrement),this.counterReset=xs(j,Pe,L.counterReset)}return B})(),xs=function(B,j,L){var U=new Yr,ne=L!==null&&typeof L<"u"?L.toString():j.initialValue;U.write(ne);var we=new et(U.read());switch(j.type){case 2:var Le=we.parseComponentValue();return j.parse(B,rr(Le)?Le.value:j.initialValue);case 0:return j.parse(B,we.parseComponentValue());case 1:return j.parse(B,we.parseComponentValues());case 4:return we.parseComponentValue();case 3:switch(j.format){case"angle":return Vr.parse(B,we.parseComponentValue());case"color":return Na.parse(B,we.parseComponentValue());case"image":return Fc.parse(B,we.parseComponentValue());case"length":var Ze=we.parseComponentValue();return Sn(Ze)?Ze:Xr;case"length-percentage":var qe=we.parseComponentValue();return kr(qe)?qe:Xr;case"time":return Sr.parse(B,we.parseComponentValue())}break}},Fa="data-html2canvas-debug",hn=function(B){var j=B.getAttribute(Fa);switch(j){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Kr=function(B,j){var L=hn(B);return L===1||j===L},cn=(function(){function B(j,L){if(this.context=j,this.textNodes=[],this.elements=[],this.flags=0,Kr(L,3))debugger;this.styles=new gn(j,window.getComputedStyle(L,null)),tu(L)&&(this.styles.animationDuration.some(function(U){return U>0})&&(L.style.animationDuration="0s"),this.styles.transform!==null&&(L.style.transform="none")),this.bounds=o(this.context,L),Kr(L,4)&&(this.flags|=16)}return B})(),Tn="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",tr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Un=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ma=0;Ma<tr.length;Ma++)Un[tr.charCodeAt(Ma)]=Ma;for(var Hr=function(B){var j=B.length*.75,L=B.length,U,ne=0,we,Le,Ze,qe;B[B.length-1]==="="&&(j--,B[B.length-2]==="="&&j--);var Ct=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(j):new Array(j),Rt=Array.isArray(Ct)?Ct:new Uint8Array(Ct);for(U=0;U<L;U+=4)we=Un[B.charCodeAt(U)],Le=Un[B.charCodeAt(U+1)],Ze=Un[B.charCodeAt(U+2)],qe=Un[B.charCodeAt(U+3)],Rt[ne++]=we<<2|Le>>4,Rt[ne++]=(Le&15)<<4|Ze>>2,Rt[ne++]=(Ze&3)<<6|qe&63;return Ct},na=function(B){for(var j=B.length,L=[],U=0;U<j;U+=2)L.push(B[U+1]<<8|B[U]);return L},Pn=function(B){for(var j=B.length,L=[],U=0;U<j;U+=4)L.push(B[U+3]<<24|B[U+2]<<16|B[U+1]<<8|B[U]);return L},Tr=5,on=11,yo=2,ql=on-Tr,yl=65536>>Tr,Xi=1<<Tr,wo=Xi-1,Ya=1024>>Tr,Mu=yl+Ya,rd=Mu,il=32,ol=rd+il,vi=65536>>on,qd=1<<ql,vc=qd-1,yn=function(B,j,L){return B.slice?B.slice(j,L):new Uint16Array(Array.prototype.slice.call(B,j,L))},pa=function(B,j,L){return B.slice?B.slice(j,L):new Uint32Array(Array.prototype.slice.call(B,j,L))},ri=function(B,j){var L=Hr(B),U=Array.isArray(L)?Pn(L):new Uint32Array(L),ne=Array.isArray(L)?na(L):new Uint16Array(L),we=24,Le=yn(ne,we/2,U[4]/2),Ze=U[5]===2?yn(ne,(we+U[4])/2):pa(U,Math.ceil((we+U[4])/4));return new yd(U[0],U[1],U[2],U[3],Le,Ze)},yd=(function(){function B(j,L,U,ne,we,Le){this.initialValue=j,this.errorValue=L,this.highStart=U,this.highValueIndex=ne,this.index=we,this.data=Le}return B.prototype.get=function(j){var L;if(j>=0){if(j<55296||j>56319&&j<=65535)return L=this.index[j>>Tr],L=(L<<yo)+(j&wo),this.data[L];if(j<=65535)return L=this.index[yl+(j-55296>>Tr)],L=(L<<yo)+(j&wo),this.data[L];if(j<this.highStart)return L=ol-vi+(j>>on),L=this.index[L],L+=j>>Tr&vc,L=this.index[L],L=(L<<yo)+(j&wo),this.data[L];if(j<=1114111)return this.data[this.highValueIndex]}return this.errorValue},B})(),ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yc=typeof Uint8Array>"u"?[]:new Uint8Array(256),Qo=0;Qo<ec.length;Qo++)yc[ec.charCodeAt(Qo)]=Qo;var tc=1,aa=2,Ha=3,Qn=4,Ji=5,nd=7,yu=8,Od=9,Ou=10,lA=11,cA=12,dA=13,ll=14,Ti=15,uA=function(B){for(var j=[],L=0,U=B.length;L<U;){var ne=B.charCodeAt(L++);if(ne>=55296&&ne<=56319&&L<U){var we=B.charCodeAt(L++);(we&64512)===56320?j.push(((ne&1023)<<10)+(we&1023)+65536):(j.push(ne),L--)}else j.push(ne)}return j},Id=function(){for(var B=[],j=0;j<arguments.length;j++)B[j]=arguments[j];if(String.fromCodePoint)return String.fromCodePoint.apply(String,B);var L=B.length;if(!L)return"";for(var U=[],ne=-1,we="";++ne<L;){var Le=B[ne];Le<=65535?U.push(Le):(Le-=65536,U.push((Le>>10)+55296,Le%1024+56320)),(ne+1===L||U.length>16384)&&(we+=String.fromCharCode.apply(String,U),U.length=0)}return we},AA=ri(Tn),Dl="",Dc="",hA=function(B){return AA.get(B)},zA=function(B,j,L){var U=L-2,ne=j[U],we=j[L-1],Le=j[L];if(we===aa&&Le===Ha)return Dl;if(we===aa||we===Ha||we===Qn||Le===aa||Le===Ha||Le===Qn)return Dc;if(we===yu&&[yu,Od,lA,cA].indexOf(Le)!==-1||(we===lA||we===Od)&&(Le===Od||Le===Ou)||(we===cA||we===Ou)&&Le===Ou||Le===dA||Le===Ji||Le===nd||we===tc)return Dl;if(we===dA&&Le===ll){for(;ne===Ji;)ne=j[--U];if(ne===ll)return Dl}if(we===Ti&&Le===Ti){for(var Ze=0;ne===Ti;)Ze++,ne=j[--U];if(Ze%2===0)return Dl}return Dc},$A=function(B){var j=uA(B),L=j.length,U=0,ne=0,we=j.map(hA);return{next:function(){if(U>=L)return{done:!0,value:null};for(var Le=Dl;U<L&&(Le=zA(j,we,++U))===Dl;);if(Le!==Dl||U===L){var Ze=Id.apply(null,j.slice(ne,U));return ne=U,{value:Ze,done:!1}}return{done:!0,value:null}}}},zh=function(B){for(var j=$A(B),L=[],U;!(U=j.next()).done;)U.value&&L.push(U.value.slice());return L},$h=function(B){var j=123;if(B.createRange){var L=B.createRange();if(L.getBoundingClientRect){var U=B.createElement("boundtest");U.style.height=j+"px",U.style.display="block",B.body.appendChild(U),L.selectNode(U);var ne=L.getBoundingClientRect(),we=Math.round(ne.height);if(B.body.removeChild(U),we===j)return!0}}return!1},VA=function(B){var j=B.createElement("boundtest");j.style.width="50px",j.style.display="block",j.style.fontSize="12px",j.style.letterSpacing="0px",j.style.wordSpacing="0px",B.body.appendChild(j);var L=B.createRange();j.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var U=j.firstChild,ne=m(U.data).map(function(qe){return p(qe)}),we=0,Le={},Ze=ne.every(function(qe,Ct){L.setStart(U,we),L.setEnd(U,we+qe.length);var Rt=L.getBoundingClientRect();we+=qe.length;var Wt=Rt.x>Le.x||Rt.y>Le.y;return Le=Rt,Ct===0?!0:Wt});return B.body.removeChild(j),Ze},fA=function(){return typeof new Image().crossOrigin<"u"},sc=function(){return typeof new XMLHttpRequest().responseType=="string"},wc=function(B){var j=new Image,L=B.createElement("canvas"),U=L.getContext("2d");if(!U)return!1;j.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{U.drawImage(j,0,0),L.toDataURL()}catch{return!1}return!0},wu=function(B){return B[0]===0&&B[1]===255&&B[2]===0&&B[3]===255},mA=function(B){var j=B.createElement("canvas"),L=100;j.width=L,j.height=L;var U=j.getContext("2d");if(!U)return Promise.reject(!1);U.fillStyle="rgb(0, 255, 0)",U.fillRect(0,0,L,L);var ne=new Image,we=j.toDataURL();ne.src=we;var Le=KA(L,L,0,0,ne);return U.fillStyle="red",U.fillRect(0,0,L,L),Iu(Le).then(function(Ze){U.drawImage(Ze,0,0);var qe=U.getImageData(0,0,L,L).data;U.fillStyle="red",U.fillRect(0,0,L,L);var Ct=B.createElement("div");return Ct.style.backgroundImage="url("+we+")",Ct.style.height=L+"px",wu(qe)?Iu(KA(L,L,0,0,Ct)):Promise.reject(!1)}).then(function(Ze){return U.drawImage(Ze,0,0),wu(U.getImageData(0,0,L,L).data)}).catch(function(){return!1})},KA=function(B,j,L,U,ne){var we="http://www.w3.org/2000/svg",Le=document.createElementNS(we,"svg"),Ze=document.createElementNS(we,"foreignObject");return Le.setAttributeNS(null,"width",B.toString()),Le.setAttributeNS(null,"height",j.toString()),Ze.setAttributeNS(null,"width","100%"),Ze.setAttributeNS(null,"height","100%"),Ze.setAttributeNS(null,"x",L.toString()),Ze.setAttributeNS(null,"y",U.toString()),Ze.setAttributeNS(null,"externalResourcesRequired","true"),Le.appendChild(Ze),Ze.appendChild(ne),Le},Iu=function(B){return new Promise(function(j,L){var U=new Image;U.onload=function(){return j(U)},U.onerror=L,U.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(B))})},so={get SUPPORT_RANGE_BOUNDS(){var B=$h(document);return Object.defineProperty(so,"SUPPORT_RANGE_BOUNDS",{value:B}),B},get SUPPORT_WORD_BREAKING(){var B=so.SUPPORT_RANGE_BOUNDS&&VA(document);return Object.defineProperty(so,"SUPPORT_WORD_BREAKING",{value:B}),B},get SUPPORT_SVG_DRAWING(){var B=wc(document);return Object.defineProperty(so,"SUPPORT_SVG_DRAWING",{value:B}),B},get SUPPORT_FOREIGNOBJECT_DRAWING(){var B=typeof Array.from=="function"&&typeof window.fetch=="function"?mA(document):Promise.resolve(!1);return Object.defineProperty(so,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:B}),B},get SUPPORT_CORS_IMAGES(){var B=fA();return Object.defineProperty(so,"SUPPORT_CORS_IMAGES",{value:B}),B},get SUPPORT_RESPONSE_TYPE(){var B=sc();return Object.defineProperty(so,"SUPPORT_RESPONSE_TYPE",{value:B}),B},get SUPPORT_CORS_XHR(){var B="withCredentials"in new XMLHttpRequest;return Object.defineProperty(so,"SUPPORT_CORS_XHR",{value:B}),B},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var B=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(so,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:B}),B}},eu=(function(){function B(j,L){this.text=j,this.bounds=L}return B})(),GA=function(B,j,L,U){var ne=Ef(j,L),we=[],Le=0;return ne.forEach(function(Ze){if(L.textDecorationLine.length||Ze.trim().length>0)if(so.SUPPORT_RANGE_BOUNDS){var qe=pA(U,Le,Ze.length).getClientRects();if(qe.length>1){var Ct=ju(Ze),Rt=0;Ct.forEach(function(Ns){we.push(new eu(Ns,A.fromDOMRectList(B,pA(U,Rt+Le,Ns.length).getClientRects()))),Rt+=Ns.length})}else we.push(new eu(Ze,A.fromDOMRectList(B,qe)))}else{var Wt=U.splitText(Ze.length);we.push(new eu(Ze,WA(B,U))),U=Wt}else so.SUPPORT_RANGE_BOUNDS||(U=U.splitText(Ze.length));Le+=Ze.length}),we},WA=function(B,j){var L=j.ownerDocument;if(L){var U=L.createElement("html2canvaswrapper");U.appendChild(j.cloneNode(!0));var ne=j.parentNode;if(ne){ne.replaceChild(U,j);var we=o(B,U);return U.firstChild&&ne.replaceChild(U.firstChild,U),we}}return A.EMPTY},pA=function(B,j,L){var U=B.ownerDocument;if(!U)throw new Error("Node has no owner document");var ne=U.createRange();return ne.setStart(B,j),ne.setEnd(B,j+L),ne},ju=function(B){if(so.SUPPORT_NATIVE_TEXT_SEGMENTATION){var j=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(j.segment(B)).map(function(L){return L.segment})}return zh(B)},YA=function(B,j){if(so.SUPPORT_NATIVE_TEXT_SEGMENTATION){var L=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(L.segment(B)).map(function(U){return U.segment})}return Vh(B,j)},Ef=function(B,j){return j.letterSpacing!==0?ju(B):YA(B,j)},N0=[32,160,4961,65792,65793,4153,4241],Vh=function(B,j){for(var L=Ni(B,{lineBreak:j.lineBreak,wordBreak:j.overflowWrap==="break-word"?"break-word":j.wordBreak}),U=[],ne,we=function(){if(ne.value){var Le=ne.value.slice(),Ze=m(Le),qe="";Ze.forEach(function(Ct){N0.indexOf(Ct)===-1?qe+=p(Ct):(qe.length&&U.push(qe),U.push(p(Ct)),qe="")}),qe.length&&U.push(qe)}};!(ne=L.next()).done;)we();return U},Du=(function(){function B(j,L,U){this.text=Tf(L.data,U.textTransform),this.textBounds=GA(j,this.text,U,L)}return B})(),Tf=function(B,j){switch(j){case 1:return B.toLowerCase();case 3:return B.replace(XA,JA);case 2:return B.toUpperCase();default:return B}},XA=/(^|\s|:|-|\(|\))([a-z])/g,JA=function(B,j,L){return B.length>0?j+L.toUpperCase():B},Kh=(function(B){n(j,B);function j(L,U){var ne=B.call(this,L,U)||this;return ne.src=U.currentSrc||U.src,ne.intrinsicWidth=U.naturalWidth,ne.intrinsicHeight=U.naturalHeight,ne.context.cache.addImage(ne.src),ne}return j})(cn),Ru=(function(B){n(j,B);function j(L,U){var ne=B.call(this,L,U)||this;return ne.canvas=U,ne.intrinsicWidth=U.width,ne.intrinsicHeight=U.height,ne}return j})(cn),ZA=(function(B){n(j,B);function j(L,U){var ne=B.call(this,L,U)||this,we=new XMLSerializer,Le=o(L,U);return U.setAttribute("width",Le.width+"px"),U.setAttribute("height",Le.height+"px"),ne.svg="data:image/svg+xml,"+encodeURIComponent(we.serializeToString(U)),ne.intrinsicWidth=U.width.baseVal.value,ne.intrinsicHeight=U.height.baseVal.value,ne.context.cache.addImage(ne.svg),ne}return j})(cn),Nu=(function(B){n(j,B);function j(L,U){var ne=B.call(this,L,U)||this;return ne.value=U.value,ne}return j})(cn),qA=(function(B){n(j,B);function j(L,U){var ne=B.call(this,L,U)||this;return ne.start=U.start,ne.reversed=typeof U.reversed=="boolean"&&U.reversed===!0,ne}return j})(cn),Uf=[{type:15,flags:0,unit:"px",number:3}],Gh=[{type:16,flags:0,number:50}],Lf=function(B){return B.width>B.height?new A(B.left+(B.width-B.height)/2,B.top,B.height,B.height):B.width<B.height?new A(B.left,B.top+(B.height-B.width)/2,B.width,B.width):B},Wh=function(B){var j=B.type===wd?new Array(B.value.length+1).join(""):B.value;return j.length===0?B.placeholder||"":j},gA="checkbox",xA="radio",wd="password",jc=707406591,Rc=(function(B){n(j,B);function j(L,U){var ne=B.call(this,L,U)||this;switch(ne.type=U.type.toLowerCase(),ne.checked=U.checked,ne.value=Wh(U),(ne.type===gA||ne.type===xA)&&(ne.styles.backgroundColor=3739148031,ne.styles.borderTopColor=ne.styles.borderRightColor=ne.styles.borderBottomColor=ne.styles.borderLeftColor=2779096575,ne.styles.borderTopWidth=ne.styles.borderRightWidth=ne.styles.borderBottomWidth=ne.styles.borderLeftWidth=1,ne.styles.borderTopStyle=ne.styles.borderRightStyle=ne.styles.borderBottomStyle=ne.styles.borderLeftStyle=1,ne.styles.backgroundClip=[0],ne.styles.backgroundOrigin=[0],ne.bounds=Lf(ne.bounds)),ne.type){case gA:ne.styles.borderTopRightRadius=ne.styles.borderTopLeftRadius=ne.styles.borderBottomRightRadius=ne.styles.borderBottomLeftRadius=Uf;break;case xA:ne.styles.borderTopRightRadius=ne.styles.borderTopLeftRadius=ne.styles.borderBottomRightRadius=ne.styles.borderBottomLeftRadius=Gh;break}return ne}return j})(cn),Ff=(function(B){n(j,B);function j(L,U){var ne=B.call(this,L,U)||this,we=U.options[U.selectedIndex||0];return ne.value=we&&we.text||"",ne}return j})(cn),bA=(function(B){n(j,B);function j(L,U){var ne=B.call(this,L,U)||this;return ne.value=U.value,ne}return j})(cn),jd=(function(B){n(j,B);function j(L,U){var ne=B.call(this,L,U)||this;ne.src=U.src,ne.width=parseInt(U.width,10)||0,ne.height=parseInt(U.height,10)||0,ne.backgroundColor=ne.styles.backgroundColor;try{if(U.contentWindow&&U.contentWindow.document&&U.contentWindow.document.documentElement){ne.tree=eh(L,U.contentWindow.document.documentElement);var we=U.contentWindow.document.documentElement?li(L,getComputedStyle(U.contentWindow.document.documentElement).backgroundColor):pi.TRANSPARENT,Le=U.contentWindow.document.body?li(L,getComputedStyle(U.contentWindow.document.body).backgroundColor):pi.TRANSPARENT;ne.backgroundColor=jn(we)?jn(Le)?ne.styles.backgroundColor:Le:we}}catch{}return ne}return j})(cn),Nc=["OL","UL","MENU"],Pu=function(B,j,L,U){for(var ne=j.firstChild,we=void 0;ne;ne=we)if(we=ne.nextSibling,th(ne)&&ne.data.trim().length>0)L.textNodes.push(new Du(B,ne,L.styles));else if(Nd(ne))if(_u(ne)&&ne.assignedNodes)ne.assignedNodes().forEach(function(Ze){return Pu(B,Ze,L,U)});else{var Le=Yh(B,ne);Le.styles.isVisible()&&(Mf(ne,Le,U)?Le.flags|=4:Of(Le.styles)&&(Le.flags|=2),Nc.indexOf(ne.tagName)!==-1&&(Le.flags|=8),L.elements.push(Le),ne.slot,ne.shadowRoot?Pu(B,ne.shadowRoot,Le,U):!wA(ne)&&!rh(ne)&&!jA(ne)&&Pu(B,ne,Le,U))}},Yh=function(B,j){return oh(j)?new Kh(B,j):ah(j)?new Ru(B,j):rh(j)?new ZA(B,j):Qu(j)?new Nu(B,j):sh(j)?new qA(B,j):vA(j)?new Rc(B,j):jA(j)?new Ff(B,j):wA(j)?new bA(B,j):Jh(j)?new jd(B,j):new cn(B,j)},eh=function(B,j){var L=Yh(B,j);return L.flags|=4,Pu(B,j,L,L),L},Mf=function(B,j,L){return j.styles.isPositionedWithZIndex()||j.styles.opacity<1||j.styles.isTransformed()||nh(B)&&L.styles.isTransparent()},Of=function(B){return B.isPositioned()||B.isFloating()},th=function(B){return B.nodeType===Node.TEXT_NODE},Nd=function(B){return B.nodeType===Node.ELEMENT_NODE},tu=function(B){return Nd(B)&&typeof B.style<"u"&&!Cd(B)},Cd=function(B){return typeof B.className=="object"},Qu=function(B){return B.tagName==="LI"},sh=function(B){return B.tagName==="OL"},vA=function(B){return B.tagName==="INPUT"},Xh=function(B){return B.tagName==="HTML"},rh=function(B){return B.tagName==="svg"},nh=function(B){return B.tagName==="BODY"},ah=function(B){return B.tagName==="CANVAS"},ih=function(B){return B.tagName==="VIDEO"},oh=function(B){return B.tagName==="IMG"},Jh=function(B){return B.tagName==="IFRAME"},Dd=function(B){return B.tagName==="STYLE"},yA=function(B){return B.tagName==="SCRIPT"},wA=function(B){return B.tagName==="TEXTAREA"},jA=function(B){return B.tagName==="SELECT"},_u=function(B){return B.tagName==="SLOT"},k=function(B){return B.tagName.indexOf("-")>0},D=(function(){function B(){this.counters={}}return B.prototype.getCounterValue=function(j){var L=this.counters[j];return L&&L.length?L[L.length-1]:1},B.prototype.getCounterValues=function(j){var L=this.counters[j];return L||[]},B.prototype.pop=function(j){var L=this;j.forEach(function(U){return L.counters[U].pop()})},B.prototype.parse=function(j){var L=this,U=j.counterIncrement,ne=j.counterReset,we=!0;U!==null&&U.forEach(function(Ze){var qe=L.counters[Ze.counter];qe&&Ze.increment!==0&&(we=!1,qe.length||qe.push(1),qe[Math.max(0,qe.length-1)]+=Ze.increment)});var Le=[];return we&&ne.forEach(function(Ze){var qe=L.counters[Ze.counter];Le.push(Ze.counter),qe||(qe=L.counters[Ze.counter]=[]),qe.push(Ze.reset)}),Le},B})(),re={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},me={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ue={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ie={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Oe=function(B,j,L,U,ne,we){return B<j||B>L?Hs(B,ne,we.length>0):U.integers.reduce(function(Le,Ze,qe){for(;B>=Ze;)B-=Ze,Le+=U.values[qe];return Le},"")+we},_e=function(B,j,L,U){var ne="";do L||B--,ne=U(B)+ne,B/=j;while(B*j>=j);return ne},Ve=function(B,j,L,U,ne){var we=L-j+1;return(B<0?"-":"")+(_e(Math.abs(B),we,U,function(Le){return p(Math.floor(Le%we)+j)})+ne)},rt=function(B,j,L){L===void 0&&(L=". ");var U=j.length;return _e(Math.abs(B),U,!1,function(ne){return j[Math.floor(ne%U)]})+L},Bt=1,Yt=2,tt=4,Ft=8,Ht=function(B,j,L,U,ne,we){if(B<-9999||B>9999)return Hs(B,4,ne.length>0);var Le=Math.abs(B),Ze=ne;if(Le===0)return j[0]+Ze;for(var qe=0;Le>0&&qe<=4;qe++){var Ct=Le%10;Ct===0&&C(we,Bt)&&Ze!==""?Ze=j[Ct]+Ze:Ct>1||Ct===1&&qe===0||Ct===1&&qe===1&&C(we,Yt)||Ct===1&&qe===1&&C(we,tt)&&B>100||Ct===1&&qe>1&&C(we,Ft)?Ze=j[Ct]+(qe>0?L[qe-1]:"")+Ze:Ct===1&&qe>0&&(Ze=L[qe-1]+Ze),Le=Math.floor(Le/10)}return(B<0?U:"")+Ze},ws="",qt="",js="",Bs="",Hs=function(B,j,L){var U=L?". ":"",ne=L?"":"",we=L?", ":"",Le=L?" ":"";switch(j){case 0:return""+Le;case 1:return""+Le;case 2:return""+Le;case 5:var Ze=Ve(B,48,57,!0,U);return Ze.length<4?"0"+Ze:Ze;case 4:return rt(B,"",ne);case 6:return Oe(B,1,3999,re,3,U).toLowerCase();case 7:return Oe(B,1,3999,re,3,U);case 8:return Ve(B,945,969,!1,U);case 9:return Ve(B,97,122,!1,U);case 10:return Ve(B,65,90,!1,U);case 11:return Ve(B,1632,1641,!0,U);case 12:case 49:return Oe(B,1,9999,me,3,U);case 35:return Oe(B,1,9999,me,3,U).toLowerCase();case 13:return Ve(B,2534,2543,!0,U);case 14:case 30:return Ve(B,6112,6121,!0,U);case 15:return rt(B,"",ne);case 16:return rt(B,"",ne);case 17:case 48:return Ht(B,"",ws,"",ne,Yt|tt|Ft);case 47:return Ht(B,"",qt,"",ne,Bt|Yt|tt|Ft);case 42:return Ht(B,"",ws,"",ne,Yt|tt|Ft);case 41:return Ht(B,"",qt,"",ne,Bt|Yt|tt|Ft);case 26:return Ht(B,"","",js,ne,0);case 25:return Ht(B,"","",js,ne,Bt|Yt|tt);case 31:return Ht(B,"","",Bs,we,Bt|Yt|tt);case 33:return Ht(B,"","",Bs,we,0);case 32:return Ht(B,"","",Bs,we,Bt|Yt|tt);case 18:return Ve(B,2406,2415,!0,U);case 20:return Oe(B,1,19999,Ie,3,U);case 21:return Ve(B,2790,2799,!0,U);case 22:return Ve(B,2662,2671,!0,U);case 22:return Oe(B,1,10999,Ue,3,U);case 23:return rt(B,"");case 24:return rt(B,"");case 27:return Ve(B,3302,3311,!0,U);case 28:return rt(B,"",ne);case 29:return rt(B,"",ne);case 34:return Ve(B,3792,3801,!0,U);case 37:return Ve(B,6160,6169,!0,U);case 38:return Ve(B,4160,4169,!0,U);case 39:return Ve(B,2918,2927,!0,U);case 40:return Ve(B,1776,1785,!0,U);case 43:return Ve(B,3046,3055,!0,U);case 44:return Ve(B,3174,3183,!0,U);case 45:return Ve(B,3664,3673,!0,U);case 46:return Ve(B,3872,3881,!0,U);case 3:default:return Ve(B,48,57,!0,U)}},Rs="data-html2canvas-ignore",zr=(function(){function B(j,L,U){if(this.context=j,this.options=U,this.scrolledElements=[],this.referenceElement=L,this.counters=new D,this.quoteDepth=0,!L.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(L.ownerDocument.documentElement,!1)}return B.prototype.toIFrame=function(j,L){var U=this,ne=_n(j,L);if(!ne.contentWindow)return Promise.reject("Unable to find iframe window");var we=j.defaultView.pageXOffset,Le=j.defaultView.pageYOffset,Ze=ne.contentWindow,qe=Ze.document,Ct=ro(ne).then(function(){return l(U,void 0,void 0,function(){var Rt,Wt;return u(this,function(Ns){switch(Ns.label){case 0:return this.scrolledElements.forEach(On),Ze&&(Ze.scrollTo(L.left,L.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Ze.scrollY!==L.top||Ze.scrollX!==L.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Ze.scrollX-L.left,Ze.scrollY-L.top,0,0))),Rt=this.options.onclone,Wt=this.clonedReferenceElement,typeof Wt>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:qe.fonts&&qe.fonts.ready?[4,qe.fonts.ready]:[3,2];case 1:Ns.sent(),Ns.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,la(qe)]:[3,4];case 3:Ns.sent(),Ns.label=4;case 4:return typeof Rt=="function"?[2,Promise.resolve().then(function(){return Rt(qe,Wt)}).then(function(){return ne})]:[2,ne]}})})});return qe.open(),qe.write(cr(document.doctype)+"<html></html>"),_i(this.referenceElement.ownerDocument,we,Le),qe.replaceChild(qe.adoptNode(this.documentElement),qe.documentElement),qe.close(),Ct},B.prototype.createElementClone=function(j){if(Kr(j,2))debugger;if(ah(j))return this.createCanvasClone(j);if(ih(j))return this.createVideoClone(j);if(Dd(j))return this.createStyleClone(j);var L=j.cloneNode(!1);return oh(L)&&(oh(j)&&j.currentSrc&&j.currentSrc!==j.src&&(L.src=j.currentSrc,L.srcset=""),L.loading==="lazy"&&(L.loading="eager")),k(L)?this.createCustomElementClone(L):L},B.prototype.createCustomElementClone=function(j){var L=document.createElement("html2canvascustomelement");return Dr(j.style,L),L},B.prototype.createStyleClone=function(j){try{var L=j.sheet;if(L&&L.cssRules){var U=[].slice.call(L.cssRules,0).reduce(function(we,Le){return Le&&typeof Le.cssText=="string"?we+Le.cssText:we},""),ne=j.cloneNode(!1);return ne.textContent=U,ne}}catch(we){if(this.context.logger.error("Unable to access cssRules property",we),we.name!=="SecurityError")throw we}return j.cloneNode(!1)},B.prototype.createCanvasClone=function(j){var L;if(this.options.inlineImages&&j.ownerDocument){var U=j.ownerDocument.createElement("img");try{return U.src=j.toDataURL(),U}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",j)}}var ne=j.cloneNode(!1);try{ne.width=j.width,ne.height=j.height;var we=j.getContext("2d"),Le=ne.getContext("2d");if(Le)if(!this.options.allowTaint&&we)Le.putImageData(we.getImageData(0,0,j.width,j.height),0,0);else{var Ze=(L=j.getContext("webgl2"))!==null&&L!==void 0?L:j.getContext("webgl");if(Ze){var qe=Ze.getContextAttributes();(qe==null?void 0:qe.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",j)}Le.drawImage(j,0,0)}return ne}catch{this.context.logger.info("Unable to clone canvas as it is tainted",j)}return ne},B.prototype.createVideoClone=function(j){var L=j.ownerDocument.createElement("canvas");L.width=j.offsetWidth,L.height=j.offsetHeight;var U=L.getContext("2d");try{return U&&(U.drawImage(j,0,0,L.width,L.height),this.options.allowTaint||U.getImageData(0,0,L.width,L.height)),L}catch{this.context.logger.info("Unable to clone video as it is tainted",j)}var ne=j.ownerDocument.createElement("canvas");return ne.width=j.offsetWidth,ne.height=j.offsetHeight,ne},B.prototype.appendChildNode=function(j,L,U){(!Nd(L)||!yA(L)&&!L.hasAttribute(Rs)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(L)))&&(!this.options.copyStyles||!Nd(L)||!Dd(L))&&j.appendChild(this.cloneNode(L,U))},B.prototype.cloneChildNodes=function(j,L,U){for(var ne=this,we=j.shadowRoot?j.shadowRoot.firstChild:j.firstChild;we;we=we.nextSibling)if(Nd(we)&&_u(we)&&typeof we.assignedNodes=="function"){var Le=we.assignedNodes();Le.length&&Le.forEach(function(Ze){return ne.appendChildNode(L,Ze,U)})}else this.appendChildNode(L,we,U)},B.prototype.cloneNode=function(j,L){if(th(j))return document.createTextNode(j.data);if(!j.ownerDocument)return j.cloneNode(!1);var U=j.ownerDocument.defaultView;if(U&&Nd(j)&&(tu(j)||Cd(j))){var ne=this.createElementClone(j);ne.style.transitionProperty="none";var we=U.getComputedStyle(j),Le=U.getComputedStyle(j,":before"),Ze=U.getComputedStyle(j,":after");this.referenceElement===j&&tu(ne)&&(this.clonedReferenceElement=ne),nh(ne)&&Ho(ne);var qe=this.counters.parse(new Ps(this.context,we)),Ct=this.resolvePseudoContent(j,ne,Le,wr.BEFORE);k(j)&&(L=!0),ih(j)||this.cloneChildNodes(j,ne,L),Ct&&ne.insertBefore(Ct,ne.firstChild);var Rt=this.resolvePseudoContent(j,ne,Ze,wr.AFTER);return Rt&&ne.appendChild(Rt),this.counters.pop(qe),(we&&(this.options.copyStyles||Cd(j))&&!Jh(j)||L)&&Dr(we,ne),(j.scrollTop!==0||j.scrollLeft!==0)&&this.scrolledElements.push([ne,j.scrollLeft,j.scrollTop]),(wA(j)||jA(j))&&(wA(ne)||jA(ne))&&(ne.value=j.value),ne}return j.cloneNode(!1)},B.prototype.resolvePseudoContent=function(j,L,U,ne){var we=this;if(U){var Le=U.content,Ze=L.ownerDocument;if(!(!Ze||!Le||Le==="none"||Le==="-moz-alt-content"||U.display==="none")){this.counters.parse(new Ps(this.context,U));var qe=new nr(this.context,U),Ct=Ze.createElement("html2canvaspseudoelement");Dr(U,Ct),qe.content.forEach(function(Wt){if(Wt.type===0)Ct.appendChild(Ze.createTextNode(Wt.value));else if(Wt.type===22){var Ns=Ze.createElement("img");Ns.src=Wt.value,Ns.style.opacity="1",Ct.appendChild(Ns)}else if(Wt.type===18){if(Wt.name==="attr"){var jr=Wt.values.filter(rr);jr.length&&Ct.appendChild(Ze.createTextNode(j.getAttribute(jr[0].value)||""))}else if(Wt.name==="counter"){var Zs=Wt.values.filter($r),dr=Zs[0],Jr=Zs[1];if(dr&&rr(dr)){var Fr=we.counters.getCounterValue(dr.value),Ur=Jr&&rr(Jr)?Zc.parse(we.context,Jr.value):3;Ct.appendChild(Ze.createTextNode(Hs(Fr,Ur,!1)))}}else if(Wt.name==="counters"){var ta=Wt.values.filter($r),dr=ta[0],Yn=ta[1],Jr=ta[2];if(dr&&rr(dr)){var Cn=we.counters.getCounterValues(dr.value),Cr=Jr&&rr(Jr)?Zc.parse(we.context,Jr.value):3,ca=Yn&&Yn.type===0?Yn.value:"",ya=Cn.map(function(yi){return Hs(yi,Cr,!1)}).join(ca);Ct.appendChild(Ze.createTextNode(ya))}}}else if(Wt.type===20)switch(Wt.value){case"open-quote":Ct.appendChild(Ze.createTextNode(Jt(qe.quotes,we.quoteDepth++,!0)));break;case"close-quote":Ct.appendChild(Ze.createTextNode(Jt(qe.quotes,--we.quoteDepth,!1)));break;default:Ct.appendChild(Ze.createTextNode(Wt.value))}}),Ct.className=jo+" "+_o;var Rt=ne===wr.BEFORE?" "+jo:" "+_o;return Cd(L)?L.className.baseValue+=Rt:L.className+=Rt,Ct}}},B.destroy=function(j){return j.parentNode?(j.parentNode.removeChild(j),!0):!1},B})(),wr;(function(B){B[B.BEFORE=0]="BEFORE",B[B.AFTER=1]="AFTER"})(wr||(wr={}));var _n=function(B,j){var L=B.createElement("iframe");return L.className="html2canvas-container",L.style.visibility="hidden",L.style.position="fixed",L.style.left="-10000px",L.style.top="0px",L.style.border="0",L.width=j.width.toString(),L.height=j.height.toString(),L.scrolling="no",L.setAttribute(Rs,"true"),B.body.appendChild(L),L},Rr=function(B){return new Promise(function(j){if(B.complete){j();return}if(!B.src){j();return}B.onload=j,B.onerror=j})},la=function(B){return Promise.all([].slice.call(B.images,0).map(Rr))},ro=function(B){return new Promise(function(j,L){var U=B.contentWindow;if(!U)return L("No window assigned for iframe");var ne=U.document;U.onload=B.onload=function(){U.onload=B.onload=null;var we=setInterval(function(){ne.body.childNodes.length>0&&ne.readyState==="complete"&&(clearInterval(we),j(B))},50)}})},Mn=["all","d","content"],Dr=function(B,j){for(var L=B.length-1;L>=0;L--){var U=B.item(L);Mn.indexOf(U)===-1&&j.style.setProperty(U,B.getPropertyValue(U))}return j},cr=function(B){var j="";return B&&(j+="<!DOCTYPE ",B.name&&(j+=B.name),B.internalSubset&&(j+=B.internalSubset),B.publicId&&(j+='"'+B.publicId+'"'),B.systemId&&(j+='"'+B.systemId+'"'),j+=">"),j},_i=function(B,j,L){B&&B.defaultView&&(j!==B.defaultView.pageXOffset||L!==B.defaultView.pageYOffset)&&B.defaultView.scrollTo(j,L)},On=function(B){var j=B[0],L=B[1],U=B[2];j.scrollLeft=L,j.scrollTop=U},$n=":before",ni=":after",jo="___html2canvas___pseudoelement_before",_o="___html2canvas___pseudoelement_after",Oa=`{
    content: "" !important;
    display: none !important;
}`,Ho=function(B){wl(B,"."+jo+$n+Oa+`
         .`+_o+ni+Oa)},wl=function(B,j){var L=B.ownerDocument;if(L){var U=L.createElement("style");U.textContent=j,B.appendChild(U)}},Hi=(function(){function B(){}return B.getOrigin=function(j){var L=B._link;return L?(L.href=j,L.href=L.href,L.protocol+L.hostname+L.port):"about:blank"},B.isSameOrigin=function(j){return B.getOrigin(j)===B._origin},B.setContext=function(j){B._link=j.document.createElement("a"),B._origin=B.getOrigin(j.location.href)},B._origin="about:blank",B})(),ia=(function(){function B(j,L){this.context=j,this._options=L,this._cache={}}return B.prototype.addImage=function(j){var L=Promise.resolve();return this.has(j)||(dl(j)||zo(j))&&(this._cache[j]=this.loadImage(j)).catch(function(){}),L},B.prototype.match=function(j){return this._cache[j]},B.prototype.loadImage=function(j){return l(this,void 0,void 0,function(){var L,U,ne,we,Le=this;return u(this,function(Ze){switch(Ze.label){case 0:return L=Hi.isSameOrigin(j),U=!cl(j)&&this._options.useCORS===!0&&so.SUPPORT_CORS_IMAGES&&!L,ne=!cl(j)&&!L&&!dl(j)&&typeof this._options.proxy=="string"&&so.SUPPORT_CORS_XHR&&!U,!L&&this._options.allowTaint===!1&&!cl(j)&&!dl(j)&&!ne&&!U?[2]:(we=j,ne?[4,this.proxy(we)]:[3,2]);case 1:we=Ze.sent(),Ze.label=2;case 2:return this.context.logger.debug("Added image "+j.substring(0,256)),[4,new Promise(function(qe,Ct){var Rt=new Image;Rt.onload=function(){return qe(Rt)},Rt.onerror=Ct,(Xa(we)||U)&&(Rt.crossOrigin="anonymous"),Rt.src=we,Rt.complete===!0&&setTimeout(function(){return qe(Rt)},500),Le._options.imageTimeout>0&&setTimeout(function(){return Ct("Timed out ("+Le._options.imageTimeout+"ms) loading image")},Le._options.imageTimeout)})];case 3:return[2,Ze.sent()]}})})},B.prototype.has=function(j){return typeof this._cache[j]<"u"},B.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},B.prototype.proxy=function(j){var L=this,U=this._options.proxy;if(!U)throw new Error("No proxy defined");var ne=j.substring(0,256);return new Promise(function(we,Le){var Ze=so.SUPPORT_RESPONSE_TYPE?"blob":"text",qe=new XMLHttpRequest;qe.onload=function(){if(qe.status===200)if(Ze==="text")we(qe.response);else{var Wt=new FileReader;Wt.addEventListener("load",function(){return we(Wt.result)},!1),Wt.addEventListener("error",function(Ns){return Le(Ns)},!1),Wt.readAsDataURL(qe.response)}else Le("Failed to proxy resource "+ne+" with status code "+qe.status)},qe.onerror=Le;var Ct=U.indexOf("?")>-1?"&":"?";if(qe.open("GET",""+U+Ct+"url="+encodeURIComponent(j)+"&responseType="+Ze),Ze!=="text"&&qe instanceof XMLHttpRequest&&(qe.responseType=Ze),L._options.imageTimeout){var Rt=L._options.imageTimeout;qe.timeout=Rt,qe.ontimeout=function(){return Le("Timed out ("+Rt+"ms) proxying "+ne)}}qe.send()})},B})(),dn=/^data:image\/svg\+xml/i,Zi=/^data:image\/.*;base64,/i,za=/^data:image\/.*/i,zo=function(B){return so.SUPPORT_SVG_DRAWING||!Ja(B)},cl=function(B){return za.test(B)},Xa=function(B){return Zi.test(B)},dl=function(B){return B.substr(0,4)==="blob"},Ja=function(B){return B.substr(-3).toLowerCase()==="svg"||dn.test(B)},Ws=(function(){function B(j,L){this.type=0,this.x=j,this.y=L}return B.prototype.add=function(j,L){return new B(this.x+j,this.y+L)},B})(),ai=function(B,j,L){return new Ws(B.x+(j.x-B.x)*L,B.y+(j.y-B.y)*L)},No=(function(){function B(j,L,U,ne){this.type=1,this.start=j,this.startControl=L,this.endControl=U,this.end=ne}return B.prototype.subdivide=function(j,L){var U=ai(this.start,this.startControl,j),ne=ai(this.startControl,this.endControl,j),we=ai(this.endControl,this.end,j),Le=ai(U,ne,j),Ze=ai(ne,we,j),qe=ai(Le,Ze,j);return L?new B(this.start,U,Le,qe):new B(qe,Ze,we,this.end)},B.prototype.add=function(j,L){return new B(this.start.add(j,L),this.startControl.add(j,L),this.endControl.add(j,L),this.end.add(j,L))},B.prototype.reverse=function(){return new B(this.end,this.endControl,this.startControl,this.start)},B})(),di=function(B){return B.type===1},rc=(function(){function B(j){var L=j.styles,U=j.bounds,ne=Ir(L.borderTopLeftRadius,U.width,U.height),we=ne[0],Le=ne[1],Ze=Ir(L.borderTopRightRadius,U.width,U.height),qe=Ze[0],Ct=Ze[1],Rt=Ir(L.borderBottomRightRadius,U.width,U.height),Wt=Rt[0],Ns=Rt[1],jr=Ir(L.borderBottomLeftRadius,U.width,U.height),Zs=jr[0],dr=jr[1],Jr=[];Jr.push((we+qe)/U.width),Jr.push((Zs+Wt)/U.width),Jr.push((Le+dr)/U.height),Jr.push((Ct+Ns)/U.height);var Fr=Math.max.apply(Math,Jr);Fr>1&&(we/=Fr,Le/=Fr,qe/=Fr,Ct/=Fr,Wt/=Fr,Ns/=Fr,Zs/=Fr,dr/=Fr);var Ur=U.width-qe,ta=U.height-Ns,Yn=U.width-Wt,Cn=U.height-dr,Cr=L.borderTopWidth,ca=L.borderRightWidth,ya=L.borderBottomWidth,sn=L.borderLeftWidth,Co=vn(L.paddingTop,j.bounds.width),yi=vn(L.paddingRight,j.bounds.width),Hc=vn(L.paddingBottom,j.bounds.width),ii=vn(L.paddingLeft,j.bounds.width);this.topLeftBorderDoubleOuterBox=we>0||Le>0?ea(U.left+sn/3,U.top+Cr/3,we-sn/3,Le-Cr/3,Ln.TOP_LEFT):new Ws(U.left+sn/3,U.top+Cr/3),this.topRightBorderDoubleOuterBox=we>0||Le>0?ea(U.left+Ur,U.top+Cr/3,qe-ca/3,Ct-Cr/3,Ln.TOP_RIGHT):new Ws(U.left+U.width-ca/3,U.top+Cr/3),this.bottomRightBorderDoubleOuterBox=Wt>0||Ns>0?ea(U.left+Yn,U.top+ta,Wt-ca/3,Ns-ya/3,Ln.BOTTOM_RIGHT):new Ws(U.left+U.width-ca/3,U.top+U.height-ya/3),this.bottomLeftBorderDoubleOuterBox=Zs>0||dr>0?ea(U.left+sn/3,U.top+Cn,Zs-sn/3,dr-ya/3,Ln.BOTTOM_LEFT):new Ws(U.left+sn/3,U.top+U.height-ya/3),this.topLeftBorderDoubleInnerBox=we>0||Le>0?ea(U.left+sn*2/3,U.top+Cr*2/3,we-sn*2/3,Le-Cr*2/3,Ln.TOP_LEFT):new Ws(U.left+sn*2/3,U.top+Cr*2/3),this.topRightBorderDoubleInnerBox=we>0||Le>0?ea(U.left+Ur,U.top+Cr*2/3,qe-ca*2/3,Ct-Cr*2/3,Ln.TOP_RIGHT):new Ws(U.left+U.width-ca*2/3,U.top+Cr*2/3),this.bottomRightBorderDoubleInnerBox=Wt>0||Ns>0?ea(U.left+Yn,U.top+ta,Wt-ca*2/3,Ns-ya*2/3,Ln.BOTTOM_RIGHT):new Ws(U.left+U.width-ca*2/3,U.top+U.height-ya*2/3),this.bottomLeftBorderDoubleInnerBox=Zs>0||dr>0?ea(U.left+sn*2/3,U.top+Cn,Zs-sn*2/3,dr-ya*2/3,Ln.BOTTOM_LEFT):new Ws(U.left+sn*2/3,U.top+U.height-ya*2/3),this.topLeftBorderStroke=we>0||Le>0?ea(U.left+sn/2,U.top+Cr/2,we-sn/2,Le-Cr/2,Ln.TOP_LEFT):new Ws(U.left+sn/2,U.top+Cr/2),this.topRightBorderStroke=we>0||Le>0?ea(U.left+Ur,U.top+Cr/2,qe-ca/2,Ct-Cr/2,Ln.TOP_RIGHT):new Ws(U.left+U.width-ca/2,U.top+Cr/2),this.bottomRightBorderStroke=Wt>0||Ns>0?ea(U.left+Yn,U.top+ta,Wt-ca/2,Ns-ya/2,Ln.BOTTOM_RIGHT):new Ws(U.left+U.width-ca/2,U.top+U.height-ya/2),this.bottomLeftBorderStroke=Zs>0||dr>0?ea(U.left+sn/2,U.top+Cn,Zs-sn/2,dr-ya/2,Ln.BOTTOM_LEFT):new Ws(U.left+sn/2,U.top+U.height-ya/2),this.topLeftBorderBox=we>0||Le>0?ea(U.left,U.top,we,Le,Ln.TOP_LEFT):new Ws(U.left,U.top),this.topRightBorderBox=qe>0||Ct>0?ea(U.left+Ur,U.top,qe,Ct,Ln.TOP_RIGHT):new Ws(U.left+U.width,U.top),this.bottomRightBorderBox=Wt>0||Ns>0?ea(U.left+Yn,U.top+ta,Wt,Ns,Ln.BOTTOM_RIGHT):new Ws(U.left+U.width,U.top+U.height),this.bottomLeftBorderBox=Zs>0||dr>0?ea(U.left,U.top+Cn,Zs,dr,Ln.BOTTOM_LEFT):new Ws(U.left,U.top+U.height),this.topLeftPaddingBox=we>0||Le>0?ea(U.left+sn,U.top+Cr,Math.max(0,we-sn),Math.max(0,Le-Cr),Ln.TOP_LEFT):new Ws(U.left+sn,U.top+Cr),this.topRightPaddingBox=qe>0||Ct>0?ea(U.left+Math.min(Ur,U.width-ca),U.top+Cr,Ur>U.width+ca?0:Math.max(0,qe-ca),Math.max(0,Ct-Cr),Ln.TOP_RIGHT):new Ws(U.left+U.width-ca,U.top+Cr),this.bottomRightPaddingBox=Wt>0||Ns>0?ea(U.left+Math.min(Yn,U.width-sn),U.top+Math.min(ta,U.height-ya),Math.max(0,Wt-ca),Math.max(0,Ns-ya),Ln.BOTTOM_RIGHT):new Ws(U.left+U.width-ca,U.top+U.height-ya),this.bottomLeftPaddingBox=Zs>0||dr>0?ea(U.left+sn,U.top+Math.min(Cn,U.height-ya),Math.max(0,Zs-sn),Math.max(0,dr-ya),Ln.BOTTOM_LEFT):new Ws(U.left+sn,U.top+U.height-ya),this.topLeftContentBox=we>0||Le>0?ea(U.left+sn+ii,U.top+Cr+Co,Math.max(0,we-(sn+ii)),Math.max(0,Le-(Cr+Co)),Ln.TOP_LEFT):new Ws(U.left+sn+ii,U.top+Cr+Co),this.topRightContentBox=qe>0||Ct>0?ea(U.left+Math.min(Ur,U.width+sn+ii),U.top+Cr+Co,Ur>U.width+sn+ii?0:qe-sn+ii,Ct-(Cr+Co),Ln.TOP_RIGHT):new Ws(U.left+U.width-(ca+yi),U.top+Cr+Co),this.bottomRightContentBox=Wt>0||Ns>0?ea(U.left+Math.min(Yn,U.width-(sn+ii)),U.top+Math.min(ta,U.height+Cr+Co),Math.max(0,Wt-(ca+yi)),Ns-(ya+Hc),Ln.BOTTOM_RIGHT):new Ws(U.left+U.width-(ca+yi),U.top+U.height-(ya+Hc)),this.bottomLeftContentBox=Zs>0||dr>0?ea(U.left+sn+ii,U.top+Cn,Math.max(0,Zs-(sn+ii)),dr-(ya+Hc),Ln.BOTTOM_LEFT):new Ws(U.left+sn+ii,U.top+U.height-(ya+Hc))}return B})(),Ln;(function(B){B[B.TOP_LEFT=0]="TOP_LEFT",B[B.TOP_RIGHT=1]="TOP_RIGHT",B[B.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",B[B.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ln||(Ln={}));var ea=function(B,j,L,U,ne){var we=4*((Math.sqrt(2)-1)/3),Le=L*we,Ze=U*we,qe=B+L,Ct=j+U;switch(ne){case Ln.TOP_LEFT:return new No(new Ws(B,Ct),new Ws(B,Ct-Ze),new Ws(qe-Le,j),new Ws(qe,j));case Ln.TOP_RIGHT:return new No(new Ws(B,j),new Ws(B+Le,j),new Ws(qe,Ct-Ze),new Ws(qe,Ct));case Ln.BOTTOM_RIGHT:return new No(new Ws(qe,j),new Ws(qe,j+Ze),new Ws(B+Le,Ct),new Ws(B,Ct));case Ln.BOTTOM_LEFT:default:return new No(new Ws(qe,Ct),new Ws(qe-Le,Ct),new Ws(B,j+Ze),new Ws(B,j))}},Sa=function(B){return[B.topLeftBorderBox,B.topRightBorderBox,B.bottomRightBorderBox,B.bottomLeftBorderBox]},nc=function(B){return[B.topLeftContentBox,B.topRightContentBox,B.bottomRightContentBox,B.bottomLeftContentBox]},qi=function(B){return[B.topLeftPaddingBox,B.topRightPaddingBox,B.bottomRightPaddingBox,B.bottomLeftPaddingBox]},ui=(function(){function B(j,L,U){this.offsetX=j,this.offsetY=L,this.matrix=U,this.type=0,this.target=6}return B})(),ac=(function(){function B(j,L){this.path=j,this.target=L,this.type=1}return B})(),$o=(function(){function B(j){this.opacity=j,this.type=2,this.target=6}return B})(),no=function(B){return B.type===0},lh=function(B){return B.type===1},NA=function(B){return B.type===2},Cu=function(B,j){return B.length===j.length?B.some(function(L,U){return L===j[U]}):!1},Ui=function(B,j,L,U,ne){return B.map(function(we,Le){switch(Le){case 0:return we.add(j,L);case 1:return we.add(j+U,L);case 2:return we.add(j+U,L+ne);case 3:return we.add(j,L+ne)}return we})},Rl=(function(){function B(j){this.element=j,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return B})(),Pc=(function(){function B(j,L){if(this.container=j,this.parent=L,this.effects=[],this.curves=new rc(this.container),this.container.styles.opacity<1&&this.effects.push(new $o(this.container.styles.opacity)),this.container.styles.transform!==null){var U=this.container.bounds.left+this.container.styles.transformOrigin[0].number,ne=this.container.bounds.top+this.container.styles.transformOrigin[1].number,we=this.container.styles.transform;this.effects.push(new ui(U,ne,we))}if(this.container.styles.overflowX!==0){var Le=Sa(this.curves),Ze=qi(this.curves);Cu(Le,Ze)?this.effects.push(new ac(Le,6)):(this.effects.push(new ac(Le,2)),this.effects.push(new ac(Ze,4)))}}return B.prototype.getEffects=function(j){for(var L=[2,3].indexOf(this.container.styles.position)===-1,U=this.parent,ne=this.effects.slice(0);U;){var we=U.effects.filter(function(qe){return!lh(qe)});if(L||U.container.styles.position!==0||!U.parent){if(ne.unshift.apply(ne,we),L=[2,3].indexOf(U.container.styles.position)===-1,U.container.styles.overflowX!==0){var Le=Sa(U.curves),Ze=qi(U.curves);Cu(Le,Ze)||ne.unshift(new ac(Ze,6))}}else ne.unshift.apply(ne,we);U=U.parent}return ne.filter(function(qe){return C(qe.target,j)})},B})(),ad=function(B,j,L,U){B.container.elements.forEach(function(ne){var we=C(ne.flags,4),Le=C(ne.flags,2),Ze=new Pc(ne,B);C(ne.styles.display,2048)&&U.push(Ze);var qe=C(ne.flags,8)?[]:U;if(we||Le){var Ct=we||ne.styles.isPositioned()?L:j,Rt=new Rl(Ze);if(ne.styles.isPositioned()||ne.styles.opacity<1||ne.styles.isTransformed()){var Wt=ne.styles.zIndex.order;if(Wt<0){var Ns=0;Ct.negativeZIndex.some(function(Zs,dr){return Wt>Zs.element.container.styles.zIndex.order?(Ns=dr,!1):Ns>0}),Ct.negativeZIndex.splice(Ns,0,Rt)}else if(Wt>0){var jr=0;Ct.positiveZIndex.some(function(Zs,dr){return Wt>=Zs.element.container.styles.zIndex.order?(jr=dr+1,!1):jr>0}),Ct.positiveZIndex.splice(jr,0,Rt)}else Ct.zeroOrAutoZIndexOrTransformedOrOpacity.push(Rt)}else ne.styles.isFloating()?Ct.nonPositionedFloats.push(Rt):Ct.nonPositionedInlineLevel.push(Rt);ad(Ze,Rt,we?Rt:L,qe)}else ne.styles.isInlineLevel()?j.inlineLevel.push(Ze):j.nonInlineLevel.push(Ze),ad(Ze,j,L,qe);C(ne.flags,8)&&Zh(ne,qe)})},Zh=function(B,j){for(var L=B instanceof qA?B.start:1,U=B instanceof qA?B.reversed:!1,ne=0;ne<j.length;ne++){var we=j[ne];we.container instanceof Nu&&typeof we.container.value=="number"&&we.container.value!==0&&(L=we.container.value),we.listValue=Hs(L,we.container.styles.listStyleType,!0),L+=U?-1:1}},If=function(B){var j=new Pc(B,null),L=new Rl(j),U=[];return ad(j,L,L,U),Zh(j.container,U),L},Df=function(B,j){switch(j){case 0:return Za(B.topLeftBorderBox,B.topLeftPaddingBox,B.topRightBorderBox,B.topRightPaddingBox);case 1:return Za(B.topRightBorderBox,B.topRightPaddingBox,B.bottomRightBorderBox,B.bottomRightPaddingBox);case 2:return Za(B.bottomRightBorderBox,B.bottomRightPaddingBox,B.bottomLeftBorderBox,B.bottomLeftPaddingBox);case 3:default:return Za(B.bottomLeftBorderBox,B.bottomLeftPaddingBox,B.topLeftBorderBox,B.topLeftPaddingBox)}},CA=function(B,j){switch(j){case 0:return Za(B.topLeftBorderBox,B.topLeftBorderDoubleOuterBox,B.topRightBorderBox,B.topRightBorderDoubleOuterBox);case 1:return Za(B.topRightBorderBox,B.topRightBorderDoubleOuterBox,B.bottomRightBorderBox,B.bottomRightBorderDoubleOuterBox);case 2:return Za(B.bottomRightBorderBox,B.bottomRightBorderDoubleOuterBox,B.bottomLeftBorderBox,B.bottomLeftBorderDoubleOuterBox);case 3:default:return Za(B.bottomLeftBorderBox,B.bottomLeftBorderDoubleOuterBox,B.topLeftBorderBox,B.topLeftBorderDoubleOuterBox)}},ul=function(B,j){switch(j){case 0:return Za(B.topLeftBorderDoubleInnerBox,B.topLeftPaddingBox,B.topRightBorderDoubleInnerBox,B.topRightPaddingBox);case 1:return Za(B.topRightBorderDoubleInnerBox,B.topRightPaddingBox,B.bottomRightBorderDoubleInnerBox,B.bottomRightPaddingBox);case 2:return Za(B.bottomRightBorderDoubleInnerBox,B.bottomRightPaddingBox,B.bottomLeftBorderDoubleInnerBox,B.bottomLeftPaddingBox);case 3:default:return Za(B.bottomLeftBorderDoubleInnerBox,B.bottomLeftPaddingBox,B.topLeftBorderDoubleInnerBox,B.topLeftPaddingBox)}},Qc=function(B,j){switch(j){case 0:return Hu(B.topLeftBorderStroke,B.topRightBorderStroke);case 1:return Hu(B.topRightBorderStroke,B.bottomRightBorderStroke);case 2:return Hu(B.bottomRightBorderStroke,B.bottomLeftBorderStroke);case 3:default:return Hu(B.bottomLeftBorderStroke,B.topLeftBorderStroke)}},Hu=function(B,j){var L=[];return di(B)?L.push(B.subdivide(.5,!1)):L.push(B),di(j)?L.push(j.subdivide(.5,!0)):L.push(j),L},Za=function(B,j,L,U){var ne=[];return di(B)?ne.push(B.subdivide(.5,!1)):ne.push(B),di(L)?ne.push(L.subdivide(.5,!0)):ne.push(L),di(U)?ne.push(U.subdivide(.5,!0).reverse()):ne.push(U),di(j)?ne.push(j.subdivide(.5,!1).reverse()):ne.push(j),ne},kA=function(B){var j=B.bounds,L=B.styles;return j.add(L.borderLeftWidth,L.borderTopWidth,-(L.borderRightWidth+L.borderLeftWidth),-(L.borderTopWidth+L.borderBottomWidth))},jl=function(B){var j=B.styles,L=B.bounds,U=vn(j.paddingLeft,L.width),ne=vn(j.paddingRight,L.width),we=vn(j.paddingTop,L.width),Le=vn(j.paddingBottom,L.width);return L.add(U+j.borderLeftWidth,we+j.borderTopWidth,-(j.borderRightWidth+j.borderLeftWidth+U+ne),-(j.borderTopWidth+j.borderBottomWidth+we+Le))},su=function(B,j){return B===0?j.bounds:B===2?jl(j):kA(j)},Rd=function(B,j){return B===0?j.bounds:B===2?jl(j):kA(j)},ru=function(B,j,L){var U=su(_c(B.styles.backgroundOrigin,j),B),ne=Rd(_c(B.styles.backgroundClip,j),B),we=Qd(_c(B.styles.backgroundSize,j),L,U),Le=we[0],Ze=we[1],qe=Ir(_c(B.styles.backgroundPosition,j),U.width-Le,U.height-Ze),Ct=zu(_c(B.styles.backgroundRepeat,j),qe,we,U,ne),Rt=Math.round(U.left+qe[0]),Wt=Math.round(U.top+qe[1]);return[Ct,Rt,Wt,Le,Ze]},Pd=function(B){return rr(B)&&B.value===An.AUTO},Nl=function(B){return typeof B=="number"},Qd=function(B,j,L){var U=j[0],ne=j[1],we=j[2],Le=B[0],Ze=B[1];if(!Le)return[0,0];if(kr(Le)&&Ze&&kr(Ze))return[vn(Le,L.width),vn(Ze,L.height)];var qe=Nl(we);if(rr(Le)&&(Le.value===An.CONTAIN||Le.value===An.COVER)){if(Nl(we)){var Ct=L.width/L.height;return Ct<we!=(Le.value===An.COVER)?[L.width,L.width/we]:[L.height*we,L.height]}return[L.width,L.height]}var Rt=Nl(U),Wt=Nl(ne),Ns=Rt||Wt;if(Pd(Le)&&(!Ze||Pd(Ze))){if(Rt&&Wt)return[U,ne];if(!qe&&!Ns)return[L.width,L.height];if(Ns&&qe){var jr=Rt?U:ne*we,Zs=Wt?ne:U/we;return[jr,Zs]}var dr=Rt?U:L.width,Jr=Wt?ne:L.height;return[dr,Jr]}if(qe){var Fr=0,Ur=0;return kr(Le)?Fr=vn(Le,L.width):kr(Ze)&&(Ur=vn(Ze,L.height)),Pd(Le)?Fr=Ur*we:(!Ze||Pd(Ze))&&(Ur=Fr/we),[Fr,Ur]}var ta=null,Yn=null;if(kr(Le)?ta=vn(Le,L.width):Ze&&kr(Ze)&&(Yn=vn(Ze,L.height)),ta!==null&&(!Ze||Pd(Ze))&&(Yn=Rt&&Wt?ta/U*ne:L.height),Yn!==null&&Pd(Le)&&(ta=Rt&&Wt?Yn/ne*U:L.width),ta!==null&&Yn!==null)return[ta,Yn];throw new Error("Unable to calculate background-size for element")},_c=function(B,j){var L=B[j];return typeof L>"u"?B[0]:L},zu=function(B,j,L,U,ne){var we=j[0],Le=j[1],Ze=L[0],qe=L[1];switch(B){case 2:return[new Ws(Math.round(U.left),Math.round(U.top+Le)),new Ws(Math.round(U.left+U.width),Math.round(U.top+Le)),new Ws(Math.round(U.left+U.width),Math.round(qe+U.top+Le)),new Ws(Math.round(U.left),Math.round(qe+U.top+Le))];case 3:return[new Ws(Math.round(U.left+we),Math.round(U.top)),new Ws(Math.round(U.left+we+Ze),Math.round(U.top)),new Ws(Math.round(U.left+we+Ze),Math.round(U.height+U.top)),new Ws(Math.round(U.left+we),Math.round(U.height+U.top))];case 1:return[new Ws(Math.round(U.left+we),Math.round(U.top+Le)),new Ws(Math.round(U.left+we+Ze),Math.round(U.top+Le)),new Ws(Math.round(U.left+we+Ze),Math.round(U.top+Le+qe)),new Ws(Math.round(U.left+we),Math.round(U.top+Le+qe))];default:return[new Ws(Math.round(ne.left),Math.round(ne.top)),new Ws(Math.round(ne.left+ne.width),Math.round(ne.top)),new Ws(Math.round(ne.left+ne.width),Math.round(ne.height+ne.top)),new Ws(Math.round(ne.left),Math.round(ne.height+ne.top))]}},BA="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",nu="Hidden Text",ku=(function(){function B(j){this._data={},this._document=j}return B.prototype.parseMetrics=function(j,L){var U=this._document.createElement("div"),ne=this._document.createElement("img"),we=this._document.createElement("span"),Le=this._document.body;U.style.visibility="hidden",U.style.fontFamily=j,U.style.fontSize=L,U.style.margin="0",U.style.padding="0",U.style.whiteSpace="nowrap",Le.appendChild(U),ne.src=BA,ne.width=1,ne.height=1,ne.style.margin="0",ne.style.padding="0",ne.style.verticalAlign="baseline",we.style.fontFamily=j,we.style.fontSize=L,we.style.margin="0",we.style.padding="0",we.appendChild(this._document.createTextNode(nu)),U.appendChild(we),U.appendChild(ne);var Ze=ne.offsetTop-we.offsetTop+2;U.removeChild(we),U.appendChild(this._document.createTextNode(nu)),U.style.lineHeight="normal",ne.style.verticalAlign="super";var qe=ne.offsetTop-U.offsetTop+2;return Le.removeChild(U),{baseline:Ze,middle:qe}},B.prototype.getMetrics=function(j,L){var U=j+" "+L;return typeof this._data[U]>"u"&&(this._data[U]=this.parseMetrics(j,L)),this._data[U]},B})(),qh=(function(){function B(j,L){this.context=j,this.options=L}return B})(),$u=1e4,Rf=(function(B){n(j,B);function j(L,U){var ne=B.call(this,L,U)||this;return ne._activeEffects=[],ne.canvas=U.canvas?U.canvas:document.createElement("canvas"),ne.ctx=ne.canvas.getContext("2d"),U.canvas||(ne.canvas.width=Math.floor(U.width*U.scale),ne.canvas.height=Math.floor(U.height*U.scale),ne.canvas.style.width=U.width+"px",ne.canvas.style.height=U.height+"px"),ne.fontMetrics=new ku(document),ne.ctx.scale(ne.options.scale,ne.options.scale),ne.ctx.translate(-U.x,-U.y),ne.ctx.textBaseline="bottom",ne._activeEffects=[],ne.context.logger.debug("Canvas renderer initialized ("+U.width+"x"+U.height+") with scale "+U.scale),ne}return j.prototype.applyEffects=function(L){for(var U=this;this._activeEffects.length;)this.popEffect();L.forEach(function(ne){return U.applyEffect(ne)})},j.prototype.applyEffect=function(L){this.ctx.save(),NA(L)&&(this.ctx.globalAlpha=L.opacity),no(L)&&(this.ctx.translate(L.offsetX,L.offsetY),this.ctx.transform(L.matrix[0],L.matrix[1],L.matrix[2],L.matrix[3],L.matrix[4],L.matrix[5]),this.ctx.translate(-L.offsetX,-L.offsetY)),lh(L)&&(this.path(L.path),this.ctx.clip()),this._activeEffects.push(L)},j.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},j.prototype.renderStack=function(L){return l(this,void 0,void 0,function(){var U;return u(this,function(ne){switch(ne.label){case 0:return U=L.element.container.styles,U.isVisible()?[4,this.renderStackContent(L)]:[3,2];case 1:ne.sent(),ne.label=2;case 2:return[2]}})})},j.prototype.renderNode=function(L){return l(this,void 0,void 0,function(){return u(this,function(U){switch(U.label){case 0:if(C(L.container.flags,16))debugger;return L.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(L)]:[3,3];case 1:return U.sent(),[4,this.renderNodeContent(L)];case 2:U.sent(),U.label=3;case 3:return[2]}})})},j.prototype.renderTextWithLetterSpacing=function(L,U,ne){var we=this;if(U===0)this.ctx.fillText(L.text,L.bounds.left,L.bounds.top+ne);else{var Le=ju(L.text);Le.reduce(function(Ze,qe){return we.ctx.fillText(qe,Ze,L.bounds.top+ne),Ze+we.ctx.measureText(qe).width},L.bounds.left)}},j.prototype.createFontStyle=function(L){var U=L.fontVariant.filter(function(Le){return Le==="normal"||Le==="small-caps"}).join(""),ne=va(L.fontFamily).join(", "),we=or(L.fontSize)?""+L.fontSize.number+L.fontSize.unit:L.fontSize.number+"px";return[[L.fontStyle,U,L.fontWeight,we,ne].join(" "),ne,we]},j.prototype.renderTextNode=function(L,U){return l(this,void 0,void 0,function(){var ne,we,Le,Ze,qe,Ct,Rt,Wt,Ns=this;return u(this,function(jr){return ne=this.createFontStyle(U),we=ne[0],Le=ne[1],Ze=ne[2],this.ctx.font=we,this.ctx.direction=U.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",qe=this.fontMetrics.getMetrics(Le,Ze),Ct=qe.baseline,Rt=qe.middle,Wt=U.paintOrder,L.textBounds.forEach(function(Zs){Wt.forEach(function(dr){switch(dr){case 0:Ns.ctx.fillStyle=ar(U.color),Ns.renderTextWithLetterSpacing(Zs,U.letterSpacing,Ct);var Jr=U.textShadow;Jr.length&&Zs.text.trim().length&&(Jr.slice(0).reverse().forEach(function(Fr){Ns.ctx.shadowColor=ar(Fr.color),Ns.ctx.shadowOffsetX=Fr.offsetX.number*Ns.options.scale,Ns.ctx.shadowOffsetY=Fr.offsetY.number*Ns.options.scale,Ns.ctx.shadowBlur=Fr.blur.number,Ns.renderTextWithLetterSpacing(Zs,U.letterSpacing,Ct)}),Ns.ctx.shadowColor="",Ns.ctx.shadowOffsetX=0,Ns.ctx.shadowOffsetY=0,Ns.ctx.shadowBlur=0),U.textDecorationLine.length&&(Ns.ctx.fillStyle=ar(U.textDecorationColor||U.color),U.textDecorationLine.forEach(function(Fr){switch(Fr){case 1:Ns.ctx.fillRect(Zs.bounds.left,Math.round(Zs.bounds.top+Ct),Zs.bounds.width,1);break;case 2:Ns.ctx.fillRect(Zs.bounds.left,Math.round(Zs.bounds.top),Zs.bounds.width,1);break;case 3:Ns.ctx.fillRect(Zs.bounds.left,Math.ceil(Zs.bounds.top+Rt),Zs.bounds.width,1);break}}));break;case 1:U.webkitTextStrokeWidth&&Zs.text.trim().length&&(Ns.ctx.strokeStyle=ar(U.webkitTextStrokeColor),Ns.ctx.lineWidth=U.webkitTextStrokeWidth,Ns.ctx.lineJoin=window.chrome?"miter":"round",Ns.ctx.strokeText(Zs.text,Zs.bounds.left,Zs.bounds.top+Ct)),Ns.ctx.strokeStyle="",Ns.ctx.lineWidth=0,Ns.ctx.lineJoin="miter";break}})}),[2]})})},j.prototype.renderReplacedElement=function(L,U,ne){if(ne&&L.intrinsicWidth>0&&L.intrinsicHeight>0){var we=jl(L),Le=qi(U);this.path(Le),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(ne,0,0,L.intrinsicWidth,L.intrinsicHeight,we.left,we.top,we.width,we.height),this.ctx.restore()}},j.prototype.renderNodeContent=function(L){return l(this,void 0,void 0,function(){var U,ne,we,Le,Ze,qe,Ur,Ur,Ct,Rt,Wt,Ns,Yn,jr,Zs,Cn,dr,Jr,Fr,Ur,ta,Yn,Cn;return u(this,function(Cr){switch(Cr.label){case 0:this.applyEffects(L.getEffects(4)),U=L.container,ne=L.curves,we=U.styles,Le=0,Ze=U.textNodes,Cr.label=1;case 1:return Le<Ze.length?(qe=Ze[Le],[4,this.renderTextNode(qe,we)]):[3,4];case 2:Cr.sent(),Cr.label=3;case 3:return Le++,[3,1];case 4:if(!(U instanceof Kh))return[3,8];Cr.label=5;case 5:return Cr.trys.push([5,7,,8]),[4,this.context.cache.match(U.src)];case 6:return Ur=Cr.sent(),this.renderReplacedElement(U,ne,Ur),[3,8];case 7:return Cr.sent(),this.context.logger.error("Error loading image "+U.src),[3,8];case 8:if(U instanceof Ru&&this.renderReplacedElement(U,ne,U.canvas),!(U instanceof ZA))return[3,12];Cr.label=9;case 9:return Cr.trys.push([9,11,,12]),[4,this.context.cache.match(U.svg)];case 10:return Ur=Cr.sent(),this.renderReplacedElement(U,ne,Ur),[3,12];case 11:return Cr.sent(),this.context.logger.error("Error loading svg "+U.svg.substring(0,255)),[3,12];case 12:return U instanceof jd&&U.tree?(Ct=new j(this.context,{scale:this.options.scale,backgroundColor:U.backgroundColor,x:0,y:0,width:U.width,height:U.height}),[4,Ct.render(U.tree)]):[3,14];case 13:Rt=Cr.sent(),U.width&&U.height&&this.ctx.drawImage(Rt,0,0,U.width,U.height,U.bounds.left,U.bounds.top,U.bounds.width,U.bounds.height),Cr.label=14;case 14:if(U instanceof Rc&&(Wt=Math.min(U.bounds.width,U.bounds.height),U.type===gA?U.checked&&(this.ctx.save(),this.path([new Ws(U.bounds.left+Wt*.39363,U.bounds.top+Wt*.79),new Ws(U.bounds.left+Wt*.16,U.bounds.top+Wt*.5549),new Ws(U.bounds.left+Wt*.27347,U.bounds.top+Wt*.44071),new Ws(U.bounds.left+Wt*.39694,U.bounds.top+Wt*.5649),new Ws(U.bounds.left+Wt*.72983,U.bounds.top+Wt*.23),new Ws(U.bounds.left+Wt*.84,U.bounds.top+Wt*.34085),new Ws(U.bounds.left+Wt*.39363,U.bounds.top+Wt*.79)]),this.ctx.fillStyle=ar(jc),this.ctx.fill(),this.ctx.restore()):U.type===xA&&U.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(U.bounds.left+Wt/2,U.bounds.top+Wt/2,Wt/4,0,Math.PI*2,!0),this.ctx.fillStyle=ar(jc),this.ctx.fill(),this.ctx.restore())),SA(U)&&U.value.length){switch(Ns=this.createFontStyle(we),Yn=Ns[0],jr=Ns[1],Zs=this.fontMetrics.getMetrics(Yn,jr).baseline,this.ctx.font=Yn,this.ctx.fillStyle=ar(we.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=EA(U.styles.textAlign),Cn=jl(U),dr=0,U.styles.textAlign){case 1:dr+=Cn.width/2;break;case 2:dr+=Cn.width;break}Jr=Cn.add(dr,0,0,-Cn.height/2+1),this.ctx.save(),this.path([new Ws(Cn.left,Cn.top),new Ws(Cn.left+Cn.width,Cn.top),new Ws(Cn.left+Cn.width,Cn.top+Cn.height),new Ws(Cn.left,Cn.top+Cn.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new eu(U.value,Jr),we.letterSpacing,Zs),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!C(U.styles.display,2048))return[3,20];if(U.styles.listStyleImage===null)return[3,19];if(Fr=U.styles.listStyleImage,Fr.type!==0)return[3,18];Ur=void 0,ta=Fr.url,Cr.label=15;case 15:return Cr.trys.push([15,17,,18]),[4,this.context.cache.match(ta)];case 16:return Ur=Cr.sent(),this.ctx.drawImage(Ur,U.bounds.left-(Ur.width+10),U.bounds.top),[3,18];case 17:return Cr.sent(),this.context.logger.error("Error loading list-style-image "+ta),[3,18];case 18:return[3,20];case 19:L.listValue&&U.styles.listStyleType!==-1&&(Yn=this.createFontStyle(we)[0],this.ctx.font=Yn,this.ctx.fillStyle=ar(we.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Cn=new A(U.bounds.left,U.bounds.top+vn(U.styles.paddingTop,U.bounds.width),U.bounds.width,bu(we.lineHeight,we.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new eu(L.listValue,Cn),we.letterSpacing,bu(we.lineHeight,we.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Cr.label=20;case 20:return[2]}})})},j.prototype.renderStackContent=function(L){return l(this,void 0,void 0,function(){var U,ne,Fr,we,Le,Fr,Ze,qe,Fr,Ct,Rt,Fr,Wt,Ns,Fr,jr,Zs,Fr,dr,Jr,Fr;return u(this,function(Ur){switch(Ur.label){case 0:if(C(L.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(L.element)];case 1:Ur.sent(),U=0,ne=L.negativeZIndex,Ur.label=2;case 2:return U<ne.length?(Fr=ne[U],[4,this.renderStack(Fr)]):[3,5];case 3:Ur.sent(),Ur.label=4;case 4:return U++,[3,2];case 5:return[4,this.renderNodeContent(L.element)];case 6:Ur.sent(),we=0,Le=L.nonInlineLevel,Ur.label=7;case 7:return we<Le.length?(Fr=Le[we],[4,this.renderNode(Fr)]):[3,10];case 8:Ur.sent(),Ur.label=9;case 9:return we++,[3,7];case 10:Ze=0,qe=L.nonPositionedFloats,Ur.label=11;case 11:return Ze<qe.length?(Fr=qe[Ze],[4,this.renderStack(Fr)]):[3,14];case 12:Ur.sent(),Ur.label=13;case 13:return Ze++,[3,11];case 14:Ct=0,Rt=L.nonPositionedInlineLevel,Ur.label=15;case 15:return Ct<Rt.length?(Fr=Rt[Ct],[4,this.renderStack(Fr)]):[3,18];case 16:Ur.sent(),Ur.label=17;case 17:return Ct++,[3,15];case 18:Wt=0,Ns=L.inlineLevel,Ur.label=19;case 19:return Wt<Ns.length?(Fr=Ns[Wt],[4,this.renderNode(Fr)]):[3,22];case 20:Ur.sent(),Ur.label=21;case 21:return Wt++,[3,19];case 22:jr=0,Zs=L.zeroOrAutoZIndexOrTransformedOrOpacity,Ur.label=23;case 23:return jr<Zs.length?(Fr=Zs[jr],[4,this.renderStack(Fr)]):[3,26];case 24:Ur.sent(),Ur.label=25;case 25:return jr++,[3,23];case 26:dr=0,Jr=L.positiveZIndex,Ur.label=27;case 27:return dr<Jr.length?(Fr=Jr[dr],[4,this.renderStack(Fr)]):[3,30];case 28:Ur.sent(),Ur.label=29;case 29:return dr++,[3,27];case 30:return[2]}})})},j.prototype.mask=function(L){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(L.slice(0).reverse()),this.ctx.closePath()},j.prototype.path=function(L){this.ctx.beginPath(),this.formatPath(L),this.ctx.closePath()},j.prototype.formatPath=function(L){var U=this;L.forEach(function(ne,we){var Le=di(ne)?ne.start:ne;we===0?U.ctx.moveTo(Le.x,Le.y):U.ctx.lineTo(Le.x,Le.y),di(ne)&&U.ctx.bezierCurveTo(ne.startControl.x,ne.startControl.y,ne.endControl.x,ne.endControl.y,ne.end.x,ne.end.y)})},j.prototype.renderRepeat=function(L,U,ne,we){this.path(L),this.ctx.fillStyle=U,this.ctx.translate(ne,we),this.ctx.fill(),this.ctx.translate(-ne,-we)},j.prototype.resizeImage=function(L,U,ne){var we;if(L.width===U&&L.height===ne)return L;var Le=(we=this.canvas.ownerDocument)!==null&&we!==void 0?we:document,Ze=Le.createElement("canvas");Ze.width=Math.max(1,U),Ze.height=Math.max(1,ne);var qe=Ze.getContext("2d");return qe.drawImage(L,0,0,L.width,L.height,0,0,U,ne),Ze},j.prototype.renderBackgroundImage=function(L){return l(this,void 0,void 0,function(){var U,ne,we,Le,Ze,qe;return u(this,function(Ct){switch(Ct.label){case 0:U=L.styles.backgroundImage.length-1,ne=function(Rt){var Wt,Ns,jr,Co,_l,ic,ii,Ql,ya,Zs,Co,_l,ic,ii,Ql,dr,Jr,Fr,Ur,ta,Yn,Cn,Cr,ca,ya,sn,Co,yi,Hc,ii,Ql,Cc,_l,ic,kd,Hd,Bu,Ku,Gu,Bd,Su,Eu;return u(this,function(ch){switch(ch.label){case 0:if(Rt.type!==0)return[3,5];Wt=void 0,Ns=Rt.url,ch.label=1;case 1:return ch.trys.push([1,3,,4]),[4,we.context.cache.match(Ns)];case 2:return Wt=ch.sent(),[3,4];case 3:return ch.sent(),we.context.logger.error("Error loading background-image "+Ns),[3,4];case 4:return Wt&&(jr=ru(L,U,[Wt.width,Wt.height,Wt.width/Wt.height]),Co=jr[0],_l=jr[1],ic=jr[2],ii=jr[3],Ql=jr[4],ya=we.ctx.createPattern(we.resizeImage(Wt,ii,Ql),"repeat"),we.renderRepeat(Co,ya,_l,ic)),[3,6];case 5:xo(Rt)?(Zs=ru(L,U,[null,null,null]),Co=Zs[0],_l=Zs[1],ic=Zs[2],ii=Zs[3],Ql=Zs[4],dr=Ul(Rt.angle,ii,Ql),Jr=dr[0],Fr=dr[1],Ur=dr[2],ta=dr[3],Yn=dr[4],Cn=document.createElement("canvas"),Cn.width=ii,Cn.height=Ql,Cr=Cn.getContext("2d"),ca=Cr.createLinearGradient(Fr,ta,Ur,Yn),gi(Rt.stops,Jr).forEach(function(tf){return ca.addColorStop(tf.stop,ar(tf.color))}),Cr.fillStyle=ca,Cr.fillRect(0,0,ii,Ql),ii>0&&Ql>0&&(ya=we.ctx.createPattern(Cn,"repeat"),we.renderRepeat(Co,ya,_l,ic))):gc(Rt)&&(sn=ru(L,U,[null,null,null]),Co=sn[0],yi=sn[1],Hc=sn[2],ii=sn[3],Ql=sn[4],Cc=Rt.position.length===0?[Br]:Rt.position,_l=vn(Cc[0],ii),ic=vn(Cc[Cc.length-1],Ql),kd=go(Rt,_l,ic,ii,Ql),Hd=kd[0],Bu=kd[1],Hd>0&&Bu>0&&(Ku=we.ctx.createRadialGradient(yi+_l,Hc+ic,0,yi+_l,Hc+ic,Hd),gi(Rt.stops,Hd*2).forEach(function(tf){return Ku.addColorStop(tf.stop,ar(tf.color))}),we.path(Co),we.ctx.fillStyle=Ku,Hd!==Bu?(Gu=L.bounds.left+.5*L.bounds.width,Bd=L.bounds.top+.5*L.bounds.height,Su=Bu/Hd,Eu=1/Su,we.ctx.save(),we.ctx.translate(Gu,Bd),we.ctx.transform(1,0,0,Su,0,0),we.ctx.translate(-Gu,-Bd),we.ctx.fillRect(yi,Eu*(Hc-Bd)+Bd,ii,Ql*Eu),we.ctx.restore()):we.ctx.fill())),ch.label=6;case 6:return U--,[2]}})},we=this,Le=0,Ze=L.styles.backgroundImage.slice(0).reverse(),Ct.label=1;case 1:return Le<Ze.length?(qe=Ze[Le],[5,ne(qe)]):[3,4];case 2:Ct.sent(),Ct.label=3;case 3:return Le++,[3,1];case 4:return[2]}})})},j.prototype.renderSolidBorder=function(L,U,ne){return l(this,void 0,void 0,function(){return u(this,function(we){return this.path(Df(ne,U)),this.ctx.fillStyle=ar(L),this.ctx.fill(),[2]})})},j.prototype.renderDoubleBorder=function(L,U,ne,we){return l(this,void 0,void 0,function(){var Le,Ze;return u(this,function(qe){switch(qe.label){case 0:return U<3?[4,this.renderSolidBorder(L,ne,we)]:[3,2];case 1:return qe.sent(),[2];case 2:return Le=CA(we,ne),this.path(Le),this.ctx.fillStyle=ar(L),this.ctx.fill(),Ze=ul(we,ne),this.path(Ze),this.ctx.fill(),[2]}})})},j.prototype.renderNodeBackgroundAndBorders=function(L){return l(this,void 0,void 0,function(){var U,ne,we,Le,Ze,qe,Ct,Rt,Wt=this;return u(this,function(Ns){switch(Ns.label){case 0:return this.applyEffects(L.getEffects(2)),U=L.container.styles,ne=!jn(U.backgroundColor)||U.backgroundImage.length,we=[{style:U.borderTopStyle,color:U.borderTopColor,width:U.borderTopWidth},{style:U.borderRightStyle,color:U.borderRightColor,width:U.borderRightWidth},{style:U.borderBottomStyle,color:U.borderBottomColor,width:U.borderBottomWidth},{style:U.borderLeftStyle,color:U.borderLeftColor,width:U.borderLeftWidth}],Le=Pf(_c(U.backgroundClip,0),L.curves),ne||U.boxShadow.length?(this.ctx.save(),this.path(Le),this.ctx.clip(),jn(U.backgroundColor)||(this.ctx.fillStyle=ar(U.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(L.container)]):[3,2];case 1:Ns.sent(),this.ctx.restore(),U.boxShadow.slice(0).reverse().forEach(function(jr){Wt.ctx.save();var Zs=Sa(L.curves),dr=jr.inset?0:$u,Jr=Ui(Zs,-dr+(jr.inset?1:-1)*jr.spread.number,(jr.inset?1:-1)*jr.spread.number,jr.spread.number*(jr.inset?-2:2),jr.spread.number*(jr.inset?-2:2));jr.inset?(Wt.path(Zs),Wt.ctx.clip(),Wt.mask(Jr)):(Wt.mask(Zs),Wt.ctx.clip(),Wt.path(Jr)),Wt.ctx.shadowOffsetX=jr.offsetX.number+dr,Wt.ctx.shadowOffsetY=jr.offsetY.number,Wt.ctx.shadowColor=ar(jr.color),Wt.ctx.shadowBlur=jr.blur.number,Wt.ctx.fillStyle=jr.inset?ar(jr.color):"rgba(0,0,0,1)",Wt.ctx.fill(),Wt.ctx.restore()}),Ns.label=2;case 2:Ze=0,qe=0,Ct=we,Ns.label=3;case 3:return qe<Ct.length?(Rt=Ct[qe],Rt.style!==0&&!jn(Rt.color)&&Rt.width>0?Rt.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Rt.color,Rt.width,Ze,L.curves,2)]:[3,11]):[3,13];case 4:return Ns.sent(),[3,11];case 5:return Rt.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Rt.color,Rt.width,Ze,L.curves,3)];case 6:return Ns.sent(),[3,11];case 7:return Rt.style!==4?[3,9]:[4,this.renderDoubleBorder(Rt.color,Rt.width,Ze,L.curves)];case 8:return Ns.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Rt.color,Ze,L.curves)];case 10:Ns.sent(),Ns.label=11;case 11:Ze++,Ns.label=12;case 12:return qe++,[3,3];case 13:return[2]}})})},j.prototype.renderDashedDottedBorder=function(L,U,ne,we,Le){return l(this,void 0,void 0,function(){var Ze,qe,Ct,Rt,Wt,Ns,jr,Zs,dr,Jr,Fr,Ur,ta,Yn,Cn,Cr,Cn,Cr;return u(this,function(ca){return this.ctx.save(),Ze=Qc(we,ne),qe=Df(we,ne),Le===2&&(this.path(qe),this.ctx.clip()),di(qe[0])?(Ct=qe[0].start.x,Rt=qe[0].start.y):(Ct=qe[0].x,Rt=qe[0].y),di(qe[1])?(Wt=qe[1].end.x,Ns=qe[1].end.y):(Wt=qe[1].x,Ns=qe[1].y),ne===0||ne===2?jr=Math.abs(Ct-Wt):jr=Math.abs(Rt-Ns),this.ctx.beginPath(),Le===3?this.formatPath(Ze):this.formatPath(qe.slice(0,2)),Zs=U<3?U*3:U*2,dr=U<3?U*2:U,Le===3&&(Zs=U,dr=U),Jr=!0,jr<=Zs*2?Jr=!1:jr<=Zs*2+dr?(Fr=jr/(2*Zs+dr),Zs*=Fr,dr*=Fr):(Ur=Math.floor((jr+dr)/(Zs+dr)),ta=(jr-Ur*Zs)/(Ur-1),Yn=(jr-(Ur+1)*Zs)/Ur,dr=Yn<=0||Math.abs(dr-ta)<Math.abs(dr-Yn)?ta:Yn),Jr&&(Le===3?this.ctx.setLineDash([0,Zs+dr]):this.ctx.setLineDash([Zs,dr])),Le===3?(this.ctx.lineCap="round",this.ctx.lineWidth=U):this.ctx.lineWidth=U*2+1.1,this.ctx.strokeStyle=ar(L),this.ctx.stroke(),this.ctx.setLineDash([]),Le===2&&(di(qe[0])&&(Cn=qe[3],Cr=qe[0],this.ctx.beginPath(),this.formatPath([new Ws(Cn.end.x,Cn.end.y),new Ws(Cr.start.x,Cr.start.y)]),this.ctx.stroke()),di(qe[1])&&(Cn=qe[1],Cr=qe[2],this.ctx.beginPath(),this.formatPath([new Ws(Cn.end.x,Cn.end.y),new Ws(Cr.start.x,Cr.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},j.prototype.render=function(L){return l(this,void 0,void 0,function(){var U;return u(this,function(ne){switch(ne.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ar(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),U=If(L),[4,this.renderStack(U)];case 1:return ne.sent(),this.applyEffects([]),[2,this.canvas]}})})},j})(qh),SA=function(B){return B instanceof bA||B instanceof Ff?!0:B instanceof Rc&&B.type!==xA&&B.type!==gA},Pf=function(B,j){switch(B){case 0:return Sa(j);case 2:return nc(j);case 1:default:return qi(j)}},EA=function(B){switch(B){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ef=["-apple-system","system-ui"],va=function(B){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?B.filter(function(j){return ef.indexOf(j)===-1}):B},ga=(function(B){n(j,B);function j(L,U){var ne=B.call(this,L,U)||this;return ne.canvas=U.canvas?U.canvas:document.createElement("canvas"),ne.ctx=ne.canvas.getContext("2d"),ne.options=U,ne.canvas.width=Math.floor(U.width*U.scale),ne.canvas.height=Math.floor(U.height*U.scale),ne.canvas.style.width=U.width+"px",ne.canvas.style.height=U.height+"px",ne.ctx.scale(ne.options.scale,ne.options.scale),ne.ctx.translate(-U.x,-U.y),ne.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+U.width+"x"+U.height+" at "+U.x+","+U.y+") with scale "+U.scale),ne}return j.prototype.render=function(L){return l(this,void 0,void 0,function(){var U,ne;return u(this,function(we){switch(we.label){case 0:return U=KA(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,L),[4,In(U)];case 1:return ne=we.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ar(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(ne,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},j})(qh),In=function(B){return new Promise(function(j,L){var U=new Image;U.onload=function(){j(U)},U.onerror=L,U.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(B))})},Hn=(function(){function B(j){var L=j.id,U=j.enabled;this.id=L,this.enabled=U,this.start=Date.now()}return B.prototype.debug=function(){for(var j=[],L=0;L<arguments.length;L++)j[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,d([this.id,this.getTime()+"ms"],j)):this.info.apply(this,j))},B.prototype.getTime=function(){return Date.now()-this.start},B.prototype.info=function(){for(var j=[],L=0;L<arguments.length;L++)j[L]=arguments[L];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,d([this.id,this.getTime()+"ms"],j))},B.prototype.warn=function(){for(var j=[],L=0;L<arguments.length;L++)j[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,d([this.id,this.getTime()+"ms"],j)):this.info.apply(this,j))},B.prototype.error=function(){for(var j=[],L=0;L<arguments.length;L++)j[L]=arguments[L];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,d([this.id,this.getTime()+"ms"],j)):this.info.apply(this,j))},B.instances={},B})(),Ea=(function(){function B(j,L){var U;this.windowBounds=L,this.instanceName="#"+B.instanceCount++,this.logger=new Hn({id:this.instanceName,enabled:j.logging}),this.cache=(U=j.cache)!==null&&U!==void 0?U:new ia(this,j)}return B.instanceCount=1,B})(),Pl=function(B,j){return j===void 0&&(j={}),_d(B,j)};typeof window<"u"&&Hi.setContext(window);var _d=function(B,j){return l(void 0,void 0,void 0,function(){var L,U,ne,we,Le,Ze,qe,Ct,Rt,Wt,Ns,jr,Zs,dr,Jr,Fr,Ur,ta,Yn,Cn,ca,Cr,ca,ya,sn,Co,yi,Hc,ii,Ql,Cc,_l,ic,kd,Hd,Bu,Ku,Gu,Bd,Su;return u(this,function(Eu){switch(Eu.label){case 0:if(!B||typeof B!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(L=B.ownerDocument,!L)throw new Error("Element is not attached to a Document");if(U=L.defaultView,!U)throw new Error("Document is not attached to a Window");return ne={allowTaint:(ya=j.allowTaint)!==null&&ya!==void 0?ya:!1,imageTimeout:(sn=j.imageTimeout)!==null&&sn!==void 0?sn:15e3,proxy:j.proxy,useCORS:(Co=j.useCORS)!==null&&Co!==void 0?Co:!1},we=a({logging:(yi=j.logging)!==null&&yi!==void 0?yi:!0,cache:j.cache},ne),Le={windowWidth:(Hc=j.windowWidth)!==null&&Hc!==void 0?Hc:U.innerWidth,windowHeight:(ii=j.windowHeight)!==null&&ii!==void 0?ii:U.innerHeight,scrollX:(Ql=j.scrollX)!==null&&Ql!==void 0?Ql:U.pageXOffset,scrollY:(Cc=j.scrollY)!==null&&Cc!==void 0?Cc:U.pageYOffset},Ze=new A(Le.scrollX,Le.scrollY,Le.windowWidth,Le.windowHeight),qe=new Ea(we,Ze),Ct=(_l=j.foreignObjectRendering)!==null&&_l!==void 0?_l:!1,Rt={allowTaint:(ic=j.allowTaint)!==null&&ic!==void 0?ic:!1,onclone:j.onclone,ignoreElements:j.ignoreElements,inlineImages:Ct,copyStyles:Ct},qe.logger.debug("Starting document clone with size "+Ze.width+"x"+Ze.height+" scrolled to "+-Ze.left+","+-Ze.top),Wt=new zr(qe,B,Rt),Ns=Wt.clonedReferenceElement,Ns?[4,Wt.toIFrame(L,Ze)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return jr=Eu.sent(),Zs=nh(Ns)||Xh(Ns)?f(Ns.ownerDocument):o(qe,Ns),dr=Zs.width,Jr=Zs.height,Fr=Zs.left,Ur=Zs.top,ta=Vu(qe,Ns,j.backgroundColor),Yn={canvas:j.canvas,backgroundColor:ta,scale:(Hd=(kd=j.scale)!==null&&kd!==void 0?kd:U.devicePixelRatio)!==null&&Hd!==void 0?Hd:1,x:((Bu=j.x)!==null&&Bu!==void 0?Bu:0)+Fr,y:((Ku=j.y)!==null&&Ku!==void 0?Ku:0)+Ur,width:(Gu=j.width)!==null&&Gu!==void 0?Gu:Math.ceil(dr),height:(Bd=j.height)!==null&&Bd!==void 0?Bd:Math.ceil(Jr)},Ct?(qe.logger.debug("Document cloned, using foreign object rendering"),ca=new ga(qe,Yn),[4,ca.render(Ns)]):[3,3];case 2:return Cn=Eu.sent(),[3,5];case 3:return qe.logger.debug("Document cloned, element located at "+Fr+","+Ur+" with size "+dr+"x"+Jr+" using computed rendering"),qe.logger.debug("Starting DOM parsing"),Cr=eh(qe,Ns),ta===Cr.styles.backgroundColor&&(Cr.styles.backgroundColor=pi.TRANSPARENT),qe.logger.debug("Starting renderer for element at "+Yn.x+","+Yn.y+" with size "+Yn.width+"x"+Yn.height),ca=new Rf(qe,Yn),[4,ca.render(Cr)];case 4:Cn=Eu.sent(),Eu.label=5;case 5:return(!((Su=j.removeContainer)!==null&&Su!==void 0)||Su)&&(zr.destroy(jr)||qe.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),qe.logger.debug("Finished rendering"),[2,Cn]}})})},Vu=function(B,j,L){var U=j.ownerDocument,ne=U.documentElement?li(B,getComputedStyle(U.documentElement).backgroundColor):pi.TRANSPARENT,we=U.body?li(B,getComputedStyle(U.body).backgroundColor):pi.TRANSPARENT,Le=typeof L=="string"?li(B,L):L===null?pi.TRANSPARENT:4294967295;return j===U.documentElement?jn(ne)?jn(we)?Le:we:ne:Le};return Pl}))})(Bp)),Bp.exports}/*!
 * html2pdf.js v0.14.0
 * Copyright (c) 2026 Erik Koopmans
 * Released under the MIT License.
 */var aw;function PD(){return aw||(aw=1,(function(s,e){(function(n,a){s.exports=a(RD())})(self,function(r){return(function(){var n={"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(m,p){(p==null||p>m.length)&&(p=m.length);for(var x=0,b=Array(p);x<p;x++)b[x]=m[x];return b}}),"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(m){if(Array.isArray(m))return m}}),"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return m}});function f(p,x,b,y,w,E,R){try{var z=p[E](R),X=z.value}catch(Y){return void b(Y)}z.done?x(X):Promise.resolve(X).then(y,w)}function m(p){return function(){var x=this,b=arguments;return new Promise(function(y,w){var E=p.apply(x,b);function R(X){f(E,y,w,R,z,"next",X)}function z(X){f(E,y,w,R,z,"throw",X)}R(void 0)})}}}),"./node_modules/@babel/runtime/helpers/esm/defineProperty.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return m}});var f=o("./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js");function m(p,x,b){return(x=(0,f.default)(x))in p?Object.defineProperty(p,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):p[x]=b,p}}),"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(m,p){var x=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(x!=null){var b,y,w,E,R=[],z=!0,X=!1;try{if(w=(x=x.call(m)).next,p===0){if(Object(x)!==x)return;z=!1}else for(;!(z=(b=w.call(x)).done)&&(R.push(b.value),R.length!==p);z=!0);}catch(Y){X=!0,y=Y}finally{try{if(!z&&x.return!=null&&(E=x.return(),Object(E)!==E))return}finally{if(X)throw y}}return R}}}),"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}}),"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return b}});var f=o("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),m=o("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),p=o("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),x=o("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js");function b(y,w){return(0,f.default)(y)||(0,m.default)(y,w)||(0,p.default)(y,w)||(0,x.default)()}}),"./node_modules/@babel/runtime/helpers/esm/toPrimitive.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return m}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js");function m(p,x){if((0,f.default)(p)!="object"||!p)return p;var b=p[Symbol.toPrimitive];if(b!==void 0){var y=b.call(p,x||"default");if((0,f.default)(y)!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(p)}}),"./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return p}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),m=o("./node_modules/@babel/runtime/helpers/esm/toPrimitive.js");function p(x){var b=(0,m.default)(x,"string");return(0,f.default)(b)=="symbol"?b:b+""}}),"./node_modules/@babel/runtime/helpers/esm/typeof.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return f}});function f(m){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},f(m)}}),"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return m}});var f=o("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js");function m(p,x){if(p){if(typeof p=="string")return(0,f.default)(p,x);var b={}.toString.call(p).slice(8,-1);return b==="Object"&&p.constructor&&(b=p.constructor.name),b==="Map"||b==="Set"?Array.from(p):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?(0,f.default)(p,x):void 0}}}),"./node_modules/canvg/lib/index.es.js":(function(d,A,o){o.r(A),o.d(A,{AElement:function(){return ho},AnimateColorElement:function(){return Ii},AnimateElement:function(){return Zn},AnimateTransformElement:function(){return Dn},BoundingBox:function(){return ir},CB1:function(){return fe},CB2:function(){return te},CB3:function(){return ge},CB4:function(){return Fe},Canvg:function(){return oo},CircleElement:function(){return Ss},ClipPathElement:function(){return hi},DefsElement:function(){return Va},DescElement:function(){return Ki},Document:function(){return mi},Element:function(){return er},EllipseElement:function(){return Os},FeColorMatrixElement:function(){return mo},FeCompositeElement:function(){return Pa},FeDropShadowElement:function(){return Ka},FeGaussianBlurElement:function(){return po},FeMorphologyElement:function(){return ki},FilterElement:function(){return Wr},Font:function(){return Vs},FontElement:function(){return mc},FontFaceElement:function(){return oi},GElement:function(){return ha},GlyphElement:function(){return hs},GradientElement:function(){return fn},ImageElement:function(){return qn},LineElement:function(){return sr},LinearGradientElement:function(){return Bn},MarkerElement:function(){return ur},MaskElement:function(){return ti},Matrix:function(){return Ms},MissingGlyphElement:function(){return To},Mouse:function(){return cs},PSEUDO_ZERO:function(){return De},Parser:function(){return vs},PathElement:function(){return As},PathParser:function(){return wt},PatternElement:function(){return Gr},Point:function(){return Vt},PolygonElement:function(){return Pr},PolylineElement:function(){return fs},Property:function(){return Ge},QB1:function(){return $e},QB2:function(){return kt},QB3:function(){return St},RadialGradientElement:function(){return ln},RectElement:function(){return wa},RenderedElement:function(){return es},Rotate:function(){return Ar},SVGElement:function(){return en},SVGFontLoader:function(){return Ai},Scale:function(){return hr},Screen:function(){return At},Skew:function(){return ys},SkewX:function(){return Us},SkewY:function(){return xr},StopElement:function(){return fa},StyleElement:function(){return Ci},SymbolElement:function(){return fo},TRefElement:function(){return Vl},TSpanElement:function(){return zs},TextElement:function(){return Ks},TextPathElement:function(){return sa},TitleElement:function(){return Gn},Transform:function(){return Nr},Translate:function(){return fr},UnknownElement:function(){return Ys},UseElement:function(){return Al},ViewPort:function(){return Mt},compressSpaces:function(){return z},default:function(){return oo},getSelectorSpecificity:function(){return Ee},normalizeAttributeName:function(){return le},normalizeColor:function(){return je},parseExternalUrl:function(){return Ae},presets:function(){return R},toNumbers:function(){return Q},trimLeft:function(){return X},trimRight:function(){return Y},vectorMagnitude:function(){return ke},vectorsAngle:function(){return ye},vectorsRatio:function(){return pe}}),o("./node_modules/core-js/modules/es.promise.js");var f=o("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");o("./node_modules/core-js/modules/es.string.match.js"),o("./node_modules/core-js/modules/es.string.replace.js"),o("./node_modules/core-js/modules/es.string.starts-with.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var m=o("./node_modules/@babel/runtime/helpers/esm/defineProperty.js");o("./node_modules/core-js/modules/es.array.reduce.js"),o("./node_modules/core-js/modules/es.string.ends-with.js"),o("./node_modules/core-js/modules/es.string.split.js");var p=o("./node_modules/raf/index.js");o("./node_modules/core-js/modules/es.string.trim.js");var x=o("./node_modules/rgbcolor/index.js");o("./node_modules/core-js/modules/es.array.index-of.js"),o("./node_modules/core-js/modules/es.string.includes.js"),o("./node_modules/core-js/modules/es.array.reverse.js");var b=o("./node_modules/svg-pathdata/lib/SVGPathData.module.js");o("./node_modules/core-js/modules/es.regexp.to-string.js");var y=o("./node_modules/stackblur-canvas/dist/stackblur-es.js");function w(){var{DOMParser:Tt}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F={window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:Tt,createCanvas(K,J){return new OffscreenCanvas(K,J)},createImage(K){return(0,f.default)(function*(){var J=yield fetch(K),T=yield J.blob(),M=yield createImageBitmap(T);return M})()}};return(typeof DOMParser<"u"||typeof Tt>"u")&&Reflect.deleteProperty(F,"DOMParser"),F}function E(Tt){var{DOMParser:F,canvas:K,fetch:J}=Tt;return{window:null,ignoreAnimation:!0,ignoreMouse:!0,DOMParser:F,fetch:J,createCanvas:K.createCanvas,createImage:K.loadImage}}var R=Object.freeze({__proto__:null,offscreen:w,node:E});function z(Tt){return Tt.replace(/(?!\u3000)\s+/gm," ")}function X(Tt){return Tt.replace(/^[\n \t]+/,"")}function Y(Tt){return Tt.replace(/[\n \t]+$/,"")}function Q(Tt){var F=(Tt||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return F.map(parseFloat)}var G=/^[A-Z-]+$/;function le(Tt){return G.test(Tt)?Tt.toLowerCase():Tt}function Ae(Tt){var F=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(Tt)||[];return F[2]||F[3]||F[4]}function je(Tt){if(!Tt.startsWith("rgb"))return Tt;var F=3,K=Tt.replace(/\d+(\.\d+)?/g,(J,T)=>F--&&T?String(Math.round(parseFloat(J))):J);return K}var ue=/(\[[^\]]+\])/g,Se=/(#[^\s+>~.[:]+)/g,ae=/(\.[^\s+>~.[:]+)/g,Ne=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi,he=/(:[\w-]+\([^)]*\))/gi,se=/(:[^\s+>~.[:]+)/g,de=/([^\s+>~.[:]+)/g;function oe(Tt,F){var K=F.exec(Tt);return K?[Tt.replace(F," "),K.length]:[Tt,0]}function Ee(Tt){var F=[0,0,0],K=Tt.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," "),J=0;return[K,J]=oe(K,ue),F[1]+=J,[K,J]=oe(K,Se),F[0]+=J,[K,J]=oe(K,ae),F[1]+=J,[K,J]=oe(K,Ne),F[2]+=J,[K,J]=oe(K,he),F[1]+=J,[K,J]=oe(K,se),F[1]+=J,K=K.replace(/[*\s+>~]/g," ").replace(/[#.]/g," "),[K,J]=oe(K,de),F[2]+=J,F.join("")}var De=1e-8;function ke(Tt){return Math.sqrt(Math.pow(Tt[0],2)+Math.pow(Tt[1],2))}function pe(Tt,F){return(Tt[0]*F[0]+Tt[1]*F[1])/(ke(Tt)*ke(F))}function ye(Tt,F){return(Tt[0]*F[1]<Tt[1]*F[0]?-1:1)*Math.acos(pe(Tt,F))}function fe(Tt){return Tt*Tt*Tt}function te(Tt){return 3*Tt*Tt*(1-Tt)}function ge(Tt){return 3*Tt*(1-Tt)*(1-Tt)}function Fe(Tt){return(1-Tt)*(1-Tt)*(1-Tt)}function $e(Tt){return Tt*Tt}function kt(Tt){return 2*Tt*(1-Tt)}function St(Tt){return(1-Tt)*(1-Tt)}class Ge{constructor(F,K,J){this.document=F,this.name=K,this.value=J,this.isNormalizedColor=!1}static empty(F){return new Ge(F,"EMPTY","")}split(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:" ",{document:K,name:J}=this;return z(this.getString()).trim().split(F).map(T=>new Ge(K,J,T))}hasValue(F){var{value:K}=this;return K!==null&&K!==""&&(F||K!==0)&&typeof K<"u"}isString(F){var{value:K}=this,J=typeof K=="string";return!J||!F?J:F.test(K)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue())return!1;var F=this.getString();switch(!0){case F.endsWith("px"):case/^[0-9]+$/.test(F):return!0;default:return!1}}setValue(F){return this.value=F,this}getValue(F){return typeof F>"u"||this.hasValue()?this.value:F}getNumber(F){if(!this.hasValue())return typeof F>"u"?0:parseFloat(F);var{value:K}=this,J=parseFloat(K);return this.isString(/%$/)&&(J/=100),J}getString(F){return typeof F>"u"||this.hasValue()?typeof this.value>"u"?"":String(this.value):String(F)}getColor(F){var K=this.getString(F);return this.isNormalizedColor||(this.isNormalizedColor=!0,K=je(K),this.value=K),K}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(F){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!this.hasValue())return 0;var[J,T]=typeof F=="boolean"?[void 0,F]:[F],{viewPort:M}=this.document.screen;switch(!0){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(M.computeSize("x"),M.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(M.computeSize("x"),M.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*M.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*M.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*.013888888888888888;case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case(this.isString(/%$/)&&T):return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*M.computeSize(J);default:{var $=this.getNumber();return K&&$<1?$*M.computeSize(J):$}}}getMilliseconds(){return this.hasValue()?this.isString(/ms$/)?this.getNumber():this.getNumber()*1e3:0}getRadians(){if(!this.hasValue())return 0;switch(!0){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var F=this.getString(),K=/#([^)'"]+)/.exec(F);return K&&(K=K[1]),K||(K=F),this.document.definitions[K]}getFillStyleDefinition(F,K){var J=this.getDefinition();if(!J)return null;if(typeof J.createGradient=="function")return J.createGradient(this.document.ctx,F,K);if(typeof J.createPattern=="function"){if(J.getHrefAttribute().hasValue()){var T=J.getAttribute("patternTransform");J=J.getHrefAttribute().getDefinition(),T.hasValue()&&J.getAttribute("patternTransform",!0).setValue(T.value)}return J.createPattern(this.document.ctx,F,K)}return null}getTextBaseline(){return this.hasValue()?Ge.textBaselineMapping[this.getString()]:null}addOpacity(F){for(var K=this.getColor(),J=K.length,T=0,M=0;M<J&&(K[M]===","&&T++,T!==3);M++);if(F.hasValue()&&this.isString()&&T!==3){var $=new x(K);$.ok&&($.alpha=F.getNumber(),K=$.toRGBA())}return new Ge(this.document,this.name,K)}}Ge.textBaselineMapping={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};class Mt{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(F,K){this.viewPorts.push({width:F,height:K})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:F}=this;return F[F.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(F){return typeof F=="number"?F:F==="x"?this.width:F==="y"?this.height:Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class Vt{constructor(F,K){this.x=F,this.y=K}static parse(F){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,[J=K,T=K]=Q(F);return new Vt(J,T)}static parseScale(F){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,[J=K,T=J]=Q(F);return new Vt(J,T)}static parsePath(F){for(var K=Q(F),J=K.length,T=[],M=0;M<J;M+=2)T.push(new Vt(K[M],K[M+1]));return T}angleTo(F){return Math.atan2(F.y-this.y,F.x-this.x)}applyTransform(F){var{x:K,y:J}=this,T=K*F[0]+J*F[2]+F[4],M=K*F[1]+J*F[3]+F[5];this.x=T,this.y=M}}class cs{constructor(F){this.screen=F,this.working=!1,this.events=[],this.eventElements=[],this.onClick=this.onClick.bind(this),this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(!this.working){var{screen:F,onClick:K,onMouseMove:J}=this,T=F.ctx.canvas;T.onclick=K,T.onmousemove=J,this.working=!0}}stop(){if(this.working){var F=this.screen.ctx.canvas;this.working=!1,F.onclick=null,F.onmousemove=null}}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(this.working){var{screen:F,events:K,eventElements:J}=this,{style:T}=F.ctx.canvas;T&&(T.cursor=""),K.forEach((M,$)=>{for(var{run:ie}=M,ve=J[$];ve;)ie(ve),ve=ve.parent}),this.events=[],this.eventElements=[]}}checkPath(F,K){if(!(!this.working||!K)){var{events:J,eventElements:T}=this;J.forEach((M,$)=>{var{x:ie,y:ve}=M;!T[$]&&K.isPointInPath&&K.isPointInPath(ie,ve)&&(T[$]=F)})}}checkBoundingBox(F,K){if(!(!this.working||!K)){var{events:J,eventElements:T}=this;J.forEach((M,$)=>{var{x:ie,y:ve}=M;!T[$]&&K.isPointInBox(ie,ve)&&(T[$]=F)})}}mapXY(F,K){for(var{window:J,ctx:T}=this.screen,M=new Vt(F,K),$=T.canvas;$;)M.x-=$.offsetLeft,M.y-=$.offsetTop,$=$.offsetParent;return J.scrollX&&(M.x+=J.scrollX),J.scrollY&&(M.y+=J.scrollY),M}onClick(F){var{x:K,y:J}=this.mapXY(F.clientX,F.clientY);this.events.push({type:"onclick",x:K,y:J,run(T){T.onClick&&T.onClick()}})}onMouseMove(F){var{x:K,y:J}=this.mapXY(F.clientX,F.clientY);this.events.push({type:"onmousemove",x:K,y:J,run(T){T.onMouseMove&&T.onMouseMove()}})}}var xt=typeof window<"u"?window:null,ot=typeof fetch<"u"?fetch.bind(void 0):null;class At{constructor(F){var{fetch:K=ot,window:J=xt}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.ctx=F,this.FRAMERATE=30,this.MAX_VIRTUAL_PIXELS=3e4,this.CLIENT_WIDTH=800,this.CLIENT_HEIGHT=600,this.viewPort=new Mt,this.mouse=new cs(this),this.animations=[],this.waits=[],this.frameDuration=0,this.isReadyLock=!1,this.isFirstRender=!0,this.intervalId=null,this.window=J,this.fetch=K}wait(F){this.waits.push(F)}ready(){return this.readyPromise?this.readyPromise:Promise.resolve()}isReady(){if(this.isReadyLock)return!0;var F=this.waits.every(K=>K());return F&&(this.waits=[],this.resolveReady&&this.resolveReady()),this.isReadyLock=F,F}setDefaults(F){F.strokeStyle="rgba(0,0,0,0)",F.lineCap="butt",F.lineJoin="miter",F.miterLimit=4}setViewBox(F){var{document:K,ctx:J,aspectRatio:T,width:M,desiredWidth:$,height:ie,desiredHeight:ve,minX:Re=0,minY:Je=0,refX:N,refY:v,clip:S=!1,clipX:I=0,clipY:P=0}=F,V=z(T).replace(/^defer\s/,""),[ce,q]=V.split(" "),ee=ce||"xMidYMid",Ce=q||"meet",Me=M/$,ze=ie/ve,Xe=Math.min(Me,ze),xe=Math.max(Me,ze),ct=$,it=ve;Ce==="meet"&&(ct*=Xe,it*=Xe),Ce==="slice"&&(ct*=xe,it*=xe);var ut=new Ge(K,"refX",N),We=new Ge(K,"refY",v),jt=ut.hasValue()&&We.hasValue();if(jt&&J.translate(-Xe*ut.getPixels("x"),-Xe*We.getPixels("y")),S){var Pt=Xe*I,gt=Xe*P;J.beginPath(),J.moveTo(Pt,gt),J.lineTo(M,gt),J.lineTo(M,ie),J.lineTo(Pt,ie),J.closePath(),J.clip()}if(!jt){var Ke=Ce==="meet"&&Xe===ze,Ot=Ce==="slice"&&xe===ze,ls=Ce==="meet"&&Xe===Me,zt=Ce==="slice"&&xe===Me;ee.startsWith("xMid")&&(Ke||Ot)&&J.translate(M/2-ct/2,0),ee.endsWith("YMid")&&(ls||zt)&&J.translate(0,ie/2-it/2),ee.startsWith("xMax")&&(Ke||Ot)&&J.translate(M-ct,0),ee.endsWith("YMax")&&(ls||zt)&&J.translate(0,ie-it)}switch(!0){case ee==="none":J.scale(Me,ze);break;case Ce==="meet":J.scale(Xe,Xe);break;case Ce==="slice":J.scale(xe,xe);break}J.translate(-Re,-Je)}start(F){var{enableRedraw:K=!1,ignoreMouse:J=!1,ignoreAnimation:T=!1,ignoreDimensions:M=!1,ignoreClear:$=!1,forceRedraw:ie,scaleWidth:ve,scaleHeight:Re,offsetX:Je,offsetY:N}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{FRAMERATE:v,mouse:S}=this,I=1e3/v;if(this.frameDuration=I,this.readyPromise=new Promise(ee=>{this.resolveReady=ee}),this.isReady()&&this.render(F,M,$,ve,Re,Je,N),!!K){var P=Date.now(),V=P,ce=0,q=()=>{P=Date.now(),ce=P-V,ce>=I&&(V=P-ce%I,this.shouldUpdate(T,ie)&&(this.render(F,M,$,ve,Re,Je,N),S.runEvents())),this.intervalId=p(q)};J||S.start(),this.intervalId=p(q)}}stop(){this.intervalId&&(p.cancel(this.intervalId),this.intervalId=null),this.mouse.stop()}shouldUpdate(F,K){if(!F){var{frameDuration:J}=this,T=this.animations.reduce((M,$)=>$.update(J)||M,!1);if(T)return!0}return!!(typeof K=="function"&&K()||!this.isReadyLock&&this.isReady()||this.mouse.hasEvents())}render(F,K,J,T,M,$,ie){var{CLIENT_WIDTH:ve,CLIENT_HEIGHT:Re,viewPort:Je,ctx:N,isFirstRender:v}=this,S=N.canvas;Je.clear(),S.width&&S.height?Je.setCurrent(S.width,S.height):Je.setCurrent(ve,Re);var I=F.getStyle("width"),P=F.getStyle("height");!K&&(v||typeof T!="number"&&typeof M!="number")&&(I.hasValue()&&(S.width=I.getPixels("x"),S.style&&(S.style.width="".concat(S.width,"px"))),P.hasValue()&&(S.height=P.getPixels("y"),S.style&&(S.style.height="".concat(S.height,"px"))));var V=S.clientWidth||S.width,ce=S.clientHeight||S.height;if(K&&I.hasValue()&&P.hasValue()&&(V=I.getPixels("x"),ce=P.getPixels("y")),Je.setCurrent(V,ce),typeof $=="number"&&F.getAttribute("x",!0).setValue($),typeof ie=="number"&&F.getAttribute("y",!0).setValue(ie),typeof T=="number"||typeof M=="number"){var q=Q(F.getAttribute("viewBox").getString()),ee=0,Ce=0;if(typeof T=="number"){var Me=F.getStyle("width");Me.hasValue()?ee=Me.getPixels("x")/T:isNaN(q[2])||(ee=q[2]/T)}if(typeof M=="number"){var ze=F.getStyle("height");ze.hasValue()?Ce=ze.getPixels("y")/M:isNaN(q[3])||(Ce=q[3]/M)}ee||(ee=Ce),Ce||(Ce=ee),F.getAttribute("width",!0).setValue(T),F.getAttribute("height",!0).setValue(M);var Xe=F.getStyle("transform",!0,!0);Xe.setValue("".concat(Xe.getString()," scale(").concat(1/ee,", ").concat(1/Ce,")"))}J||N.clearRect(0,0,V,ce),F.render(N),v&&(this.isFirstRender=!1)}}At.defaultWindow=xt,At.defaultFetch=ot;var{defaultFetch:Lt}=At,$s=typeof DOMParser<"u"?DOMParser:null;class vs{constructor(){var{fetch:F=Lt,DOMParser:K=$s}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.fetch=F,this.DOMParser=K}parse(F){var K=this;return(0,f.default)(function*(){return F.startsWith("<")?K.parseFromString(F):K.load(F)})()}parseFromString(F){var K=new this.DOMParser;try{return this.checkDocument(K.parseFromString(F,"image/svg+xml"))}catch{return this.checkDocument(K.parseFromString(F,"text/xml"))}}checkDocument(F){var K=F.getElementsByTagName("parsererror")[0];if(K)throw new Error(K.textContent);return F}load(F){var K=this;return(0,f.default)(function*(){var J=yield K.fetch(F),T=yield J.text();return K.parseFromString(T)})()}}class fr{constructor(F,K){this.type="translate",this.point=null,this.point=Vt.parse(K)}apply(F){var{x:K,y:J}=this.point;F.translate(K||0,J||0)}unapply(F){var{x:K,y:J}=this.point;F.translate(-1*K||0,-1*J||0)}applyToPoint(F){var{x:K,y:J}=this.point;F.applyTransform([1,0,0,1,K||0,J||0])}}class Ar{constructor(F,K,J){this.type="rotate",this.angle=null,this.originX=null,this.originY=null,this.cx=0,this.cy=0;var T=Q(K);this.angle=new Ge(F,"angle",T[0]),this.originX=J[0],this.originY=J[1],this.cx=T[1]||0,this.cy=T[2]||0}apply(F){var{cx:K,cy:J,originX:T,originY:M,angle:$}=this,ie=K+T.getPixels("x"),ve=J+M.getPixels("y");F.translate(ie,ve),F.rotate($.getRadians()),F.translate(-ie,-ve)}unapply(F){var{cx:K,cy:J,originX:T,originY:M,angle:$}=this,ie=K+T.getPixels("x"),ve=J+M.getPixels("y");F.translate(ie,ve),F.rotate(-1*$.getRadians()),F.translate(-ie,-ve)}applyToPoint(F){var{cx:K,cy:J,angle:T}=this,M=T.getRadians();F.applyTransform([1,0,0,1,K||0,J||0]),F.applyTransform([Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0]),F.applyTransform([1,0,0,1,-K||0,-J||0])}}class hr{constructor(F,K,J){this.type="scale",this.scale=null,this.originX=null,this.originY=null;var T=Vt.parseScale(K);(T.x===0||T.y===0)&&(T.x=De,T.y=De),this.scale=T,this.originX=J[0],this.originY=J[1]}apply(F){var{scale:{x:K,y:J},originX:T,originY:M}=this,$=T.getPixels("x"),ie=M.getPixels("y");F.translate($,ie),F.scale(K,J||K),F.translate(-$,-ie)}unapply(F){var{scale:{x:K,y:J},originX:T,originY:M}=this,$=T.getPixels("x"),ie=M.getPixels("y");F.translate($,ie),F.scale(1/K,1/J||K),F.translate(-$,-ie)}applyToPoint(F){var{x:K,y:J}=this.scale;F.applyTransform([K||0,0,0,J||0,0,0])}}class Ms{constructor(F,K,J){this.type="matrix",this.matrix=[],this.originX=null,this.originY=null,this.matrix=Q(K),this.originX=J[0],this.originY=J[1]}apply(F){var{originX:K,originY:J,matrix:T}=this,M=K.getPixels("x"),$=J.getPixels("y");F.translate(M,$),F.transform(T[0],T[1],T[2],T[3],T[4],T[5]),F.translate(-M,-$)}unapply(F){var{originX:K,originY:J,matrix:T}=this,M=T[0],$=T[2],ie=T[4],ve=T[1],Re=T[3],Je=T[5],N=0,v=0,S=1,I=1/(M*(Re*S-Je*v)-$*(ve*S-Je*N)+ie*(ve*v-Re*N)),P=K.getPixels("x"),V=J.getPixels("y");F.translate(P,V),F.transform(I*(Re*S-Je*v),I*(Je*N-ve*S),I*(ie*v-$*S),I*(M*S-ie*N),I*($*Je-ie*Re),I*(ie*ve-M*Je)),F.translate(-P,-V)}applyToPoint(F){F.applyTransform(this.matrix)}}class ys extends Ms{constructor(F,K,J){super(F,K,J),this.type="skew",this.angle=null,this.angle=new Ge(F,"angle",K)}}class Us extends ys{constructor(F,K,J){super(F,K,J),this.type="skewX",this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class xr extends ys{constructor(F,K,J){super(F,K,J),this.type="skewY",this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function yr(Tt){return z(Tt).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function nn(Tt){var[F,K]=Tt.split("(");return[F.trim(),K.trim().replace(")","")]}class Nr{constructor(F,K,J){this.document=F,this.transforms=[];var T=yr(K);T.forEach(M=>{if(M!=="none"){var[$,ie]=nn(M),ve=Nr.transformTypes[$];typeof ve<"u"&&this.transforms.push(new ve(this.document,ie,J))}})}static fromElement(F,K){var J=K.getStyle("transform",!1,!0),[T,M=T]=K.getStyle("transform-origin",!1,!0).split(),$=[T,M];return J.hasValue()?new Nr(F,J.getString(),$):null}apply(F){for(var{transforms:K}=this,J=K.length,T=0;T<J;T++)K[T].apply(F)}unapply(F){for(var{transforms:K}=this,J=K.length,T=J-1;T>=0;T--)K[T].unapply(F)}applyToPoint(F){for(var{transforms:K}=this,J=K.length,T=0;T<J;T++)K[T].applyToPoint(F)}}Nr.transformTypes={translate:fr,rotate:Ar,scale:hr,matrix:Ms,skewX:Us,skewY:xr};class er{constructor(F,K){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(this.document=F,this.node=K,this.captureTextNodes=J,this.attributes=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.animationFrozen=!1,this.animationFrozenValue="",this.parent=null,this.children=[],!(!K||K.nodeType!==1)){if(Array.from(K.attributes).forEach(ie=>{var ve=le(ie.nodeName);this.attributes[ve]=new Ge(F,ve,ie.value)}),this.addStylesFromStyleDefinition(),this.getAttribute("style").hasValue()){var T=this.getAttribute("style").getString().split(";").map(ie=>ie.trim());T.forEach(ie=>{if(ie){var[ve,Re]=ie.split(":").map(Je=>Je.trim());this.styles[ve]=new Ge(F,ve,Re)}})}var{definitions:M}=F,$=this.getAttribute("id");$.hasValue()&&(M[$.getString()]||(M[$.getString()]=this)),Array.from(K.childNodes).forEach(ie=>{if(ie.nodeType===1)this.addChild(ie);else if(J&&(ie.nodeType===3||ie.nodeType===4)){var ve=F.createTextNode(ie);ve.getText().length>0&&this.addChild(ve)}})}}getAttribute(F){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,J=this.attributes[F];if(!J&&K){var T=new Ge(this.document,F,"");return this.attributes[F]=T,T}return J||Ge.empty(this.document)}getHrefAttribute(){for(var F in this.attributes)if(F==="href"||F.endsWith(":href"))return this.attributes[F];return Ge.empty(this.document)}getStyle(F){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=this.styles[F];if(T)return T;var M=this.getAttribute(F);if(M!=null&&M.hasValue())return this.styles[F]=M,M;if(!J){var{parent:$}=this;if($){var ie=$.getStyle(F);if(ie!=null&&ie.hasValue())return ie}}if(K){var ve=new Ge(this.document,F,"");return this.styles[F]=ve,ve}return T||Ge.empty(this.document)}render(F){if(!(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden")){if(F.save(),this.getStyle("mask").hasValue()){var K=this.getStyle("mask").getDefinition();K&&(this.applyEffects(F),K.apply(F,this))}else if(this.getStyle("filter").getValue("none")!=="none"){var J=this.getStyle("filter").getDefinition();J&&(this.applyEffects(F),J.apply(F,this))}else this.setContext(F),this.renderChildren(F),this.clearContext(F);F.restore()}}setContext(F){}applyEffects(F){var K=Nr.fromElement(this.document,this);K&&K.apply(F);var J=this.getStyle("clip-path",!1,!0);if(J.hasValue()){var T=J.getDefinition();T&&T.apply(F)}}clearContext(F){}renderChildren(F){this.children.forEach(K=>{K.render(F)})}addChild(F){var K=F instanceof er?F:this.document.createElement(F);K.parent=this,er.ignoreChildTypes.includes(K.type)||this.children.push(K)}matchesSelector(F){var K,{node:J}=this;if(typeof J.matches=="function")return J.matches(F);var T=(K=J.getAttribute)===null||K===void 0?void 0:K.call(J,"class");return!T||T===""?!1:T.split(" ").some(M=>".".concat(M)===F)}addStylesFromStyleDefinition(){var{styles:F,stylesSpecificity:K}=this.document;for(var J in F)if(!J.startsWith("@")&&this.matchesSelector(J)){var T=F[J],M=K[J];if(T)for(var $ in T){var ie=this.stylesSpecificity[$];typeof ie>"u"&&(ie="000"),M>=ie&&(this.styles[$]=T[$],this.stylesSpecificity[$]=M)}}}removeStyles(F,K){var J=K.reduce((T,M)=>{var $=F.getStyle(M);if(!$.hasValue())return T;var ie=$.getString();return $.setValue(""),[...T,[M,ie]]},[]);return J}restoreStyles(F,K){K.forEach(J=>{var[T,M]=J;F.getStyle(T,!0).setValue(M)})}isFirstChild(){var F;return((F=this.parent)===null||F===void 0?void 0:F.children.indexOf(this))===0}}er.ignoreChildTypes=["title"];class Ys extends er{constructor(F,K,J){super(F,K,J)}}function Ts(Tt){var F=Tt.trim();return/^('|")/.test(F)?F:'"'.concat(F,'"')}function ft(Tt){return typeof process>"u"?Tt:Tt.trim().split(",").map(Ts).join(",")}function Kt(Tt){if(!Tt)return"";var F=Tt.trim().toLowerCase();switch(F){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return F;default:return/^oblique\s+(-|)\d+deg$/.test(F)?F:""}}function Cs(Tt){if(!Tt)return"";var F=Tt.trim().toLowerCase();switch(F){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return F;default:return/^[\d.]+$/.test(F)?F:""}}class Vs{constructor(F,K,J,T,M,$){var ie=$?typeof $=="string"?Vs.parse($):$:{};this.fontFamily=M||ie.fontFamily,this.fontSize=T||ie.fontSize,this.fontStyle=F||ie.fontStyle,this.fontWeight=J||ie.fontWeight,this.fontVariant=K||ie.fontVariant}static parse(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",K=arguments.length>1?arguments[1]:void 0,J="",T="",M="",$="",ie="",ve=z(F).trim().split(" "),Re={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1};return ve.forEach(Je=>{switch(!0){case(!Re.fontStyle&&Vs.styles.includes(Je)):Je!=="inherit"&&(J=Je),Re.fontStyle=!0;break;case(!Re.fontVariant&&Vs.variants.includes(Je)):Je!=="inherit"&&(T=Je),Re.fontStyle=!0,Re.fontVariant=!0;break;case(!Re.fontWeight&&Vs.weights.includes(Je)):Je!=="inherit"&&(M=Je),Re.fontStyle=!0,Re.fontVariant=!0,Re.fontWeight=!0;break;case!Re.fontSize:Je!=="inherit"&&([$]=Je.split("/")),Re.fontStyle=!0,Re.fontVariant=!0,Re.fontWeight=!0,Re.fontSize=!0;break;default:Je!=="inherit"&&(ie+=Je)}}),new Vs(J,T,M,$,ie,K)}toString(){return[Kt(this.fontStyle),this.fontVariant,Cs(this.fontWeight),this.fontSize,ft(this.fontFamily)].join(" ").trim()}}Vs.styles="normal|italic|oblique|inherit",Vs.variants="normal|small-caps|inherit",Vs.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class ir{constructor(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Number.NaN,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.NaN,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Number.NaN,T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Number.NaN;this.x1=F,this.y1=K,this.x2=J,this.y2=T,this.addPoint(F,K),this.addPoint(J,T)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(F,K){typeof F<"u"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=F,this.x2=F),F<this.x1&&(this.x1=F),F>this.x2&&(this.x2=F)),typeof K<"u"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=K,this.y2=K),K<this.y1&&(this.y1=K),K>this.y2&&(this.y2=K))}addX(F){this.addPoint(F,null)}addY(F){this.addPoint(null,F)}addBoundingBox(F){if(F){var{x1:K,y1:J,x2:T,y2:M}=F;this.addPoint(K,J),this.addPoint(T,M)}}sumCubic(F,K,J,T,M){return Math.pow(1-F,3)*K+3*Math.pow(1-F,2)*F*J+3*(1-F)*Math.pow(F,2)*T+Math.pow(F,3)*M}bezierCurveAdd(F,K,J,T,M){var $=6*K-12*J+6*T,ie=-3*K+9*J-9*T+3*M,ve=3*J-3*K;if(ie===0){if($===0)return;var Re=-ve/$;0<Re&&Re<1&&(F?this.addX(this.sumCubic(Re,K,J,T,M)):this.addY(this.sumCubic(Re,K,J,T,M)));return}var Je=Math.pow($,2)-4*ve*ie;if(!(Je<0)){var N=(-$+Math.sqrt(Je))/(2*ie);0<N&&N<1&&(F?this.addX(this.sumCubic(N,K,J,T,M)):this.addY(this.sumCubic(N,K,J,T,M)));var v=(-$-Math.sqrt(Je))/(2*ie);0<v&&v<1&&(F?this.addX(this.sumCubic(v,K,J,T,M)):this.addY(this.sumCubic(v,K,J,T,M)))}}addBezierCurve(F,K,J,T,M,$,ie,ve){this.addPoint(F,K),this.addPoint(ie,ve),this.bezierCurveAdd(!0,F,J,M,ie),this.bezierCurveAdd(!1,K,T,$,ve)}addQuadraticCurve(F,K,J,T,M,$){var ie=F+.6666666666666666*(J-F),ve=K+2/3*(T-K),Re=ie+1/3*(M-F),Je=ve+1/3*($-K);this.addBezierCurve(F,K,ie,Re,ve,Je,M,$)}isPointInBox(F,K){var{x1:J,y1:T,x2:M,y2:$}=this;return J<=F&&F<=M&&T<=K&&K<=$}}class wt extends b.SVGPathData{constructor(F){super(F.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,"")),this.control=null,this.start=null,this.current=null,this.command=null,this.commands=this.commands,this.i=-1,this.previousCommand=null,this.points=[],this.angles=[]}reset(){this.i=-1,this.command=null,this.previousCommand=null,this.start=new Vt(0,0),this.control=new Vt(0,0),this.current=new Vt(0,0),this.points=[],this.angles=[]}isEnd(){var{i:F,commands:K}=this;return F>=K.length-1}next(){var F=this.commands[++this.i];return this.previousCommand=this.command,this.command=F,F}getPoint(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"x",K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"y",J=new Vt(this.command[F],this.command[K]);return this.makeAbsolute(J)}getAsControlPoint(F,K){var J=this.getPoint(F,K);return this.control=J,J}getAsCurrentPoint(F,K){var J=this.getPoint(F,K);return this.current=J,J}getReflectedControlPoint(){var F=this.previousCommand.type;if(F!==b.SVGPathData.CURVE_TO&&F!==b.SVGPathData.SMOOTH_CURVE_TO&&F!==b.SVGPathData.QUAD_TO&&F!==b.SVGPathData.SMOOTH_QUAD_TO)return this.current;var{current:{x:K,y:J},control:{x:T,y:M}}=this,$=new Vt(2*K-T,2*J-M);return $}makeAbsolute(F){if(this.command.relative){var{x:K,y:J}=this.current;F.x+=K,F.y+=J}return F}addMarker(F,K,J){var{points:T,angles:M}=this;J&&M.length>0&&!M[M.length-1]&&(M[M.length-1]=T[T.length-1].angleTo(J)),this.addMarkerAngle(F,K?K.angleTo(F):null)}addMarkerAngle(F,K){this.points.push(F),this.angles.push(K)}getMarkerPoints(){return this.points}getMarkerAngles(){for(var{angles:F}=this,K=F.length,J=0;J<K;J++)if(!F[J]){for(var T=J+1;T<K;T++)if(F[T]){F[J]=F[T];break}}return F}}class es extends er{constructor(){super(...arguments),this.modifiedEmSizeStack=!1}calculateOpacity(){for(var F=1,K=this;K;){var J=K.getStyle("opacity",!1,!0);J.hasValue(!0)&&(F*=J.getNumber()),K=K.parent}return F}setContext(F){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!K){var J=this.getStyle("fill"),T=this.getStyle("fill-opacity"),M=this.getStyle("stroke"),$=this.getStyle("stroke-opacity");if(J.isUrlDefinition()){var ie=J.getFillStyleDefinition(this,T);ie&&(F.fillStyle=ie)}else if(J.hasValue()){J.getString()==="currentColor"&&J.setValue(this.getStyle("color").getColor());var ve=J.getColor();ve!=="inherit"&&(F.fillStyle=ve==="none"?"rgba(0,0,0,0)":ve)}if(T.hasValue()){var Re=new Ge(this.document,"fill",F.fillStyle).addOpacity(T).getColor();F.fillStyle=Re}if(M.isUrlDefinition()){var Je=M.getFillStyleDefinition(this,$);Je&&(F.strokeStyle=Je)}else if(M.hasValue()){M.getString()==="currentColor"&&M.setValue(this.getStyle("color").getColor());var N=M.getString();N!=="inherit"&&(F.strokeStyle=N==="none"?"rgba(0,0,0,0)":N)}if($.hasValue()){var v=new Ge(this.document,"stroke",F.strokeStyle).addOpacity($).getString();F.strokeStyle=v}var S=this.getStyle("stroke-width");if(S.hasValue()){var I=S.getPixels();F.lineWidth=I||De}var P=this.getStyle("stroke-linecap"),V=this.getStyle("stroke-linejoin"),ce=this.getStyle("stroke-miterlimit"),q=this.getStyle("stroke-dasharray"),ee=this.getStyle("stroke-dashoffset");if(P.hasValue()&&(F.lineCap=P.getString()),V.hasValue()&&(F.lineJoin=V.getString()),ce.hasValue()&&(F.miterLimit=ce.getNumber()),q.hasValue()&&q.getString()!=="none"){var Ce=Q(q.getString());typeof F.setLineDash<"u"?F.setLineDash(Ce):typeof F.webkitLineDash<"u"?F.webkitLineDash=Ce:typeof F.mozDash<"u"&&!(Ce.length===1&&Ce[0]===0)&&(F.mozDash=Ce);var Me=ee.getPixels();typeof F.lineDashOffset<"u"?F.lineDashOffset=Me:typeof F.webkitLineDashOffset<"u"?F.webkitLineDashOffset=Me:typeof F.mozDashOffset<"u"&&(F.mozDashOffset=Me)}}if(this.modifiedEmSizeStack=!1,typeof F.font<"u"){var ze=this.getStyle("font"),Xe=this.getStyle("font-style"),xe=this.getStyle("font-variant"),ct=this.getStyle("font-weight"),it=this.getStyle("font-size"),ut=this.getStyle("font-family"),We=new Vs(Xe.getString(),xe.getString(),ct.getString(),it.hasValue()?"".concat(it.getPixels(!0),"px"):"",ut.getString(),Vs.parse(ze.getString(),F.font));Xe.setValue(We.fontStyle),xe.setValue(We.fontVariant),ct.setValue(We.fontWeight),it.setValue(We.fontSize),ut.setValue(We.fontFamily),F.font=We.toString(),it.isPixels()&&(this.document.emSize=it.getPixels(),this.modifiedEmSizeStack=!0)}K||(this.applyEffects(F),F.globalAlpha=this.calculateOpacity())}clearContext(F){super.clearContext(F),this.modifiedEmSizeStack&&this.document.popEmSize()}}class As extends es{constructor(F,K,J){super(F,K,J),this.type="path",this.pathParser=null,this.pathParser=new wt(this.getAttribute("d").getString())}path(F){var{pathParser:K}=this,J=new ir;for(K.reset(),F&&F.beginPath();!K.isEnd();)switch(K.next().type){case wt.MOVE_TO:this.pathM(F,J);break;case wt.LINE_TO:this.pathL(F,J);break;case wt.HORIZ_LINE_TO:this.pathH(F,J);break;case wt.VERT_LINE_TO:this.pathV(F,J);break;case wt.CURVE_TO:this.pathC(F,J);break;case wt.SMOOTH_CURVE_TO:this.pathS(F,J);break;case wt.QUAD_TO:this.pathQ(F,J);break;case wt.SMOOTH_QUAD_TO:this.pathT(F,J);break;case wt.ARC:this.pathA(F,J);break;case wt.CLOSE_PATH:this.pathZ(F,J);break}return J}getBoundingBox(F){return this.path()}getMarkers(){var{pathParser:F}=this,K=F.getMarkerPoints(),J=F.getMarkerAngles(),T=K.map((M,$)=>[M,J[$]]);return T}renderChildren(F){this.path(F),this.document.screen.mouse.checkPath(this,F);var K=this.getStyle("fill-rule");F.fillStyle!==""&&(K.getString("inherit")!=="inherit"?F.fill(K.getString()):F.fill()),F.strokeStyle!==""&&(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"?(F.save(),F.setTransform(1,0,0,1,0,0),F.stroke(),F.restore()):F.stroke());var J=this.getMarkers();if(J){var T=J.length-1,M=this.getStyle("marker-start"),$=this.getStyle("marker-mid"),ie=this.getStyle("marker-end");if(M.isUrlDefinition()){var ve=M.getDefinition(),[Re,Je]=J[0];ve.render(F,Re,Je)}if($.isUrlDefinition())for(var N=$.getDefinition(),v=1;v<T;v++){var[S,I]=J[v];N.render(F,S,I)}if(ie.isUrlDefinition()){var P=ie.getDefinition(),[V,ce]=J[T];P.render(F,V,ce)}}}static pathM(F){var K=F.getAsCurrentPoint();return F.start=F.current,{point:K}}pathM(F,K){var{pathParser:J}=this,{point:T}=As.pathM(J),{x:M,y:$}=T;J.addMarker(T),K.addPoint(M,$),F&&F.moveTo(M,$)}static pathL(F){var{current:K}=F,J=F.getAsCurrentPoint();return{current:K,point:J}}pathL(F,K){var{pathParser:J}=this,{current:T,point:M}=As.pathL(J),{x:$,y:ie}=M;J.addMarker(M,T),K.addPoint($,ie),F&&F.lineTo($,ie)}static pathH(F){var{current:K,command:J}=F,T=new Vt((J.relative?K.x:0)+J.x,K.y);return F.current=T,{current:K,point:T}}pathH(F,K){var{pathParser:J}=this,{current:T,point:M}=As.pathH(J),{x:$,y:ie}=M;J.addMarker(M,T),K.addPoint($,ie),F&&F.lineTo($,ie)}static pathV(F){var{current:K,command:J}=F,T=new Vt(K.x,(J.relative?K.y:0)+J.y);return F.current=T,{current:K,point:T}}pathV(F,K){var{pathParser:J}=this,{current:T,point:M}=As.pathV(J),{x:$,y:ie}=M;J.addMarker(M,T),K.addPoint($,ie),F&&F.lineTo($,ie)}static pathC(F){var{current:K}=F,J=F.getPoint("x1","y1"),T=F.getAsControlPoint("x2","y2"),M=F.getAsCurrentPoint();return{current:K,point:J,controlPoint:T,currentPoint:M}}pathC(F,K){var{pathParser:J}=this,{current:T,point:M,controlPoint:$,currentPoint:ie}=As.pathC(J);J.addMarker(ie,$,M),K.addBezierCurve(T.x,T.y,M.x,M.y,$.x,$.y,ie.x,ie.y),F&&F.bezierCurveTo(M.x,M.y,$.x,$.y,ie.x,ie.y)}static pathS(F){var{current:K}=F,J=F.getReflectedControlPoint(),T=F.getAsControlPoint("x2","y2"),M=F.getAsCurrentPoint();return{current:K,point:J,controlPoint:T,currentPoint:M}}pathS(F,K){var{pathParser:J}=this,{current:T,point:M,controlPoint:$,currentPoint:ie}=As.pathS(J);J.addMarker(ie,$,M),K.addBezierCurve(T.x,T.y,M.x,M.y,$.x,$.y,ie.x,ie.y),F&&F.bezierCurveTo(M.x,M.y,$.x,$.y,ie.x,ie.y)}static pathQ(F){var{current:K}=F,J=F.getAsControlPoint("x1","y1"),T=F.getAsCurrentPoint();return{current:K,controlPoint:J,currentPoint:T}}pathQ(F,K){var{pathParser:J}=this,{current:T,controlPoint:M,currentPoint:$}=As.pathQ(J);J.addMarker($,M,M),K.addQuadraticCurve(T.x,T.y,M.x,M.y,$.x,$.y),F&&F.quadraticCurveTo(M.x,M.y,$.x,$.y)}static pathT(F){var{current:K}=F,J=F.getReflectedControlPoint();F.control=J;var T=F.getAsCurrentPoint();return{current:K,controlPoint:J,currentPoint:T}}pathT(F,K){var{pathParser:J}=this,{current:T,controlPoint:M,currentPoint:$}=As.pathT(J);J.addMarker($,M,M),K.addQuadraticCurve(T.x,T.y,M.x,M.y,$.x,$.y),F&&F.quadraticCurveTo(M.x,M.y,$.x,$.y)}static pathA(F){var{current:K,command:J}=F,{rX:T,rY:M,xRot:$,lArcFlag:ie,sweepFlag:ve}=J,Re=$*(Math.PI/180),Je=F.getAsCurrentPoint(),N=new Vt(Math.cos(Re)*(K.x-Je.x)/2+Math.sin(Re)*(K.y-Je.y)/2,-Math.sin(Re)*(K.x-Je.x)/2+Math.cos(Re)*(K.y-Je.y)/2),v=Math.pow(N.x,2)/Math.pow(T,2)+Math.pow(N.y,2)/Math.pow(M,2);v>1&&(T*=Math.sqrt(v),M*=Math.sqrt(v));var S=(ie===ve?-1:1)*Math.sqrt((Math.pow(T,2)*Math.pow(M,2)-Math.pow(T,2)*Math.pow(N.y,2)-Math.pow(M,2)*Math.pow(N.x,2))/(Math.pow(T,2)*Math.pow(N.y,2)+Math.pow(M,2)*Math.pow(N.x,2)));isNaN(S)&&(S=0);var I=new Vt(S*T*N.y/M,S*-M*N.x/T),P=new Vt((K.x+Je.x)/2+Math.cos(Re)*I.x-Math.sin(Re)*I.y,(K.y+Je.y)/2+Math.sin(Re)*I.x+Math.cos(Re)*I.y),V=ye([1,0],[(N.x-I.x)/T,(N.y-I.y)/M]),ce=[(N.x-I.x)/T,(N.y-I.y)/M],q=[(-N.x-I.x)/T,(-N.y-I.y)/M],ee=ye(ce,q);return pe(ce,q)<=-1&&(ee=Math.PI),pe(ce,q)>=1&&(ee=0),{currentPoint:Je,rX:T,rY:M,sweepFlag:ve,xAxisRotation:Re,centp:P,a1:V,ad:ee}}pathA(F,K){var{pathParser:J}=this,{currentPoint:T,rX:M,rY:$,sweepFlag:ie,xAxisRotation:ve,centp:Re,a1:Je,ad:N}=As.pathA(J),v=1-ie?1:-1,S=Je+v*(N/2),I=new Vt(Re.x+M*Math.cos(S),Re.y+$*Math.sin(S));if(J.addMarkerAngle(I,S-v*Math.PI/2),J.addMarkerAngle(T,S-v*Math.PI),K.addPoint(T.x,T.y),F&&!isNaN(Je)&&!isNaN(N)){var P=M>$?M:$,V=M>$?1:M/$,ce=M>$?$/M:1;F.translate(Re.x,Re.y),F.rotate(ve),F.scale(V,ce),F.arc(0,0,P,Je,Je+N,!!(1-ie)),F.scale(1/V,1/ce),F.rotate(-ve),F.translate(-Re.x,-Re.y)}}static pathZ(F){F.current=F.start}pathZ(F,K){As.pathZ(this.pathParser),F&&K.x1!==K.x2&&K.y1!==K.y2&&F.closePath()}}class hs extends As{constructor(F,K,J){super(F,K,J),this.type="glyph",this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber(),this.unicode=this.getAttribute("unicode").getString(),this.arabicForm=this.getAttribute("arabic-form").getString()}}class Ks extends es{constructor(F,K,J){super(F,K,new.target===Ks?!0:J),this.type="text",this.x=0,this.y=0,this.measureCache=-1}setContext(F){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;super.setContext(F,K);var J=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();J&&(F.textBaseline=J)}initializeCoordinates(){this.x=0,this.y=0,this.leafTexts=[],this.textChunkStart=0,this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(F){if(this.type!=="text")return this.getTElementBoundingBox(F);this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(F);var K=null;return this.children.forEach((J,T)=>{var M=this.getChildBoundingBox(F,this,this,T);K?K.addBoundingBox(M):K=M}),K}getFontSize(){var{document:F,parent:K}=this,J=Vs.parse(F.ctx.font).fontSize,T=K.getStyle("font-size").getNumber(J);return T}getTElementBoundingBox(F){var K=this.getFontSize();return new ir(this.x,this.y-K,this.x+this.measureText(F),this.y)}getGlyph(F,K,J){var T=K[J],M=null;if(F.isArabic){var $=K.length,ie=K[J-1],ve=K[J+1],Re="isolated";if((J===0||ie===" ")&&J<$-1&&ve!==" "&&(Re="terminal"),J>0&&ie!==" "&&J<$-1&&ve!==" "&&(Re="medial"),J>0&&ie!==" "&&(J===$-1||ve===" ")&&(Re="initial"),typeof F.glyphs[T]<"u"){var Je=F.glyphs[T];M=Je instanceof hs?Je:Je[Re]}}else M=F.glyphs[T];return M||(M=F.missingGlyph),M}getText(){return""}getTextFromNode(F){var K=F||this.node,J=Array.from(K.parentNode.childNodes),T=J.indexOf(K),M=J.length-1,$=z(K.textContent||"");return T===0&&($=X($)),T===M&&($=Y($)),$}renderChildren(F){if(this.type!=="text"){this.renderTElementChildren(F);return}this.initializeCoordinates(),this.adjustChildCoordinatesRecursive(F),this.children.forEach((J,T)=>{this.renderChild(F,this,this,T)});var{mouse:K}=this.document.screen;K.isWorking()&&K.checkBoundingBox(this,this.getBoundingBox(F))}renderTElementChildren(F){var{document:K,parent:J}=this,T=this.getText(),M=J.getStyle("font-family").getDefinition();if(M){for(var{unitsPerEm:$}=M.fontFace,ie=Vs.parse(K.ctx.font),ve=J.getStyle("font-size").getNumber(ie.fontSize),Re=J.getStyle("font-style").getString(ie.fontStyle),Je=ve/$,N=M.isRTL?T.split("").reverse().join(""):T,v=Q(J.getAttribute("dx").getString()),S=N.length,I=0;I<S;I++){var P=this.getGlyph(M,N,I);F.translate(this.x,this.y),F.scale(Je,-Je);var V=F.lineWidth;F.lineWidth=F.lineWidth*$/ve,Re==="italic"&&F.transform(1,0,.4,1,0,0),P.render(F),Re==="italic"&&F.transform(1,0,-.4,1,0,0),F.lineWidth=V,F.scale(1/Je,-1/Je),F.translate(-this.x,-this.y),this.x+=ve*(P.horizAdvX||M.horizAdvX)/$,typeof v[I]<"u"&&!isNaN(v[I])&&(this.x+=v[I])}return}var{x:ce,y:q}=this;F.fillStyle&&F.fillText(T,ce,q),F.strokeStyle&&F.strokeText(T,ce,q)}applyAnchoring(){if(!(this.textChunkStart>=this.leafTexts.length)){var F=this.leafTexts[this.textChunkStart],K=F.getStyle("text-anchor").getString("start"),J=!1,T=0;K==="start"&&!J||K==="end"&&J?T=F.x-this.minX:K==="end"&&!J||K==="start"&&J?T=F.x-this.maxX:T=F.x-(this.minX+this.maxX)/2;for(var M=this.textChunkStart;M<this.leafTexts.length;M++)this.leafTexts[M].x+=T;this.minX=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.textChunkStart=this.leafTexts.length}}adjustChildCoordinatesRecursive(F){this.children.forEach((K,J)=>{this.adjustChildCoordinatesRecursiveCore(F,this,this,J)}),this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(F,K,J,T){var M=J.children[T];M.children.length>0?M.children.forEach(($,ie)=>{K.adjustChildCoordinatesRecursiveCore(F,K,M,ie)}):this.adjustChildCoordinates(F,K,J,T)}adjustChildCoordinates(F,K,J,T){var M=J.children[T];if(typeof M.measureText!="function")return M;F.save(),M.setContext(F,!0);var $=M.getAttribute("x"),ie=M.getAttribute("y"),ve=M.getAttribute("dx"),Re=M.getAttribute("dy"),Je=M.getStyle("font-family").getDefinition(),N=!!Je&&Je.isRTL;T===0&&($.hasValue()||$.setValue(M.getInheritedAttribute("x")),ie.hasValue()||ie.setValue(M.getInheritedAttribute("y")),ve.hasValue()||ve.setValue(M.getInheritedAttribute("dx")),Re.hasValue()||Re.setValue(M.getInheritedAttribute("dy")));var v=M.measureText(F);return N&&(K.x-=v),$.hasValue()?(K.applyAnchoring(),M.x=$.getPixels("x"),ve.hasValue()&&(M.x+=ve.getPixels("x"))):(ve.hasValue()&&(K.x+=ve.getPixels("x")),M.x=K.x),K.x=M.x,N||(K.x+=v),ie.hasValue()?(M.y=ie.getPixels("y"),Re.hasValue()&&(M.y+=Re.getPixels("y"))):(Re.hasValue()&&(K.y+=Re.getPixels("y")),M.y=K.y),K.y=M.y,K.leafTexts.push(M),K.minX=Math.min(K.minX,M.x,M.x+v),K.maxX=Math.max(K.maxX,M.x,M.x+v),M.clearContext(F),F.restore(),M}getChildBoundingBox(F,K,J,T){var M=J.children[T];if(typeof M.getBoundingBox!="function")return null;var $=M.getBoundingBox(F);return $?(M.children.forEach((ie,ve)=>{var Re=K.getChildBoundingBox(F,K,M,ve);$.addBoundingBox(Re)}),$):null}renderChild(F,K,J,T){var M=J.children[T];M.render(F),M.children.forEach(($,ie)=>{K.renderChild(F,K,M,ie)})}measureText(F){var{measureCache:K}=this;if(~K)return K;var J=this.getText(),T=this.measureTargetText(F,J);return this.measureCache=T,T}measureTargetText(F,K){if(!K.length)return 0;var{parent:J}=this,T=J.getStyle("font-family").getDefinition();if(T){for(var M=this.getFontSize(),$=T.isRTL?K.split("").reverse().join(""):K,ie=Q(J.getAttribute("dx").getString()),ve=$.length,Re=0,Je=0;Je<ve;Je++){var N=this.getGlyph(T,$,Je);Re+=(N.horizAdvX||T.horizAdvX)*M/T.fontFace.unitsPerEm,typeof ie[Je]<"u"&&!isNaN(ie[Je])&&(Re+=ie[Je])}return Re}if(!F.measureText)return K.length*10;F.save(),this.setContext(F,!0);var{width:v}=F.measureText(K);return this.clearContext(F),F.restore(),v}getInheritedAttribute(F){for(var K=this;K instanceof Ks&&K.isFirstChild();){var J=K.parent.getAttribute(F);if(J.hasValue(!0))return J.getValue("0");K=K.parent}return null}}class zs extends Ks{constructor(F,K,J){super(F,K,new.target===zs?!0:J),this.type="tspan",this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class mr extends zs{constructor(){super(...arguments),this.type="textNode"}}class en extends es{constructor(){super(...arguments),this.type="svg",this.root=!1}setContext(F){var K,{document:J}=this,{screen:T,window:M}=J,$=F.canvas;if(T.setDefaults(F),$.style&&typeof F.font<"u"&&M&&typeof M.getComputedStyle<"u"){F.font=M.getComputedStyle($).getPropertyValue("font");var ie=new Ge(J,"fontSize",Vs.parse(F.font).fontSize);ie.hasValue()&&(J.rootEmSize=ie.getPixels("y"),J.emSize=J.rootEmSize)}this.getAttribute("x").hasValue()||this.getAttribute("x",!0).setValue(0),this.getAttribute("y").hasValue()||this.getAttribute("y",!0).setValue(0);var{width:ve,height:Re}=T.viewPort;this.getStyle("width").hasValue()||this.getStyle("width",!0).setValue("100%"),this.getStyle("height").hasValue()||this.getStyle("height",!0).setValue("100%"),this.getStyle("color").hasValue()||this.getStyle("color",!0).setValue("black");var Je=this.getAttribute("refX"),N=this.getAttribute("refY"),v=this.getAttribute("viewBox"),S=v.hasValue()?Q(v.getString()):null,I=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible",P=0,V=0,ce=0,q=0;S&&(P=S[0],V=S[1]),this.root||(ve=this.getStyle("width").getPixels("x"),Re=this.getStyle("height").getPixels("y"),this.type==="marker"&&(ce=P,q=V,P=0,V=0)),T.viewPort.setCurrent(ve,Re),this.node&&(!this.parent||((K=this.node.parentNode)===null||K===void 0?void 0:K.nodeName)==="foreignObject")&&this.getStyle("transform",!1,!0).hasValue()&&!this.getStyle("transform-origin",!1,!0).hasValue()&&this.getStyle("transform-origin",!0,!0).setValue("50% 50%"),super.setContext(F),F.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y")),S&&(ve=S[2],Re=S[3]),J.setViewBox({ctx:F,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:T.viewPort.width,desiredWidth:ve,height:T.viewPort.height,desiredHeight:Re,minX:P,minY:V,refX:Je.getValue(),refY:N.getValue(),clip:I,clipX:ce,clipY:q}),S&&(T.viewPort.removeCurrent(),T.viewPort.setCurrent(ve,Re))}clearContext(F){super.clearContext(F),this.document.screen.viewPort.removeCurrent()}resize(F){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,T=this.getAttribute("width",!0),M=this.getAttribute("height",!0),$=this.getAttribute("viewBox"),ie=this.getAttribute("style"),ve=T.getNumber(0),Re=M.getNumber(0);if(J)if(typeof J=="string")this.getAttribute("preserveAspectRatio",!0).setValue(J);else{var Je=this.getAttribute("preserveAspectRatio");Je.hasValue()&&Je.setValue(Je.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}if(T.setValue(F),M.setValue(K),$.hasValue()||$.setValue("0 0 ".concat(ve||F," ").concat(Re||K)),ie.hasValue()){var N=this.getStyle("width"),v=this.getStyle("height");N.hasValue()&&N.setValue("".concat(F,"px")),v.hasValue()&&v.setValue("".concat(K,"px"))}}}class wa extends As{constructor(){super(...arguments),this.type="rect"}path(F){var K=this.getAttribute("x").getPixels("x"),J=this.getAttribute("y").getPixels("y"),T=this.getStyle("width",!1,!0).getPixels("x"),M=this.getStyle("height",!1,!0).getPixels("y"),$=this.getAttribute("rx"),ie=this.getAttribute("ry"),ve=$.getPixels("x"),Re=ie.getPixels("y");if($.hasValue()&&!ie.hasValue()&&(Re=ve),ie.hasValue()&&!$.hasValue()&&(ve=Re),ve=Math.min(ve,T/2),Re=Math.min(Re,M/2),F){var Je=4*((Math.sqrt(2)-1)/3);F.beginPath(),M>0&&T>0&&(F.moveTo(K+ve,J),F.lineTo(K+T-ve,J),F.bezierCurveTo(K+T-ve+Je*ve,J,K+T,J+Re-Je*Re,K+T,J+Re),F.lineTo(K+T,J+M-Re),F.bezierCurveTo(K+T,J+M-Re+Je*Re,K+T-ve+Je*ve,J+M,K+T-ve,J+M),F.lineTo(K+ve,J+M),F.bezierCurveTo(K+ve-Je*ve,J+M,K,J+M-Re+Je*Re,K,J+M-Re),F.lineTo(K,J+Re),F.bezierCurveTo(K,J+Re-Je*Re,K+ve-Je*ve,J,K+ve,J),F.closePath())}return new ir(K,J,K+T,J+M)}getMarkers(){return null}}class Ss extends As{constructor(){super(...arguments),this.type="circle"}path(F){var K=this.getAttribute("cx").getPixels("x"),J=this.getAttribute("cy").getPixels("y"),T=this.getAttribute("r").getPixels();return F&&T>0&&(F.beginPath(),F.arc(K,J,T,0,Math.PI*2,!1),F.closePath()),new ir(K-T,J-T,K+T,J+T)}getMarkers(){return null}}class Os extends As{constructor(){super(...arguments),this.type="ellipse"}path(F){var K=4*((Math.sqrt(2)-1)/3),J=this.getAttribute("rx").getPixels("x"),T=this.getAttribute("ry").getPixels("y"),M=this.getAttribute("cx").getPixels("x"),$=this.getAttribute("cy").getPixels("y");return F&&J>0&&T>0&&(F.beginPath(),F.moveTo(M+J,$),F.bezierCurveTo(M+J,$+K*T,M+K*J,$+T,M,$+T),F.bezierCurveTo(M-K*J,$+T,M-J,$+K*T,M-J,$),F.bezierCurveTo(M-J,$-K*T,M-K*J,$-T,M,$-T),F.bezierCurveTo(M+K*J,$-T,M+J,$-K*T,M+J,$),F.closePath()),new ir(M-J,$-T,M+J,$+T)}getMarkers(){return null}}class sr extends As{constructor(){super(...arguments),this.type="line"}getPoints(){return[new Vt(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new Vt(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(F){var[{x:K,y:J},{x:T,y:M}]=this.getPoints();return F&&(F.beginPath(),F.moveTo(K,J),F.lineTo(T,M)),new ir(K,J,T,M)}getMarkers(){var[F,K]=this.getPoints(),J=F.angleTo(K);return[[F,J],[K,J]]}}class fs extends As{constructor(F,K,J){super(F,K,J),this.type="polyline",this.points=[],this.points=Vt.parsePath(this.getAttribute("points").getString())}path(F){var{points:K}=this,[{x:J,y:T}]=K,M=new ir(J,T);return F&&(F.beginPath(),F.moveTo(J,T)),K.forEach($=>{var{x:ie,y:ve}=$;M.addPoint(ie,ve),F&&F.lineTo(ie,ve)}),M}getMarkers(){var{points:F}=this,K=F.length-1,J=[];return F.forEach((T,M)=>{M!==K&&J.push([T,T.angleTo(F[M+1])])}),J.length>0&&J.push([F[F.length-1],J[J.length-1][1]]),J}}class Pr extends fs{constructor(){super(...arguments),this.type="polygon"}path(F){var K=super.path(F),[{x:J,y:T}]=this.points;return F&&(F.lineTo(J,T),F.closePath()),K}}class Gr extends er{constructor(){super(...arguments),this.type="pattern"}createPattern(F,K,J){var T=this.getStyle("width").getPixels("x",!0),M=this.getStyle("height").getPixels("y",!0),$=new en(this.document,null);$.attributes.viewBox=new Ge(this.document,"viewBox",this.getAttribute("viewBox").getValue()),$.attributes.width=new Ge(this.document,"width","".concat(T,"px")),$.attributes.height=new Ge(this.document,"height","".concat(M,"px")),$.attributes.transform=new Ge(this.document,"transform",this.getAttribute("patternTransform").getValue()),$.children=this.children;var ie=this.document.createCanvas(T,M),ve=ie.getContext("2d"),Re=this.getAttribute("x"),Je=this.getAttribute("y");Re.hasValue()&&Je.hasValue()&&ve.translate(Re.getPixels("x",!0),Je.getPixels("y",!0)),J.hasValue()?this.styles["fill-opacity"]=J:Reflect.deleteProperty(this.styles,"fill-opacity");for(var N=-1;N<=1;N++)for(var v=-1;v<=1;v++)ve.save(),$.attributes.x=new Ge(this.document,"x",N*ie.width),$.attributes.y=new Ge(this.document,"y",v*ie.height),$.render(ve),ve.restore();var S=F.createPattern(ie,"repeat");return S}}class ur extends er{constructor(){super(...arguments),this.type="marker"}render(F,K,J){if(K){var{x:T,y:M}=K,$=this.getAttribute("orient").getString("auto"),ie=this.getAttribute("markerUnits").getString("strokeWidth");F.translate(T,M),$==="auto"&&F.rotate(J),ie==="strokeWidth"&&F.scale(F.lineWidth,F.lineWidth),F.save();var ve=new en(this.document,null);ve.type=this.type,ve.attributes.viewBox=new Ge(this.document,"viewBox",this.getAttribute("viewBox").getValue()),ve.attributes.refX=new Ge(this.document,"refX",this.getAttribute("refX").getValue()),ve.attributes.refY=new Ge(this.document,"refY",this.getAttribute("refY").getValue()),ve.attributes.width=new Ge(this.document,"width",this.getAttribute("markerWidth").getValue()),ve.attributes.height=new Ge(this.document,"height",this.getAttribute("markerHeight").getValue()),ve.attributes.overflow=new Ge(this.document,"overflow",this.getAttribute("overflow").getValue()),ve.attributes.fill=new Ge(this.document,"fill",this.getAttribute("fill").getColor("black")),ve.attributes.stroke=new Ge(this.document,"stroke",this.getAttribute("stroke").getValue("none")),ve.children=this.children,ve.render(F),F.restore(),ie==="strokeWidth"&&F.scale(1/F.lineWidth,1/F.lineWidth),$==="auto"&&F.rotate(-J),F.translate(-T,-M)}}}class Va extends er{constructor(){super(...arguments),this.type="defs"}render(){}}class ha extends es{constructor(){super(...arguments),this.type="g"}getBoundingBox(F){var K=new ir;return this.children.forEach(J=>{K.addBoundingBox(J.getBoundingBox(F))}),K}}class fn extends er{constructor(F,K,J){super(F,K,J),this.attributesToInherit=["gradientUnits"],this.stops=[];var{stops:T,children:M}=this;M.forEach($=>{$.type==="stop"&&T.push($)})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(F,K,J){var T=this;this.getHrefAttribute().hasValue()&&(T=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(T));var{stops:M}=T,$=this.getGradient(F,K);if(!$)return this.addParentOpacity(J,M[M.length-1].color);if(M.forEach(V=>{$.addColorStop(V.offset,this.addParentOpacity(J,V.color))}),this.getAttribute("gradientTransform").hasValue()){var{document:ie}=this,{MAX_VIRTUAL_PIXELS:ve,viewPort:Re}=ie.screen,[Je]=Re.viewPorts,N=new wa(ie,null);N.attributes.x=new Ge(ie,"x",-ve/3),N.attributes.y=new Ge(ie,"y",-ve/3),N.attributes.width=new Ge(ie,"width",ve),N.attributes.height=new Ge(ie,"height",ve);var v=new ha(ie,null);v.attributes.transform=new Ge(ie,"transform",this.getAttribute("gradientTransform").getValue()),v.children=[N];var S=new en(ie,null);S.attributes.x=new Ge(ie,"x",0),S.attributes.y=new Ge(ie,"y",0),S.attributes.width=new Ge(ie,"width",Je.width),S.attributes.height=new Ge(ie,"height",Je.height),S.children=[v];var I=ie.createCanvas(Je.width,Je.height),P=I.getContext("2d");return P.fillStyle=$,S.render(P),P.createPattern(I,"no-repeat")}return $}inheritStopContainer(F){this.attributesToInherit.forEach(K=>{!this.getAttribute(K).hasValue()&&F.getAttribute(K).hasValue()&&this.getAttribute(K,!0).setValue(F.getAttribute(K).getValue())})}addParentOpacity(F,K){if(F.hasValue()){var J=new Ge(this.document,"color",K);return J.addOpacity(F).getColor()}return K}}class Bn extends fn{constructor(F,K,J){super(F,K,J),this.type="linearGradient",this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(F,K){var J=this.getGradientUnits()==="objectBoundingBox",T=J?K.getBoundingBox(F):null;if(J&&!T)return null;!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()&&(this.getAttribute("x1",!0).setValue(0),this.getAttribute("y1",!0).setValue(0),this.getAttribute("x2",!0).setValue(1),this.getAttribute("y2",!0).setValue(0));var M=J?T.x+T.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x"),$=J?T.y+T.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y"),ie=J?T.x+T.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x"),ve=J?T.y+T.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");return M===ie&&$===ve?null:F.createLinearGradient(M,$,ie,ve)}}class ln extends fn{constructor(F,K,J){super(F,K,J),this.type="radialGradient",this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(F,K){var J=this.getGradientUnits()==="objectBoundingBox",T=K.getBoundingBox(F);if(J&&!T)return null;this.getAttribute("cx").hasValue()||this.getAttribute("cx",!0).setValue("50%"),this.getAttribute("cy").hasValue()||this.getAttribute("cy",!0).setValue("50%"),this.getAttribute("r").hasValue()||this.getAttribute("r",!0).setValue("50%");var M=J?T.x+T.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x"),$=J?T.y+T.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y"),ie=M,ve=$;this.getAttribute("fx").hasValue()&&(ie=J?T.x+T.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")),this.getAttribute("fy").hasValue()&&(ve=J?T.y+T.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y"));var Re=J?(T.width+T.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels(),Je=this.getAttribute("fr").getPixels();return F.createRadialGradient(ie,ve,Je,M,$,Re)}}class fa extends er{constructor(F,K,J){super(F,K,J),this.type="stop";var T=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber())),M=this.getStyle("stop-opacity"),$=this.getStyle("stop-color",!0);$.getString()===""&&$.setValue("#000"),M.hasValue()&&($=$.addOpacity(M)),this.offset=T,this.color=$.getColor()}}class Zn extends er{constructor(F,K,J){super(F,K,J),this.type="animate",this.duration=0,this.initialValue=null,this.initialUnits="",this.removed=!1,this.frozen=!1,F.screen.animations.push(this),this.begin=this.getAttribute("begin").getMilliseconds(),this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds(),this.from=this.getAttribute("from"),this.to=this.getAttribute("to"),this.values=new Ge(F,"values",null);var T=this.getAttribute("values");T.hasValue()&&this.values.setValue(T.getString().split(";"))}getProperty(){var F=this.getAttribute("attributeType").getString(),K=this.getAttribute("attributeName").getString();return F==="CSS"?this.parent.getStyle(K,!0):this.parent.getAttribute(K,!0)}calcValue(){var{initialUnits:F}=this,{progress:K,from:J,to:T}=this.getProgress(),M=J.getNumber()+(T.getNumber()-J.getNumber())*K;return F==="%"&&(M*=100),"".concat(M).concat(F)}update(F){var{parent:K}=this,J=this.getProperty();if(this.initialValue||(this.initialValue=J.getString(),this.initialUnits=J.getUnits()),this.duration>this.maxDuration){var T=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite")this.duration=0;else if(T==="freeze"&&!this.frozen)this.frozen=!0,K.animationFrozen=!0,K.animationFrozenValue=J.getString();else if(T==="remove"&&!this.removed)return this.removed=!0,J.setValue(K.animationFrozen?K.animationFrozenValue:this.initialValue),!0;return!1}this.duration+=F;var M=!1;if(this.begin<this.duration){var $=this.calcValue(),ie=this.getAttribute("type");if(ie.hasValue()){var ve=ie.getString();$="".concat(ve,"(").concat($,")")}J.setValue($),M=!0}return M}getProgress(){var{document:F,values:K}=this,J={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(K.hasValue()){var T=J.progress*(K.getValue().length-1),M=Math.floor(T),$=Math.ceil(T);J.from=new Ge(F,"from",parseFloat(K.getValue()[M])),J.to=new Ge(F,"to",parseFloat(K.getValue()[$])),J.progress=(T-M)/($-M)}else J.from=this.from,J.to=this.to;return J}}class Ii extends Zn{constructor(){super(...arguments),this.type="animateColor"}calcValue(){var{progress:F,from:K,to:J}=this.getProgress(),T=new x(K.getColor()),M=new x(J.getColor());if(T.ok&&M.ok){var $=T.r+(M.r-T.r)*F,ie=T.g+(M.g-T.g)*F,ve=T.b+(M.b-T.b)*F;return"rgb(".concat(Math.floor($),", ").concat(Math.floor(ie),", ").concat(Math.floor(ve),")")}return this.getAttribute("from").getColor()}}class Dn extends Zn{constructor(){super(...arguments),this.type="animateTransform"}calcValue(){var{progress:F,from:K,to:J}=this.getProgress(),T=Q(K.getString()),M=Q(J.getString()),$=T.map((ie,ve)=>{var Re=M[ve];return ie+(Re-ie)*F}).join(" ");return $}}class mc extends er{constructor(F,K,J){super(F,K,J),this.type="font",this.glyphs=Object.create(null),this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:T}=F,{children:M}=this;for(var $ of M)switch($.type){case"font-face":{this.fontFace=$;var ie=$.getStyle("font-family");ie.hasValue()&&(T[ie.getString()]=this);break}case"missing-glyph":this.missingGlyph=$;break;case"glyph":{var ve=$;ve.arabicForm?(this.isRTL=!0,this.isArabic=!0,typeof this.glyphs[ve.unicode]>"u"&&(this.glyphs[ve.unicode]=Object.create(null)),this.glyphs[ve.unicode][ve.arabicForm]=ve):this.glyphs[ve.unicode]=ve;break}}}render(){}}class oi extends er{constructor(F,K,J){super(F,K,J),this.type="font-face",this.ascent=this.getAttribute("ascent").getNumber(),this.descent=this.getAttribute("descent").getNumber(),this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class To extends As{constructor(){super(...arguments),this.type="missing-glyph",this.horizAdvX=0}}class Vl extends Ks{constructor(){super(...arguments),this.type="tref"}getText(){var F=this.getHrefAttribute().getDefinition();if(F){var K=F.children[0];if(K)return K.getText()}return""}}class ho extends Ks{constructor(F,K,J){super(F,K,J),this.type="a";var{childNodes:T}=K,M=T[0],$=T.length>0&&Array.from(T).every(ie=>ie.nodeType===3);this.hasText=$,this.text=$?this.getTextFromNode(M):""}getText(){return this.text}renderChildren(F){if(this.hasText){super.renderChildren(F);var{document:K,x:J,y:T}=this,{mouse:M}=K.screen,$=new Ge(K,"fontSize",Vs.parse(K.ctx.font).fontSize);M.isWorking()&&M.checkBoundingBox(this,new ir(J,T-$.getPixels("y"),J+this.measureText(F),T))}else if(this.children.length>0){var ie=new ha(this.document,null);ie.children=this.children,ie.parent=this,ie.render(F)}}onClick(){var{window:F}=this.document;F&&F.open(this.getHrefAttribute().getString())}onMouseMove(){var F=this.document.ctx;F.canvas.style.cursor="pointer"}}function ma(Tt,F){var K=Object.keys(Tt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Tt);F&&(J=J.filter(function(T){return Object.getOwnPropertyDescriptor(Tt,T).enumerable})),K.push.apply(K,J)}return K}function Ni(Tt){for(var F=1;F<arguments.length;F++){var K=arguments[F]!=null?arguments[F]:{};F%2?ma(Object(K),!0).forEach(function(J){(0,m.default)(Tt,J,K[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(K)):ma(Object(K)).forEach(function(J){Object.defineProperty(Tt,J,Object.getOwnPropertyDescriptor(K,J))})}return Tt}class sa extends Ks{constructor(F,K,J){super(F,K,J),this.type="textPath",this.textWidth=0,this.textHeight=0,this.pathLength=-1,this.glyphInfo=null,this.letterSpacingCache=[],this.measuresCache=new Map([["",0]]);var T=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode(),this.dataArray=this.parsePathData(T)}getText(){return this.text}path(F){var{dataArray:K}=this;F&&F.beginPath(),K.forEach(J=>{var{type:T,points:M}=J;switch(T){case wt.LINE_TO:F&&F.lineTo(M[0],M[1]);break;case wt.MOVE_TO:F&&F.moveTo(M[0],M[1]);break;case wt.CURVE_TO:F&&F.bezierCurveTo(M[0],M[1],M[2],M[3],M[4],M[5]);break;case wt.QUAD_TO:F&&F.quadraticCurveTo(M[0],M[1],M[2],M[3]);break;case wt.ARC:{var[$,ie,ve,Re,Je,N,v,S]=M,I=ve>Re?ve:Re,P=ve>Re?1:ve/Re,V=ve>Re?Re/ve:1;F&&(F.translate($,ie),F.rotate(v),F.scale(P,V),F.arc(0,0,I,Je,Je+N,!!(1-S)),F.scale(1/P,1/V),F.rotate(-v),F.translate(-$,-ie));break}case wt.CLOSE_PATH:F&&F.closePath();break}})}renderChildren(F){this.setTextData(F),F.save();var K=this.parent.getStyle("text-decoration").getString(),J=this.getFontSize(),{glyphInfo:T}=this,M=F.fillStyle;K==="underline"&&F.beginPath(),T.forEach(($,ie)=>{var{p0:ve,p1:Re,rotation:Je,text:N}=$;F.save(),F.translate(ve.x,ve.y),F.rotate(Je),F.fillStyle&&F.fillText(N,0,0),F.strokeStyle&&F.strokeText(N,0,0),F.restore(),K==="underline"&&(ie===0&&F.moveTo(ve.x,ve.y+J/8),F.lineTo(Re.x,Re.y+J/5))}),K==="underline"&&(F.lineWidth=J/20,F.strokeStyle=M,F.stroke(),F.closePath()),F.restore()}getLetterSpacingAt(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.letterSpacingCache[F]||0}findSegmentToFitChar(F,K,J,T,M,$,ie,ve,Re){var Je=$,N=this.measureText(F,ve);ve===" "&&K==="justify"&&J<T&&(N+=(T-J)/M),Re>-1&&(Je+=this.getLetterSpacingAt(Re));var v=this.textHeight/20,S=this.getEquidistantPointOnPath(Je,v,0),I=this.getEquidistantPointOnPath(Je+N,v,0),P={p0:S,p1:I},V=S&&I?Math.atan2(I.y-S.y,I.x-S.x):0;if(ie){var ce=Math.cos(Math.PI/2+V)*ie,q=Math.cos(-V)*ie;P.p0=Ni(Ni({},S),{},{x:S.x+ce,y:S.y+q}),P.p1=Ni(Ni({},I),{},{x:I.x+ce,y:I.y+q})}return Je+=N,{offset:Je,segment:P,rotation:V}}measureText(F,K){var{measuresCache:J}=this,T=K||this.getText();if(J.has(T))return J.get(T);var M=this.measureTargetText(F,T);return J.set(T,M),M}setTextData(F){if(!this.glyphInfo){var K=this.getText(),J=K.split(""),T=K.split(" ").length-1,M=this.parent.getAttribute("dx").split().map(Ce=>Ce.getPixels("x")),$=this.parent.getAttribute("dy").getPixels("y"),ie=this.parent.getStyle("text-anchor").getString("start"),ve=this.getStyle("letter-spacing"),Re=this.parent.getStyle("letter-spacing"),Je=0;!ve.hasValue()||ve.getValue()==="inherit"?Je=Re.getPixels():ve.hasValue()&&ve.getValue()!=="initial"&&ve.getValue()!=="unset"&&(Je=ve.getPixels());var N=[],v=K.length;this.letterSpacingCache=N;for(var S=0;S<v;S++)N.push(typeof M[S]<"u"?M[S]:Je);var I=N.reduce((Ce,Me,ze)=>ze===0?0:Ce+Me||0,0),P=this.measureText(F),V=Math.max(P+I,0);this.textWidth=P,this.textHeight=this.getFontSize(),this.glyphInfo=[];var ce=this.getPathLength(),q=this.getStyle("startOffset").getNumber(0)*ce,ee=0;(ie==="middle"||ie==="center")&&(ee=-V/2),(ie==="end"||ie==="right")&&(ee=-V),ee+=q,J.forEach((Ce,Me)=>{var{offset:ze,segment:Xe,rotation:xe}=this.findSegmentToFitChar(F,ie,V,ce,T,ee,$,Ce,Me);ee=ze,!(!Xe.p0||!Xe.p1)&&this.glyphInfo.push({text:J[Me],p0:Xe.p0,p1:Xe.p1,rotation:xe})})}}parsePathData(F){if(this.pathLength=-1,!F)return[];var K=[],{pathParser:J}=F;for(J.reset();!J.isEnd();){var{current:T}=J,M=T?T.x:0,$=T?T.y:0,ie=J.next(),ve=ie.type,Re=[];switch(ie.type){case wt.MOVE_TO:this.pathM(J,Re);break;case wt.LINE_TO:ve=this.pathL(J,Re);break;case wt.HORIZ_LINE_TO:ve=this.pathH(J,Re);break;case wt.VERT_LINE_TO:ve=this.pathV(J,Re);break;case wt.CURVE_TO:this.pathC(J,Re);break;case wt.SMOOTH_CURVE_TO:ve=this.pathS(J,Re);break;case wt.QUAD_TO:this.pathQ(J,Re);break;case wt.SMOOTH_QUAD_TO:ve=this.pathT(J,Re);break;case wt.ARC:Re=this.pathA(J);break;case wt.CLOSE_PATH:As.pathZ(J);break}ie.type!==wt.CLOSE_PATH?K.push({type:ve,points:Re,start:{x:M,y:$},pathLength:this.calcLength(M,$,ve,Re)}):K.push({type:wt.CLOSE_PATH,points:[],pathLength:0})}return K}pathM(F,K){var{x:J,y:T}=As.pathM(F).point;K.push(J,T)}pathL(F,K){var{x:J,y:T}=As.pathL(F).point;return K.push(J,T),wt.LINE_TO}pathH(F,K){var{x:J,y:T}=As.pathH(F).point;return K.push(J,T),wt.LINE_TO}pathV(F,K){var{x:J,y:T}=As.pathV(F).point;return K.push(J,T),wt.LINE_TO}pathC(F,K){var{point:J,controlPoint:T,currentPoint:M}=As.pathC(F);K.push(J.x,J.y,T.x,T.y,M.x,M.y)}pathS(F,K){var{point:J,controlPoint:T,currentPoint:M}=As.pathS(F);return K.push(J.x,J.y,T.x,T.y,M.x,M.y),wt.CURVE_TO}pathQ(F,K){var{controlPoint:J,currentPoint:T}=As.pathQ(F);K.push(J.x,J.y,T.x,T.y)}pathT(F,K){var{controlPoint:J,currentPoint:T}=As.pathT(F);return K.push(J.x,J.y,T.x,T.y),wt.QUAD_TO}pathA(F){var{rX:K,rY:J,sweepFlag:T,xAxisRotation:M,centp:$,a1:ie,ad:ve}=As.pathA(F);return T===0&&ve>0&&(ve-=2*Math.PI),T===1&&ve<0&&(ve+=2*Math.PI),[$.x,$.y,K,J,ie,ve,M,T]}calcLength(F,K,J,T){var M=0,$=null,ie=null,ve=0;switch(J){case wt.LINE_TO:return this.getLineLength(F,K,T[0],T[1]);case wt.CURVE_TO:for(M=0,$=this.getPointOnCubicBezier(0,F,K,T[0],T[1],T[2],T[3],T[4],T[5]),ve=.01;ve<=1;ve+=.01)ie=this.getPointOnCubicBezier(ve,F,K,T[0],T[1],T[2],T[3],T[4],T[5]),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;return M;case wt.QUAD_TO:for(M=0,$=this.getPointOnQuadraticBezier(0,F,K,T[0],T[1],T[2],T[3]),ve=.01;ve<=1;ve+=.01)ie=this.getPointOnQuadraticBezier(ve,F,K,T[0],T[1],T[2],T[3]),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;return M;case wt.ARC:{M=0;var Re=T[4],Je=T[5],N=T[4]+Je,v=Math.PI/180;if(Math.abs(Re-N)<v&&(v=Math.abs(Re-N)),$=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],Re,0),Je<0)for(ve=Re-v;ve>N;ve-=v)ie=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],ve,0),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;else for(ve=Re+v;ve<N;ve+=v)ie=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],ve,0),M+=this.getLineLength($.x,$.y,ie.x,ie.y),$=ie;return ie=this.getPointOnEllipticalArc(T[0],T[1],T[2],T[3],N,0),M+=this.getLineLength($.x,$.y,ie.x,ie.y),M}}return 0}getPointOnLine(F,K,J,T,M){var $=arguments.length>5&&arguments[5]!==void 0?arguments[5]:K,ie=arguments.length>6&&arguments[6]!==void 0?arguments[6]:J,ve=(M-J)/(T-K+De),Re=Math.sqrt(F*F/(1+ve*ve));T<K&&(Re*=-1);var Je=ve*Re,N=null;if(T===K)N={x:$,y:ie+Je};else if((ie-J)/($-K+De)===ve)N={x:$+Re,y:ie+Je};else{var v=0,S=0,I=this.getLineLength(K,J,T,M);if(I<De)return null;var P=($-K)*(T-K)+(ie-J)*(M-J);P/=I*I,v=K+P*(T-K),S=J+P*(M-J);var V=this.getLineLength($,ie,v,S),ce=Math.sqrt(F*F-V*V);Re=Math.sqrt(ce*ce/(1+ve*ve)),T<K&&(Re*=-1),Je=ve*Re,N={x:v+Re,y:S+Je}}return N}getPointOnPath(F){var K=this.getPathLength(),J=0,T=null;if(F<-5e-5||F-5e-5>K)return null;var{dataArray:M}=this;for(var $ of M){if($&&($.pathLength<5e-5||J+$.pathLength+5e-5<F)){J+=$.pathLength;continue}var ie=F-J,ve=0;switch($.type){case wt.LINE_TO:T=this.getPointOnLine(ie,$.start.x,$.start.y,$.points[0],$.points[1],$.start.x,$.start.y);break;case wt.ARC:{var Re=$.points[4],Je=$.points[5],N=$.points[4]+Je;if(ve=Re+ie/$.pathLength*Je,Je<0&&ve<N||Je>=0&&ve>N)break;T=this.getPointOnEllipticalArc($.points[0],$.points[1],$.points[2],$.points[3],ve,$.points[6]);break}case wt.CURVE_TO:ve=ie/$.pathLength,ve>1&&(ve=1),T=this.getPointOnCubicBezier(ve,$.start.x,$.start.y,$.points[0],$.points[1],$.points[2],$.points[3],$.points[4],$.points[5]);break;case wt.QUAD_TO:ve=ie/$.pathLength,ve>1&&(ve=1),T=this.getPointOnQuadraticBezier(ve,$.start.x,$.start.y,$.points[0],$.points[1],$.points[2],$.points[3]);break}if(T)return T;break}return null}getLineLength(F,K,J,T){return Math.sqrt((J-F)*(J-F)+(T-K)*(T-K))}getPathLength(){return this.pathLength===-1&&(this.pathLength=this.dataArray.reduce((F,K)=>K.pathLength>0?F+K.pathLength:F,0)),this.pathLength}getPointOnCubicBezier(F,K,J,T,M,$,ie,ve,Re){var Je=ve*fe(F)+$*te(F)+T*ge(F)+K*Fe(F),N=Re*fe(F)+ie*te(F)+M*ge(F)+J*Fe(F);return{x:Je,y:N}}getPointOnQuadraticBezier(F,K,J,T,M,$,ie){var ve=$*$e(F)+T*kt(F)+K*St(F),Re=ie*$e(F)+M*kt(F)+J*St(F);return{x:ve,y:Re}}getPointOnEllipticalArc(F,K,J,T,M,$){var ie=Math.cos($),ve=Math.sin($),Re={x:J*Math.cos(M),y:T*Math.sin(M)};return{x:F+(Re.x*ie-Re.y*ve),y:K+(Re.x*ve+Re.y*ie)}}buildEquidistantCache(F,K){var J=this.getPathLength(),T=K||.25,M=F||J/100;if(!this.equidistantCache||this.equidistantCache.step!==M||this.equidistantCache.precision!==T){this.equidistantCache={step:M,precision:T,points:[]};for(var $=0,ie=0;ie<=J;ie+=T){var ve=this.getPointOnPath(ie),Re=this.getPointOnPath(ie+T);!ve||!Re||($+=this.getLineLength(ve.x,ve.y,Re.x,Re.y),$>=M&&(this.equidistantCache.points.push({x:ve.x,y:ve.y,distance:ie}),$-=M))}}}getEquidistantPointOnPath(F,K,J){if(this.buildEquidistantCache(K,J),F<0||F-this.getPathLength()>5e-5)return null;var T=Math.round(F/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[T]||null}}var Ua=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class qn extends es{constructor(F,K,J){super(F,K,J),this.type="image",this.loaded=!1;var T=this.getHrefAttribute().getString();if(T){var M=T.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(T);F.images.push(this),M?this.loadSvg(T):this.loadImage(T),this.isSvg=M}}loadImage(F){var K=this;return(0,f.default)(function*(){try{var J=yield K.document.createImage(F);K.image=J}catch(T){console.error('Error while loading image "'.concat(F,'":'),T)}K.loaded=!0})()}loadSvg(F){var K=this;return(0,f.default)(function*(){var J=Ua.exec(F);if(J){var T=J[5];J[4]==="base64"?K.image=atob(T):K.image=decodeURIComponent(T)}else try{var M=yield K.document.fetch(F),$=yield M.text();K.image=$}catch(ie){console.error('Error while loading image "'.concat(F,'":'),ie)}K.loaded=!0})()}renderChildren(F){var{document:K,image:J,loaded:T}=this,M=this.getAttribute("x").getPixels("x"),$=this.getAttribute("y").getPixels("y"),ie=this.getStyle("width").getPixels("x"),ve=this.getStyle("height").getPixels("y");if(!(!T||!J||!ie||!ve)){if(F.save(),F.translate(M,$),this.isSvg){var Re=K.canvg.forkString(F,this.image,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:0,offsetY:0,scaleWidth:ie,scaleHeight:ve});Re.document.documentElement.parent=this,Re.render()}else{var Je=this.image;K.setViewBox({ctx:F,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:ie,desiredWidth:Je.width,height:ve,desiredHeight:Je.height}),this.loaded&&(typeof Je.complete>"u"||Je.complete)&&F.drawImage(Je,0,0)}F.restore()}}getBoundingBox(){var F=this.getAttribute("x").getPixels("x"),K=this.getAttribute("y").getPixels("y"),J=this.getStyle("width").getPixels("x"),T=this.getStyle("height").getPixels("y");return new ir(F,K,F+J,K+T)}}class fo extends es{constructor(){super(...arguments),this.type="symbol"}render(F){}}class Ai{constructor(F){this.document=F,this.loaded=!1,F.fonts.push(this)}load(F,K){var J=this;return(0,f.default)(function*(){try{var{document:T}=J,M=yield T.canvg.parser.load(K),$=M.getElementsByTagName("font");Array.from($).forEach(ie=>{var ve=T.createElement(ie);T.definitions[F]=ve})}catch(ie){console.error('Error while loading font "'.concat(K,'":'),ie)}J.loaded=!0})()}}class Ci extends er{constructor(F,K,J){super(F,K,J),this.type="style";var T=z(Array.from(K.childNodes).map($=>$.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,"")),M=T.split("}");M.forEach($=>{var ie=$.trim();if(ie){var ve=ie.split("{"),Re=ve[0].split(","),Je=ve[1].split(";");Re.forEach(N=>{var v=N.trim();if(v){var S=F.styles[v]||{};if(Je.forEach(V=>{var ce=V.indexOf(":"),q=V.substr(0,ce).trim(),ee=V.substr(ce+1,V.length-ce).trim();q&&ee&&(S[q]=new Ge(F,q,ee))}),F.styles[v]=S,F.stylesSpecificity[v]=Ee(v),v==="@font-face"){var I=S["font-family"].getString().replace(/"|'/g,""),P=S.src.getString().split(",");P.forEach(V=>{if(V.indexOf('format("svg")')>0){var ce=Ae(V);ce&&new Ai(F).load(I,ce)}})}}})}})}}Ci.parseExternalUrl=Ae;class Al extends es{constructor(){super(...arguments),this.type="use"}setContext(F){super.setContext(F);var K=this.getAttribute("x"),J=this.getAttribute("y");K.hasValue()&&F.translate(K.getPixels("x"),0),J.hasValue()&&F.translate(0,J.getPixels("y"))}path(F){var{element:K}=this;K&&K.path(F)}renderChildren(F){var{document:K,element:J}=this;if(J){var T=J;if(J.type==="symbol"&&(T=new en(K,null),T.attributes.viewBox=new Ge(K,"viewBox",J.getAttribute("viewBox").getString()),T.attributes.preserveAspectRatio=new Ge(K,"preserveAspectRatio",J.getAttribute("preserveAspectRatio").getString()),T.attributes.overflow=new Ge(K,"overflow",J.getAttribute("overflow").getString()),T.children=J.children,J.styles.opacity=new Ge(K,"opacity",this.calculateOpacity())),T.type==="svg"){var M=this.getStyle("width",!1,!0),$=this.getStyle("height",!1,!0);M.hasValue()&&(T.attributes.width=new Ge(K,"width",M.getString())),$.hasValue()&&(T.attributes.height=new Ge(K,"height",$.getString()))}var ie=T.parent;T.parent=this,T.render(F),T.parent=ie}}getBoundingBox(F){var{element:K}=this;return K?K.getBoundingBox(F):null}elementTransform(){var{document:F,element:K}=this;return Nr.fromElement(F,K)}get element(){return this.cachedElement||(this.cachedElement=this.getHrefAttribute().getDefinition()),this.cachedElement}}function qo(Tt,F,K,J,T,M){return Tt[K*J*4+F*4+M]}function Tl(Tt,F,K,J,T,M,$){Tt[K*J*4+F*4+M]=$}function xa(Tt,F,K){var J=Tt[F];return J*K}function ja(Tt,F,K,J){return F+Math.cos(Tt)*K+Math.sin(Tt)*J}class mo extends er{constructor(F,K,J){super(F,K,J),this.type="feColorMatrix";var T=Q(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var M=T[0];T=[.213+.787*M,.715-.715*M,.072-.072*M,0,0,.213-.213*M,.715+.285*M,.072-.072*M,0,0,.213-.213*M,.715-.715*M,.072+.928*M,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var $=T[0]*Math.PI/180;T=[ja($,.213,.787,-.213),ja($,.715,-.715,-.715),ja($,.072,-.072,.928),0,0,ja($,.213,-.213,.143),ja($,.715,.285,.14),ja($,.072,-.072,-.283),0,0,ja($,.213,-.213,-.787),ja($,.715,-.715,.715),ja($,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=T,this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(F,K,J,T,M){for(var{includeOpacity:$,matrix:ie}=this,ve=F.getImageData(0,0,T,M),Re=0;Re<M;Re++)for(var Je=0;Je<T;Je++){var N=qo(ve.data,Je,Re,T,M,0),v=qo(ve.data,Je,Re,T,M,1),S=qo(ve.data,Je,Re,T,M,2),I=qo(ve.data,Je,Re,T,M,3),P=xa(ie,0,N)+xa(ie,1,v)+xa(ie,2,S)+xa(ie,3,I)+xa(ie,4,1),V=xa(ie,5,N)+xa(ie,6,v)+xa(ie,7,S)+xa(ie,8,I)+xa(ie,9,1),ce=xa(ie,10,N)+xa(ie,11,v)+xa(ie,12,S)+xa(ie,13,I)+xa(ie,14,1),q=xa(ie,15,N)+xa(ie,16,v)+xa(ie,17,S)+xa(ie,18,I)+xa(ie,19,1);$&&(P=0,V=0,ce=0,q*=I/255),Tl(ve.data,Je,Re,T,M,0,P),Tl(ve.data,Je,Re,T,M,1,V),Tl(ve.data,Je,Re,T,M,2,ce),Tl(ve.data,Je,Re,T,M,3,q)}F.clearRect(0,0,T,M),F.putImageData(ve,0,0)}}class ti extends er{constructor(){super(...arguments),this.type="mask"}apply(F,K){var{document:J}=this,T=this.getAttribute("x").getPixels("x"),M=this.getAttribute("y").getPixels("y"),$=this.getStyle("width").getPixels("x"),ie=this.getStyle("height").getPixels("y");if(!$&&!ie){var ve=new ir;this.children.forEach(I=>{ve.addBoundingBox(I.getBoundingBox(F))}),T=Math.floor(ve.x1),M=Math.floor(ve.y1),$=Math.floor(ve.width),ie=Math.floor(ve.height)}var Re=this.removeStyles(K,ti.ignoreStyles),Je=J.createCanvas(T+$,M+ie),N=Je.getContext("2d");J.screen.setDefaults(N),this.renderChildren(N),new mo(J,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(N,0,0,T+$,M+ie);var v=J.createCanvas(T+$,M+ie),S=v.getContext("2d");J.screen.setDefaults(S),K.render(S),S.globalCompositeOperation="destination-in",S.fillStyle=N.createPattern(Je,"no-repeat"),S.fillRect(0,0,T+$,M+ie),F.fillStyle=S.createPattern(v,"no-repeat"),F.fillRect(0,0,T+$,M+ie),this.restoreStyles(K,Re)}render(F){}}ti.ignoreStyles=["mask","transform","clip-path"];var Di=()=>{};class hi extends er{constructor(){super(...arguments),this.type="clipPath"}apply(F){var{document:K}=this,J=Reflect.getPrototypeOf(F),{beginPath:T,closePath:M}=F;J&&(J.beginPath=Di,J.closePath=Di),Reflect.apply(T,F,[]),this.children.forEach($=>{if(!(typeof $.path>"u")){var ie=typeof $.elementTransform<"u"?$.elementTransform():null;ie||(ie=Nr.fromElement(K,$)),ie&&ie.apply(F),$.path(F),J&&(J.closePath=M),ie&&ie.unapply(F)}}),Reflect.apply(M,F,[]),F.clip(),J&&(J.beginPath=T,J.closePath=M)}render(F){}}class Wr extends er{constructor(){super(...arguments),this.type="filter"}apply(F,K){var{document:J,children:T}=this,M=K.getBoundingBox(F);if(M){var $=0,ie=0;T.forEach(ce=>{var q=ce.extraFilterDistance||0;$=Math.max($,q),ie=Math.max(ie,q)});var ve=Math.floor(M.width),Re=Math.floor(M.height),Je=ve+2*$,N=Re+2*ie;if(!(Je<1||N<1)){var v=Math.floor(M.x),S=Math.floor(M.y),I=this.removeStyles(K,Wr.ignoreStyles),P=J.createCanvas(Je,N),V=P.getContext("2d");J.screen.setDefaults(V),V.translate(-v+$,-S+ie),K.render(V),T.forEach(ce=>{typeof ce.apply=="function"&&ce.apply(V,0,0,Je,N)}),F.drawImage(P,0,0,Je,N,v-$,S-ie,Je,N),this.restoreStyles(K,I)}}}render(F){}}Wr.ignoreStyles=["filter","transform","clip-path"];class Ka extends er{constructor(F,K,J){super(F,K,J),this.type="feDropShadow",this.addStylesFromStyleDefinition()}apply(F,K,J,T,M){}}class ki extends er{constructor(){super(...arguments),this.type="feMorphology"}apply(F,K,J,T,M){}}class Pa extends er{constructor(){super(...arguments),this.type="feComposite"}apply(F,K,J,T,M){}}class po extends er{constructor(F,K,J){super(F,K,J),this.type="feGaussianBlur",this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber()),this.extraFilterDistance=this.blurRadius}apply(F,K,J,T,M){var{document:$,blurRadius:ie}=this,ve=$.window?$.window.document.body:null,Re=F.canvas;Re.id=$.getUniqueId(),ve&&(Re.style.display="none",ve.appendChild(Re)),(0,y.canvasRGBA)(Re,K,J,T,M,ie),ve&&ve.removeChild(Re)}}class Gn extends er{constructor(){super(...arguments),this.type="title"}}class Ki extends er{constructor(){super(...arguments),this.type="desc"}}var Ga={svg:en,rect:wa,circle:Ss,ellipse:Os,line:sr,polyline:fs,polygon:Pr,path:As,pattern:Gr,marker:ur,defs:Va,linearGradient:Bn,radialGradient:ln,stop:fa,animate:Zn,animateColor:Ii,animateTransform:Dn,font:mc,"font-face":oi,"missing-glyph":To,glyph:hs,text:Ks,tspan:zs,tref:Vl,a:ho,textPath:sa,image:qn,g:ha,symbol:fo,style:Ci,use:Al,mask:ti,clipPath:hi,filter:Wr,feDropShadow:Ka,feMorphology:ki,feComposite:Pa,feColorMatrix:mo,feGaussianBlur:po,title:Gn,desc:Ki};function Da(Tt,F){var K=Object.keys(Tt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Tt);F&&(J=J.filter(function(T){return Object.getOwnPropertyDescriptor(Tt,T).enumerable})),K.push.apply(K,J)}return K}function fi(Tt){for(var F=1;F<arguments.length;F++){var K=arguments[F]!=null?arguments[F]:{};F%2?Da(Object(K),!0).forEach(function(J){(0,m.default)(Tt,J,K[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(K)):Da(Object(K)).forEach(function(J){Object.defineProperty(Tt,J,Object.getOwnPropertyDescriptor(K,J))})}return Tt}function Uo(Tt,F){var K=document.createElement("canvas");return K.width=Tt,K.height=F,K}function Bi(Tt){return ba.apply(this,arguments)}function ba(){return ba=(0,f.default)(function*(Tt){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K=document.createElement("img");return F&&(K.crossOrigin="Anonymous"),new Promise((J,T)=>{K.onload=()=>{J(K)},K.onerror=(M,$,ie,ve,Re)=>{T(Re)},K.src=Tt})}),ba.apply(this,arguments)}class mi{constructor(F){var{rootEmSize:K=12,emSize:J=12,createCanvas:T=mi.createCanvas,createImage:M=mi.createImage,anonymousCrossOrigin:$}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.canvg=F,this.definitions=Object.create(null),this.styles=Object.create(null),this.stylesSpecificity=Object.create(null),this.images=[],this.fonts=[],this.emSizeStack=[],this.uniqueId=0,this.screen=F.screen,this.rootEmSize=K,this.emSize=J,this.createCanvas=T,this.createImage=this.bindCreateImage(M,$),this.screen.wait(this.isImagesLoaded.bind(this)),this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(F,K){return typeof K=="boolean"?(J,T)=>F(J,typeof T=="boolean"?T:K):F}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:F}=this;return F[F.length-1]}set emSize(F){var{emSizeStack:K}=this;K.push(F)}popEmSize(){var{emSizeStack:F}=this;F.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(F=>F.loaded)}isFontsLoaded(){return this.fonts.every(F=>F.loaded)}createDocumentElement(F){var K=this.createElement(F.documentElement);return K.root=!0,K.addStylesFromStyleDefinition(),this.documentElement=K,K}createElement(F){var K=F.nodeName.replace(/^[^:]+:/,""),J=mi.elementTypes[K];return typeof J<"u"?new J(this,F):new Ys(this,F)}createTextNode(F){return new mr(this,F)}setViewBox(F){this.screen.setViewBox(fi({document:this},F))}}mi.createCanvas=Uo,mi.createImage=Bi,mi.elementTypes=Ga;function eo(Tt,F){var K=Object.keys(Tt);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(Tt);F&&(J=J.filter(function(T){return Object.getOwnPropertyDescriptor(Tt,T).enumerable})),K.push.apply(K,J)}return K}function Si(Tt){for(var F=1;F<arguments.length;F++){var K=arguments[F]!=null?arguments[F]:{};F%2?eo(Object(K),!0).forEach(function(J){(0,m.default)(Tt,J,K[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(K)):eo(Object(K)).forEach(function(J){Object.defineProperty(Tt,J,Object.getOwnPropertyDescriptor(K,J))})}return Tt}class oo{constructor(F,K){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.parser=new vs(J),this.screen=new At(F,J),this.options=J;var T=new mi(this,J),M=T.createDocumentElement(K);this.document=T,this.documentElement=M}static from(F,K){var J=arguments;return(0,f.default)(function*(){var T=J.length>2&&J[2]!==void 0?J[2]:{},M=new vs(T),$=yield M.parse(K);return new oo(F,$,T)})()}static fromString(F,K){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},T=new vs(J),M=T.parseFromString(K);return new oo(F,M,J)}fork(F,K){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return oo.from(F,K,Si(Si({},this.options),J))}forkString(F,K){var J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return oo.fromString(F,K,Si(Si({},this.options),J))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var F=arguments,K=this;return(0,f.default)(function*(){var J=F.length>0&&F[0]!==void 0?F[0]:{};K.start(Si({enableRedraw:!0,ignoreAnimation:!0,ignoreMouse:!0},J)),yield K.ready(),K.stop()})()}start(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{documentElement:K,screen:J,options:T}=this;J.start(K,Si(Si({enableRedraw:!0},T),F))}stop(){this.screen.stop()}resize(F){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,J=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.documentElement.resize(F,K,J)}}}),"./node_modules/core-js/internals/a-callable.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/try-to-string.js"),p=TypeError;d.exports=function(x){if(f(x))return x;throw new p(m(x)+" is not a function")}}),"./node_modules/core-js/internals/a-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-constructor.js"),m=o("./node_modules/core-js/internals/try-to-string.js"),p=TypeError;d.exports=function(x){if(f(x))return x;throw new p(m(x)+" is not a constructor")}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-possible-prototype.js"),m=String,p=TypeError;d.exports=function(x){if(f(x))return x;throw new p("Can't set "+m(x)+" as a prototype")}}),"./node_modules/core-js/internals/a-set.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/set-helpers.js").has;d.exports=function(m){return f(m),m}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/object-create.js"),p=o("./node_modules/core-js/internals/object-define-property.js").f,x=f("unscopables"),b=Array.prototype;b[x]===void 0&&p(b,x,{configurable:!0,value:m(null)}),d.exports=function(y){b[x][y]=!0}}),"./node_modules/core-js/internals/advance-string-index.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/string-multibyte.js").charAt;d.exports=function(m,p,x){return p+(x?f(m,p).length:1)}}),"./node_modules/core-js/internals/an-instance.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-is-prototype-of.js"),m=TypeError;d.exports=function(p,x){if(f(x,p))return p;throw new m("Incorrect invocation")}}),"./node_modules/core-js/internals/an-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),m=String,p=TypeError;d.exports=function(x){if(f(x))return x;throw new p(m(x)+" is not an object")}}),"./node_modules/core-js/internals/array-buffer-non-extensible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=f(function(){if(typeof ArrayBuffer=="function"){var m=new ArrayBuffer(8);Object.isExtensible(m)&&Object.defineProperty(m,"a",{value:8})}})}),"./node_modules/core-js/internals/array-for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/array-iteration.js").forEach,m=o("./node_modules/core-js/internals/array-method-is-strict.js"),p=m("forEach");d.exports=p?[].forEach:function(b){return f(this,b,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-object.js"),x=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),b=o("./node_modules/core-js/internals/is-array-iterator-method.js"),y=o("./node_modules/core-js/internals/is-constructor.js"),w=o("./node_modules/core-js/internals/length-of-array-like.js"),E=o("./node_modules/core-js/internals/create-property.js"),R=o("./node_modules/core-js/internals/get-iterator.js"),z=o("./node_modules/core-js/internals/get-iterator-method.js"),X=Array;d.exports=function(Q){var G=p(Q),le=y(this),Ae=arguments.length,je=Ae>1?arguments[1]:void 0,ue=je!==void 0;ue&&(je=f(je,Ae>2?arguments[2]:void 0));var Se=z(G),ae=0,Ne,he,se,de,oe,Ee;if(Se&&!(this===X&&b(Se)))for(he=le?new this:[],de=R(G,Se),oe=de.next;!(se=m(oe,de)).done;ae++)Ee=ue?x(de,je,[se.value,ae],!0):se.value,E(he,ae,Ee);else for(Ne=w(G),he=le?new this(Ne):X(Ne);Ne>ae;ae++)Ee=ue?je(G[ae],ae):G[ae],E(he,ae,Ee);return he.length=ae,he}}),"./node_modules/core-js/internals/array-includes.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/to-absolute-index.js"),p=o("./node_modules/core-js/internals/length-of-array-like.js"),x=function(b){return function(y,w,E){var R=f(y),z=p(R);if(z===0)return!b&&-1;var X=m(E,z),Y;if(b&&w!==w){for(;z>X;)if(Y=R[X++],Y!==Y)return!0}else for(;z>X;X++)if((b||X in R)&&R[X]===w)return b||X||0;return!b&&-1}};d.exports={includes:x(!0),indexOf:x(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/to-object.js"),b=o("./node_modules/core-js/internals/length-of-array-like.js"),y=o("./node_modules/core-js/internals/array-species-create.js"),w=m([].push),E=function(R){var z=R===1,X=R===2,Y=R===3,Q=R===4,G=R===6,le=R===7,Ae=R===5||G;return function(je,ue,Se,ae){for(var Ne=x(je),he=p(Ne),se=b(he),de=f(ue,Se),oe=0,Ee=ae||y,De=z?Ee(je,se):X||le?Ee(je,0):void 0,ke,pe;se>oe;oe++)if((Ae||oe in he)&&(ke=he[oe],pe=de(ke,oe,Ne),R))if(z)De[oe]=pe;else if(pe)switch(R){case 3:return!0;case 5:return ke;case 6:return oe;case 2:w(De,ke)}else switch(R){case 4:return!1;case 7:w(De,ke)}return G?-1:Y||Q?Q:De}};d.exports={forEach:E(0),map:E(1),filter:E(2),some:E(3),every:E(4),find:E(5),findIndex:E(6),filterReject:E(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/well-known-symbol.js"),p=o("./node_modules/core-js/internals/environment-v8-version.js"),x=m("species");d.exports=function(b){return p>=51||!f(function(){var y=[],w=y.constructor={};return w[x]=function(){return{foo:1}},y[b](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=function(m,p){var x=[][m];return!!x&&f(function(){x.call(null,p||function(){return 1},1)})}}),"./node_modules/core-js/internals/array-reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/to-object.js"),p=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/length-of-array-like.js"),b=TypeError,y="Reduce of empty array with no initial value",w=function(E){return function(R,z,X,Y){var Q=m(R),G=p(Q),le=x(Q);if(f(z),le===0&&X<2)throw new b(y);var Ae=E?le-1:0,je=E?-1:1;if(X<2)for(;;){if(Ae in G){Y=G[Ae],Ae+=je;break}if(Ae+=je,E?Ae<0:le<=Ae)throw new b(y)}for(;E?Ae>=0:le>Ae;Ae+=je)Ae in G&&(Y=z(Y,G[Ae],Ae,Q));return Y}};d.exports={left:w(!1),right:w(!0)}}),"./node_modules/core-js/internals/array-slice.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f([].slice)}),"./node_modules/core-js/internals/array-species-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-array.js"),m=o("./node_modules/core-js/internals/is-constructor.js"),p=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=x("species"),y=Array;d.exports=function(w){var E;return f(w)&&(E=w.constructor,m(E)&&(E===y||f(E.prototype))?E=void 0:p(E)&&(E=E[b],E===null&&(E=void 0))),E===void 0?y:E}}),"./node_modules/core-js/internals/array-species-create.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/array-species-constructor.js");d.exports=function(m,p){return new(f(m))(p===0?0:p)}}),"./node_modules/core-js/internals/call-with-safe-iteration-closing.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(p,x,b,y){try{return y?x(f(b)[0],b[1]):x(b)}catch(w){m(p,"throw",w)}}}),"./node_modules/core-js/internals/check-correctness-of-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),m=f("iterator"),p=!1;try{var x=0,b={next:function(){return{done:!!x++}},return:function(){p=!0}};b[m]=function(){return this},Array.from(b,function(){throw 2})}catch{}d.exports=function(y,w){try{if(!w&&!p)return!1}catch{return!1}var E=!1;try{var R={};R[m]=function(){return{next:function(){return{done:E=!0}}}},y(R)}catch{}return E}}),"./node_modules/core-js/internals/classof-raw.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=f({}.toString),p=f("".slice);d.exports=function(x){return p(m(x),8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/classof-raw.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=x("toStringTag"),y=Object,w=p((function(){return arguments})())==="Arguments",E=function(R,z){try{return R[z]}catch{}};d.exports=f?p:function(R){var z,X,Y;return R===void 0?"Undefined":R===null?"Null":typeof(X=E(z=y(R),b))=="string"?X:w?p(z):(Y=p(z))==="Object"&&m(z.callee)?"Arguments":Y}}),"./node_modules/core-js/internals/collection-strong.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-create.js"),m=o("./node_modules/core-js/internals/define-built-in-accessor.js"),p=o("./node_modules/core-js/internals/define-built-ins.js"),x=o("./node_modules/core-js/internals/function-bind-context.js"),b=o("./node_modules/core-js/internals/an-instance.js"),y=o("./node_modules/core-js/internals/is-null-or-undefined.js"),w=o("./node_modules/core-js/internals/iterate.js"),E=o("./node_modules/core-js/internals/iterator-define.js"),R=o("./node_modules/core-js/internals/create-iter-result-object.js"),z=o("./node_modules/core-js/internals/set-species.js"),X=o("./node_modules/core-js/internals/descriptors.js"),Y=o("./node_modules/core-js/internals/internal-metadata.js").fastKey,Q=o("./node_modules/core-js/internals/internal-state.js"),G=Q.set,le=Q.getterFor;d.exports={getConstructor:function(Ae,je,ue,Se){var ae=Ae(function(oe,Ee){b(oe,Ne),G(oe,{type:je,index:f(null),first:null,last:null,size:0}),X||(oe.size=0),y(Ee)||w(Ee,oe[Se],{that:oe,AS_ENTRIES:ue})}),Ne=ae.prototype,he=le(je),se=function(oe,Ee,De){var ke=he(oe),pe=de(oe,Ee),ye,fe;return pe?pe.value=De:(ke.last=pe={index:fe=Y(Ee,!0),key:Ee,value:De,previous:ye=ke.last,next:null,removed:!1},ke.first||(ke.first=pe),ye&&(ye.next=pe),X?ke.size++:oe.size++,fe!=="F"&&(ke.index[fe]=pe)),oe},de=function(oe,Ee){var De=he(oe),ke=Y(Ee),pe;if(ke!=="F")return De.index[ke];for(pe=De.first;pe;pe=pe.next)if(pe.key===Ee)return pe};return p(Ne,{clear:function(){for(var Ee=this,De=he(Ee),ke=De.first;ke;)ke.removed=!0,ke.previous&&(ke.previous=ke.previous.next=null),ke=ke.next;De.first=De.last=null,De.index=f(null),X?De.size=0:Ee.size=0},delete:function(oe){var Ee=this,De=he(Ee),ke=de(Ee,oe);if(ke){var pe=ke.next,ye=ke.previous;delete De.index[ke.index],ke.removed=!0,ye&&(ye.next=pe),pe&&(pe.previous=ye),De.first===ke&&(De.first=pe),De.last===ke&&(De.last=ye),X?De.size--:Ee.size--}return!!ke},forEach:function(Ee){for(var De=he(this),ke=x(Ee,arguments.length>1?arguments[1]:void 0),pe;pe=pe?pe.next:De.first;)for(ke(pe.value,pe.key,this);pe&&pe.removed;)pe=pe.previous},has:function(Ee){return!!de(this,Ee)}}),p(Ne,ue?{get:function(Ee){var De=de(this,Ee);return De&&De.value},set:function(Ee,De){return se(this,Ee===0?0:Ee,De)}}:{add:function(Ee){return se(this,Ee=Ee===0?0:Ee,Ee)}}),X&&m(Ne,"size",{configurable:!0,get:function(){return he(this).size}}),ae},setStrong:function(Ae,je,ue){var Se=je+" Iterator",ae=le(je),Ne=le(Se);E(Ae,je,function(he,se){G(this,{type:Se,target:he,state:ae(he),kind:se,last:null})},function(){for(var he=Ne(this),se=he.kind,de=he.last;de&&de.removed;)de=de.previous;return!he.target||!(he.last=de=de?de.next:he.state.first)?(he.target=null,R(void 0,!0)):R(se==="keys"?de.key:se==="values"?de.value:[de.key,de.value],!1)},ue?"entries":"values",!ue,!0),z(je)}}}),"./node_modules/core-js/internals/collection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/is-forced.js"),b=o("./node_modules/core-js/internals/define-built-in.js"),y=o("./node_modules/core-js/internals/internal-metadata.js"),w=o("./node_modules/core-js/internals/iterate.js"),E=o("./node_modules/core-js/internals/an-instance.js"),R=o("./node_modules/core-js/internals/is-callable.js"),z=o("./node_modules/core-js/internals/is-null-or-undefined.js"),X=o("./node_modules/core-js/internals/is-object.js"),Y=o("./node_modules/core-js/internals/fails.js"),Q=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),G=o("./node_modules/core-js/internals/set-to-string-tag.js"),le=o("./node_modules/core-js/internals/inherit-if-required.js");d.exports=function(Ae,je,ue){var Se=Ae.indexOf("Map")!==-1,ae=Ae.indexOf("Weak")!==-1,Ne=Se?"set":"add",he=m[Ae],se=he&&he.prototype,de=he,oe={},Ee=function(ge){var Fe=p(se[ge]);b(se,ge,ge==="add"?function(kt){return Fe(this,kt===0?0:kt),this}:ge==="delete"?function($e){return ae&&!X($e)?!1:Fe(this,$e===0?0:$e)}:ge==="get"?function(kt){return ae&&!X(kt)?void 0:Fe(this,kt===0?0:kt)}:ge==="has"?function(kt){return ae&&!X(kt)?!1:Fe(this,kt===0?0:kt)}:function(kt,St){return Fe(this,kt===0?0:kt,St),this})},De=x(Ae,!R(he)||!(ae||se.forEach&&!Y(function(){new he().entries().next()})));if(De)de=ue.getConstructor(je,Ae,Se,Ne),y.enable();else if(x(Ae,!0)){var ke=new de,pe=ke[Ne](ae?{}:-0,1)!==ke,ye=Y(function(){ke.has(1)}),fe=Q(function(ge){new he(ge)}),te=!ae&&Y(function(){for(var ge=new he,Fe=5;Fe--;)ge[Ne](Fe,Fe);return!ge.has(-0)});fe||(de=je(function(ge,Fe){E(ge,se);var $e=le(new he,ge,de);return z(Fe)||w(Fe,$e[Ne],{that:$e,AS_ENTRIES:Se}),$e}),de.prototype=se,se.constructor=de),(ye||te)&&(Ee("delete"),Ee("has"),Se&&Ee("get")),(te||pe)&&Ee(Ne),ae&&se.clear&&delete se.clear}return oe[Ae]=de,f({global:!0,constructor:!0,forced:de!==he},oe),G(de,Ae),ae||ue.setStrong(de,Ae,Se),de}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/own-keys.js"),p=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),x=o("./node_modules/core-js/internals/object-define-property.js");d.exports=function(b,y,w){for(var E=m(y),R=x.f,z=p.f,X=0;X<E.length;X++){var Y=E[X];!f(b,Y)&&!(w&&f(w,Y))&&R(b,Y,z(y,Y))}}}),"./node_modules/core-js/internals/correct-is-regexp-logic.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),m=f("match");d.exports=function(p){var x=/./;try{"/./"[p](x)}catch{try{return x[m]=!1,"/./"[p](x)}catch{}}return!1}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js"),p=o("./node_modules/core-js/internals/to-string.js"),x=/"/g,b=f("".replace);d.exports=function(y,w,E,R){var z=p(m(y)),X="<"+w;return E!==""&&(X+=" "+E+'="'+b(p(R),x,"&quot;")+'"'),X+">"+z+"</"+w+">"}}),"./node_modules/core-js/internals/create-iter-result-object.js":(function(d){d.exports=function(A,o){return{value:A,done:o}}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/object-define-property.js"),p=o("./node_modules/core-js/internals/create-property-descriptor.js");d.exports=f?function(x,b,y){return m.f(x,b,p(1,y))}:function(x,b,y){return x[b]=y,x}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(d){d.exports=function(A,o){return{enumerable:!(A&1),configurable:!(A&2),writable:!(A&4),value:o}}}),"./node_modules/core-js/internals/create-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/object-define-property.js"),p=o("./node_modules/core-js/internals/create-property-descriptor.js");d.exports=function(x,b,y){f?m.f(x,b,p(0,y)):x[b]=y}}),"./node_modules/core-js/internals/define-built-in-accessor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/make-built-in.js"),m=o("./node_modules/core-js/internals/object-define-property.js");d.exports=function(p,x,b){return b.get&&f(b.get,x,{getter:!0}),b.set&&f(b.set,x,{setter:!0}),m.f(p,x,b)}}),"./node_modules/core-js/internals/define-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/object-define-property.js"),p=o("./node_modules/core-js/internals/make-built-in.js"),x=o("./node_modules/core-js/internals/define-global-property.js");d.exports=function(b,y,w,E){E||(E={});var R=E.enumerable,z=E.name!==void 0?E.name:y;if(f(w)&&p(w,z,E),E.global)R?b[y]=w:x(y,w);else{try{E.unsafe?b[y]&&(R=!0):delete b[y]}catch{}R?b[y]=w:m.f(b,y,{value:w,enumerable:!1,configurable:!E.nonConfigurable,writable:!E.nonWritable})}return b}}),"./node_modules/core-js/internals/define-built-ins.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/define-built-in.js");d.exports=function(m,p,x){for(var b in p)f(m,b,p[b],x);return m}}),"./node_modules/core-js/internals/define-global-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=Object.defineProperty;d.exports=function(p,x){try{m(f,p,{value:x,configurable:!0,writable:!0})}catch{f[p]=x}return x}}),"./node_modules/core-js/internals/descriptors.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})}),"./node_modules/core-js/internals/document-create-element.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=f.document,x=m(p)&&m(p.createElement);d.exports=function(b){return x?p.createElement(b):{}}}),"./node_modules/core-js/internals/does-not-exceed-safe-integer.js":(function(d){var A=TypeError,o=9007199254740991;d.exports=function(f){if(f>o)throw A("Maximum allowed index exceeded");return f}}),"./node_modules/core-js/internals/dom-iterables.js":(function(d){d.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/dom-token-list-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/document-create-element.js"),m=f("span").classList,p=m&&m.constructor&&m.constructor.prototype;d.exports=p===Object.prototype?void 0:p}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(d){d.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/environment-is-ios-pebble.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/ipad|iphone|ipod/i.test(f)&&typeof Pebble<"u"}),"./node_modules/core-js/internals/environment-is-ios.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(f)}),"./node_modules/core-js/internals/environment-is-node.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment.js");d.exports=f==="NODE"}),"./node_modules/core-js/internals/environment-is-webos-webkit.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-user-agent.js");d.exports=/web0s(?!.*chrome)/i.test(f)}),"./node_modules/core-js/internals/environment-user-agent.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=f.navigator,p=m&&m.userAgent;d.exports=p?String(p):""}),"./node_modules/core-js/internals/environment-v8-version.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/environment-user-agent.js"),p=f.process,x=f.Deno,b=p&&p.versions||x&&x.version,y=b&&b.v8,w,E;y&&(w=y.split("."),E=w[0]>0&&w[0]<4?1:+(w[0]+w[1])),!E&&m&&(w=m.match(/Edge\/(\d+)/),(!w||w[1]>=74)&&(w=m.match(/Chrome\/(\d+)/),w&&(E=+w[1]))),d.exports=E}),"./node_modules/core-js/internals/environment.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/environment-user-agent.js"),p=o("./node_modules/core-js/internals/classof-raw.js"),x=function(b){return m.slice(0,b.length)===b};d.exports=(function(){return x("Bun/")?"BUN":x("Cloudflare-Workers")?"CLOUDFLARE":x("Deno/")?"DENO":x("Node.js/")?"NODE":f.Bun&&typeof Bun.version=="string"?"BUN":f.Deno&&typeof Deno.version=="object"?"DENO":p(f.process)==="process"?"NODE":f.window&&f.document?"BROWSER":"REST"})()}),"./node_modules/core-js/internals/export.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,p=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=o("./node_modules/core-js/internals/define-built-in.js"),b=o("./node_modules/core-js/internals/define-global-property.js"),y=o("./node_modules/core-js/internals/copy-constructor-properties.js"),w=o("./node_modules/core-js/internals/is-forced.js");d.exports=function(E,R){var z=E.target,X=E.global,Y=E.stat,Q,G,le,Ae,je,ue;if(X?G=f:Y?G=f[z]||b(z,{}):G=f[z]&&f[z].prototype,G)for(le in R){if(je=R[le],E.dontCallGetSet?(ue=m(G,le),Ae=ue&&ue.value):Ae=G[le],Q=w(X?le:z+(Y?".":"#")+le,E.forced),!Q&&Ae!==void 0){if(typeof je==typeof Ae)continue;y(je,Ae)}(E.sham||Ae&&Ae.sham)&&p(je,"sham",!0),x(G,le,je,E)}}}),"./node_modules/core-js/internals/fails.js":(function(d){d.exports=function(A){try{return!!A()}catch{return!0}}}),"./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js":(function(d,A,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/define-built-in.js"),p=o("./node_modules/core-js/internals/regexp-exec.js"),x=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=b("species"),E=RegExp.prototype;d.exports=function(R,z,X,Y){var Q=b(R),G=!x(function(){var ue={};return ue[Q]=function(){return 7},""[R](ue)!==7}),le=G&&!x(function(){var ue=!1,Se=/a/;if(R==="split"){var ae={};ae[w]=function(){return Se},Se={constructor:ae,flags:""},Se[Q]=/./[Q]}return Se.exec=function(){return ue=!0,null},Se[Q](""),!ue});if(!G||!le||X){var Ae=/./[Q],je=z(Q,""[R],function(ue,Se,ae,Ne,he){var se=Se.exec;return se===p||se===E.exec?G&&!he?{done:!0,value:f(Ae,Se,ae,Ne)}:{done:!0,value:f(ue,ae,Se,Ne)}:{done:!1}});m(String.prototype,R,je[0]),m(E,Q,je[1])}Y&&y(E[Q],"sham",!0)}}),"./node_modules/core-js/internals/freezing.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})}),"./node_modules/core-js/internals/function-apply.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),m=Function.prototype,p=m.apply,x=m.call;d.exports=typeof Reflect=="object"&&Reflect.apply||(f?x.bind(p):function(){return x.apply(p,arguments)})}),"./node_modules/core-js/internals/function-bind-context.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),m=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/function-bind-native.js"),x=f(f.bind);d.exports=function(b,y){return m(b),y===void 0?b:p?x(b,y):function(){return b.apply(y,arguments)}}}),"./node_modules/core-js/internals/function-bind-native.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){var m=(function(){}).bind();return typeof m!="function"||m.hasOwnProperty("prototype")})}),"./node_modules/core-js/internals/function-call.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),m=Function.prototype.call;d.exports=f?m.bind(m):function(){return m.apply(m,arguments)}}),"./node_modules/core-js/internals/function-name.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=Function.prototype,x=f&&Object.getOwnPropertyDescriptor,b=m(p,"name"),y=b&&(function(){}).name==="something",w=b&&(!f||f&&x(p,"name").configurable);d.exports={EXISTS:b,PROPER:y,CONFIGURABLE:w}}),"./node_modules/core-js/internals/function-uncurry-this-accessor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/a-callable.js");d.exports=function(p,x,b){try{return f(m(Object.getOwnPropertyDescriptor(p,x)[b]))}catch{}}}),"./node_modules/core-js/internals/function-uncurry-this-clause.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=function(p){if(f(p)==="Function")return m(p)}}),"./node_modules/core-js/internals/function-uncurry-this.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-native.js"),m=Function.prototype,p=m.call,x=f&&m.bind.bind(p,p);d.exports=f?x:function(b){return function(){return p.apply(b,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=function(x){return m(x)?x:void 0};d.exports=function(x,b){return arguments.length<2?p(f[x]):f[x]&&f[x][b]}}),"./node_modules/core-js/internals/get-iterator-direct.js":(function(d){d.exports=function(A){return{iterator:A,next:A.next,done:!1}}}),"./node_modules/core-js/internals/get-iterator-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),m=o("./node_modules/core-js/internals/get-method.js"),p=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/iterators.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),y=b("iterator");d.exports=function(w){if(!p(w))return m(w,y)||m(w,"@@iterator")||x[f(w)]}}),"./node_modules/core-js/internals/get-iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),b=o("./node_modules/core-js/internals/get-iterator-method.js"),y=TypeError;d.exports=function(w,E){var R=arguments.length<2?b(w):E;if(m(R))return p(f(R,w));throw new y(x(w)+" is not iterable")}}),"./node_modules/core-js/internals/get-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/is-null-or-undefined.js");d.exports=function(p,x){var b=p[x];return m(b)?void 0:f(b)}}),"./node_modules/core-js/internals/get-set-record.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),m=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),b=o("./node_modules/core-js/internals/get-iterator-direct.js"),y="Invalid size",w=RangeError,E=TypeError,R=Math.max,z=function(X,Y){this.set=X,this.size=R(Y,0),this.has=f(X.has),this.keys=f(X.keys)};z.prototype={getIterator:function(){return b(m(p(this.keys,this.set)))},includes:function(X){return p(this.has,this.set,X)}},d.exports=function(X){m(X);var Y=+X.size;if(Y!==Y)throw new E(y);var Q=x(Y);if(Q<0)throw new w(y);return new z(X,Q)}}),"./node_modules/core-js/internals/get-substitution.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/to-object.js"),p=Math.floor,x=f("".charAt),b=f("".replace),y=f("".slice),w=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;d.exports=function(R,z,X,Y,Q,G){var le=X+R.length,Ae=Y.length,je=E;return Q!==void 0&&(Q=m(Q),je=w),b(G,je,function(ue,Se){var ae;switch(x(Se,0)){case"$":return"$";case"&":return R;case"`":return y(z,0,X);case"'":return y(z,le);case"<":ae=Q[y(Se,1,-1)];break;default:var Ne=+Se;if(Ne===0)return ue;if(Ne>Ae){var he=p(Ne/10);return he===0?ue:he<=Ae?Y[he-1]===void 0?x(Se,1):Y[he-1]+x(Se,1):ue}ae=Y[Ne-1]}return ae===void 0?"":ae})}}),"./node_modules/core-js/internals/global-this.js":(function(d){var A=function(o){return o&&o.Math===Math&&o};d.exports=A(typeof globalThis=="object"&&globalThis)||A(typeof window=="object"&&window)||A(typeof self=="object"&&self)||A(typeof O0=="object"&&O0)||A(typeof this=="object"&&this)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has-own-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/to-object.js"),p=f({}.hasOwnProperty);d.exports=Object.hasOwn||function(b,y){return p(m(b),y)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(d){d.exports={}}),"./node_modules/core-js/internals/host-report-errors.js":(function(d){d.exports=function(A,o){try{arguments.length===1?console.error(A):console.error(A,o)}catch{}}}),"./node_modules/core-js/internals/html.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js");d.exports=f("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/document-create-element.js");d.exports=!f&&!m(function(){return Object.defineProperty(p("div"),"a",{get:function(){return 7}}).a!==7})}),"./node_modules/core-js/internals/indexed-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/classof-raw.js"),x=Object,b=f("".split);d.exports=m(function(){return!x("z").propertyIsEnumerable(0)})?function(y){return p(y)==="String"?b(y,""):x(y)}:x}),"./node_modules/core-js/internals/inherit-if-required.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/object-set-prototype-of.js");d.exports=function(x,b,y){var w,E;return p&&f(w=b.constructor)&&w!==y&&m(E=w.prototype)&&E!==y.prototype&&p(x,E),x}}),"./node_modules/core-js/internals/inspect-source.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/shared-store.js"),x=f(Function.toString);m(p.inspectSource)||(p.inspectSource=function(b){return x(b)}),d.exports=p.inspectSource}),"./node_modules/core-js/internals/internal-metadata.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/hidden-keys.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/object-define-property.js").f,w=o("./node_modules/core-js/internals/object-get-own-property-names.js"),E=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),R=o("./node_modules/core-js/internals/object-is-extensible.js"),z=o("./node_modules/core-js/internals/uid.js"),X=o("./node_modules/core-js/internals/freezing.js"),Y=!1,Q=z("meta"),G=0,le=function(Ne){y(Ne,Q,{value:{objectID:"O"+G++,weakData:{}}})},Ae=function(Ne,he){if(!x(Ne))return typeof Ne=="symbol"?Ne:(typeof Ne=="string"?"S":"P")+Ne;if(!b(Ne,Q)){if(!R(Ne))return"F";if(!he)return"E";le(Ne)}return Ne[Q].objectID},je=function(Ne,he){if(!b(Ne,Q)){if(!R(Ne))return!0;if(!he)return!1;le(Ne)}return Ne[Q].weakData},ue=function(Ne){return X&&Y&&R(Ne)&&!b(Ne,Q)&&le(Ne),Ne},Se=function(){ae.enable=function(){},Y=!0;var Ne=w.f,he=m([].splice),se={};se[Q]=1,Ne(se).length&&(w.f=function(de){for(var oe=Ne(de),Ee=0,De=oe.length;Ee<De;Ee++)if(oe[Ee]===Q){he(oe,Ee,1);break}return oe},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:E.f}))},ae=d.exports={enable:Se,fastKey:Ae,getWeakData:je,onFreeze:ue};p[Q]=!0}),"./node_modules/core-js/internals/internal-state.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/weak-map-basic-detection.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/shared-store.js"),w=o("./node_modules/core-js/internals/shared-key.js"),E=o("./node_modules/core-js/internals/hidden-keys.js"),R="Object already initialized",z=m.TypeError,X=m.WeakMap,Y,Q,G,le=function(Se){return G(Se)?Q(Se):Y(Se,{})},Ae=function(Se){return function(ae){var Ne;if(!p(ae)||(Ne=Q(ae)).type!==Se)throw new z("Incompatible receiver, "+Se+" required");return Ne}};if(f||y.state){var je=y.state||(y.state=new X);je.get=je.get,je.has=je.has,je.set=je.set,Y=function(Se,ae){if(je.has(Se))throw new z(R);return ae.facade=Se,je.set(Se,ae),ae},Q=function(Se){return je.get(Se)||{}},G=function(Se){return je.has(Se)}}else{var ue=w("state");E[ue]=!0,Y=function(Se,ae){if(b(Se,ue))throw new z(R);return ae.facade=Se,x(Se,ue,ae),ae},Q=function(Se){return b(Se,ue)?Se[ue]:{}},G=function(Se){return b(Se,ue)}}d.exports={set:Y,get:Q,has:G,enforce:le,getterFor:Ae}}),"./node_modules/core-js/internals/is-array-iterator-method.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/iterators.js"),p=f("iterator"),x=Array.prototype;d.exports=function(b){return b!==void 0&&(m.Array===b||x[p]===b)}}),"./node_modules/core-js/internals/is-array.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js");d.exports=Array.isArray||function(p){return f(p)==="Array"}}),"./node_modules/core-js/internals/is-callable.js":(function(d){var A=typeof document=="object"&&document.all;d.exports=typeof A>"u"&&A!==void 0?function(o){return typeof o=="function"||o===A}:function(o){return typeof o=="function"}}),"./node_modules/core-js/internals/is-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/classof.js"),b=o("./node_modules/core-js/internals/get-built-in.js"),y=o("./node_modules/core-js/internals/inspect-source.js"),w=function(){},E=b("Reflect","construct"),R=/^\s*(?:class|function)\b/,z=f(R.exec),X=!R.test(w),Y=function(le){if(!p(le))return!1;try{return E(w,[],le),!0}catch{return!1}},Q=function(le){if(!p(le))return!1;switch(x(le)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return X||!!z(R,y(le))}catch{return!0}};Q.sham=!0,d.exports=!E||m(function(){var G;return Y(Y.call)||!Y(Object)||!Y(function(){G=!0})||G})?Q:Y}),"./node_modules/core-js/internals/is-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=/#|\.prototype\./,x=function(R,z){var X=y[b(R)];return X===E?!0:X===w?!1:m(z)?f(z):!!z},b=x.normalize=function(R){return String(R).replace(p,".").toLowerCase()},y=x.data={},w=x.NATIVE="N",E=x.POLYFILL="P";d.exports=x}),"./node_modules/core-js/internals/is-iterable.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=o("./node_modules/core-js/internals/iterators.js"),y=x("iterator"),w=Object;d.exports=function(E){if(p(E))return!1;var R=w(E);return R[y]!==void 0||"@@iterator"in R||m(b,f(R))}}),"./node_modules/core-js/internals/is-null-or-undefined.js":(function(d){d.exports=function(A){return A==null}}),"./node_modules/core-js/internals/is-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-callable.js");d.exports=function(m){return typeof m=="object"?m!==null:f(m)}}),"./node_modules/core-js/internals/is-possible-prototype.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js");d.exports=function(m){return f(m)||m===null}}),"./node_modules/core-js/internals/is-pure.js":(function(d){d.exports=!1}),"./node_modules/core-js/internals/is-raw-json.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/internal-state.js").get;d.exports=function(x){if(!f(x))return!1;var b=m(x);return!!b&&b.type==="RawJSON"}}),"./node_modules/core-js/internals/is-regexp.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-object.js"),m=o("./node_modules/core-js/internals/classof-raw.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),x=p("match");d.exports=function(b){var y;return f(b)&&((y=b[x])!==void 0?!!y:m(b)==="RegExp")}}),"./node_modules/core-js/internals/is-symbol.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/object-is-prototype-of.js"),x=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),b=Object;d.exports=x?function(y){return typeof y=="symbol"}:function(y){var w=f("Symbol");return m(w)&&p(w.prototype,b(y))}}),"./node_modules/core-js/internals/iterate-simple.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js");d.exports=function(m,p,x){for(var b=x?m:m.iterator,y=m.next,w,E;!(w=f(y,b)).done;)if(E=p(w.value),E!==void 0)return E}}),"./node_modules/core-js/internals/iterate.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-bind-context.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),b=o("./node_modules/core-js/internals/is-array-iterator-method.js"),y=o("./node_modules/core-js/internals/length-of-array-like.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),E=o("./node_modules/core-js/internals/get-iterator.js"),R=o("./node_modules/core-js/internals/get-iterator-method.js"),z=o("./node_modules/core-js/internals/iterator-close.js"),X=TypeError,Y=function(G,le){this.stopped=G,this.result=le},Q=Y.prototype;d.exports=function(G,le,Ae){var je=Ae&&Ae.that,ue=!!(Ae&&Ae.AS_ENTRIES),Se=!!(Ae&&Ae.IS_RECORD),ae=!!(Ae&&Ae.IS_ITERATOR),Ne=!!(Ae&&Ae.INTERRUPTED),he=f(le,je),se,de,oe,Ee,De,ke,pe,ye=function(te){return se&&z(se,"normal"),new Y(!0,te)},fe=function(te){return ue?(p(te),Ne?he(te[0],te[1],ye):he(te[0],te[1])):Ne?he(te,ye):he(te)};if(Se)se=G.iterator;else if(ae)se=G;else{if(de=R(G),!de)throw new X(x(G)+" is not iterable");if(b(de)){for(oe=0,Ee=y(G);Ee>oe;oe++)if(De=fe(G[oe]),De&&w(Q,De))return De;return new Y(!1)}se=E(G,de)}for(ke=Se?G.next:se.next;!(pe=m(ke,se)).done;){try{De=fe(pe.value)}catch(te){z(se,"throw",te)}if(typeof De=="object"&&De&&w(Q,De))return De}return new Y(!1)}}),"./node_modules/core-js/internals/iterator-close-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(m,p,x){for(var b=m.length-1;b>=0;b--)if(m[b]!==void 0)try{x=f(m[b].iterator,p,x)}catch(y){p="throw",x=y}if(p==="throw")throw x;return x}}),"./node_modules/core-js/internals/iterator-close.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/get-method.js");d.exports=function(x,b,y){var w,E;m(x);try{if(w=p(x,"return"),!w){if(b==="throw")throw y;return y}w=f(w,x)}catch(R){E=!0,w=R}if(b==="throw")throw y;if(E)throw w;return m(w),y}}),"./node_modules/core-js/internals/iterator-create-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,m=o("./node_modules/core-js/internals/object-create.js"),p=o("./node_modules/core-js/internals/create-property-descriptor.js"),x=o("./node_modules/core-js/internals/set-to-string-tag.js"),b=o("./node_modules/core-js/internals/iterators.js"),y=function(){return this};d.exports=function(w,E,R,z){var X=E+" Iterator";return w.prototype=m(f,{next:p(+!z,R)}),x(w,X,!1,!0),b[X]=y,w}}),"./node_modules/core-js/internals/iterator-create-proxy.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/object-create.js"),p=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),x=o("./node_modules/core-js/internals/define-built-ins.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),y=o("./node_modules/core-js/internals/internal-state.js"),w=o("./node_modules/core-js/internals/get-method.js"),E=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,R=o("./node_modules/core-js/internals/create-iter-result-object.js"),z=o("./node_modules/core-js/internals/iterator-close.js"),X=o("./node_modules/core-js/internals/iterator-close-all.js"),Y=b("toStringTag"),Q="IteratorHelper",G="WrapForValidIterator",le="normal",Ae="throw",je=y.set,ue=function(Ne){var he=y.getterFor(Ne?G:Q);return x(m(E),{next:function(){var de=he(this);if(Ne)return de.nextHandler();if(de.done)return R(void 0,!0);try{var oe=de.nextHandler();return de.returnHandlerResult?oe:R(oe,de.done)}catch(Ee){throw de.done=!0,Ee}},return:function(){var se=he(this),de=se.iterator;if(se.done=!0,Ne){var oe=w(de,"return");return oe?f(oe,de):R(void 0,!0)}if(se.inner)try{z(se.inner.iterator,le)}catch(Ee){return z(de,Ae,Ee)}if(se.openIters)try{X(se.openIters,le)}catch(Ee){return z(de,Ae,Ee)}return de&&z(de,le),R(void 0,!0)}})},Se=ue(!0),ae=ue(!1);p(ae,Y,"Iterator Helper"),d.exports=function(Ne,he,se){var de=function(Ee,De){De?(De.iterator=Ee.iterator,De.next=Ee.next):De=Ee,De.type=he?G:Q,De.returnHandlerResult=!!se,De.nextHandler=Ne,De.counter=0,De.done=!1,je(this,De)};return de.prototype=he?Se:ae,de}}),"./node_modules/core-js/internals/iterator-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/is-pure.js"),x=o("./node_modules/core-js/internals/function-name.js"),b=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/iterator-create-constructor.js"),w=o("./node_modules/core-js/internals/object-get-prototype-of.js"),E=o("./node_modules/core-js/internals/object-set-prototype-of.js"),R=o("./node_modules/core-js/internals/set-to-string-tag.js"),z=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),X=o("./node_modules/core-js/internals/define-built-in.js"),Y=o("./node_modules/core-js/internals/well-known-symbol.js"),Q=o("./node_modules/core-js/internals/iterators.js"),G=o("./node_modules/core-js/internals/iterators-core.js"),le=x.PROPER,Ae=x.CONFIGURABLE,je=G.IteratorPrototype,ue=G.BUGGY_SAFARI_ITERATORS,Se=Y("iterator"),ae="keys",Ne="values",he="entries",se=function(){return this};d.exports=function(de,oe,Ee,De,ke,pe,ye){y(Ee,oe,De);var fe=function(cs){if(cs===ke&&kt)return kt;if(!ue&&cs&&cs in Fe)return Fe[cs];switch(cs){case ae:return function(){return new Ee(this,cs)};case Ne:return function(){return new Ee(this,cs)};case he:return function(){return new Ee(this,cs)}}return function(){return new Ee(this)}},te=oe+" Iterator",ge=!1,Fe=de.prototype,$e=Fe[Se]||Fe["@@iterator"]||ke&&Fe[ke],kt=!ue&&$e||fe(ke),St=oe==="Array"&&Fe.entries||$e,Ge,Mt,Vt;if(St&&(Ge=w(St.call(new de)),Ge!==Object.prototype&&Ge.next&&(!p&&w(Ge)!==je&&(E?E(Ge,je):b(Ge[Se])||X(Ge,Se,se)),R(Ge,te,!0,!0),p&&(Q[te]=se))),le&&ke===Ne&&$e&&$e.name!==Ne&&(!p&&Ae?z(Fe,"name",Ne):(ge=!0,kt=function(){return m($e,this)})),ke)if(Mt={values:fe(Ne),keys:pe?kt:fe(ae),entries:fe(he)},ye)for(Vt in Mt)(ue||ge||!(Vt in Fe))&&X(Fe,Vt,Mt[Vt]);else f({target:oe,proto:!0,forced:ue||ge},Mt);return(!p||ye)&&Fe[Se]!==kt&&X(Fe,Se,kt,{name:ke}),Q[oe]=kt,Mt}}),"./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js":(function(d){d.exports=function(A,o){var f=typeof Iterator=="function"&&Iterator.prototype[A];if(f)try{f.call({next:null},o).next()}catch{return!0}}}),"./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=function(m,p){var x=f.Iterator,b=x&&x.prototype,y=b&&b[m],w=!1;if(y)try{y.call({next:function(){return{done:!0}},return:function(){w=!0}},-1)}catch(E){E instanceof p||(w=!1)}if(!w)return y}}),"./node_modules/core-js/internals/iterators-core.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/is-object.js"),x=o("./node_modules/core-js/internals/object-create.js"),b=o("./node_modules/core-js/internals/object-get-prototype-of.js"),y=o("./node_modules/core-js/internals/define-built-in.js"),w=o("./node_modules/core-js/internals/well-known-symbol.js"),E=o("./node_modules/core-js/internals/is-pure.js"),R=w("iterator"),z=!1,X,Y,Q;[].keys&&(Q=[].keys(),"next"in Q?(Y=b(b(Q)),Y!==Object.prototype&&(X=Y)):z=!0);var G=!p(X)||f(function(){var le={};return X[R].call(le)!==le});G?X={}:E&&(X=x(X)),m(X[R])||y(X,R,function(){return this}),d.exports={IteratorPrototype:X,BUGGY_SAFARI_ITERATORS:z}}),"./node_modules/core-js/internals/iterators.js":(function(d){d.exports={}}),"./node_modules/core-js/internals/length-of-array-like.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-length.js");d.exports=function(m){return f(m.length)}}),"./node_modules/core-js/internals/make-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/has-own-property.js"),b=o("./node_modules/core-js/internals/descriptors.js"),y=o("./node_modules/core-js/internals/function-name.js").CONFIGURABLE,w=o("./node_modules/core-js/internals/inspect-source.js"),E=o("./node_modules/core-js/internals/internal-state.js"),R=E.enforce,z=E.get,X=String,Y=Object.defineProperty,Q=f("".slice),G=f("".replace),le=f([].join),Ae=b&&!m(function(){return Y(function(){},"length",{value:8}).length!==8}),je=String(String).split("String"),ue=d.exports=function(Se,ae,Ne){Q(X(ae),0,7)==="Symbol("&&(ae="["+G(X(ae),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),Ne&&Ne.getter&&(ae="get "+ae),Ne&&Ne.setter&&(ae="set "+ae),(!x(Se,"name")||y&&Se.name!==ae)&&(b?Y(Se,"name",{value:ae,configurable:!0}):Se.name=ae),Ae&&Ne&&x(Ne,"arity")&&Se.length!==Ne.arity&&Y(Se,"length",{value:Ne.arity});try{Ne&&x(Ne,"constructor")&&Ne.constructor?b&&Y(Se,"prototype",{writable:!1}):Se.prototype&&(Se.prototype=void 0)}catch{}var he=R(Se);return x(he,"source")||(he.source=le(je,typeof ae=="string"?ae:"")),Se};Function.prototype.toString=ue(function(){return p(this)&&z(this).source||w(this)},"toString")}),"./node_modules/core-js/internals/math-trunc.js":(function(d){var A=Math.ceil,o=Math.floor;d.exports=Math.trunc||function(m){var p=+m;return(p>0?o:A)(p)}}),"./node_modules/core-js/internals/microtask.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/safe-get-built-in.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),x=o("./node_modules/core-js/internals/task.js").set,b=o("./node_modules/core-js/internals/queue.js"),y=o("./node_modules/core-js/internals/environment-is-ios.js"),w=o("./node_modules/core-js/internals/environment-is-ios-pebble.js"),E=o("./node_modules/core-js/internals/environment-is-webos-webkit.js"),R=o("./node_modules/core-js/internals/environment-is-node.js"),z=f.MutationObserver||f.WebKitMutationObserver,X=f.document,Y=f.process,Q=f.Promise,G=m("queueMicrotask"),le,Ae,je,ue,Se;if(!G){var ae=new b,Ne=function(){var he,se;for(R&&(he=Y.domain)&&he.exit();se=ae.get();)try{se()}catch(de){throw ae.head&&le(),de}he&&he.enter()};!y&&!R&&!E&&z&&X?(Ae=!0,je=X.createTextNode(""),new z(Ne).observe(je,{characterData:!0}),le=function(){je.data=Ae=!Ae}):!w&&Q&&Q.resolve?(ue=Q.resolve(void 0),ue.constructor=Q,Se=p(ue.then,ue),le=function(){Se(Ne)}):R?le=function(){Y.nextTick(Ne)}:(x=p(x,f),le=function(){x(Ne)}),G=function(he){ae.head||le(),ae.add(he)}}d.exports=G}),"./node_modules/core-js/internals/native-raw-json.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=!f(function(){var m="9007199254740993",p=JSON.rawJSON(m);return!JSON.isRawJSON(p)||JSON.stringify(p)!==m})}),"./node_modules/core-js/internals/new-promise-capability.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-callable.js"),m=TypeError,p=function(x){var b,y;this.promise=new x(function(w,E){if(b!==void 0||y!==void 0)throw new m("Bad Promise constructor");b=w,y=E}),this.resolve=f(b),this.reject=f(y)};d.exports.f=function(x){return new p(x)}}),"./node_modules/core-js/internals/not-a-regexp.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-regexp.js"),m=TypeError;d.exports=function(p){if(f(p))throw new m("The method doesn't accept regular expressions");return p}}),"./node_modules/core-js/internals/object-assign.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/object-keys.js"),y=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),w=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),E=o("./node_modules/core-js/internals/to-object.js"),R=o("./node_modules/core-js/internals/indexed-object.js"),z=Object.assign,X=Object.defineProperty,Y=m([].concat);d.exports=!z||x(function(){if(f&&z({b:1},z(X({},"a",{enumerable:!0,get:function(){X(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var Q={},G={},le=Symbol("assign detection"),Ae="abcdefghijklmnopqrst";return Q[le]=7,Ae.split("").forEach(function(je){G[je]=je}),z({},Q)[le]!==7||b(z({},G)).join("")!==Ae})?function(G,le){for(var Ae=E(G),je=arguments.length,ue=1,Se=y.f,ae=w.f;je>ue;)for(var Ne=R(arguments[ue++]),he=Se?Y(b(Ne),Se(Ne)):b(Ne),se=he.length,de=0,oe;se>de;)oe=he[de++],(!f||p(ae,Ne,oe))&&(Ae[oe]=Ne[oe]);return Ae}:z}),"./node_modules/core-js/internals/object-create.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/object-define-properties.js"),p=o("./node_modules/core-js/internals/enum-bug-keys.js"),x=o("./node_modules/core-js/internals/hidden-keys.js"),b=o("./node_modules/core-js/internals/html.js"),y=o("./node_modules/core-js/internals/document-create-element.js"),w=o("./node_modules/core-js/internals/shared-key.js"),E=">",R="<",z="prototype",X="script",Y=w("IE_PROTO"),Q=function(){},G=function(Se){return R+X+E+Se+R+"/"+X+E},le=function(Se){Se.write(G("")),Se.close();var ae=Se.parentWindow.Object;return Se=null,ae},Ae=function(){var Se=y("iframe"),ae="java"+X+":",Ne;return Se.style.display="none",b.appendChild(Se),Se.src=String(ae),Ne=Se.contentWindow.document,Ne.open(),Ne.write(G("document.F=Object")),Ne.close(),Ne.F},je,ue=function(){try{je=new ActiveXObject("htmlfile")}catch{}ue=typeof document<"u"?document.domain&&je?le(je):Ae():le(je);for(var Se=p.length;Se--;)delete ue[z][p[Se]];return ue()};x[Y]=!0,d.exports=Object.create||function(ae,Ne){var he;return ae!==null?(Q[z]=f(ae),he=new Q,Q[z]=null,he[Y]=ae):he=ue(),Ne===void 0?he:m.f(he,Ne)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),p=o("./node_modules/core-js/internals/object-define-property.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/to-indexed-object.js"),y=o("./node_modules/core-js/internals/object-keys.js");A.f=f&&!m?Object.defineProperties:function(E,R){x(E);for(var z=b(R),X=y(R),Y=X.length,Q=0,G;Y>Q;)p.f(E,G=X[Q++],z[G]);return E}}),"./node_modules/core-js/internals/object-define-property.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/ie8-dom-define.js"),p=o("./node_modules/core-js/internals/v8-prototype-define-bug.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/to-property-key.js"),y=TypeError,w=Object.defineProperty,E=Object.getOwnPropertyDescriptor,R="enumerable",z="configurable",X="writable";A.f=f?p?function(Q,G,le){if(x(Q),G=b(G),x(le),typeof Q=="function"&&G==="prototype"&&"value"in le&&X in le&&!le[X]){var Ae=E(Q,G);Ae&&Ae[X]&&(Q[G]=le.value,le={configurable:z in le?le[z]:Ae[z],enumerable:R in le?le[R]:Ae[R],writable:!1})}return w(Q,G,le)}:w:function(Q,G,le){if(x(Q),G=b(G),x(le),m)try{return w(Q,G,le)}catch{}if("get"in le||"set"in le)throw new y("Accessors not supported");return"value"in le&&(Q[G]=le.value),Q}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),x=o("./node_modules/core-js/internals/create-property-descriptor.js"),b=o("./node_modules/core-js/internals/to-indexed-object.js"),y=o("./node_modules/core-js/internals/to-property-key.js"),w=o("./node_modules/core-js/internals/has-own-property.js"),E=o("./node_modules/core-js/internals/ie8-dom-define.js"),R=Object.getOwnPropertyDescriptor;A.f=f?R:function(X,Y){if(X=b(X),Y=y(Y),E)try{return R(X,Y)}catch{}if(w(X,Y))return x(!m(p.f,X,Y),X[Y])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof-raw.js"),m=o("./node_modules/core-js/internals/to-indexed-object.js"),p=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,x=o("./node_modules/core-js/internals/array-slice.js"),b=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],y=function(w){try{return p(w)}catch{return x(b)}};d.exports.f=function(E){return b&&f(E)==="Window"?y(E):p(m(E))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-keys-internal.js"),m=o("./node_modules/core-js/internals/enum-bug-keys.js"),p=m.concat("length","prototype");A.f=Object.getOwnPropertyNames||function(b){return f(b,p)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(d,A){A.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/has-own-property.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/to-object.js"),x=o("./node_modules/core-js/internals/shared-key.js"),b=o("./node_modules/core-js/internals/correct-prototype-getter.js"),y=x("IE_PROTO"),w=Object,E=w.prototype;d.exports=b?w.getPrototypeOf:function(R){var z=p(R);if(f(z,y))return z[y];var X=z.constructor;return m(X)&&z instanceof X?X.prototype:z instanceof w?E:null}}),"./node_modules/core-js/internals/object-is-extensible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/classof-raw.js"),x=o("./node_modules/core-js/internals/array-buffer-non-extensible.js"),b=Object.isExtensible,y=f(function(){});d.exports=y||x?function(E){return!m(E)||x&&p(E)==="ArrayBuffer"?!1:b?b(E):!0}:b}),"./node_modules/core-js/internals/object-is-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f({}.isPrototypeOf)}),"./node_modules/core-js/internals/object-keys-internal.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/to-indexed-object.js"),x=o("./node_modules/core-js/internals/array-includes.js").indexOf,b=o("./node_modules/core-js/internals/hidden-keys.js"),y=f([].push);d.exports=function(w,E){var R=p(w),z=0,X=[],Y;for(Y in R)!m(b,Y)&&m(R,Y)&&y(X,Y);for(;E.length>z;)m(R,Y=E[z++])&&(~x(X,Y)||y(X,Y));return X}}),"./node_modules/core-js/internals/object-keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-keys-internal.js"),m=o("./node_modules/core-js/internals/enum-bug-keys.js");d.exports=Object.keys||function(x){return f(x,m)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(d,A){var o={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,m=f&&!o.call({1:2},1);A.f=m?function(x){var b=f(this,x);return!!b&&b.enumerable}:o}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/require-object-coercible.js"),x=o("./node_modules/core-js/internals/a-possible-prototype.js");d.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var b=!1,y={},w;try{w=f(Object.prototype,"__proto__","set"),w(y,[]),b=y instanceof Array}catch{}return function(R,z){return p(R),x(z),m(R)&&(b?w(R,z):R.__proto__=z),R}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),m=o("./node_modules/core-js/internals/classof.js");d.exports=f?{}.toString:function(){return"[object "+m(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/is-object.js"),x=TypeError;d.exports=function(b,y){var w,E;if(y==="string"&&m(w=b.toString)&&!p(E=f(w,b))||m(w=b.valueOf)&&!p(E=f(w,b))||y!=="string"&&m(w=b.toString)&&!p(E=f(w,b)))return E;throw new x("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/object-get-own-property-names.js"),x=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),b=o("./node_modules/core-js/internals/an-object.js"),y=m([].concat);d.exports=f("Reflect","ownKeys")||function(E){var R=p.f(b(E)),z=x.f;return z?y(R,z(E)):R}}),"./node_modules/core-js/internals/parse-json-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=SyntaxError,x=parseInt,b=String.fromCharCode,y=f("".charAt),w=f("".slice),E=f(/./.exec),R={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},z=/^[\da-f]{4}$/i,X=/^[\u0000-\u001F]$/;d.exports=function(Y,Q){for(var G=!0,le="";Q<Y.length;){var Ae=y(Y,Q);if(Ae==="\\"){var je=w(Y,Q,Q+2);if(m(R,je))le+=R[je],Q+=2;else if(je==="\\u"){Q+=2;var ue=w(Y,Q,Q+4);if(!E(z,ue))throw new p("Bad Unicode escape at: "+Q);le+=b(x(ue,16)),Q+=4}else throw new p('Unknown escape sequence: "'+je+'"')}else if(Ae==='"'){G=!1,Q++;break}else{if(E(X,Ae))throw new p("Bad control character in string literal at: "+Q);le+=Ae,Q++}}if(G)throw new p("Unterminated string at: "+Q);return{value:le,end:Q}}}),"./node_modules/core-js/internals/path.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=f}),"./node_modules/core-js/internals/perform.js":(function(d){d.exports=function(A){try{return{error:!1,value:A()}}catch(o){return{error:!0,value:o}}}}),"./node_modules/core-js/internals/promise-constructor-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/promise-native-constructor.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/is-forced.js"),b=o("./node_modules/core-js/internals/inspect-source.js"),y=o("./node_modules/core-js/internals/well-known-symbol.js"),w=o("./node_modules/core-js/internals/environment.js"),E=o("./node_modules/core-js/internals/is-pure.js"),R=o("./node_modules/core-js/internals/environment-v8-version.js"),z=m&&m.prototype,X=y("species"),Y=!1,Q=p(f.PromiseRejectionEvent),G=x("Promise",function(){var le=b(m),Ae=le!==String(m);if(!Ae&&R===66||E&&!(z.catch&&z.finally))return!0;if(!R||R<51||!/native code/.test(le)){var je=new m(function(ae){ae(1)}),ue=function(ae){ae(function(){},function(){})},Se=je.constructor={};if(Se[X]=ue,Y=je.then(function(){})instanceof ue,!Y)return!0}return!Ae&&(w==="BROWSER"||w==="DENO")&&!Q});d.exports={CONSTRUCTOR:G,REJECTION_EVENT:Q,SUBCLASSING:Y}}),"./node_modules/core-js/internals/promise-native-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js");d.exports=f.Promise}),"./node_modules/core-js/internals/promise-resolve.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/new-promise-capability.js");d.exports=function(x,b){if(f(x),m(b)&&b.constructor===x)return b;var y=p.f(x),w=y.resolve;return w(b),y.promise}}),"./node_modules/core-js/internals/promise-statics-incorrect-iteration.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/promise-native-constructor.js"),m=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),p=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;d.exports=p||!m(function(x){f.all(x).then(void 0,function(){})})}),"./node_modules/core-js/internals/queue.js":(function(d){var A=function(){this.head=null,this.tail=null};A.prototype={add:function(o){var f={item:o,next:null},m=this.tail;m?m.next=f:this.head=f,this.tail=f},get:function(){var o=this.head;if(o){var f=this.head=o.next;return f===null&&(this.tail=null),o.item}}},d.exports=A}),"./node_modules/core-js/internals/regexp-exec-abstract.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/an-object.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/classof-raw.js"),b=o("./node_modules/core-js/internals/regexp-exec.js"),y=TypeError;d.exports=function(w,E){var R=w.exec;if(p(R)){var z=f(R,w,E);return z!==null&&m(z),z}if(x(w)==="RegExp")return f(b,w,E);throw new y("RegExp#exec called on incompatible receiver")}}),"./node_modules/core-js/internals/regexp-exec.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/regexp-flags.js"),b=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),y=o("./node_modules/core-js/internals/shared.js"),w=o("./node_modules/core-js/internals/object-create.js"),E=o("./node_modules/core-js/internals/internal-state.js").get,R=o("./node_modules/core-js/internals/regexp-unsupported-dot-all.js"),z=o("./node_modules/core-js/internals/regexp-unsupported-ncg.js"),X=y("native-string-replace",String.prototype.replace),Y=RegExp.prototype.exec,Q=Y,G=m("".charAt),le=m("".indexOf),Ae=m("".replace),je=m("".slice),ue=(function(){var he=/a/,se=/b*/g;return f(Y,he,"a"),f(Y,se,"a"),he.lastIndex!==0||se.lastIndex!==0})(),Se=b.BROKEN_CARET,ae=/()??/.exec("")[1]!==void 0,Ne=ue||ae||Se||R||z;Ne&&(Q=function(se){var de=this,oe=E(de),Ee=p(se),De=oe.raw,ke,pe,ye,fe,te,ge,Fe;if(De)return De.lastIndex=de.lastIndex,ke=f(Q,De,Ee),de.lastIndex=De.lastIndex,ke;var $e=oe.groups,kt=Se&&de.sticky,St=f(x,de),Ge=de.source,Mt=0,Vt=Ee;if(kt&&(St=Ae(St,"y",""),le(St,"g")===-1&&(St+="g"),Vt=je(Ee,de.lastIndex),de.lastIndex>0&&(!de.multiline||de.multiline&&G(Ee,de.lastIndex-1)!==`
`)&&(Ge="(?: "+Ge+")",Vt=" "+Vt,Mt++),pe=new RegExp("^(?:"+Ge+")",St)),ae&&(pe=new RegExp("^"+Ge+"$(?!\\s)",St)),ue&&(ye=de.lastIndex),fe=f(Y,kt?pe:de,Vt),kt?fe?(fe.input=je(fe.input,Mt),fe[0]=je(fe[0],Mt),fe.index=de.lastIndex,de.lastIndex+=fe[0].length):de.lastIndex=0:ue&&fe&&(de.lastIndex=de.global?fe.index+fe[0].length:ye),ae&&fe&&fe.length>1&&f(X,fe[0],pe,function(){for(te=1;te<arguments.length-2;te++)arguments[te]===void 0&&(fe[te]=void 0)}),fe&&$e)for(fe.groups=ge=w(null),te=0;te<$e.length;te++)Fe=$e[te],ge[Fe[0]]=fe[Fe[1]];return fe}),d.exports=Q}),"./node_modules/core-js/internals/regexp-flags-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/fails.js"),p=f.RegExp,x=!m(function(){var b=!0;try{p(".","d")}catch{b=!1}var y={},w="",E=b?"dgimsy":"gimsy",R=function(Q,G){Object.defineProperty(y,Q,{get:function(){return w+=G,!0}})},z={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};b&&(z.hasIndices="d");for(var X in z)R(X,z[X]);var Y=Object.getOwnPropertyDescriptor(p.prototype,"flags").get.call(y);return Y!==E||w!==E});d.exports={correct:x}}),"./node_modules/core-js/internals/regexp-flags.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js");d.exports=function(){var m=f(this),p="";return m.hasIndices&&(p+="d"),m.global&&(p+="g"),m.ignoreCase&&(p+="i"),m.multiline&&(p+="m"),m.dotAll&&(p+="s"),m.unicode&&(p+="u"),m.unicodeSets&&(p+="v"),m.sticky&&(p+="y"),p}}),"./node_modules/core-js/internals/regexp-get-flags.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/object-is-prototype-of.js"),x=o("./node_modules/core-js/internals/regexp-flags-detection.js"),b=o("./node_modules/core-js/internals/regexp-flags.js"),y=RegExp.prototype;d.exports=x.correct?function(w){return w.flags}:function(w){return!x.correct&&p(y,w)&&!m(w,"flags")?f(b,w):w.flags}}),"./node_modules/core-js/internals/regexp-sticky-helpers.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=m.RegExp,x=f(function(){var w=p("a","y");return w.lastIndex=2,w.exec("abcd")!==null}),b=x||f(function(){return!p("a","y").sticky}),y=x||f(function(){var w=p("^r","gy");return w.lastIndex=2,w.exec("str")!==null});d.exports={BROKEN_CARET:y,MISSED_STICKY:b,UNSUPPORTED_Y:x}}),"./node_modules/core-js/internals/regexp-unsupported-dot-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=m.RegExp;d.exports=f(function(){var x=p(".","s");return!(x.dotAll&&x.test(`
`)&&x.flags==="s")})}),"./node_modules/core-js/internals/regexp-unsupported-ncg.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=m.RegExp;d.exports=f(function(){var x=p("(?<a>b)","g");return x.exec("b").groups.a!=="b"||"b".replace(x,"$<a>c")!=="bc"})}),"./node_modules/core-js/internals/require-object-coercible.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-null-or-undefined.js"),m=TypeError;d.exports=function(p){if(f(p))throw new m("Can't call method on "+p);return p}}),"./node_modules/core-js/internals/safe-get-built-in.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/descriptors.js"),p=Object.getOwnPropertyDescriptor;d.exports=function(x){if(!m)return f[x];var b=p(f,x);return b&&b.value}}),"./node_modules/core-js/internals/schedulers-fix.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/function-apply.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/environment.js"),b=o("./node_modules/core-js/internals/environment-user-agent.js"),y=o("./node_modules/core-js/internals/array-slice.js"),w=o("./node_modules/core-js/internals/validate-arguments-length.js"),E=f.Function,R=/MSIE .\./.test(b)||x==="BUN"&&(function(){var z=f.Bun.version.split(".");return z.length<3||z[0]==="0"&&(z[1]<3||z[1]==="3"&&z[2]==="0")})();d.exports=function(z,X){var Y=X?2:1;return R?function(Q,G){var le=w(arguments.length,1)>Y,Ae=p(Q)?Q:E(Q),je=le?y(arguments,Y):[],ue=le?function(){m(Ae,this,je)}:Ae;return X?z(ue,G):z(ue)}:z}}),"./node_modules/core-js/internals/set-clone.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/set-helpers.js"),m=o("./node_modules/core-js/internals/set-iterate.js"),p=f.Set,x=f.add;d.exports=function(b){var y=new p;return m(b,function(w){x(y,w)}),y}}),"./node_modules/core-js/internals/set-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js"),p=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/set-size.js"),b=o("./node_modules/core-js/internals/get-set-record.js"),y=o("./node_modules/core-js/internals/set-iterate.js"),w=o("./node_modules/core-js/internals/iterate-simple.js"),E=m.has,R=m.remove;d.exports=function(X){var Y=f(this),Q=b(X),G=p(Y);return x(Y)<=Q.size?y(Y,function(le){Q.includes(le)&&R(G,le)}):w(Q.getIterator(),function(le){E(G,le)&&R(G,le)}),G}}),"./node_modules/core-js/internals/set-helpers.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=Set.prototype;d.exports={Set,add:f(m.add),has:f(m.has),remove:f(m.delete),proto:m}}),"./node_modules/core-js/internals/set-intersection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js"),p=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),y=o("./node_modules/core-js/internals/iterate-simple.js"),w=m.Set,E=m.add,R=m.has;d.exports=function(X){var Y=f(this),Q=x(X),G=new w;return p(Y)>Q.size?y(Q.getIterator(),function(le){R(Y,le)&&E(G,le)}):b(Y,function(le){Q.includes(le)&&E(G,le)}),G}}),"./node_modules/core-js/internals/set-is-disjoint-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js").has,p=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),y=o("./node_modules/core-js/internals/iterate-simple.js"),w=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(R){var z=f(this),X=x(R);if(p(z)<=X.size)return b(z,function(Q){if(X.includes(Q))return!1},!0)!==!1;var Y=X.getIterator();return y(Y,function(Q){if(m(z,Q))return w(Y,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-is-subset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-size.js"),p=o("./node_modules/core-js/internals/set-iterate.js"),x=o("./node_modules/core-js/internals/get-set-record.js");d.exports=function(y){var w=f(this),E=x(y);return m(w)>E.size?!1:p(w,function(R){if(!E.includes(R))return!1},!0)!==!1}}),"./node_modules/core-js/internals/set-is-superset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js").has,p=o("./node_modules/core-js/internals/set-size.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/iterate-simple.js"),y=o("./node_modules/core-js/internals/iterator-close.js");d.exports=function(E){var R=f(this),z=x(E);if(p(R)<z.size)return!1;var X=z.getIterator();return b(X,function(Y){if(!m(R,Y))return y(X,"normal",!1)})!==!1}}),"./node_modules/core-js/internals/set-iterate.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/iterate-simple.js"),p=o("./node_modules/core-js/internals/set-helpers.js"),x=p.Set,b=p.proto,y=f(b.forEach),w=f(b.keys),E=w(new x).next;d.exports=function(R,z,X){return X?m({iterator:w(R),next:E},z):y(R,z)}}),"./node_modules/core-js/internals/set-size.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this-accessor.js"),m=o("./node_modules/core-js/internals/set-helpers.js");d.exports=f(m.proto,"size","get")||function(p){return p.size}}),"./node_modules/core-js/internals/set-species.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/define-built-in-accessor.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/descriptors.js"),b=p("species");d.exports=function(y){var w=f(y);x&&w&&!w[b]&&m(w,b,{configurable:!0,get:function(){return this}})}}),"./node_modules/core-js/internals/set-symmetric-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js"),p=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/iterate-simple.js"),y=m.add,w=m.has,E=m.remove;d.exports=function(z){var X=f(this),Y=x(z).getIterator(),Q=p(X);return b(Y,function(G){w(X,G)?E(Q,G):y(Q,G)}),Q}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/object-define-property.js").f,m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),x=p("toStringTag");d.exports=function(b,y,w){b&&!w&&(b=b.prototype),b&&!m(b,x)&&f(b,x,{configurable:!0,value:y})}}),"./node_modules/core-js/internals/set-union.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/a-set.js"),m=o("./node_modules/core-js/internals/set-helpers.js").add,p=o("./node_modules/core-js/internals/set-clone.js"),x=o("./node_modules/core-js/internals/get-set-record.js"),b=o("./node_modules/core-js/internals/iterate-simple.js");d.exports=function(w){var E=f(this),R=x(w).getIterator(),z=p(E);return b(R,function(X){m(z,X)}),z}}),"./node_modules/core-js/internals/shared-key.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/shared.js"),m=o("./node_modules/core-js/internals/uid.js"),p=f("keys");d.exports=function(x){return p[x]||(p[x]=m(x))}}),"./node_modules/core-js/internals/shared-store.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/is-pure.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/define-global-property.js"),x="__core-js_shared__",b=d.exports=m[x]||p(x,{});(b.versions||(b.versions=[])).push({version:"3.47.0",mode:f?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"})}),"./node_modules/core-js/internals/shared.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/shared-store.js");d.exports=function(m,p){return f[m]||(f[m]=p||{})}}),"./node_modules/core-js/internals/species-constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/an-object.js"),m=o("./node_modules/core-js/internals/a-constructor.js"),p=o("./node_modules/core-js/internals/is-null-or-undefined.js"),x=o("./node_modules/core-js/internals/well-known-symbol.js"),b=x("species");d.exports=function(y,w){var E=f(y).constructor,R;return E===void 0||p(R=f(E)[b])?w:m(R)}}),"./node_modules/core-js/internals/string-html-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/fails.js");d.exports=function(m){return f(function(){var p=""[m]('"');return p!==p.toLowerCase()||p.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),p=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),b=f("".charAt),y=f("".charCodeAt),w=f("".slice),E=function(R){return function(z,X){var Y=p(x(z)),Q=m(X),G=Y.length,le,Ae;return Q<0||Q>=G?R?"":void 0:(le=y(Y,Q),le<55296||le>56319||Q+1===G||(Ae=y(Y,Q+1))<56320||Ae>57343?R?b(Y,Q):le:R?w(Y,Q,Q+2):(le-55296<<10)+(Ae-56320)+65536)}};d.exports={codeAt:E(!1),charAt:E(!0)}}),"./node_modules/core-js/internals/string-trim-forced.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-name.js").PROPER,m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/whitespaces.js"),x="";d.exports=function(b){return m(function(){return!!p[b]()||x[b]()!==x||f&&p[b].name!==b})}}),"./node_modules/core-js/internals/string-trim.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js"),p=o("./node_modules/core-js/internals/to-string.js"),x=o("./node_modules/core-js/internals/whitespaces.js"),b=f("".replace),y=RegExp("^["+x+"]+"),w=RegExp("(^|[^"+x+"])["+x+"]+$"),E=function(R){return function(z){var X=p(m(z));return R&1&&(X=b(X,y,"")),R&2&&(X=b(X,w,"$1")),X}};d.exports={start:E(1),end:E(2),trim:E(3)}}),"./node_modules/core-js/internals/symbol-constructor-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/environment-v8-version.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/global-this.js"),x=p.String;d.exports=!!Object.getOwnPropertySymbols&&!m(function(){var b=Symbol("symbol detection");return!x(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&f&&f<41})}),"./node_modules/core-js/internals/symbol-define-to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/well-known-symbol.js"),x=o("./node_modules/core-js/internals/define-built-in.js");d.exports=function(){var b=m("Symbol"),y=b&&b.prototype,w=y&&y.valueOf,E=p("toPrimitive");y&&!y[E]&&x(y,E,function(R){return f(w,this)},{arity:1})}}),"./node_modules/core-js/internals/symbol-registry-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/symbol-constructor-detection.js");d.exports=f&&!!Symbol.for&&!!Symbol.keyFor}),"./node_modules/core-js/internals/task.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/function-apply.js"),p=o("./node_modules/core-js/internals/function-bind-context.js"),x=o("./node_modules/core-js/internals/is-callable.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/fails.js"),w=o("./node_modules/core-js/internals/html.js"),E=o("./node_modules/core-js/internals/array-slice.js"),R=o("./node_modules/core-js/internals/document-create-element.js"),z=o("./node_modules/core-js/internals/validate-arguments-length.js"),X=o("./node_modules/core-js/internals/environment-is-ios.js"),Y=o("./node_modules/core-js/internals/environment-is-node.js"),Q=f.setImmediate,G=f.clearImmediate,le=f.process,Ae=f.Dispatch,je=f.Function,ue=f.MessageChannel,Se=f.String,ae=0,Ne={},he="onreadystatechange",se,de,oe,Ee;y(function(){se=f.location});var De=function(fe){if(b(Ne,fe)){var te=Ne[fe];delete Ne[fe],te()}},ke=function(fe){return function(){De(fe)}},pe=function(fe){De(fe.data)},ye=function(fe){f.postMessage(Se(fe),se.protocol+"//"+se.host)};(!Q||!G)&&(Q=function(te){z(arguments.length,1);var ge=x(te)?te:je(te),Fe=E(arguments,1);return Ne[++ae]=function(){m(ge,void 0,Fe)},de(ae),ae},G=function(te){delete Ne[te]},Y?de=function(fe){le.nextTick(ke(fe))}:Ae&&Ae.now?de=function(fe){Ae.now(ke(fe))}:ue&&!X?(oe=new ue,Ee=oe.port2,oe.port1.onmessage=pe,de=p(Ee.postMessage,Ee)):f.addEventListener&&x(f.postMessage)&&!f.importScripts&&se&&se.protocol!=="file:"&&!y(ye)?(de=ye,f.addEventListener("message",pe,!1)):he in R("script")?de=function(fe){w.appendChild(R("script"))[he]=function(){w.removeChild(this),De(fe)}}:de=function(fe){setTimeout(ke(fe),0)}),d.exports={set:Q,clear:G}}),"./node_modules/core-js/internals/this-number-value.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js");d.exports=f(1.1.valueOf)}),"./node_modules/core-js/internals/to-absolute-index.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),m=Math.max,p=Math.min;d.exports=function(x,b){var y=f(x);return y<0?m(y+b,0):p(y,b)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/indexed-object.js"),m=o("./node_modules/core-js/internals/require-object-coercible.js");d.exports=function(p){return f(m(p))}}),"./node_modules/core-js/internals/to-integer-or-infinity.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/math-trunc.js");d.exports=function(m){var p=+m;return p!==p||p===0?0:f(p)}}),"./node_modules/core-js/internals/to-length.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),m=Math.min;d.exports=function(p){var x=f(p);return x>0?m(x,9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/require-object-coercible.js"),m=Object;d.exports=function(p){return m(f(p))}}),"./node_modules/core-js/internals/to-primitive.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/is-object.js"),p=o("./node_modules/core-js/internals/is-symbol.js"),x=o("./node_modules/core-js/internals/get-method.js"),b=o("./node_modules/core-js/internals/ordinary-to-primitive.js"),y=o("./node_modules/core-js/internals/well-known-symbol.js"),w=TypeError,E=y("toPrimitive");d.exports=function(R,z){if(!m(R)||p(R))return R;var X=x(R,E),Y;if(X){if(z===void 0&&(z="default"),Y=f(X,R,z),!m(Y)||p(Y))return Y;throw new w("Can't convert object to primitive value")}return z===void 0&&(z="number"),b(R,z)}}),"./node_modules/core-js/internals/to-property-key.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-primitive.js"),m=o("./node_modules/core-js/internals/is-symbol.js");d.exports=function(p){var x=f(p,"string");return m(x)?x:x+""}}),"./node_modules/core-js/internals/to-set-like.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/get-built-in.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=o("./node_modules/core-js/internals/is-iterable.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=f("Set"),y=function(w){return x(w)&&typeof w.size=="number"&&m(w.has)&&m(w.keys)};d.exports=function(w){return y(w)?w:p(w)?new b(w):w}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js"),m=f("toStringTag"),p={};p[m]="z",d.exports=String(p)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/classof.js"),m=String;d.exports=function(p){if(f(p)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return m(p)}}),"./node_modules/core-js/internals/try-to-string.js":(function(d){var A=String;d.exports=function(o){try{return A(o)}catch{return"Object"}}}),"./node_modules/core-js/internals/uid.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-uncurry-this.js"),m=0,p=Math.random(),x=f(1.1.toString);d.exports=function(b){return"Symbol("+(b===void 0?"":b)+")_"+x(++m+p,36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/symbol-constructor-detection.js");d.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/v8-prototype-define-bug.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/fails.js");d.exports=f&&m(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})}),"./node_modules/core-js/internals/validate-arguments-length.js":(function(d){var A=TypeError;d.exports=function(o,f){if(o<f)throw new A("Not enough arguments");return o}}),"./node_modules/core-js/internals/weak-map-basic-detection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/is-callable.js"),p=f.WeakMap;d.exports=m(p)&&/native code/.test(String(p))}),"./node_modules/core-js/internals/well-known-symbol-define.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/path.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),x=o("./node_modules/core-js/internals/object-define-property.js").f;d.exports=function(b){var y=f.Symbol||(f.Symbol={});m(y,b)||x(y,b,{value:p.f(b)})}}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol.js");A.f=f}),"./node_modules/core-js/internals/well-known-symbol.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/shared.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/uid.js"),b=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),y=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),w=f.Symbol,E=m("wks"),R=y?w.for||w:w&&w.withoutSetter||x;d.exports=function(z){return p(E,z)||(E[z]=b&&p(w,z)?w[z]:R("Symbol."+z)),E[z]}}),"./node_modules/core-js/internals/whitespaces.js":(function(d){d.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/fails.js"),p=o("./node_modules/core-js/internals/is-array.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/to-object.js"),y=o("./node_modules/core-js/internals/length-of-array-like.js"),w=o("./node_modules/core-js/internals/does-not-exceed-safe-integer.js"),E=o("./node_modules/core-js/internals/create-property.js"),R=o("./node_modules/core-js/internals/array-species-create.js"),z=o("./node_modules/core-js/internals/array-method-has-species-support.js"),X=o("./node_modules/core-js/internals/well-known-symbol.js"),Y=o("./node_modules/core-js/internals/environment-v8-version.js"),Q=X("isConcatSpreadable"),G=Y>=51||!m(function(){var je=[];return je[Q]=!1,je.concat()[0]!==je}),le=function(je){if(!x(je))return!1;var ue=je[Q];return ue!==void 0?!!ue:p(je)},Ae=!G||!z("concat");f({target:"Array",proto:!0,arity:1,forced:Ae},{concat:function(ue){var Se=b(this),ae=R(Se,0),Ne=0,he,se,de,oe,Ee;for(he=-1,de=arguments.length;he<de;he++)if(Ee=he===-1?Se:arguments[he],le(Ee))for(oe=y(Ee),w(Ne+oe),se=0;se<oe;se++,Ne++)se in Ee&&E(ae,Ne,Ee[se]);else w(Ne+1),E(ae,Ne++,Ee);return ae.length=Ne,ae}})}),"./node_modules/core-js/modules/es.array.from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/array-from.js"),p=o("./node_modules/core-js/internals/check-correctness-of-iteration.js"),x=!p(function(b){Array.from(b)});f({target:"Array",stat:!0,forced:x},{from:m})}),"./node_modules/core-js/modules/es.array.index-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),p=o("./node_modules/core-js/internals/array-includes.js").indexOf,x=o("./node_modules/core-js/internals/array-method-is-strict.js"),b=m([].indexOf),y=!!b&&1/b([1],1,-0)<0,w=y||!x("indexOf");f({target:"Array",proto:!0,forced:w},{indexOf:function(R){var z=arguments.length>1?arguments[1]:void 0;return y?b(this,R,z)||0:p(this,R,z)}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-indexed-object.js"),m=o("./node_modules/core-js/internals/add-to-unscopables.js"),p=o("./node_modules/core-js/internals/iterators.js"),x=o("./node_modules/core-js/internals/internal-state.js"),b=o("./node_modules/core-js/internals/object-define-property.js").f,y=o("./node_modules/core-js/internals/iterator-define.js"),w=o("./node_modules/core-js/internals/create-iter-result-object.js"),E=o("./node_modules/core-js/internals/is-pure.js"),R=o("./node_modules/core-js/internals/descriptors.js"),z="Array Iterator",X=x.set,Y=x.getterFor(z);d.exports=y(Array,"Array",function(G,le){X(this,{type:z,target:f(G),index:0,kind:le})},function(){var G=Y(this),le=G.target,Ae=G.index++;if(!le||Ae>=le.length)return G.target=null,w(void 0,!0);switch(G.kind){case"keys":return w(Ae,!1);case"values":return w(le[Ae],!1)}return w([Ae,le[Ae]],!1)},"values");var Q=p.Arguments=p.Array;if(m("keys"),m("values"),m("entries"),!E&&R&&Q.name!=="values")try{b(Q,"name",{value:"values"})}catch{}}),"./node_modules/core-js/modules/es.array.join.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/indexed-object.js"),x=o("./node_modules/core-js/internals/to-indexed-object.js"),b=o("./node_modules/core-js/internals/array-method-is-strict.js"),y=m([].join),w=p!==Object,E=w||!b("join",",");f({target:"Array",proto:!0,forced:E},{join:function(z){return y(x(this),z===void 0?",":z)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/array-iteration.js").map,p=o("./node_modules/core-js/internals/array-method-has-species-support.js"),x=p("map");f({target:"Array",proto:!0,forced:!x},{map:function(y){return m(this,y,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/array-reduce.js").left,p=o("./node_modules/core-js/internals/array-method-is-strict.js"),x=o("./node_modules/core-js/internals/environment-v8-version.js"),b=o("./node_modules/core-js/internals/environment-is-node.js"),y=!b&&x>79&&x<83,w=y||!p("reduce");f({target:"Array",proto:!0,forced:w},{reduce:function(R){var z=arguments.length;return m(this,R,z,z>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.reverse.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/is-array.js"),x=m([].reverse),b=[1,2];f({target:"Array",proto:!0,forced:String(b)===String(b.reverse())},{reverse:function(){return p(this)&&(this.length=this.length),x(this)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/is-array.js"),p=o("./node_modules/core-js/internals/is-constructor.js"),x=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/to-absolute-index.js"),y=o("./node_modules/core-js/internals/length-of-array-like.js"),w=o("./node_modules/core-js/internals/to-indexed-object.js"),E=o("./node_modules/core-js/internals/create-property.js"),R=o("./node_modules/core-js/internals/well-known-symbol.js"),z=o("./node_modules/core-js/internals/array-method-has-species-support.js"),X=o("./node_modules/core-js/internals/array-slice.js"),Y=z("slice"),Q=R("species"),G=Array,le=Math.max;f({target:"Array",proto:!0,forced:!Y},{slice:function(je,ue){var Se=w(this),ae=y(Se),Ne=b(je,ae),he=b(ue===void 0?ae:ue,ae),se,de,oe;if(m(Se)&&(se=Se.constructor,p(se)&&(se===G||m(se.prototype))?se=void 0:x(se)&&(se=se[Q],se===null&&(se=void 0)),se===G||se===void 0))return X(Se,Ne,he);for(de=new(se===void 0?G:se)(le(he-Ne,0)),oe=0;Ne<he;Ne++,oe++)Ne in Se&&E(de,oe,Se[Ne]);return de.length=oe,de}})}),"./node_modules/core-js/modules/es.function.name.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/descriptors.js"),m=o("./node_modules/core-js/internals/function-name.js").EXISTS,p=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/define-built-in-accessor.js"),b=Function.prototype,y=p(b.toString),w=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,E=p(w.exec),R="name";f&&!m&&x(b,R,{configurable:!0,get:function(){try{return E(w,y(this))[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.iterator.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/an-instance.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/is-callable.js"),y=o("./node_modules/core-js/internals/object-get-prototype-of.js"),w=o("./node_modules/core-js/internals/define-built-in-accessor.js"),E=o("./node_modules/core-js/internals/create-property.js"),R=o("./node_modules/core-js/internals/fails.js"),z=o("./node_modules/core-js/internals/has-own-property.js"),X=o("./node_modules/core-js/internals/well-known-symbol.js"),Y=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,Q=o("./node_modules/core-js/internals/descriptors.js"),G=o("./node_modules/core-js/internals/is-pure.js"),le="constructor",Ae="Iterator",je=X("toStringTag"),ue=TypeError,Se=m[Ae],ae=G||!b(Se)||Se.prototype!==Y||!R(function(){Se({})}),Ne=function(){if(p(this,Y),y(this)===Y)throw new ue("Abstract class Iterator not directly constructable")},he=function(se,de){Q?w(Y,se,{configurable:!0,get:function(){return de},set:function(oe){if(x(this),this===Y)throw new ue("You can't redefine this property");z(this,se)?this[se]=oe:E(this,se,oe)}}):Y[se]=de};z(Y,je)||he(je,Ae),(ae||!z(Y,le)||Y[le]===Object)&&he(le,Ne),Ne.prototype=Y,f({global:!0,constructor:!0,forced:ae},{Iterator:Ne})}),"./node_modules/core-js/modules/es.iterator.for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/iterate.js"),x=o("./node_modules/core-js/internals/a-callable.js"),b=o("./node_modules/core-js/internals/an-object.js"),y=o("./node_modules/core-js/internals/get-iterator-direct.js"),w=o("./node_modules/core-js/internals/iterator-close.js"),E=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),R=E("forEach",TypeError);f({target:"Iterator",proto:!0,real:!0,forced:R},{forEach:function(X){b(this);try{x(X)}catch(G){w(this,"throw",G)}if(R)return m(R,this,X);var Y=y(this),Q=0;p(Y,function(G){X(G,Q++)},{IS_RECORD:!0})}})}),"./node_modules/core-js/modules/es.iterator.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/get-iterator-direct.js"),y=o("./node_modules/core-js/internals/iterator-create-proxy.js"),w=o("./node_modules/core-js/internals/call-with-safe-iteration-closing.js"),E=o("./node_modules/core-js/internals/iterator-close.js"),R=o("./node_modules/core-js/internals/iterator-helper-throws-on-invalid-iterator.js"),z=o("./node_modules/core-js/internals/iterator-helper-without-closing-on-early-error.js"),X=o("./node_modules/core-js/internals/is-pure.js"),Y=!X&&!R("map",function(){}),Q=!X&&!Y&&z("map",TypeError),G=X||Y||Q,le=y(function(){var Ae=this.iterator,je=x(m(this.next,Ae)),ue=this.done=!!je.done;if(!ue)return w(Ae,this.mapper,[je.value,this.counter++],!0)});f({target:"Iterator",proto:!0,real:!0,forced:G},{map:function(je){x(this);try{p(je)}catch(ue){E(this,"throw",ue)}return Q?m(Q,this,je):new le(b(this),{mapper:je})}})}),"./node_modules/core-js/modules/es.json.stringify.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/function-apply.js"),x=o("./node_modules/core-js/internals/function-call.js"),b=o("./node_modules/core-js/internals/function-uncurry-this.js"),y=o("./node_modules/core-js/internals/fails.js"),w=o("./node_modules/core-js/internals/is-array.js"),E=o("./node_modules/core-js/internals/is-callable.js"),R=o("./node_modules/core-js/internals/is-raw-json.js"),z=o("./node_modules/core-js/internals/is-symbol.js"),X=o("./node_modules/core-js/internals/classof-raw.js"),Y=o("./node_modules/core-js/internals/to-string.js"),Q=o("./node_modules/core-js/internals/array-slice.js"),G=o("./node_modules/core-js/internals/parse-json-string.js"),le=o("./node_modules/core-js/internals/uid.js"),Ae=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),je=o("./node_modules/core-js/internals/native-raw-json.js"),ue=String,Se=m("JSON","stringify"),ae=b(/./.exec),Ne=b("".charAt),he=b("".charCodeAt),se=b("".replace),de=b("".slice),oe=b([].push),Ee=b(1.1.toString),De=/[\uD800-\uDFFF]/g,ke=/^[\uD800-\uDBFF]$/,pe=/^[\uDC00-\uDFFF]$/,ye=le(),fe=ye.length,te=!Ae||y(function(){var St=m("Symbol")("stringify detection");return Se([St])!=="[null]"||Se({a:St})!=="{}"||Se(Object(St))!=="{}"}),ge=y(function(){return Se("\uDF06\uD834")!=='"\\udf06\\ud834"'||Se("\uDEAD")!=='"\\udead"'}),Fe=te?function(St,Ge){var Mt=Q(arguments),Vt=kt(Ge);if(!(!E(Vt)&&(St===void 0||z(St))))return Mt[1]=function(cs,xt){if(E(Vt)&&(xt=x(Vt,this,ue(cs),xt)),!z(xt))return xt},p(Se,null,Mt)}:Se,$e=function(St,Ge,Mt){var Vt=Ne(Mt,Ge-1),cs=Ne(Mt,Ge+1);return ae(ke,St)&&!ae(pe,cs)||ae(pe,St)&&!ae(ke,Vt)?"\\u"+Ee(he(St,0),16):St},kt=function(St){if(E(St))return St;if(w(St)){for(var Ge=St.length,Mt=[],Vt=0;Vt<Ge;Vt++){var cs=St[Vt];typeof cs=="string"?oe(Mt,cs):(typeof cs=="number"||X(cs)==="Number"||X(cs)==="String")&&oe(Mt,Y(cs))}var xt=Mt.length,ot=!0;return function(At,Lt){if(ot)return ot=!1,Lt;if(w(this))return Lt;for(var $s=0;$s<xt;$s++)if(Mt[$s]===At)return Lt}}};Se&&f({target:"JSON",stat:!0,arity:3,forced:te||ge||!je},{stringify:function(Ge,Mt,Vt){var cs=kt(Mt),xt=[],ot=Fe(Ge,function(hr,Ms){var ys=E(cs)?x(cs,this,ue(hr),Ms):Ms;return!je&&R(ys)?ye+(oe(xt,ys.rawJSON)-1):ys},Vt);if(typeof ot!="string"||(ge&&(ot=se(ot,De,$e)),je))return ot;for(var At="",Lt=ot.length,$s=0;$s<Lt;$s++){var vs=Ne(ot,$s);if(vs==='"'){var fr=G(ot,++$s).end-1,Ar=de(ot,$s,fr);At+=de(Ar,0,fe)===ye?xt[de(Ar,fe)]:'"'+Ar+'"',$s=fr}else At+=vs}return At}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/is-pure.js"),p=o("./node_modules/core-js/internals/descriptors.js"),x=o("./node_modules/core-js/internals/global-this.js"),b=o("./node_modules/core-js/internals/path.js"),y=o("./node_modules/core-js/internals/function-uncurry-this.js"),w=o("./node_modules/core-js/internals/is-forced.js"),E=o("./node_modules/core-js/internals/has-own-property.js"),R=o("./node_modules/core-js/internals/inherit-if-required.js"),z=o("./node_modules/core-js/internals/object-is-prototype-of.js"),X=o("./node_modules/core-js/internals/is-symbol.js"),Y=o("./node_modules/core-js/internals/to-primitive.js"),Q=o("./node_modules/core-js/internals/fails.js"),G=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,le=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,Ae=o("./node_modules/core-js/internals/object-define-property.js").f,je=o("./node_modules/core-js/internals/this-number-value.js"),ue=o("./node_modules/core-js/internals/string-trim.js").trim,Se="Number",ae=x[Se],Ne=b[Se],he=ae.prototype,se=x.TypeError,de=y("".slice),oe=y("".charCodeAt),Ee=function(te){var ge=Y(te,"number");return typeof ge=="bigint"?ge:De(ge)},De=function(te){var ge=Y(te,"number"),Fe,$e,kt,St,Ge,Mt,Vt,cs;if(X(ge))throw new se("Cannot convert a Symbol value to a number");if(typeof ge=="string"&&ge.length>2){if(ge=ue(ge),Fe=oe(ge,0),Fe===43||Fe===45){if($e=oe(ge,2),$e===88||$e===120)return NaN}else if(Fe===48){switch(oe(ge,1)){case 66:case 98:kt=2,St=49;break;case 79:case 111:kt=8,St=55;break;default:return+ge}for(Ge=de(ge,2),Mt=Ge.length,Vt=0;Vt<Mt;Vt++)if(cs=oe(Ge,Vt),cs<48||cs>St)return NaN;return parseInt(Ge,kt)}}return+ge},ke=w(Se,!ae(" 0o1")||!ae("0b1")||ae("+0x1")),pe=function(te){return z(he,te)&&Q(function(){je(te)})},ye=function(ge){var Fe=arguments.length<1?0:ae(Ee(ge));return pe(this)?R(Object(Fe),this,ye):Fe};ye.prototype=he,ke&&!m&&(he.constructor=ye),f({global:!0,constructor:!0,wrap:!0,forced:ke},{Number:ye});var fe=function(te,ge){for(var Fe=p?G(ge):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),$e=0,kt;Fe.length>$e;$e++)E(ge,kt=Fe[$e])&&!E(te,kt)&&Ae(te,kt,le(ge,kt))};m&&Ne&&fe(b[Se],Ne),(ke||m)&&fe(b[Se],ae)}),"./node_modules/core-js/modules/es.object.assign.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/object-assign.js");f({target:"Object",stat:!0,arity:2,forced:Object.assign!==m},{assign:m})}),"./node_modules/core-js/modules/es.object.get-own-property-symbols.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),p=o("./node_modules/core-js/internals/fails.js"),x=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),b=o("./node_modules/core-js/internals/to-object.js"),y=!m||p(function(){x.f(1)});f({target:"Object",stat:!0,forced:y},{getOwnPropertySymbols:function(E){var R=x.f;return R?R(b(E)):[]}})}),"./node_modules/core-js/modules/es.object.keys.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/to-object.js"),p=o("./node_modules/core-js/internals/object-keys.js"),x=o("./node_modules/core-js/internals/fails.js"),b=x(function(){p(1)});f({target:"Object",stat:!0,forced:b},{keys:function(w){return p(m(w))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/to-string-tag-support.js"),m=o("./node_modules/core-js/internals/define-built-in.js"),p=o("./node_modules/core-js/internals/object-to-string.js");f||m(Object.prototype,"toString",p,{unsafe:!0})}),"./node_modules/core-js/modules/es.promise.all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/new-promise-capability.js"),b=o("./node_modules/core-js/internals/perform.js"),y=o("./node_modules/core-js/internals/iterate.js"),w=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");f({target:"Promise",stat:!0,forced:w},{all:function(R){var z=this,X=x.f(z),Y=X.resolve,Q=X.reject,G=b(function(){var le=p(z.resolve),Ae=[],je=0,ue=1;y(R,function(Se){var ae=je++,Ne=!1;ue++,m(le,z,Se).then(function(he){Ne||(Ne=!0,Ae[ae]=he,--ue||Y(Ae))},Q)}),--ue||Y(Ae)});return G.error&&Q(G.value),X.promise}})}),"./node_modules/core-js/modules/es.promise.catch.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/is-pure.js"),p=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,x=o("./node_modules/core-js/internals/promise-native-constructor.js"),b=o("./node_modules/core-js/internals/get-built-in.js"),y=o("./node_modules/core-js/internals/is-callable.js"),w=o("./node_modules/core-js/internals/define-built-in.js"),E=x&&x.prototype;if(f({target:"Promise",proto:!0,forced:p,real:!0},{catch:function(z){return this.then(void 0,z)}}),!m&&y(x)){var R=b("Promise").prototype.catch;E.catch!==R&&w(E,"catch",R,{unsafe:!0})}}),"./node_modules/core-js/modules/es.promise.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/is-pure.js"),p=o("./node_modules/core-js/internals/environment-is-node.js"),x=o("./node_modules/core-js/internals/global-this.js"),b=o("./node_modules/core-js/internals/path.js"),y=o("./node_modules/core-js/internals/function-call.js"),w=o("./node_modules/core-js/internals/define-built-in.js"),E=o("./node_modules/core-js/internals/object-set-prototype-of.js"),R=o("./node_modules/core-js/internals/set-to-string-tag.js"),z=o("./node_modules/core-js/internals/set-species.js"),X=o("./node_modules/core-js/internals/a-callable.js"),Y=o("./node_modules/core-js/internals/is-callable.js"),Q=o("./node_modules/core-js/internals/is-object.js"),G=o("./node_modules/core-js/internals/an-instance.js"),le=o("./node_modules/core-js/internals/species-constructor.js"),Ae=o("./node_modules/core-js/internals/task.js").set,je=o("./node_modules/core-js/internals/microtask.js"),ue=o("./node_modules/core-js/internals/host-report-errors.js"),Se=o("./node_modules/core-js/internals/perform.js"),ae=o("./node_modules/core-js/internals/queue.js"),Ne=o("./node_modules/core-js/internals/internal-state.js"),he=o("./node_modules/core-js/internals/promise-native-constructor.js"),se=o("./node_modules/core-js/internals/promise-constructor-detection.js"),de=o("./node_modules/core-js/internals/new-promise-capability.js"),oe="Promise",Ee=se.CONSTRUCTOR,De=se.REJECTION_EVENT,ke=se.SUBCLASSING,pe=Ne.getterFor(oe),ye=Ne.set,fe=he&&he.prototype,te=he,ge=fe,Fe=x.TypeError,$e=x.document,kt=x.process,St=de.f,Ge=St,Mt=!!($e&&$e.createEvent&&x.dispatchEvent),Vt="unhandledrejection",cs="rejectionhandled",xt=0,ot=1,At=2,Lt=1,$s=2,vs,fr,Ar,hr,Ms=function(ft){var Kt;return Q(ft)&&Y(Kt=ft.then)?Kt:!1},ys=function(ft,Kt){var Cs=Kt.value,Vs=Kt.state===ot,ir=Vs?ft.ok:ft.fail,wt=ft.resolve,es=ft.reject,As=ft.domain,hs,Ks,zs;try{ir?(Vs||(Kt.rejection===$s&&Nr(Kt),Kt.rejection=Lt),ir===!0?hs=Cs:(As&&As.enter(),hs=ir(Cs),As&&(As.exit(),zs=!0)),hs===ft.promise?es(new Fe("Promise-chain cycle")):(Ks=Ms(hs))?y(Ks,hs,wt,es):wt(hs)):es(Cs)}catch(mr){As&&!zs&&As.exit(),es(mr)}},Us=function(ft,Kt){ft.notified||(ft.notified=!0,je(function(){for(var Cs=ft.reactions,Vs;Vs=Cs.get();)ys(Vs,ft);ft.notified=!1,Kt&&!ft.rejection&&yr(ft)}))},xr=function(ft,Kt,Cs){var Vs,ir;Mt?(Vs=$e.createEvent("Event"),Vs.promise=Kt,Vs.reason=Cs,Vs.initEvent(ft,!1,!0),x.dispatchEvent(Vs)):Vs={promise:Kt,reason:Cs},!De&&(ir=x["on"+ft])?ir(Vs):ft===Vt&&ue("Unhandled promise rejection",Cs)},yr=function(ft){y(Ae,x,function(){var Kt=ft.facade,Cs=ft.value,Vs=nn(ft),ir;if(Vs&&(ir=Se(function(){p?kt.emit("unhandledRejection",Cs,Kt):xr(Vt,Kt,Cs)}),ft.rejection=p||nn(ft)?$s:Lt,ir.error))throw ir.value})},nn=function(ft){return ft.rejection!==Lt&&!ft.parent},Nr=function(ft){y(Ae,x,function(){var Kt=ft.facade;p?kt.emit("rejectionHandled",Kt):xr(cs,Kt,ft.value)})},er=function(ft,Kt,Cs){return function(Vs){ft(Kt,Vs,Cs)}},Ys=function(ft,Kt,Cs){ft.done||(ft.done=!0,Cs&&(ft=Cs),ft.value=Kt,ft.state=At,Us(ft,!0))},Ts=function(ft,Kt,Cs){if(!ft.done){ft.done=!0,Cs&&(ft=Cs);try{if(ft.facade===Kt)throw new Fe("Promise can't be resolved itself");var Vs=Ms(Kt);Vs?je(function(){var ir={done:!1};try{y(Vs,Kt,er(Ts,ir,ft),er(Ys,ir,ft))}catch(wt){Ys(ir,wt,ft)}}):(ft.value=Kt,ft.state=ot,Us(ft,!1))}catch(ir){Ys({done:!1},ir,ft)}}};if(Ee&&(te=function(Kt){G(this,ge),X(Kt),y(vs,this);var Cs=pe(this);try{Kt(er(Ts,Cs),er(Ys,Cs))}catch(Vs){Ys(Cs,Vs)}},ge=te.prototype,vs=function(Kt){ye(this,{type:oe,done:!1,notified:!1,parent:!1,reactions:new ae,rejection:!1,state:xt,value:null})},vs.prototype=w(ge,"then",function(Kt,Cs){var Vs=pe(this),ir=St(le(this,te));return Vs.parent=!0,ir.ok=Y(Kt)?Kt:!0,ir.fail=Y(Cs)&&Cs,ir.domain=p?kt.domain:void 0,Vs.state===xt?Vs.reactions.add(ir):je(function(){ys(ir,Vs)}),ir.promise}),fr=function(){var ft=new vs,Kt=pe(ft);this.promise=ft,this.resolve=er(Ts,Kt),this.reject=er(Ys,Kt)},de.f=St=function(ft){return ft===te||ft===Ar?new fr(ft):Ge(ft)},!m&&Y(he)&&fe!==Object.prototype)){hr=fe.then,ke||w(fe,"then",function(Kt,Cs){var Vs=this;return new te(function(ir,wt){y(hr,Vs,ir,wt)}).then(Kt,Cs)},{unsafe:!0});try{delete fe.constructor}catch{}E&&E(fe,ge)}f({global:!0,constructor:!0,wrap:!0,forced:Ee},{Promise:te}),Ar=b.Promise,R(te,oe,!1,!0),z(oe)}),"./node_modules/core-js/modules/es.promise.js":(function(d,A,o){o("./node_modules/core-js/modules/es.promise.constructor.js"),o("./node_modules/core-js/modules/es.promise.all.js"),o("./node_modules/core-js/modules/es.promise.catch.js"),o("./node_modules/core-js/modules/es.promise.race.js"),o("./node_modules/core-js/modules/es.promise.reject.js"),o("./node_modules/core-js/modules/es.promise.resolve.js")}),"./node_modules/core-js/modules/es.promise.race.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/a-callable.js"),x=o("./node_modules/core-js/internals/new-promise-capability.js"),b=o("./node_modules/core-js/internals/perform.js"),y=o("./node_modules/core-js/internals/iterate.js"),w=o("./node_modules/core-js/internals/promise-statics-incorrect-iteration.js");f({target:"Promise",stat:!0,forced:w},{race:function(R){var z=this,X=x.f(z),Y=X.reject,Q=b(function(){var G=p(z.resolve);y(R,function(le){m(G,z,le).then(X.resolve,Y)})});return Q.error&&Y(Q.value),X.promise}})}),"./node_modules/core-js/modules/es.promise.reject.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/new-promise-capability.js"),p=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR;f({target:"Promise",stat:!0,forced:p},{reject:function(b){var y=m.f(this),w=y.reject;return w(b),y.promise}})}),"./node_modules/core-js/modules/es.promise.resolve.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/is-pure.js"),x=o("./node_modules/core-js/internals/promise-native-constructor.js"),b=o("./node_modules/core-js/internals/promise-constructor-detection.js").CONSTRUCTOR,y=o("./node_modules/core-js/internals/promise-resolve.js"),w=m("Promise"),E=p&&!b;f({target:"Promise",stat:!0,forced:p||b},{resolve:function(z){return y(E&&this===w?x:this,z)}})}),"./node_modules/core-js/modules/es.regexp.exec.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/regexp-exec.js");f({target:"RegExp",proto:!0,forced:/./.exec!==m},{exec:m})}),"./node_modules/core-js/modules/es.regexp.test.js":(function(d,A,o){o("./node_modules/core-js/modules/es.regexp.exec.js");var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/is-callable.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/to-string.js"),y=(function(){var E=!1,R=/[ac]/;return R.exec=function(){return E=!0,/./.exec.apply(this,arguments)},R.test("abc")===!0&&E})(),w=/./.test;f({target:"RegExp",proto:!0,forced:!y},{test:function(E){var R=x(this),z=b(E),X=R.exec;if(!p(X))return m(w,R,z);var Y=m(X,R,z);return Y===null?!1:(x(Y),!0)}})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-name.js").PROPER,m=o("./node_modules/core-js/internals/define-built-in.js"),p=o("./node_modules/core-js/internals/an-object.js"),x=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/fails.js"),y=o("./node_modules/core-js/internals/regexp-get-flags.js"),w="toString",E=RegExp.prototype,R=E[w],z=b(function(){return R.call({source:"a",flags:"b"})!=="/a/b"}),X=f&&R.name!==w;(z||X)&&m(E,w,function(){var Q=p(this),G=x(Q.source),le=x(y(Q));return"/"+G+"/"+le},{unsafe:!0})}),"./node_modules/core-js/modules/es.set.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/collection.js"),m=o("./node_modules/core-js/internals/collection-strong.js");f("Set",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},m)}),"./node_modules/core-js/modules/es.set.js":(function(d,A,o){o("./node_modules/core-js/modules/es.set.constructor.js")}),"./node_modules/core-js/modules/es.string.ends-with.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),p=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,x=o("./node_modules/core-js/internals/to-length.js"),b=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/not-a-regexp.js"),w=o("./node_modules/core-js/internals/require-object-coercible.js"),E=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),R=o("./node_modules/core-js/internals/is-pure.js"),z=m("".slice),X=Math.min,Y=E("endsWith"),Q=!R&&!Y&&!!(function(){var G=p(String.prototype,"endsWith");return G&&!G.writable})();f({target:"String",proto:!0,forced:!Q&&!Y},{endsWith:function(le){var Ae=b(w(this));y(le);var je=arguments.length>1?arguments[1]:void 0,ue=Ae.length,Se=je===void 0?ue:X(x(je),ue),ae=b(le);return z(Ae,Se-ae.length,Se)===ae}})}),"./node_modules/core-js/modules/es.string.includes.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/not-a-regexp.js"),x=o("./node_modules/core-js/internals/require-object-coercible.js"),b=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),w=m("".indexOf);f({target:"String",proto:!0,forced:!y("includes")},{includes:function(R){return!!~w(b(x(this)),b(p(R)),arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/string-multibyte.js").charAt,m=o("./node_modules/core-js/internals/to-string.js"),p=o("./node_modules/core-js/internals/internal-state.js"),x=o("./node_modules/core-js/internals/iterator-define.js"),b=o("./node_modules/core-js/internals/create-iter-result-object.js"),y="String Iterator",w=p.set,E=p.getterFor(y);x(String,"String",function(R){w(this,{type:y,string:m(R),index:0})},function(){var z=E(this),X=z.string,Y=z.index,Q;return Y>=X.length?b(void 0,!0):(Q=f(X,Y),z.index+=Q.length,b(Q,!1))})}),"./node_modules/core-js/modules/es.string.link.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/create-html.js"),p=o("./node_modules/core-js/internals/string-html-forced.js");f({target:"String",proto:!0,forced:p("link")},{link:function(b){return m(this,"a","href",b)}})}),"./node_modules/core-js/modules/es.string.match.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/is-object.js"),y=o("./node_modules/core-js/internals/to-length.js"),w=o("./node_modules/core-js/internals/to-string.js"),E=o("./node_modules/core-js/internals/require-object-coercible.js"),R=o("./node_modules/core-js/internals/get-method.js"),z=o("./node_modules/core-js/internals/advance-string-index.js"),X=o("./node_modules/core-js/internals/regexp-get-flags.js"),Y=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),Q=m("".indexOf);p("match",function(G,le,Ae){return[function(ue){var Se=E(this),ae=b(ue)?R(ue,G):void 0;return ae?f(ae,ue,Se):new RegExp(ue)[G](w(Se))},function(je){var ue=x(this),Se=w(je),ae=Ae(le,ue,Se);if(ae.done)return ae.value;var Ne=w(X(ue));if(Q(Ne,"g")===-1)return Y(ue,Se);var he=Q(Ne,"u")!==-1;ue.lastIndex=0;for(var se=[],de=0,oe;(oe=Y(ue,Se))!==null;){var Ee=w(oe[0]);se[de]=Ee,Ee===""&&(ue.lastIndex=z(Se,y(ue.lastIndex),he)),de++}return de===0?null:se}]})}),"./node_modules/core-js/modules/es.string.replace.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-apply.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/function-uncurry-this.js"),x=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),b=o("./node_modules/core-js/internals/fails.js"),y=o("./node_modules/core-js/internals/an-object.js"),w=o("./node_modules/core-js/internals/is-callable.js"),E=o("./node_modules/core-js/internals/is-object.js"),R=o("./node_modules/core-js/internals/to-integer-or-infinity.js"),z=o("./node_modules/core-js/internals/to-length.js"),X=o("./node_modules/core-js/internals/to-string.js"),Y=o("./node_modules/core-js/internals/require-object-coercible.js"),Q=o("./node_modules/core-js/internals/advance-string-index.js"),G=o("./node_modules/core-js/internals/get-method.js"),le=o("./node_modules/core-js/internals/get-substitution.js"),Ae=o("./node_modules/core-js/internals/regexp-get-flags.js"),je=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),ue=o("./node_modules/core-js/internals/well-known-symbol.js"),Se=ue("replace"),ae=Math.max,Ne=Math.min,he=p([].concat),se=p([].push),de=p("".indexOf),oe=p("".slice),Ee=function(ye){return ye===void 0?ye:String(ye)},De=(function(){return"a".replace(/./,"$0")==="$0"})(),ke=(function(){return/./[Se]?/./[Se]("a","$0")==="":!1})(),pe=!b(function(){var ye=/./;return ye.exec=function(){var fe=[];return fe.groups={a:"7"},fe},"".replace(ye,"$<a>")!=="7"});x("replace",function(ye,fe,te){var ge=ke?"$":"$0";return[function($e,kt){var St=Y(this),Ge=E($e)?G($e,Se):void 0;return Ge?m(Ge,$e,St,kt):m(fe,X(St),$e,kt)},function(Fe,$e){var kt=y(this),St=X(Fe);if(typeof $e=="string"&&de($e,ge)===-1&&de($e,"$<")===-1){var Ge=te(fe,kt,St,$e);if(Ge.done)return Ge.value}var Mt=w($e);Mt||($e=X($e));var Vt=X(Ae(kt)),cs=de(Vt,"g")!==-1,xt;cs&&(xt=de(Vt,"u")!==-1,kt.lastIndex=0);for(var ot=[],At;At=je(kt,St),!(At===null||(se(ot,At),!cs));){var Lt=X(At[0]);Lt===""&&(kt.lastIndex=Q(St,z(kt.lastIndex),xt))}for(var $s="",vs=0,fr=0;fr<ot.length;fr++){At=ot[fr];for(var Ar=X(At[0]),hr=ae(Ne(R(At.index),St.length),0),Ms=[],ys,Us=1;Us<At.length;Us++)se(Ms,Ee(At[Us]));var xr=At.groups;if(Mt){var yr=he([Ar],Ms,hr,St);xr!==void 0&&se(yr,xr),ys=X(f($e,void 0,yr))}else ys=le(Ar,St,hr,Ms,xr,$e);hr>=vs&&($s+=oe(St,vs,hr)+ys,vs=hr+Ar.length)}return $s+oe(St,vs)}]},!pe||!De||ke)}),"./node_modules/core-js/modules/es.string.split.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/function-call.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/fix-regexp-well-known-symbol-logic.js"),x=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/is-object.js"),y=o("./node_modules/core-js/internals/require-object-coercible.js"),w=o("./node_modules/core-js/internals/species-constructor.js"),E=o("./node_modules/core-js/internals/advance-string-index.js"),R=o("./node_modules/core-js/internals/to-length.js"),z=o("./node_modules/core-js/internals/to-string.js"),X=o("./node_modules/core-js/internals/get-method.js"),Y=o("./node_modules/core-js/internals/regexp-exec-abstract.js"),Q=o("./node_modules/core-js/internals/regexp-sticky-helpers.js"),G=o("./node_modules/core-js/internals/fails.js"),le=Q.UNSUPPORTED_Y,Ae=4294967295,je=Math.min,ue=m([].push),Se=m("".slice),ae=!G(function(){var he=/(?:)/,se=he.exec;he.exec=function(){return se.apply(this,arguments)};var de="ab".split(he);return de.length!==2||de[0]!=="a"||de[1]!=="b"}),Ne="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;p("split",function(he,se,de){var oe="0".split(void 0,0).length?function(Ee,De){return Ee===void 0&&De===0?[]:f(se,this,Ee,De)}:se;return[function(De,ke){var pe=y(this),ye=b(De)?X(De,he):void 0;return ye?f(ye,De,pe,ke):f(oe,z(pe),De,ke)},function(Ee,De){var ke=x(this),pe=z(Ee);if(!Ne){var ye=de(oe,ke,pe,De,oe!==se);if(ye.done)return ye.value}var fe=w(ke,RegExp),te=ke.unicode,ge=(ke.ignoreCase?"i":"")+(ke.multiline?"m":"")+(ke.unicode?"u":"")+(le?"g":"y"),Fe=new fe(le?"^(?:"+ke.source+")":ke,ge),$e=De===void 0?Ae:De>>>0;if($e===0)return[];if(pe.length===0)return Y(Fe,pe)===null?[pe]:[];for(var kt=0,St=0,Ge=[];St<pe.length;){Fe.lastIndex=le?0:St;var Mt=Y(Fe,le?Se(pe,St):pe),Vt;if(Mt===null||(Vt=je(R(Fe.lastIndex+(le?St:0)),pe.length))===kt)St=E(pe,St,te);else{if(ue(Ge,Se(pe,kt,St)),Ge.length===$e)return Ge;for(var cs=1;cs<=Mt.length-1;cs++)if(ue(Ge,Mt[cs]),Ge.length===$e)return Ge;St=kt=Vt}}return ue(Ge,Se(pe,kt)),Ge}]},Ne||!ae,le)}),"./node_modules/core-js/modules/es.string.starts-with.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this-clause.js"),p=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,x=o("./node_modules/core-js/internals/to-length.js"),b=o("./node_modules/core-js/internals/to-string.js"),y=o("./node_modules/core-js/internals/not-a-regexp.js"),w=o("./node_modules/core-js/internals/require-object-coercible.js"),E=o("./node_modules/core-js/internals/correct-is-regexp-logic.js"),R=o("./node_modules/core-js/internals/is-pure.js"),z=m("".slice),X=Math.min,Y=E("startsWith"),Q=!R&&!Y&&!!(function(){var G=p(String.prototype,"startsWith");return G&&!G.writable})();f({target:"String",proto:!0,forced:!Q&&!Y},{startsWith:function(le){var Ae=b(w(this));y(le);var je=x(X(arguments.length>1?arguments[1]:void 0,Ae.length)),ue=b(le);return z(Ae,je,je+ue.length)===ue}})}),"./node_modules/core-js/modules/es.string.trim.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/string-trim.js").trim,p=o("./node_modules/core-js/internals/string-trim-forced.js");f({target:"String",proto:!0,forced:p("trim")},{trim:function(){return m(this)}})}),"./node_modules/core-js/modules/es.symbol.constructor.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/function-call.js"),x=o("./node_modules/core-js/internals/function-uncurry-this.js"),b=o("./node_modules/core-js/internals/is-pure.js"),y=o("./node_modules/core-js/internals/descriptors.js"),w=o("./node_modules/core-js/internals/symbol-constructor-detection.js"),E=o("./node_modules/core-js/internals/fails.js"),R=o("./node_modules/core-js/internals/has-own-property.js"),z=o("./node_modules/core-js/internals/object-is-prototype-of.js"),X=o("./node_modules/core-js/internals/an-object.js"),Y=o("./node_modules/core-js/internals/to-indexed-object.js"),Q=o("./node_modules/core-js/internals/to-property-key.js"),G=o("./node_modules/core-js/internals/to-string.js"),le=o("./node_modules/core-js/internals/create-property-descriptor.js"),Ae=o("./node_modules/core-js/internals/object-create.js"),je=o("./node_modules/core-js/internals/object-keys.js"),ue=o("./node_modules/core-js/internals/object-get-own-property-names.js"),Se=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),ae=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Ne=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),he=o("./node_modules/core-js/internals/object-define-property.js"),se=o("./node_modules/core-js/internals/object-define-properties.js"),de=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),oe=o("./node_modules/core-js/internals/define-built-in.js"),Ee=o("./node_modules/core-js/internals/define-built-in-accessor.js"),De=o("./node_modules/core-js/internals/shared.js"),ke=o("./node_modules/core-js/internals/shared-key.js"),pe=o("./node_modules/core-js/internals/hidden-keys.js"),ye=o("./node_modules/core-js/internals/uid.js"),fe=o("./node_modules/core-js/internals/well-known-symbol.js"),te=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),ge=o("./node_modules/core-js/internals/well-known-symbol-define.js"),Fe=o("./node_modules/core-js/internals/symbol-define-to-primitive.js"),$e=o("./node_modules/core-js/internals/set-to-string-tag.js"),kt=o("./node_modules/core-js/internals/internal-state.js"),St=o("./node_modules/core-js/internals/array-iteration.js").forEach,Ge=ke("hidden"),Mt="Symbol",Vt="prototype",cs=kt.set,xt=kt.getterFor(Mt),ot=Object[Vt],At=m.Symbol,Lt=At&&At[Vt],$s=m.RangeError,vs=m.TypeError,fr=m.QObject,Ar=Ne.f,hr=he.f,Ms=Se.f,ys=de.f,Us=x([].push),xr=De("symbols"),yr=De("op-symbols"),nn=De("wks"),Nr=!fr||!fr[Vt]||!fr[Vt].findChild,er=function(As,hs,Ks){var zs=Ar(ot,hs);zs&&delete ot[hs],hr(As,hs,Ks),zs&&As!==ot&&hr(ot,hs,zs)},Ys=y&&E(function(){return Ae(hr({},"a",{get:function(){return hr(this,"a",{value:7}).a}})).a!==7})?er:hr,Ts=function(As,hs){var Ks=xr[As]=Ae(Lt);return cs(Ks,{type:Mt,tag:As,description:hs}),y||(Ks.description=hs),Ks},ft=function(hs,Ks,zs){hs===ot&&ft(yr,Ks,zs),X(hs);var mr=Q(Ks);return X(zs),R(xr,mr)?(zs.enumerable?(R(hs,Ge)&&hs[Ge][mr]&&(hs[Ge][mr]=!1),zs=Ae(zs,{enumerable:le(0,!1)})):(R(hs,Ge)||hr(hs,Ge,le(1,Ae(null))),hs[Ge][mr]=!0),Ys(hs,mr,zs)):hr(hs,mr,zs)},Kt=function(hs,Ks){X(hs);var zs=Y(Ks),mr=je(zs).concat(es(zs));return St(mr,function(en){(!y||p(Vs,zs,en))&&ft(hs,en,zs[en])}),hs},Cs=function(hs,Ks){return Ks===void 0?Ae(hs):Kt(Ae(hs),Ks)},Vs=function(hs){var Ks=Q(hs),zs=p(ys,this,Ks);return this===ot&&R(xr,Ks)&&!R(yr,Ks)?!1:zs||!R(this,Ks)||!R(xr,Ks)||R(this,Ge)&&this[Ge][Ks]?zs:!0},ir=function(hs,Ks){var zs=Y(hs),mr=Q(Ks);if(!(zs===ot&&R(xr,mr)&&!R(yr,mr))){var en=Ar(zs,mr);return en&&R(xr,mr)&&!(R(zs,Ge)&&zs[Ge][mr])&&(en.enumerable=!0),en}},wt=function(hs){var Ks=Ms(Y(hs)),zs=[];return St(Ks,function(mr){!R(xr,mr)&&!R(pe,mr)&&Us(zs,mr)}),zs},es=function(As){var hs=As===ot,Ks=Ms(hs?yr:Y(As)),zs=[];return St(Ks,function(mr){R(xr,mr)&&(!hs||R(ot,mr))&&Us(zs,xr[mr])}),zs};w||(At=function(){if(z(Lt,this))throw new vs("Symbol is not a constructor");var hs=!arguments.length||arguments[0]===void 0?void 0:G(arguments[0]),Ks=ye(hs),zs=function(mr){var en=this===void 0?m:this;en===ot&&p(zs,yr,mr),R(en,Ge)&&R(en[Ge],Ks)&&(en[Ge][Ks]=!1);var wa=le(1,mr);try{Ys(en,Ks,wa)}catch(Ss){if(!(Ss instanceof $s))throw Ss;er(en,Ks,wa)}};return y&&Nr&&Ys(ot,Ks,{configurable:!0,set:zs}),Ts(Ks,hs)},Lt=At[Vt],oe(Lt,"toString",function(){return xt(this).tag}),oe(At,"withoutSetter",function(As){return Ts(ye(As),As)}),de.f=Vs,he.f=ft,se.f=Kt,Ne.f=ir,ue.f=Se.f=wt,ae.f=es,te.f=function(As){return Ts(fe(As),As)},y&&(Ee(Lt,"description",{configurable:!0,get:function(){return xt(this).description}}),b||oe(ot,"propertyIsEnumerable",Vs,{unsafe:!0}))),f({global:!0,constructor:!0,wrap:!0,forced:!w,sham:!w},{Symbol:At}),St(je(nn),function(As){ge(As)}),f({target:Mt,stat:!0,forced:!w},{useSetter:function(){Nr=!0},useSimple:function(){Nr=!1}}),f({target:"Object",stat:!0,forced:!w,sham:!y},{create:Cs,defineProperty:ft,defineProperties:Kt,getOwnPropertyDescriptor:ir}),f({target:"Object",stat:!0,forced:!w},{getOwnPropertyNames:wt}),Fe(),$e(At,Mt),pe[Ge]=!0}),"./node_modules/core-js/modules/es.symbol.description.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/descriptors.js"),p=o("./node_modules/core-js/internals/global-this.js"),x=o("./node_modules/core-js/internals/function-uncurry-this.js"),b=o("./node_modules/core-js/internals/has-own-property.js"),y=o("./node_modules/core-js/internals/is-callable.js"),w=o("./node_modules/core-js/internals/object-is-prototype-of.js"),E=o("./node_modules/core-js/internals/to-string.js"),R=o("./node_modules/core-js/internals/define-built-in-accessor.js"),z=o("./node_modules/core-js/internals/copy-constructor-properties.js"),X=p.Symbol,Y=X&&X.prototype;if(m&&y(X)&&(!("description"in Y)||X().description!==void 0)){var Q={},G=function(){var he=arguments.length<1||arguments[0]===void 0?void 0:E(arguments[0]),se=w(Y,this)?new X(he):he===void 0?X():X(he);return he===""&&(Q[se]=!0),se};z(G,X),G.prototype=Y,Y.constructor=G;var le=String(X("description detection"))==="Symbol(description detection)",Ae=x(Y.valueOf),je=x(Y.toString),ue=/^Symbol\((.*)\)[^)]+$/,Se=x("".replace),ae=x("".slice);R(Y,"description",{configurable:!0,get:function(){var he=Ae(this);if(b(Q,he))return"";var se=je(he),de=le?ae(se,7,-1):Se(se,ue,"$1");return de===""?void 0:de}}),f({global:!0,constructor:!0,forced:!0},{Symbol:G})}}),"./node_modules/core-js/modules/es.symbol.for.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/get-built-in.js"),p=o("./node_modules/core-js/internals/has-own-property.js"),x=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/shared.js"),y=o("./node_modules/core-js/internals/symbol-registry-detection.js"),w=b("string-to-symbol-registry"),E=b("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!y},{for:function(R){var z=x(R);if(p(w,z))return w[z];var X=m("Symbol")(z);return w[z]=X,E[X]=z,X}})}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/well-known-symbol-define.js");f("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(d,A,o){o("./node_modules/core-js/modules/es.symbol.constructor.js"),o("./node_modules/core-js/modules/es.symbol.for.js"),o("./node_modules/core-js/modules/es.symbol.key-for.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.get-own-property-symbols.js")}),"./node_modules/core-js/modules/es.symbol.key-for.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/has-own-property.js"),p=o("./node_modules/core-js/internals/is-symbol.js"),x=o("./node_modules/core-js/internals/try-to-string.js"),b=o("./node_modules/core-js/internals/shared.js"),y=o("./node_modules/core-js/internals/symbol-registry-detection.js"),w=b("symbol-to-string-registry");f({target:"Symbol",stat:!0,forced:!y},{keyFor:function(R){if(!p(R))throw new TypeError(x(R)+" is not a symbol");if(m(w,R))return w[R]}})}),"./node_modules/core-js/modules/esnext.iterator.constructor.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.constructor.js")}),"./node_modules/core-js/modules/esnext.iterator.for-each.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.for-each.js")}),"./node_modules/core-js/modules/esnext.iterator.map.js":(function(d,A,o){o("./node_modules/core-js/modules/es.iterator.map.js")}),"./node_modules/core-js/modules/esnext.set.add-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js").add;f({target:"Set",proto:!0,real:!0,forced:!0},{addAll:function(){for(var b=m(this),y=0,w=arguments.length;y<w;y++)p(b,arguments[y]);return b}})}),"./node_modules/core-js/modules/esnext.set.delete-all.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/a-set.js"),p=o("./node_modules/core-js/internals/set-helpers.js").remove;f({target:"Set",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var b=m(this),y=!0,w,E=0,R=arguments.length;E<R;E++)w=p(b,arguments[E]),y=y&&w;return!!y}})}),"./node_modules/core-js/modules/esnext.set.difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-difference.js");f({target:"Set",proto:!0,real:!0,forced:!0},{difference:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.every.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{every:function(y){var w=p(this),E=m(y,arguments.length>1?arguments[1]:void 0);return x(w,function(R){if(!E(R,R,w))return!1},!0)!==!1}})}),"./node_modules/core-js/modules/esnext.set.filter.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-helpers.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),y=x.Set,w=x.add;f({target:"Set",proto:!0,real:!0,forced:!0},{filter:function(R){var z=p(this),X=m(R,arguments.length>1?arguments[1]:void 0),Y=new y;return b(z,function(Q){X(Q,Q,z)&&w(Y,Q)}),Y}})}),"./node_modules/core-js/modules/esnext.set.find.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{find:function(y){var w=p(this),E=m(y,arguments.length>1?arguments[1]:void 0),R=x(w,function(z){if(E(z,z,w))return{value:z}},!0);return R&&R.value}})}),"./node_modules/core-js/modules/esnext.set.intersection.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-intersection.js");f({target:"Set",proto:!0,real:!0,forced:!0},{intersection:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.is-disjoint-from.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-disjoint-from.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isDisjointFrom:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.is-subset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-subset-of.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isSubsetOf:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.is-superset-of.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-is-superset-of.js");f({target:"Set",proto:!0,real:!0,forced:!0},{isSupersetOf:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.join.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-uncurry-this.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js"),b=o("./node_modules/core-js/internals/to-string.js"),y=m([].join),w=m([].push);f({target:"Set",proto:!0,real:!0,forced:!0},{join:function(R){var z=p(this),X=R===void 0?",":b(R),Y=[];return x(z,function(Q){w(Y,Q)}),y(Y,X)}})}),"./node_modules/core-js/modules/esnext.set.map.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-helpers.js"),b=o("./node_modules/core-js/internals/set-iterate.js"),y=x.Set,w=x.add;f({target:"Set",proto:!0,real:!0,forced:!0},{map:function(R){var z=p(this),X=m(R,arguments.length>1?arguments[1]:void 0),Y=new y;return b(z,function(Q){w(Y,X(Q,Q,z))}),Y}})}),"./node_modules/core-js/modules/esnext.set.reduce.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/a-callable.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js"),b=TypeError;f({target:"Set",proto:!0,real:!0,forced:!0},{reduce:function(w){var E=p(this),R=arguments.length<2,z=R?void 0:arguments[1];if(m(w),x(E,function(X){R?(R=!1,z=X):z=w(z,X,X,E)}),R)throw new b("Reduce of empty set with no initial value");return z}})}),"./node_modules/core-js/modules/esnext.set.some.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-bind-context.js"),p=o("./node_modules/core-js/internals/a-set.js"),x=o("./node_modules/core-js/internals/set-iterate.js");f({target:"Set",proto:!0,real:!0,forced:!0},{some:function(y){var w=p(this),E=m(y,arguments.length>1?arguments[1]:void 0);return x(w,function(R){if(E(R,R,w))return!0},!0)===!0}})}),"./node_modules/core-js/modules/esnext.set.symmetric-difference.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-symmetric-difference.js");f({target:"Set",proto:!0,real:!0,forced:!0},{symmetricDifference:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/esnext.set.union.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/function-call.js"),p=o("./node_modules/core-js/internals/to-set-like.js"),x=o("./node_modules/core-js/internals/set-union.js");f({target:"Set",proto:!0,real:!0,forced:!0},{union:function(y){return m(x,this,p(y))}})}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/dom-iterables.js"),p=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),x=o("./node_modules/core-js/internals/array-for-each.js"),b=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=function(E){if(E&&E.forEach!==x)try{b(E,"forEach",x)}catch{E.forEach=x}};for(var w in m)m[w]&&y(f[w]&&f[w].prototype);y(p)}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/global-this.js"),m=o("./node_modules/core-js/internals/dom-iterables.js"),p=o("./node_modules/core-js/internals/dom-token-list-prototype.js"),x=o("./node_modules/core-js/modules/es.array.iterator.js"),b=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),y=o("./node_modules/core-js/internals/set-to-string-tag.js"),w=o("./node_modules/core-js/internals/well-known-symbol.js"),E=w("iterator"),R=x.values,z=function(Y,Q){if(Y){if(Y[E]!==R)try{b(Y,E,R)}catch{Y[E]=R}if(y(Y,Q,!0),m[Q]){for(var G in x)if(Y[G]!==x[G])try{b(Y,G,x[G])}catch{Y[G]=x[G]}}}};for(var X in m)z(f[X]&&f[X].prototype,X);z(p,"DOMTokenList")}),"./node_modules/core-js/modules/web.set-interval.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/schedulers-fix.js"),x=p(m.setInterval,!0);f({global:!0,bind:!0,forced:m.setInterval!==x},{setInterval:x})}),"./node_modules/core-js/modules/web.set-timeout.js":(function(d,A,o){var f=o("./node_modules/core-js/internals/export.js"),m=o("./node_modules/core-js/internals/global-this.js"),p=o("./node_modules/core-js/internals/schedulers-fix.js"),x=p(m.setTimeout,!0);f({global:!0,bind:!0,forced:m.setTimeout!==x},{setTimeout:x})}),"./node_modules/core-js/modules/web.timers.js":(function(d,A,o){o("./node_modules/core-js/modules/web.set-interval.js"),o("./node_modules/core-js/modules/web.set-timeout.js")}),"./node_modules/dompurify/dist/purify.es.mjs":(function(d,A,o){o.r(A),o.d(A,{default:function(){return er}});/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:f,setPrototypeOf:m,isFrozen:p,getPrototypeOf:x,getOwnPropertyDescriptor:b}=Object;let{freeze:y,seal:w,create:E}=Object,{apply:R,construct:z}=typeof Reflect<"u"&&Reflect;y||(y=function(Ts){return Ts}),w||(w=function(Ts){return Ts}),R||(R=function(Ts,ft){for(var Kt=arguments.length,Cs=new Array(Kt>2?Kt-2:0),Vs=2;Vs<Kt;Vs++)Cs[Vs-2]=arguments[Vs];return Ts.apply(ft,Cs)}),z||(z=function(Ts){for(var ft=arguments.length,Kt=new Array(ft>1?ft-1:0),Cs=1;Cs<ft;Cs++)Kt[Cs-1]=arguments[Cs];return new Ts(...Kt)});const X=oe(Array.prototype.forEach),Y=oe(Array.prototype.lastIndexOf),Q=oe(Array.prototype.pop),G=oe(Array.prototype.push),le=oe(Array.prototype.splice),Ae=oe(String.prototype.toLowerCase),je=oe(String.prototype.toString),ue=oe(String.prototype.match),Se=oe(String.prototype.replace),ae=oe(String.prototype.indexOf),Ne=oe(String.prototype.trim),he=oe(Object.prototype.hasOwnProperty),se=oe(RegExp.prototype.test),de=Ee(TypeError);function oe(Ys){return function(Ts){Ts instanceof RegExp&&(Ts.lastIndex=0);for(var ft=arguments.length,Kt=new Array(ft>1?ft-1:0),Cs=1;Cs<ft;Cs++)Kt[Cs-1]=arguments[Cs];return R(Ys,Ts,Kt)}}function Ee(Ys){return function(){for(var Ts=arguments.length,ft=new Array(Ts),Kt=0;Kt<Ts;Kt++)ft[Kt]=arguments[Kt];return z(Ys,ft)}}function De(Ys,Ts){let ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ae;m&&m(Ys,null);let Kt=Ts.length;for(;Kt--;){let Cs=Ts[Kt];if(typeof Cs=="string"){const Vs=ft(Cs);Vs!==Cs&&(p(Ts)||(Ts[Kt]=Vs),Cs=Vs)}Ys[Cs]=!0}return Ys}function ke(Ys){for(let Ts=0;Ts<Ys.length;Ts++)he(Ys,Ts)||(Ys[Ts]=null);return Ys}function pe(Ys){const Ts=E(null);for(const[ft,Kt]of f(Ys))he(Ys,ft)&&(Array.isArray(Kt)?Ts[ft]=ke(Kt):Kt&&typeof Kt=="object"&&Kt.constructor===Object?Ts[ft]=pe(Kt):Ts[ft]=Kt);return Ts}function ye(Ys,Ts){for(;Ys!==null;){const Kt=b(Ys,Ts);if(Kt){if(Kt.get)return oe(Kt.get);if(typeof Kt.value=="function")return oe(Kt.value)}Ys=x(Ys)}function ft(){return null}return ft}const fe=y(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),te=y(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ge=y(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Fe=y(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$e=y(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),kt=y(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),St=y(["#text"]),Ge=y(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Mt=y(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Vt=y(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),cs=y(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),xt=w(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ot=w(/<%[\w\W]*|[\w\W]*%>/gm),At=w(/\$\{[\w\W]*/gm),Lt=w(/^data-[\-\w.\u00B7-\uFFFF]+$/),$s=w(/^aria-[\-\w]+$/),vs=w(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fr=w(/^(?:\w+script|data):/i),Ar=w(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),hr=w(/^html$/i),Ms=w(/^[a-z][.\w]*(-[.\w]+)+$/i);var ys=Object.freeze({__proto__:null,ARIA_ATTR:$s,ATTR_WHITESPACE:Ar,CUSTOM_ELEMENT:Ms,DATA_ATTR:Lt,DOCTYPE_NAME:hr,ERB_EXPR:ot,IS_ALLOWED_URI:vs,IS_SCRIPT_OR_DATA:fr,MUSTACHE_EXPR:xt,TMPLIT_EXPR:At});const Us={element:1,text:3,progressingInstruction:7,comment:8,document:9},xr=function(){return typeof window>"u"?null:window},yr=function(Ts,ft){if(typeof Ts!="object"||typeof Ts.createPolicy!="function")return null;let Kt=null;const Cs="data-tt-policy-suffix";ft&&ft.hasAttribute(Cs)&&(Kt=ft.getAttribute(Cs));const Vs="dompurify"+(Kt?"#"+Kt:"");try{return Ts.createPolicy(Vs,{createHTML(ir){return ir},createScriptURL(ir){return ir}})}catch{return console.warn("TrustedTypes policy "+Vs+" could not be created."),null}},nn=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Nr(){let Ys=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xr();const Ts=gt=>Nr(gt);if(Ts.version="3.3.1",Ts.removed=[],!Ys||!Ys.document||Ys.document.nodeType!==Us.document||!Ys.Element)return Ts.isSupported=!1,Ts;let{document:ft}=Ys;const Kt=ft,Cs=Kt.currentScript,{DocumentFragment:Vs,HTMLTemplateElement:ir,Node:wt,Element:es,NodeFilter:As,NamedNodeMap:hs=Ys.NamedNodeMap||Ys.MozNamedAttrMap,HTMLFormElement:Ks,DOMParser:zs,trustedTypes:mr}=Ys,en=es.prototype,wa=ye(en,"cloneNode"),Ss=ye(en,"remove"),Os=ye(en,"nextSibling"),sr=ye(en,"childNodes"),fs=ye(en,"parentNode");if(typeof ir=="function"){const gt=ft.createElement("template");gt.content&&gt.content.ownerDocument&&(ft=gt.content.ownerDocument)}let Pr,Gr="";const{implementation:ur,createNodeIterator:Va,createDocumentFragment:ha,getElementsByTagName:fn}=ft,{importNode:Bn}=Kt;let ln=nn();Ts.isSupported=typeof f=="function"&&typeof fs=="function"&&ur&&ur.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:fa,ERB_EXPR:Zn,TMPLIT_EXPR:Ii,DATA_ATTR:Dn,ARIA_ATTR:mc,IS_SCRIPT_OR_DATA:oi,ATTR_WHITESPACE:To,CUSTOM_ELEMENT:Vl}=ys;let{IS_ALLOWED_URI:ho}=ys,ma=null;const Ni=De({},[...fe,...te,...ge,...$e,...St]);let sa=null;const Ua=De({},[...Ge,...Mt,...Vt,...cs]);let qn=Object.seal(E(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),fo=null,Ai=null;const Ci=Object.seal(E(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Al=!0,qo=!0,Tl=!1,xa=!0,ja=!1,mo=!0,ti=!1,Di=!1,hi=!1,Wr=!1,Ka=!1,ki=!1,Pa=!0,po=!1;const Gn="user-content-";let Ki=!0,Ga=!1,Da={},fi=null;const Uo=De({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Bi=null;const ba=De({},["audio","video","img","source","image","track"]);let mi=null;const eo=De({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Si="http://www.w3.org/1998/Math/MathML",oo="http://www.w3.org/2000/svg",Tt="http://www.w3.org/1999/xhtml";let F=Tt,K=!1,J=null;const T=De({},[Si,oo,Tt],je);let M=De({},["mi","mo","mn","ms","mtext"]),$=De({},["annotation-xml"]);const ie=De({},["title","style","font","a","script"]);let ve=null;const Re=["application/xhtml+xml","text/html"],Je="text/html";let N=null,v=null;const S=ft.createElement("form"),I=function(Ke){return Ke instanceof RegExp||Ke instanceof Function},P=function(){let Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(v&&v===Ke)){if((!Ke||typeof Ke!="object")&&(Ke={}),Ke=pe(Ke),ve=Re.indexOf(Ke.PARSER_MEDIA_TYPE)===-1?Je:Ke.PARSER_MEDIA_TYPE,N=ve==="application/xhtml+xml"?je:Ae,ma=he(Ke,"ALLOWED_TAGS")?De({},Ke.ALLOWED_TAGS,N):Ni,sa=he(Ke,"ALLOWED_ATTR")?De({},Ke.ALLOWED_ATTR,N):Ua,J=he(Ke,"ALLOWED_NAMESPACES")?De({},Ke.ALLOWED_NAMESPACES,je):T,mi=he(Ke,"ADD_URI_SAFE_ATTR")?De(pe(eo),Ke.ADD_URI_SAFE_ATTR,N):eo,Bi=he(Ke,"ADD_DATA_URI_TAGS")?De(pe(ba),Ke.ADD_DATA_URI_TAGS,N):ba,fi=he(Ke,"FORBID_CONTENTS")?De({},Ke.FORBID_CONTENTS,N):Uo,fo=he(Ke,"FORBID_TAGS")?De({},Ke.FORBID_TAGS,N):pe({}),Ai=he(Ke,"FORBID_ATTR")?De({},Ke.FORBID_ATTR,N):pe({}),Da=he(Ke,"USE_PROFILES")?Ke.USE_PROFILES:!1,Al=Ke.ALLOW_ARIA_ATTR!==!1,qo=Ke.ALLOW_DATA_ATTR!==!1,Tl=Ke.ALLOW_UNKNOWN_PROTOCOLS||!1,xa=Ke.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ja=Ke.SAFE_FOR_TEMPLATES||!1,mo=Ke.SAFE_FOR_XML!==!1,ti=Ke.WHOLE_DOCUMENT||!1,Wr=Ke.RETURN_DOM||!1,Ka=Ke.RETURN_DOM_FRAGMENT||!1,ki=Ke.RETURN_TRUSTED_TYPE||!1,hi=Ke.FORCE_BODY||!1,Pa=Ke.SANITIZE_DOM!==!1,po=Ke.SANITIZE_NAMED_PROPS||!1,Ki=Ke.KEEP_CONTENT!==!1,Ga=Ke.IN_PLACE||!1,ho=Ke.ALLOWED_URI_REGEXP||vs,F=Ke.NAMESPACE||Tt,M=Ke.MATHML_TEXT_INTEGRATION_POINTS||M,$=Ke.HTML_INTEGRATION_POINTS||$,qn=Ke.CUSTOM_ELEMENT_HANDLING||{},Ke.CUSTOM_ELEMENT_HANDLING&&I(Ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(qn.tagNameCheck=Ke.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ke.CUSTOM_ELEMENT_HANDLING&&I(Ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(qn.attributeNameCheck=Ke.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ke.CUSTOM_ELEMENT_HANDLING&&typeof Ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(qn.allowCustomizedBuiltInElements=Ke.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ja&&(qo=!1),Ka&&(Wr=!0),Da&&(ma=De({},St),sa=[],Da.html===!0&&(De(ma,fe),De(sa,Ge)),Da.svg===!0&&(De(ma,te),De(sa,Mt),De(sa,cs)),Da.svgFilters===!0&&(De(ma,ge),De(sa,Mt),De(sa,cs)),Da.mathMl===!0&&(De(ma,$e),De(sa,Vt),De(sa,cs))),Ke.ADD_TAGS&&(typeof Ke.ADD_TAGS=="function"?Ci.tagCheck=Ke.ADD_TAGS:(ma===Ni&&(ma=pe(ma)),De(ma,Ke.ADD_TAGS,N))),Ke.ADD_ATTR&&(typeof Ke.ADD_ATTR=="function"?Ci.attributeCheck=Ke.ADD_ATTR:(sa===Ua&&(sa=pe(sa)),De(sa,Ke.ADD_ATTR,N))),Ke.ADD_URI_SAFE_ATTR&&De(mi,Ke.ADD_URI_SAFE_ATTR,N),Ke.FORBID_CONTENTS&&(fi===Uo&&(fi=pe(fi)),De(fi,Ke.FORBID_CONTENTS,N)),Ke.ADD_FORBID_CONTENTS&&(fi===Uo&&(fi=pe(fi)),De(fi,Ke.ADD_FORBID_CONTENTS,N)),Ki&&(ma["#text"]=!0),ti&&De(ma,["html","head","body"]),ma.table&&(De(ma,["tbody"]),delete fo.tbody),Ke.TRUSTED_TYPES_POLICY){if(typeof Ke.TRUSTED_TYPES_POLICY.createHTML!="function")throw de('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ke.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw de('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Pr=Ke.TRUSTED_TYPES_POLICY,Gr=Pr.createHTML("")}else Pr===void 0&&(Pr=yr(mr,Cs)),Pr!==null&&typeof Gr=="string"&&(Gr=Pr.createHTML(""));y&&y(Ke),v=Ke}},V=De({},[...te,...ge,...Fe]),ce=De({},[...$e,...kt]),q=function(Ke){let Ot=fs(Ke);(!Ot||!Ot.tagName)&&(Ot={namespaceURI:F,tagName:"template"});const ls=Ae(Ke.tagName),zt=Ae(Ot.tagName);return J[Ke.namespaceURI]?Ke.namespaceURI===oo?Ot.namespaceURI===Tt?ls==="svg":Ot.namespaceURI===Si?ls==="svg"&&(zt==="annotation-xml"||M[zt]):!!V[ls]:Ke.namespaceURI===Si?Ot.namespaceURI===Tt?ls==="math":Ot.namespaceURI===oo?ls==="math"&&$[zt]:!!ce[ls]:Ke.namespaceURI===Tt?Ot.namespaceURI===oo&&!$[zt]||Ot.namespaceURI===Si&&!M[zt]?!1:!ce[ls]&&(ie[ls]||!V[ls]):!!(ve==="application/xhtml+xml"&&J[Ke.namespaceURI]):!1},ee=function(Ke){G(Ts.removed,{element:Ke});try{fs(Ke).removeChild(Ke)}catch{Ss(Ke)}},Ce=function(Ke,Ot){try{G(Ts.removed,{attribute:Ot.getAttributeNode(Ke),from:Ot})}catch{G(Ts.removed,{attribute:null,from:Ot})}if(Ot.removeAttribute(Ke),Ke==="is")if(Wr||Ka)try{ee(Ot)}catch{}else try{Ot.setAttribute(Ke,"")}catch{}},Me=function(Ke){let Ot=null,ls=null;if(hi)Ke="<remove></remove>"+Ke;else{const ss=ue(Ke,/^[\r\n\t ]+/);ls=ss&&ss[0]}ve==="application/xhtml+xml"&&F===Tt&&(Ke='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ke+"</body></html>");const zt=Pr?Pr.createHTML(Ke):Ke;if(F===Tt)try{Ot=new zs().parseFromString(zt,ve)}catch{}if(!Ot||!Ot.documentElement){Ot=ur.createDocument(F,"template",null);try{Ot.documentElement.innerHTML=K?Gr:zt}catch{}}const yt=Ot.body||Ot.documentElement;return Ke&&ls&&yt.insertBefore(ft.createTextNode(ls),yt.childNodes[0]||null),F===Tt?fn.call(Ot,ti?"html":"body")[0]:ti?Ot.documentElement:yt},ze=function(Ke){return Va.call(Ke.ownerDocument||Ke,Ke,As.SHOW_ELEMENT|As.SHOW_COMMENT|As.SHOW_TEXT|As.SHOW_PROCESSING_INSTRUCTION|As.SHOW_CDATA_SECTION,null)},Xe=function(Ke){return Ke instanceof Ks&&(typeof Ke.nodeName!="string"||typeof Ke.textContent!="string"||typeof Ke.removeChild!="function"||!(Ke.attributes instanceof hs)||typeof Ke.removeAttribute!="function"||typeof Ke.setAttribute!="function"||typeof Ke.namespaceURI!="string"||typeof Ke.insertBefore!="function"||typeof Ke.hasChildNodes!="function")},xe=function(Ke){return typeof wt=="function"&&Ke instanceof wt};function ct(gt,Ke,Ot){X(gt,ls=>{ls.call(Ts,Ke,Ot,v)})}const it=function(Ke){let Ot=null;if(ct(ln.beforeSanitizeElements,Ke,null),Xe(Ke))return ee(Ke),!0;const ls=N(Ke.nodeName);if(ct(ln.uponSanitizeElement,Ke,{tagName:ls,allowedTags:ma}),mo&&Ke.hasChildNodes()&&!xe(Ke.firstElementChild)&&se(/<[/\w!]/g,Ke.innerHTML)&&se(/<[/\w!]/g,Ke.textContent)||Ke.nodeType===Us.progressingInstruction||mo&&Ke.nodeType===Us.comment&&se(/<[/\w]/g,Ke.data))return ee(Ke),!0;if(!(Ci.tagCheck instanceof Function&&Ci.tagCheck(ls))&&(!ma[ls]||fo[ls])){if(!fo[ls]&&We(ls)&&(qn.tagNameCheck instanceof RegExp&&se(qn.tagNameCheck,ls)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(ls)))return!1;if(Ki&&!fi[ls]){const zt=fs(Ke)||Ke.parentNode,yt=sr(Ke)||Ke.childNodes;if(yt&&zt){const ss=yt.length;for(let Ye=ss-1;Ye>=0;--Ye){const st=wa(yt[Ye],!0);st.__removalCount=(Ke.__removalCount||0)+1,zt.insertBefore(st,Os(Ke))}}}return ee(Ke),!0}return Ke instanceof es&&!q(Ke)||(ls==="noscript"||ls==="noembed"||ls==="noframes")&&se(/<\/no(script|embed|frames)/i,Ke.innerHTML)?(ee(Ke),!0):(ja&&Ke.nodeType===Us.text&&(Ot=Ke.textContent,X([fa,Zn,Ii],zt=>{Ot=Se(Ot,zt," ")}),Ke.textContent!==Ot&&(G(Ts.removed,{element:Ke.cloneNode()}),Ke.textContent=Ot)),ct(ln.afterSanitizeElements,Ke,null),!1)},ut=function(Ke,Ot,ls){if(Pa&&(Ot==="id"||Ot==="name")&&(ls in ft||ls in S))return!1;if(!(qo&&!Ai[Ot]&&se(Dn,Ot))){if(!(Al&&se(mc,Ot))){if(!(Ci.attributeCheck instanceof Function&&Ci.attributeCheck(Ot,Ke))){if(!sa[Ot]||Ai[Ot]){if(!(We(Ke)&&(qn.tagNameCheck instanceof RegExp&&se(qn.tagNameCheck,Ke)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(Ke))&&(qn.attributeNameCheck instanceof RegExp&&se(qn.attributeNameCheck,Ot)||qn.attributeNameCheck instanceof Function&&qn.attributeNameCheck(Ot,Ke))||Ot==="is"&&qn.allowCustomizedBuiltInElements&&(qn.tagNameCheck instanceof RegExp&&se(qn.tagNameCheck,ls)||qn.tagNameCheck instanceof Function&&qn.tagNameCheck(ls))))return!1}else if(!mi[Ot]){if(!se(ho,Se(ls,To,""))){if(!((Ot==="src"||Ot==="xlink:href"||Ot==="href")&&Ke!=="script"&&ae(ls,"data:")===0&&Bi[Ke])){if(!(Tl&&!se(oi,Se(ls,To,"")))){if(ls)return!1}}}}}}}return!0},We=function(Ke){return Ke!=="annotation-xml"&&ue(Ke,Vl)},jt=function(Ke){ct(ln.beforeSanitizeAttributes,Ke,null);const{attributes:Ot}=Ke;if(!Ot||Xe(Ke))return;const ls={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:sa,forceKeepAttr:void 0};let zt=Ot.length;for(;zt--;){const yt=Ot[zt],{name:ss,namespaceURI:Ye,value:st}=yt,bt=N(ss),vt=st;let ns=ss==="value"?vt:Ne(vt);if(ls.attrName=bt,ls.attrValue=ns,ls.keepAttr=!0,ls.forceKeepAttr=void 0,ct(ln.uponSanitizeAttribute,Ke,ls),ns=ls.attrValue,po&&(bt==="id"||bt==="name")&&(Ce(ss,Ke),ns=Gn+ns),mo&&se(/((--!?|])>)|<\/(style|title|textarea)/i,ns)){Ce(ss,Ke);continue}if(bt==="attributename"&&ue(ns,"href")){Ce(ss,Ke);continue}if(ls.forceKeepAttr)continue;if(!ls.keepAttr){Ce(ss,Ke);continue}if(!xa&&se(/\/>/i,ns)){Ce(ss,Ke);continue}ja&&X([fa,Zn,Ii],bs=>{ns=Se(ns,bs," ")});const us=N(Ke.nodeName);if(!ut(us,bt,ns)){Ce(ss,Ke);continue}if(Pr&&typeof mr=="object"&&typeof mr.getAttributeType=="function"&&!Ye)switch(mr.getAttributeType(us,bt)){case"TrustedHTML":{ns=Pr.createHTML(ns);break}case"TrustedScriptURL":{ns=Pr.createScriptURL(ns);break}}if(ns!==vt)try{Ye?Ke.setAttributeNS(Ye,ss,ns):Ke.setAttribute(ss,ns),Xe(Ke)?ee(Ke):Q(Ts.removed)}catch{Ce(ss,Ke)}}ct(ln.afterSanitizeAttributes,Ke,null)},Pt=function gt(Ke){let Ot=null;const ls=ze(Ke);for(ct(ln.beforeSanitizeShadowDOM,Ke,null);Ot=ls.nextNode();)ct(ln.uponSanitizeShadowNode,Ot,null),it(Ot),jt(Ot),Ot.content instanceof Vs&&gt(Ot.content);ct(ln.afterSanitizeShadowDOM,Ke,null)};return Ts.sanitize=function(gt){let Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ot=null,ls=null,zt=null,yt=null;if(K=!gt,K&&(gt="<!-->"),typeof gt!="string"&&!xe(gt))if(typeof gt.toString=="function"){if(gt=gt.toString(),typeof gt!="string")throw de("dirty is not a string, aborting")}else throw de("toString is not a function");if(!Ts.isSupported)return gt;if(Di||P(Ke),Ts.removed=[],typeof gt=="string"&&(Ga=!1),Ga){if(gt.nodeName){const st=N(gt.nodeName);if(!ma[st]||fo[st])throw de("root node is forbidden and cannot be sanitized in-place")}}else if(gt instanceof wt)Ot=Me("<!---->"),ls=Ot.ownerDocument.importNode(gt,!0),ls.nodeType===Us.element&&ls.nodeName==="BODY"||ls.nodeName==="HTML"?Ot=ls:Ot.appendChild(ls);else{if(!Wr&&!ja&&!ti&&gt.indexOf("<")===-1)return Pr&&ki?Pr.createHTML(gt):gt;if(Ot=Me(gt),!Ot)return Wr?null:ki?Gr:""}Ot&&hi&&ee(Ot.firstChild);const ss=ze(Ga?gt:Ot);for(;zt=ss.nextNode();)it(zt),jt(zt),zt.content instanceof Vs&&Pt(zt.content);if(Ga)return gt;if(Wr){if(Ka)for(yt=ha.call(Ot.ownerDocument);Ot.firstChild;)yt.appendChild(Ot.firstChild);else yt=Ot;return(sa.shadowroot||sa.shadowrootmode)&&(yt=Bn.call(Kt,yt,!0)),yt}let Ye=ti?Ot.outerHTML:Ot.innerHTML;return ti&&ma["!doctype"]&&Ot.ownerDocument&&Ot.ownerDocument.doctype&&Ot.ownerDocument.doctype.name&&se(hr,Ot.ownerDocument.doctype.name)&&(Ye="<!DOCTYPE "+Ot.ownerDocument.doctype.name+`>
`+Ye),ja&&X([fa,Zn,Ii],st=>{Ye=Se(Ye,st," ")}),Pr&&ki?Pr.createHTML(Ye):Ye},Ts.setConfig=function(){let gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};P(gt),Di=!0},Ts.clearConfig=function(){v=null,Di=!1},Ts.isValidAttribute=function(gt,Ke,Ot){v||P({});const ls=N(gt),zt=N(Ke);return ut(ls,zt,Ot)},Ts.addHook=function(gt,Ke){typeof Ke=="function"&&G(ln[gt],Ke)},Ts.removeHook=function(gt,Ke){if(Ke!==void 0){const Ot=Y(ln[gt],Ke);return Ot===-1?void 0:le(ln[gt],Ot,1)[0]}return Q(ln[gt])},Ts.removeHooks=function(gt){ln[gt]=[]},Ts.removeAllHooks=function(){ln=nn()},Ts}var er=Nr()}),"./node_modules/fast-png/lib-esm/PngDecoder.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return R}});var f=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),m=o("./node_modules/pako/dist/pako.esm.mjs"),p=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),x=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js"),b=o("./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js"),y=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),w=o("./node_modules/fast-png/lib-esm/helpers/text.js"),E=o("./node_modules/fast-png/lib-esm/internalTypes.js");class R extends f.IOBuffer{constructor(Q,G={}){super(Q);$a(this,"_checkCrc");$a(this,"_inflator");$a(this,"_png");$a(this,"_apng");$a(this,"_end");$a(this,"_hasPalette");$a(this,"_palette");$a(this,"_hasTransparency");$a(this,"_transparency");$a(this,"_compressionMethod");$a(this,"_filterMethod");$a(this,"_interlaceMethod");$a(this,"_colorType");$a(this,"_isAnimated");$a(this,"_numberOfFrames");$a(this,"_numberOfPlays");$a(this,"_frames");$a(this,"_writingDataChunks");const{checkCrc:le=!1}=G;this._checkCrc=le,this._inflator=new m.Inflate,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=E.CompressionMethod.UNKNOWN,this._filterMethod=E.FilterMethod.UNKNOWN,this._interlaceMethod=E.InterlaceMethod.UNKNOWN,this._colorType=E.ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for((0,y.checkSignature)(this);!this._end;){const Q=this.readUint32(),G=this.readChars(4);this.decodeChunk(Q,G)}return this.decodeImage(),this._png}decodeApng(){for((0,y.checkSignature)(this);!this._end;){const Q=this.readUint32(),G=this.readChars(4);this.decodeApngChunk(Q,G)}return this.decodeApngImage(),this._apng}decodeChunk(Q,G){const le=this.offset;switch(G){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(Q);break;case"IDAT":this.decodeIDAT(Q);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(Q);break;case"iCCP":this.decodeiCCP(Q);break;case w.textChunkName:(0,w.decodetEXt)(this._png.text,this,Q);break;case"pHYs":this.decodepHYs();break;default:this.skip(Q);break}if(this.offset-le!==Q)throw new Error(`Length mismatch while decoding chunk ${G}`);this._checkCrc?(0,p.checkCrc)(this,Q+4,G):this.skip(4)}decodeApngChunk(Q,G){const le=this.offset;switch(G!=="fdAT"&&G!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),G){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(Q);break;default:this.decodeChunk(Q,G),this.offset=le+Q;break}if(this.offset-le!==Q)throw new Error(`Length mismatch while decoding chunk ${G}`);this._checkCrc?(0,p.checkCrc)(this,Q+4,G):this.skip(4)}decodeIHDR(){const Q=this._png;Q.width=this.readUint32(),Q.height=this.readUint32(),Q.depth=z(this.readUint8());const G=this.readUint8();this._colorType=G;let le;switch(G){case E.ColorType.GREYSCALE:le=1;break;case E.ColorType.TRUECOLOUR:le=3;break;case E.ColorType.INDEXED_COLOUR:le=1;break;case E.ColorType.GREYSCALE_ALPHA:le=2;break;case E.ColorType.TRUECOLOUR_ALPHA:le=4;break;case E.ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${G}`)}if(this._png.channels=le,this._compressionMethod=this.readUint8(),this._compressionMethod!==E.CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const Q={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(Q)}decodePLTE(Q){if(Q%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${Q}`);const G=Q/3;this._hasPalette=!0;const le=[];this._palette=le;for(let Ae=0;Ae<G;Ae++)le.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(Q){this._writingDataChunks=!0;const G=Q,le=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,le,G)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(Q)}decodeFDAT(Q){this._writingDataChunks=!0;let G=Q,le=this.offset+this.byteOffset;if(le+=4,G-=4,this._inflator.push(new Uint8Array(this.buffer,le,G)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(Q)}decodetRNS(Q){switch(this._colorType){case E.ColorType.GREYSCALE:case E.ColorType.TRUECOLOUR:{if(Q%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${Q}`);if(Q/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${Q/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(Q/2);for(let G=0;G<Q/2;G++)this._transparency[G]=this.readUint16();break}case E.ColorType.INDEXED_COLOUR:{if(Q>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${Q} vs ${this._palette.length})`);let G=0;for(;G<Q;G++){const le=this.readByte();this._palette[G].push(le)}for(;G<this._palette.length;G++)this._palette[G].push(255);break}case E.ColorType.UNKNOWN:case E.ColorType.GREYSCALE_ALPHA:case E.ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(Q){const G=(0,w.readKeyword)(this),le=this.readUint8();if(le!==E.CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${le}`);const Ae=this.readBytes(Q-G.length-2);this._png.iccEmbeddedProfile={name:G,profile:(0,m.inflate)(Ae)}}decodepHYs(){const Q=this.readUint32(),G=this.readUint32(),le=this.readByte();this._png.resolution={x:Q,y:G,unit:le}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let Q=0;Q<this._numberOfFrames;Q++){const G={sequenceNumber:this._frames[Q].sequenceNumber,delayNumber:this._frames[Q].delayNumber,delayDenominator:this._frames[Q].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},le=this._frames.at(Q);if(le){if(le.data=(0,b.decodeInterlaceNull)({data:le.data,width:le.width,height:le.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),Q===0||le.xOffset===0&&le.yOffset===0&&le.width===this._png.width&&le.height===this._png.height)G.data=le.data;else{const Ae=this._apng.frames.at(Q-1);this.disposeFrame(le,Ae,G),this.addFrameDataToCanvas(G,le)}this._apng.frames.push(G)}}return this._apng}disposeFrame(Q,G,le){switch(Q.disposeOp){case E.DisposeOpType.NONE:break;case E.DisposeOpType.BACKGROUND:for(let Ae=0;Ae<this._png.height;Ae++)for(let je=0;je<this._png.width;je++){const ue=(Ae*Q.width+je)*this._png.channels;for(let Se=0;Se<this._png.channels;Se++)le.data[ue+Se]=0}break;case E.DisposeOpType.PREVIOUS:le.data.set(G.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(Q,G){const le=1<<this._png.depth,Ae=(je,ue)=>{const Se=((je+G.yOffset)*this._png.width+G.xOffset+ue)*this._png.channels,ae=(je*G.width+ue)*this._png.channels;return{index:Se,frameIndex:ae}};switch(G.blendOp){case E.BlendOpType.SOURCE:for(let je=0;je<G.height;je++)for(let ue=0;ue<G.width;ue++){const{index:Se,frameIndex:ae}=Ae(je,ue);for(let Ne=0;Ne<this._png.channels;Ne++)Q.data[Se+Ne]=G.data[ae+Ne]}break;case E.BlendOpType.OVER:for(let je=0;je<G.height;je++)for(let ue=0;ue<G.width;ue++){const{index:Se,frameIndex:ae}=Ae(je,ue);for(let Ne=0;Ne<this._png.channels;Ne++){const he=G.data[ae+this._png.channels-1]/le,se=Ne%(this._png.channels-1)===0?1:G.data[ae+Ne],de=Math.floor(he*se+(1-he)*Q.data[Se+Ne]);Q.data[Se+Ne]+=de}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var G;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const Q=this._isAnimated?((G=this._frames)==null?void 0:G.at(0)).data:this._inflator.result;if(this._filterMethod!==E.FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===E.InterlaceMethod.NO_INTERLACE)this._png.data=(0,b.decodeInterlaceNull)({data:Q,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===E.InterlaceMethod.ADAM7)this._png.data=(0,x.decodeInterlaceAdam7)({data:Q,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const Q=this._inflator.result,G=this._frames.at(-1);G?G.data=Q:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:E.DisposeOpType.NONE,blendOp:E.BlendOpType.SOURCE,data:Q}),this._inflator=new m.Inflate,this._writingDataChunks=!1}}function z(X){if(X!==1&&X!==2&&X!==4&&X!==8&&X!==16)throw new Error(`invalid bit depth: ${X}`);return X}}),"./node_modules/fast-png/lib-esm/PngEncoder.js":(function(d,A,o){o.r(A),o.d(A,{default:function(){return E}});var f=o("./node_modules/iobuffer/lib-esm/IOBuffer.js"),m=o("./node_modules/pako/dist/pako.esm.mjs"),p=o("./node_modules/fast-png/lib-esm/helpers/crc.js"),x=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),b=o("./node_modules/fast-png/lib-esm/helpers/text.js"),y=o("./node_modules/fast-png/lib-esm/internalTypes.js");const w={level:3};class E extends f.IOBuffer{constructor(Ae,je={}){super();$a(this,"_png");$a(this,"_zlibOptions");$a(this,"_colorType");$a(this,"_interlaceMethod");this._colorType=y.ColorType.UNKNOWN,this._zlibOptions={...w,...je.zlib},this._png=this._checkData(Ae),this._interlaceMethod=(je.interlace==="Adam7"?y.InterlaceMethod.ADAM7:y.InterlaceMethod.NO_INTERLACE)??y.InterlaceMethod.NO_INTERLACE,this.setBigEndian()}encode(){if((0,x.writeSignature)(this),this.encodeIHDR(),this._png.palette&&(this.encodePLTE(),this._png.palette[0].length===4&&this.encodeTRNS()),this.encodeData(),this._png.text)for(const[Ae,je]of Object.entries(this._png.text))(0,b.encodetEXt)(this,Ae,je);return this.encodeIEND(),this.toArray()}encodeIHDR(){this.writeUint32(13),this.writeChars("IHDR"),this.writeUint32(this._png.width),this.writeUint32(this._png.height),this.writeByte(this._png.depth),this.writeByte(this._colorType),this.writeByte(y.CompressionMethod.DEFLATE),this.writeByte(y.FilterMethod.ADAPTIVE),this.writeByte(this._interlaceMethod),(0,p.writeCrc)(this,17)}encodeIEND(){this.writeUint32(0),this.writeChars("IEND"),(0,p.writeCrc)(this,4)}encodePLTE(){var je;const Ae=((je=this._png.palette)==null?void 0:je.length)*3;this.writeUint32(Ae),this.writeChars("PLTE");for(const ue of this._png.palette)this.writeByte(ue[0]),this.writeByte(ue[1]),this.writeByte(ue[2]);(0,p.writeCrc)(this,4+Ae)}encodeTRNS(){const Ae=this._png.palette.filter(je=>je.at(-1)!==255);this.writeUint32(Ae.length),this.writeChars("tRNS");for(const je of Ae)this.writeByte(je.at(-1));(0,p.writeCrc)(this,4+Ae.length)}encodeIDAT(Ae){this.writeUint32(Ae.length),this.writeChars("IDAT"),this.writeBytes(Ae),(0,p.writeCrc)(this,Ae.length+4)}encodeData(){const{width:Ae,height:je,channels:ue,depth:Se,data:ae}=this._png,Ne=Se<=8?Math.ceil(Ae*Se/8)*ue:Math.ceil(Ae*Se/8*ue/2),he=new f.IOBuffer().setBigEndian();let se=0;if(this._interlaceMethod===y.InterlaceMethod.NO_INTERLACE)for(let Ee=0;Ee<je;Ee++)he.writeByte(0),Se===16?se=Q(ae,he,Ne,se):se=X(ae,he,Ne,se);else this._interlaceMethod===y.InterlaceMethod.ADAM7&&(se=Y(this._png,ae,he,se));const de=he.toArray(),oe=(0,m.deflate)(de,this._zlibOptions);this.encodeIDAT(oe)}_checkData(Ae){const{colorType:je,channels:ue,depth:Se}=z(Ae,Ae.palette),ae={width:R(Ae.width,"width"),height:R(Ae.height,"height"),channels:ue,data:Ae.data,depth:Se,text:Ae.text,palette:Ae.palette};this._colorType=je;const Ne=Se<8?Math.ceil(ae.width*Se/8)*ae.height*ue:ae.width*ae.height*ue;if(ae.data.length!==Ne)throw new RangeError(`wrong data size. Found ${ae.data.length}, expected ${Ne}`);return ae}}function R(G,le){if(Number.isInteger(G)&&G>0)return G;throw new TypeError(`${le} must be a positive integer`)}function z(G,le){const{channels:Ae=4,depth:je=8}=G;if(Ae!==4&&Ae!==3&&Ae!==2&&Ae!==1)throw new RangeError(`unsupported number of channels: ${Ae}`);const ue={channels:Ae,depth:je,colorType:y.ColorType.UNKNOWN};switch(Ae){case 4:ue.colorType=y.ColorType.TRUECOLOUR_ALPHA;break;case 3:ue.colorType=y.ColorType.TRUECOLOUR;break;case 1:le?ue.colorType=y.ColorType.INDEXED_COLOUR:ue.colorType=y.ColorType.GREYSCALE;break;case 2:ue.colorType=y.ColorType.GREYSCALE_ALPHA;break;default:throw new Error("unsupported number of channels")}return ue}function X(G,le,Ae,je){for(let ue=0;ue<Ae;ue++)le.writeByte(G[je++]);return je}function Y(G,le,Ae,je){const ue=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],{width:Se,height:ae,channels:Ne,depth:he}=G;let se=0;he===16?se=Ne*he/8/2:se=Ne*he/8;for(let de=0;de<7;de++){const oe=ue[de],Ee=Math.floor((Se-oe.x+oe.xStep-1)/oe.xStep),De=Math.floor((ae-oe.y+oe.yStep-1)/oe.yStep);if(Ee<=0||De<=0)continue;const ke=Ee*se;for(let pe=0;pe<De;pe++){const ye=oe.y+pe*oe.yStep,fe=he<=8?new Uint8Array(ke):new Uint16Array(ke);let te=0;for(let ge=0;ge<Ee;ge++){const Fe=oe.x+ge*oe.xStep;if(Fe<Se&&ye<ae){const $e=(ye*Se+Fe)*se;for(let kt=0;kt<se;kt++)fe[te++]=le[$e+kt]}}if(Ae.writeByte(0),he===8)Ae.writeBytes(fe);else if(he===16)for(const ge of fe)Ae.writeByte(ge>>8&255),Ae.writeByte(ge&255)}}return je}function Q(G,le,Ae,je){for(let ue=0;ue<Ae;ue++)le.writeUint16(G[je++]);return je}}),"./node_modules/fast-png/lib-esm/convertIndexedToRgb.js":(function(d,A,o){o.r(A),o.d(A,{convertIndexedToRgb:function(){return f}});function f(p){const x=p.palette,b=p.depth;if(!x)throw new Error("Color palette is undefined.");m(p);const y=p.width*p.height,w=y*x[0].length,E=new Uint8Array(w);let R=0,z=0;const X=new Uint8Array(y);let Y=255;switch(b){case 1:Y=128;break;case 2:Y=192;break;case 4:Y=240;break;case 8:Y=255;break;default:throw new Error("Incorrect depth value")}for(const Q of p.data){let G=Y,le=8;for(;G&&(le-=b,X[R++]=(Q&G)>>le,G=G>>b,R%p.width!==0););}if(p.palette)for(const Q of X){const G=p.palette.at(Q);if(!G)throw new Error("Incorrect index of palette color");E.set(G,z),z+=G.length}return E}function m(p){const x=p.depth<8?Math.ceil(p.width*p.depth/8)*p.height*p.channels:p.width*p.height*p.channels;if(p.data.length!==x)throw new RangeError(`wrong data size. Found ${p.data.length}, expected ${x}`)}}),"./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js":(function(d,A,o){o.r(A),o.d(A,{applyUnfilter:function(){return m}});var f=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");function m(p,x,b,y,w,E){switch(p){case 0:(0,f.unfilterNone)(x,b,w);break;case 1:(0,f.unfilterSub)(x,b,w,E);break;case 2:(0,f.unfilterUp)(x,b,y,w);break;case 3:(0,f.unfilterAverage)(x,b,y,w,E);break;case 4:(0,f.unfilterPaeth)(x,b,y,w,E);break;default:throw new Error(`Unsupported filter: ${p}`)}}}),"./node_modules/fast-png/lib-esm/helpers/crc.js":(function(d,A,o){o.r(A),o.d(A,{checkCrc:function(){return b},writeCrc:function(){return y}});const f=[];for(let w=0;w<256;w++){let E=w;for(let R=0;R<8;R++)E&1?E=3988292384^E>>>1:E=E>>>1;f[w]=E}const m=4294967295;function p(w,E,R){let z=w;for(let X=0;X<R;X++)z=f[(z^E[X])&255]^z>>>8;return z}function x(w,E){return(p(m,w,E)^m)>>>0}function b(w,E,R){const z=w.readUint32(),X=x(new Uint8Array(w.buffer,w.byteOffset+w.offset-E-4,E),E);if(X!==z)throw new Error(`CRC mismatch for chunk ${R}. Expected ${z}, found ${X}`)}function y(w,E){w.writeUint32(x(new Uint8Array(w.buffer,w.byteOffset+w.offset-E,E),E))}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceAdam7.js":(function(d,A,o){o.r(A),o.d(A,{decodeInterlaceAdam7:function(){return b}});var f=o("./node_modules/fast-png/lib-esm/helpers/applyUnfilter.js");const m=new Uint16Array([255]),x=new Uint8Array(m.buffer)[0]===255;function b(w){const{data:E,width:R,height:z,channels:X,depth:Y}=w,Q=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],G=Math.ceil(Y/8)*X,le=new Uint8Array(z*R*G);let Ae=0;for(let je=0;je<7;je++){const ue=Q[je],Se=Math.ceil((R-ue.x)/ue.xStep),ae=Math.ceil((z-ue.y)/ue.yStep);if(Se<=0||ae<=0)continue;const Ne=Se*G,he=new Uint8Array(Ne);for(let se=0;se<ae;se++){const de=E[Ae++],oe=E.subarray(Ae,Ae+Ne);Ae+=Ne;const Ee=new Uint8Array(Ne);(0,f.applyUnfilter)(de,oe,Ee,he,Ne,G),he.set(Ee);for(let De=0;De<Se;De++){const ke=ue.x+De*ue.xStep,pe=ue.y+se*ue.yStep;if(!(ke>=R||pe>=z))for(let ye=0;ye<G;ye++)le[(pe*R+ke)*G+ye]=Ee[De*G+ye]}}}if(Y===16){const je=new Uint16Array(le.buffer);if(x)for(let ue=0;ue<je.length;ue++)je[ue]=y(je[ue]);return je}else return le}function y(w){return(w&255)<<8|w>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/decodeInterlaceNull.js":(function(d,A,o){o.r(A),o.d(A,{decodeInterlaceNull:function(){return y}});var f=o("./node_modules/fast-png/lib-esm/helpers/unfilter.js");const m=new Uint16Array([255]),x=new Uint8Array(m.buffer)[0]===255,b=new Uint8Array(0);function y(E){const{data:R,width:z,height:X,channels:Y,depth:Q}=E,G=Math.ceil(Q/8)*Y,le=Math.ceil(Q/8*Y*z),Ae=new Uint8Array(X*le);let je=b,ue=0,Se,ae;for(let Ne=0;Ne<X;Ne++){switch(Se=R.subarray(ue+1,ue+1+le),ae=Ae.subarray(Ne*le,(Ne+1)*le),R[ue]){case 0:(0,f.unfilterNone)(Se,ae,le);break;case 1:(0,f.unfilterSub)(Se,ae,le,G);break;case 2:(0,f.unfilterUp)(Se,ae,je,le);break;case 3:(0,f.unfilterAverage)(Se,ae,je,le,G);break;case 4:(0,f.unfilterPaeth)(Se,ae,je,le,G);break;default:throw new Error(`Unsupported filter: ${R[ue]}`)}je=ae,ue+=le+1}if(Q===16){const Ne=new Uint16Array(Ae.buffer);if(x)for(let he=0;he<Ne.length;he++)Ne[he]=w(Ne[he]);return Ne}else return Ae}function w(E){return(E&255)<<8|E>>8&255}}),"./node_modules/fast-png/lib-esm/helpers/signature.js":(function(d,A,o){o.r(A),o.d(A,{checkSignature:function(){return p},hasPngSignature:function(){return x},writeSignature:function(){return m}});const f=Uint8Array.of(137,80,78,71,13,10,26,10);function m(b){b.writeBytes(f)}function p(b){if(!x(b.readBytes(f.length)))throw new Error("wrong PNG signature")}function x(b){if(b.length<f.length)return!1;for(let y=0;y<f.length;y++)if(b[y]!==f[y])return!1;return!0}}),"./node_modules/fast-png/lib-esm/helpers/text.js":(function(d,A,o){o.r(A),o.d(A,{decodetEXt:function(){return E},encodetEXt:function(){return R},readKeyword:function(){return z},readLatin1:function(){return X},textChunkName:function(){return m}});var f=o("./node_modules/fast-png/lib-esm/helpers/crc.js");const m="tEXt",p=0,x=new TextDecoder("latin1");function b(Y){if(w(Y),Y.length===0||Y.length>79)throw new Error("keyword length must be between 1 and 79")}const y=/^[\u0000-\u00FF]*$/;function w(Y){if(!y.test(Y))throw new Error("invalid latin1 text")}function E(Y,Q,G){const le=z(Q);Y[le]=X(Q,G-le.length-1)}function R(Y,Q,G){b(Q),w(G);const le=Q.length+1+G.length;Y.writeUint32(le),Y.writeChars(m),Y.writeChars(Q),Y.writeByte(p),Y.writeChars(G),(0,f.writeCrc)(Y,le+4)}function z(Y){for(Y.mark();Y.readByte()!==p;);const Q=Y.offset;Y.reset();const G=x.decode(Y.readBytes(Q-Y.offset-1));return Y.skip(1),b(G),G}function X(Y,Q){return x.decode(Y.readBytes(Q))}}),"./node_modules/fast-png/lib-esm/helpers/unfilter.js":(function(d,A,o){o.r(A),o.d(A,{unfilterAverage:function(){return x},unfilterNone:function(){return f},unfilterPaeth:function(){return b},unfilterSub:function(){return m},unfilterUp:function(){return p}});function f(w,E,R){for(let z=0;z<R;z++)E[z]=w[z]}function m(w,E,R,z){let X=0;for(;X<z;X++)E[X]=w[X];for(;X<R;X++)E[X]=w[X]+E[X-z]&255}function p(w,E,R,z){let X=0;if(R.length===0)for(;X<z;X++)E[X]=w[X];else for(;X<z;X++)E[X]=w[X]+R[X]&255}function x(w,E,R,z,X){let Y=0;if(R.length===0){for(;Y<X;Y++)E[Y]=w[Y];for(;Y<z;Y++)E[Y]=w[Y]+(E[Y-X]>>1)&255}else{for(;Y<X;Y++)E[Y]=w[Y]+(R[Y]>>1)&255;for(;Y<z;Y++)E[Y]=w[Y]+(E[Y-X]+R[Y]>>1)&255}}function b(w,E,R,z,X){let Y=0;if(R.length===0){for(;Y<X;Y++)E[Y]=w[Y];for(;Y<z;Y++)E[Y]=w[Y]+E[Y-X]&255}else{for(;Y<X;Y++)E[Y]=w[Y]+R[Y]&255;for(;Y<z;Y++)E[Y]=w[Y]+y(E[Y-X],R[Y],R[Y-X])&255}}function y(w,E,R){const z=w+E-R,X=Math.abs(z-w),Y=Math.abs(z-E),Q=Math.abs(z-R);return X<=Y&&X<=Q?w:Y<=Q?E:R}}),"./node_modules/fast-png/lib-esm/index.js":(function(d,A,o){o.r(A),o.d(A,{ResolutionUnitSpecifier:function(){return x.ResolutionUnitSpecifier},convertIndexedToRgb:function(){return b.convertIndexedToRgb},decode:function(){return y},decodeApng:function(){return E},encode:function(){return w},hasPngSignature:function(){return p.hasPngSignature}});var f=o("./node_modules/fast-png/lib-esm/PngDecoder.js"),m=o("./node_modules/fast-png/lib-esm/PngEncoder.js"),p=o("./node_modules/fast-png/lib-esm/helpers/signature.js"),x=o("./node_modules/fast-png/lib-esm/types.js"),b=o("./node_modules/fast-png/lib-esm/convertIndexedToRgb.js");function y(R,z){return new f.default(R,z).decode()}function w(R,z){return new m.default(R,z).encode()}function E(R,z){return new f.default(R,z).decodeApng()}}),"./node_modules/fast-png/lib-esm/internalTypes.js":(function(d,A,o){o.r(A),o.d(A,{BlendOpType:function(){return y},ColorType:function(){return f},CompressionMethod:function(){return m},DisposeOpType:function(){return b},FilterMethod:function(){return p},InterlaceMethod:function(){return x}});const f={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},m={UNKNOWN:-1,DEFLATE:0},p={UNKNOWN:-1,ADAPTIVE:0},x={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},b={NONE:0,BACKGROUND:1,PREVIOUS:2},y={SOURCE:0,OVER:1}}),"./node_modules/fast-png/lib-esm/types.js":(function(d,A,o){o.r(A),o.d(A,{ResolutionUnitSpecifier:function(){return f}});var f;(function(m){m[m.UNKNOWN=0]="UNKNOWN",m[m.METRE=1]="METRE"})(f||(f={}))}),"./node_modules/fflate/esm/browser.js":(function(d,A,o){o.r(A),o.d(A,{AsyncCompress:function(){return ln},AsyncDecompress:function(){return Ai},AsyncDeflate:function(){return fs},AsyncGunzip:function(){return Dn},AsyncGzip:function(){return ln},AsyncInflate:function(){return Va},AsyncUnzipInflate:function(){return oo},AsyncUnzlib:function(){return sa},AsyncZipDeflate:function(){return Uo},AsyncZlib:function(){return Vl},Compress:function(){return Bn},DecodeUTF8:function(){return ti},Decompress:function(){return fo},Deflate:function(){return sr},EncodeUTF8:function(){return Di},FlateErrorCode:function(){return fe},Gunzip:function(){return Ii},Gzip:function(){return Bn},Inflate:function(){return ur},Unzip:function(){return Tt},UnzipInflate:function(){return Si},UnzipPassThrough:function(){return eo},Unzlib:function(){return Ni},Zip:function(){return Bi},ZipDeflate:function(){return fi},ZipPassThrough:function(){return Da},Zlib:function(){return To},compress:function(){return fa},compressSync:function(){return Zn},decompress:function(){return Ci},decompressSync:function(){return Al},deflate:function(){return Pr},deflateSync:function(){return Gr},gunzip:function(){return mc},gunzipSync:function(){return oi},gzip:function(){return fa},gzipSync:function(){return Zn},inflate:function(){return ha},inflateSync:function(){return fn},strFromU8:function(){return Wr},strToU8:function(){return hi},unzip:function(){return K},unzipSync:function(){return J},unzlib:function(){return Ua},unzlibSync:function(){return qn},zip:function(){return ba},zipSync:function(){return mi},zlib:function(){return ho},zlibSync:function(){return ma}});var f={},m=(function(T,M,$,ie,ve){var Re=new Worker(f[M]||(f[M]=URL.createObjectURL(new Blob([T+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return Re.onmessage=function(Je){var N=Je.data,v=N.$e$;if(v){var S=new Error(v[0]);S.code=v[1],S.stack=v[2],ve(S,null)}else ve(null,N)},Re.postMessage($,ie),Re}),p=Uint8Array,x=Uint16Array,b=Int32Array,y=new p([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),w=new p([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),E=new p([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),R=function(T,M){for(var $=new x(31),ie=0;ie<31;++ie)$[ie]=M+=1<<T[ie-1];for(var ve=new b($[30]),ie=1;ie<30;++ie)for(var Re=$[ie];Re<$[ie+1];++Re)ve[Re]=Re-$[ie]<<5|ie;return{b:$,r:ve}},z=R(y,2),X=z.b,Y=z.r;X[28]=258,Y[258]=28;for(var Q=R(w,0),G=Q.b,le=Q.r,Ae=new x(32768),je=0;je<32768;++je){var ue=(je&43690)>>1|(je&21845)<<1;ue=(ue&52428)>>2|(ue&13107)<<2,ue=(ue&61680)>>4|(ue&3855)<<4,Ae[je]=((ue&65280)>>8|(ue&255)<<8)>>1}for(var Se=(function(T,M,$){for(var ie=T.length,ve=0,Re=new x(M);ve<ie;++ve)T[ve]&&++Re[T[ve]-1];var Je=new x(M);for(ve=1;ve<M;++ve)Je[ve]=Je[ve-1]+Re[ve-1]<<1;var N;if($){N=new x(1<<M);var v=15-M;for(ve=0;ve<ie;++ve)if(T[ve])for(var S=ve<<4|T[ve],I=M-T[ve],P=Je[T[ve]-1]++<<I,V=P|(1<<I)-1;P<=V;++P)N[Ae[P]>>v]=S}else for(N=new x(ie),ve=0;ve<ie;++ve)T[ve]&&(N[ve]=Ae[Je[T[ve]-1]++]>>15-T[ve]);return N}),ae=new p(288),je=0;je<144;++je)ae[je]=8;for(var je=144;je<256;++je)ae[je]=9;for(var je=256;je<280;++je)ae[je]=7;for(var je=280;je<288;++je)ae[je]=8;for(var Ne=new p(32),je=0;je<32;++je)Ne[je]=5;var he=Se(ae,9,0),se=Se(ae,9,1),de=Se(Ne,5,0),oe=Se(Ne,5,1),Ee=function(T){for(var M=T[0],$=1;$<T.length;++$)T[$]>M&&(M=T[$]);return M},De=function(T,M,$){var ie=M/8|0;return(T[ie]|T[ie+1]<<8)>>(M&7)&$},ke=function(T,M){var $=M/8|0;return(T[$]|T[$+1]<<8|T[$+2]<<16)>>(M&7)},pe=function(T){return(T+7)/8|0},ye=function(T,M,$){return(M==null||M<0)&&(M=0),($==null||$>T.length)&&($=T.length),new p(T.subarray(M,$))},fe={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},te=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ge=function(T,M,$){var ie=new Error(M||te[T]);if(ie.code=T,Error.captureStackTrace&&Error.captureStackTrace(ie,ge),!$)throw ie;return ie},Fe=function(T,M,$,ie){var ve=T.length,Re=ie?ie.length:0;if(!ve||M.f&&!M.l)return $||new p(0);var Je=!$,N=Je||M.i!=2,v=M.i;Je&&($=new p(ve*3));var S=function(ht){var It=$.length;if(ht>It){var Qt=new p(Math.max(It*2,ht));Qt.set($),$=Qt}},I=M.f||0,P=M.p||0,V=M.b||0,ce=M.l,q=M.d,ee=M.m,Ce=M.n,Me=ve*8;do{if(!ce){I=De(T,P,1);var ze=De(T,P+1,3);if(P+=3,ze)if(ze==1)ce=se,q=oe,ee=9,Ce=5;else if(ze==2){var it=De(T,P,31)+257,ut=De(T,P+10,15)+4,We=it+De(T,P+5,31)+1;P+=14;for(var jt=new p(We),Pt=new p(19),gt=0;gt<ut;++gt)Pt[E[gt]]=De(T,P+gt*3,7);P+=ut*3;for(var Ke=Ee(Pt),Ot=(1<<Ke)-1,ls=Se(Pt,Ke,1),gt=0;gt<We;){var zt=ls[De(T,P,Ot)];P+=zt&15;var Xe=zt>>4;if(Xe<16)jt[gt++]=Xe;else{var yt=0,ss=0;for(Xe==16?(ss=3+De(T,P,3),P+=2,yt=jt[gt-1]):Xe==17?(ss=3+De(T,P,7),P+=3):Xe==18&&(ss=11+De(T,P,127),P+=7);ss--;)jt[gt++]=yt}}var Ye=jt.subarray(0,it),st=jt.subarray(it);ee=Ee(Ye),Ce=Ee(st),ce=Se(Ye,ee,1),q=Se(st,Ce,1)}else ge(1);else{var Xe=pe(P)+4,xe=T[Xe-4]|T[Xe-3]<<8,ct=Xe+xe;if(ct>ve){v&&ge(0);break}N&&S(V+xe),$.set(T.subarray(Xe,ct),V),M.b=V+=xe,M.p=P=ct*8,M.f=I;continue}if(P>Me){v&&ge(0);break}}N&&S(V+131072);for(var bt=(1<<ee)-1,vt=(1<<Ce)-1,ns=P;;ns=P){var yt=ce[ke(T,P)&bt],us=yt>>4;if(P+=yt&15,P>Me){v&&ge(0);break}if(yt||ge(2),us<256)$[V++]=us;else if(us==256){ns=P,ce=null;break}else{var bs=us-254;if(us>264){var gt=us-257,Gt=y[gt];bs=De(T,P,(1<<Gt)-1)+X[gt],P+=Gt}var ms=q[ke(T,P)&vt],Xs=ms>>4;ms||ge(3),P+=ms&15;var st=G[Xs];if(Xs>3){var Gt=w[Xs];st+=ke(T,P)&(1<<Gt)-1,P+=Gt}if(P>Me){v&&ge(0);break}N&&S(V+131072);var Qs=V+bs;if(V<st){var Qe=Re-st,dt=Math.min(st,Qs);for(Qe+V<0&&ge(3);V<dt;++V)$[V]=ie[Qe+V]}for(;V<Qs;++V)$[V]=$[V-st]}}M.l=ce,M.p=ns,M.b=V,M.f=I,ce&&(I=1,M.m=ee,M.d=q,M.n=Ce)}while(!I);return V!=$.length&&Je?ye($,0,V):$.subarray(0,V)},$e=function(T,M,$){$<<=M&7;var ie=M/8|0;T[ie]|=$,T[ie+1]|=$>>8},kt=function(T,M,$){$<<=M&7;var ie=M/8|0;T[ie]|=$,T[ie+1]|=$>>8,T[ie+2]|=$>>16},St=function(T,M){for(var $=[],ie=0;ie<T.length;++ie)T[ie]&&$.push({s:ie,f:T[ie]});var ve=$.length,Re=$.slice();if(!ve)return{t:At,l:0};if(ve==1){var Je=new p($[0].s+1);return Je[$[0].s]=1,{t:Je,l:1}}$.sort(function(ct,it){return ct.f-it.f}),$.push({s:-1,f:25001});var N=$[0],v=$[1],S=0,I=1,P=2;for($[0]={s:-1,f:N.f+v.f,l:N,r:v};I!=ve-1;)N=$[$[S].f<$[P].f?S++:P++],v=$[S!=I&&$[S].f<$[P].f?S++:P++],$[I++]={s:-1,f:N.f+v.f,l:N,r:v};for(var V=Re[0].s,ie=1;ie<ve;++ie)Re[ie].s>V&&(V=Re[ie].s);var ce=new x(V+1),q=Ge($[I-1],ce,0);if(q>M){var ie=0,ee=0,Ce=q-M,Me=1<<Ce;for(Re.sort(function(it,ut){return ce[ut.s]-ce[it.s]||it.f-ut.f});ie<ve;++ie){var ze=Re[ie].s;if(ce[ze]>M)ee+=Me-(1<<q-ce[ze]),ce[ze]=M;else break}for(ee>>=Ce;ee>0;){var Xe=Re[ie].s;ce[Xe]<M?ee-=1<<M-ce[Xe]++-1:++ie}for(;ie>=0&&ee;--ie){var xe=Re[ie].s;ce[xe]==M&&(--ce[xe],++ee)}q=M}return{t:new p(ce),l:q}},Ge=function(T,M,$){return T.s==-1?Math.max(Ge(T.l,M,$+1),Ge(T.r,M,$+1)):M[T.s]=$},Mt=function(T){for(var M=T.length;M&&!T[--M];);for(var $=new x(++M),ie=0,ve=T[0],Re=1,Je=function(v){$[ie++]=v},N=1;N<=M;++N)if(T[N]==ve&&N!=M)++Re;else{if(!ve&&Re>2){for(;Re>138;Re-=138)Je(32754);Re>2&&(Je(Re>10?Re-11<<5|28690:Re-3<<5|12305),Re=0)}else if(Re>3){for(Je(ve),--Re;Re>6;Re-=6)Je(8304);Re>2&&(Je(Re-3<<5|8208),Re=0)}for(;Re--;)Je(ve);Re=1,ve=T[N]}return{c:$.subarray(0,ie),n:M}},Vt=function(T,M){for(var $=0,ie=0;ie<M.length;++ie)$+=T[ie]*M[ie];return $},cs=function(T,M,$){var ie=$.length,ve=pe(M+2);T[ve]=ie&255,T[ve+1]=ie>>8,T[ve+2]=T[ve]^255,T[ve+3]=T[ve+1]^255;for(var Re=0;Re<ie;++Re)T[ve+Re+4]=$[Re];return(ve+4+ie)*8},xt=function(T,M,$,ie,ve,Re,Je,N,v,S,I){$e(M,I++,$),++ve[256];for(var P=St(ve,15),V=P.t,ce=P.l,q=St(Re,15),ee=q.t,Ce=q.l,Me=Mt(V),ze=Me.c,Xe=Me.n,xe=Mt(ee),ct=xe.c,it=xe.n,ut=new x(19),We=0;We<ze.length;++We)++ut[ze[We]&31];for(var We=0;We<ct.length;++We)++ut[ct[We]&31];for(var jt=St(ut,7),Pt=jt.t,gt=jt.l,Ke=19;Ke>4&&!Pt[E[Ke-1]];--Ke);var Ot=S+5<<3,ls=Vt(ve,ae)+Vt(Re,Ne)+Je,zt=Vt(ve,V)+Vt(Re,ee)+Je+14+3*Ke+Vt(ut,Pt)+2*ut[16]+3*ut[17]+7*ut[18];if(v>=0&&Ot<=ls&&Ot<=zt)return cs(M,I,T.subarray(v,v+S));var yt,ss,Ye,st;if($e(M,I,1+(zt<ls)),I+=2,zt<ls){yt=Se(V,ce,0),ss=V,Ye=Se(ee,Ce,0),st=ee;var bt=Se(Pt,gt,0);$e(M,I,Xe-257),$e(M,I+5,it-1),$e(M,I+10,Ke-4),I+=14;for(var We=0;We<Ke;++We)$e(M,I+3*We,Pt[E[We]]);I+=3*Ke;for(var vt=[ze,ct],ns=0;ns<2;++ns)for(var us=vt[ns],We=0;We<us.length;++We){var bs=us[We]&31;$e(M,I,bt[bs]),I+=Pt[bs],bs>15&&($e(M,I,us[We]>>5&127),I+=us[We]>>12)}}else yt=he,ss=ae,Ye=de,st=Ne;for(var We=0;We<N;++We){var Gt=ie[We];if(Gt>255){var bs=Gt>>18&31;kt(M,I,yt[bs+257]),I+=ss[bs+257],bs>7&&($e(M,I,Gt>>23&31),I+=y[bs]);var ms=Gt&31;kt(M,I,Ye[ms]),I+=st[ms],ms>3&&(kt(M,I,Gt>>5&8191),I+=w[ms])}else kt(M,I,yt[Gt]),I+=ss[Gt]}return kt(M,I,yt[256]),I+ss[256]},ot=new b([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),At=new p(0),Lt=function(T,M,$,ie,ve,Re){var Je=Re.z||T.length,N=new p(ie+Je+5*(1+Math.ceil(Je/7e3))+ve),v=N.subarray(ie,N.length-ve),S=Re.l,I=(Re.r||0)&7;if(M){I&&(v[0]=Re.r>>3);for(var P=ot[M-1],V=P>>13,ce=P&8191,q=(1<<$)-1,ee=Re.p||new x(32768),Ce=Re.h||new x(q+1),Me=Math.ceil($/3),ze=2*Me,Xe=function(Xt){return(T[Xt]^T[Xt+1]<<Me^T[Xt+2]<<ze)&q},xe=new b(25e3),ct=new x(288),it=new x(32),ut=0,We=0,jt=Re.i||0,Pt=0,gt=Re.w||0,Ke=0;jt+2<Je;++jt){var Ot=Xe(jt),ls=jt&32767,zt=Ce[Ot];if(ee[ls]=zt,Ce[Ot]=ls,gt<=jt){var yt=Je-jt;if((ut>7e3||Pt>24576)&&(yt>423||!S)){I=xt(T,v,0,xe,ct,it,We,Pt,Ke,jt-Ke,I),Pt=ut=We=0,Ke=jt;for(var ss=0;ss<286;++ss)ct[ss]=0;for(var ss=0;ss<30;++ss)it[ss]=0}var Ye=2,st=0,bt=ce,vt=ls-zt&32767;if(yt>2&&Ot==Xe(jt-vt))for(var ns=Math.min(V,yt)-1,us=Math.min(32767,jt),bs=Math.min(258,yt);vt<=us&&--bt&&ls!=zt;){if(T[jt+Ye]==T[jt+Ye-vt]){for(var Gt=0;Gt<bs&&T[jt+Gt]==T[jt+Gt-vt];++Gt);if(Gt>Ye){if(Ye=Gt,st=vt,Gt>ns)break;for(var ms=Math.min(vt,Gt-2),Xs=0,ss=0;ss<ms;++ss){var Qs=jt-vt+ss&32767,Qe=ee[Qs],dt=Qs-Qe&32767;dt>Xs&&(Xs=dt,zt=Qs)}}}ls=zt,zt=ee[ls],vt+=ls-zt&32767}if(st){xe[Pt++]=268435456|Y[Ye]<<18|le[st];var ht=Y[Ye]&31,It=le[st]&31;We+=y[ht]+w[It],++ct[257+ht],++it[It],gt=jt+Ye,++ut}else xe[Pt++]=T[jt],++ct[T[jt]]}}for(jt=Math.max(jt,gt);jt<Je;++jt)xe[Pt++]=T[jt],++ct[T[jt]];I=xt(T,v,S,xe,ct,it,We,Pt,Ke,jt-Ke,I),S||(Re.r=I&7|v[I/8|0]<<3,I-=7,Re.h=Ce,Re.p=ee,Re.i=jt,Re.w=gt)}else{for(var jt=Re.w||0;jt<Je+S;jt+=65535){var Qt=jt+65535;Qt>=Je&&(v[I/8|0]=S,Qt=Je),I=cs(v,I+1,T.subarray(jt,Qt))}Re.i=Je}return ye(N,0,ie+pe(I)+ve)},$s=(function(){for(var T=new Int32Array(256),M=0;M<256;++M){for(var $=M,ie=9;--ie;)$=($&1&&-306674912)^$>>>1;T[M]=$}return T})(),vs=function(){var T=-1;return{p:function(M){for(var $=T,ie=0;ie<M.length;++ie)$=$s[$&255^M[ie]]^$>>>8;T=$},d:function(){return~T}}},fr=function(){var T=1,M=0;return{p:function($){for(var ie=T,ve=M,Re=$.length|0,Je=0;Je!=Re;){for(var N=Math.min(Je+2655,Re);Je<N;++Je)ve+=ie+=$[Je];ie=(ie&65535)+15*(ie>>16),ve=(ve&65535)+15*(ve>>16)}T=ie,M=ve},d:function(){return T%=65521,M%=65521,(T&255)<<24|(T&65280)<<8|(M&255)<<8|M>>8}}},Ar=function(T,M,$,ie,ve){if(!ve&&(ve={l:1},M.dictionary)){var Re=M.dictionary.subarray(-32768),Je=new p(Re.length+T.length);Je.set(Re),Je.set(T,Re.length),T=Je,ve.w=Re.length}return Lt(T,M.level==null?6:M.level,M.mem==null?ve.l?Math.ceil(Math.max(8,Math.min(13,Math.log(T.length)))*1.5):20:12+M.mem,$,ie,ve)},hr=function(T,M){var $={};for(var ie in T)$[ie]=T[ie];for(var ie in M)$[ie]=M[ie];return $},Ms=function(T,M,$){for(var ie=T(),ve=T.toString(),Re=ve.slice(ve.indexOf("[")+1,ve.lastIndexOf("]")).replace(/\s+/g,"").split(","),Je=0;Je<ie.length;++Je){var N=ie[Je],v=Re[Je];if(typeof N=="function"){M+=";"+v+"=";var S=N.toString();if(N.prototype)if(S.indexOf("[native code]")!=-1){var I=S.indexOf(" ",8)+1;M+=S.slice(I,S.indexOf("(",I))}else{M+=S;for(var P in N.prototype)M+=";"+v+".prototype."+P+"="+N.prototype[P].toString()}else M+=S}else $[v]=N}return M},ys=[],Us=function(T){var M=[];for(var $ in T)T[$].buffer&&M.push((T[$]=new T[$].constructor(T[$])).buffer);return M},xr=function(T,M,$,ie){if(!ys[$]){for(var ve="",Re={},Je=T.length-1,N=0;N<Je;++N)ve=Ms(T[N],ve,Re);ys[$]={c:Ms(T[Je],ve,Re),e:Re}}var v=hr({},ys[$].e);return m(ys[$].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+M.toString()+"}",$,v,Us(v),ie)},yr=function(){return[p,x,b,y,w,E,X,G,se,oe,Ae,te,Se,Ee,De,ke,pe,ye,ge,Fe,fn,ft,Kt]},nn=function(){return[p,x,b,y,w,E,Y,le,he,ae,de,Ne,Ae,ot,At,Se,$e,kt,St,Ge,Mt,Vt,cs,xt,pe,ye,Lt,Ar,Gr,ft]},Nr=function(){return[Ks,en,hs,vs,$s]},er=function(){return[zs,mr]},Ys=function(){return[wa,hs,fr]},Ts=function(){return[Ss]},ft=function(T){return postMessage(T,[T.buffer])},Kt=function(T){return T&&{out:T.size&&new p(T.size),dictionary:T.dictionary}},Cs=function(T,M,$,ie,ve,Re){var Je=xr($,ie,ve,function(N,v){Je.terminate(),Re(N,v)});return Je.postMessage([T,M],M.consume?[T.buffer]:[]),function(){Je.terminate()}},Vs=function(T){return T.ondata=function(M,$){return postMessage([M,$],[M.buffer])},function(M){M.data.length?(T.push(M.data[0],M.data[1]),postMessage([M.data[0].length])):T.flush()}},ir=function(T,M,$,ie,ve,Re,Je){var N,v=xr(T,ie,ve,function(S,I){S?(v.terminate(),M.ondata.call(M,S)):Array.isArray(I)?I.length==1?(M.queuedSize-=I[0],M.ondrain&&M.ondrain(I[0])):(I[1]&&v.terminate(),M.ondata.call(M,S,I[0],I[1])):Je(I)});v.postMessage($),M.queuedSize=0,M.push=function(S,I){M.ondata||ge(5),N&&M.ondata(ge(4,0,1),null,!!I),M.queuedSize+=S.length,v.postMessage([S,N=I],[S.buffer])},M.terminate=function(){v.terminate()},Re&&(M.flush=function(){v.postMessage([])})},wt=function(T,M){return T[M]|T[M+1]<<8},es=function(T,M){return(T[M]|T[M+1]<<8|T[M+2]<<16|T[M+3]<<24)>>>0},As=function(T,M){return es(T,M)+es(T,M+4)*4294967296},hs=function(T,M,$){for(;$;++M)T[M]=$,$>>>=8},Ks=function(T,M){var $=M.filename;if(T[0]=31,T[1]=139,T[2]=8,T[8]=M.level<2?4:M.level==9?2:0,T[9]=3,M.mtime!=0&&hs(T,4,Math.floor(new Date(M.mtime||Date.now())/1e3)),$){T[3]=8;for(var ie=0;ie<=$.length;++ie)T[ie+10]=$.charCodeAt(ie)}},zs=function(T){(T[0]!=31||T[1]!=139||T[2]!=8)&&ge(6,"invalid gzip data");var M=T[3],$=10;M&4&&($+=(T[10]|T[11]<<8)+2);for(var ie=(M>>3&1)+(M>>4&1);ie>0;ie-=!T[$++]);return $+(M&2)},mr=function(T){var M=T.length;return(T[M-4]|T[M-3]<<8|T[M-2]<<16|T[M-1]<<24)>>>0},en=function(T){return 10+(T.filename?T.filename.length+1:0)},wa=function(T,M){var $=M.level,ie=$==0?0:$<6?1:$==9?3:2;if(T[0]=120,T[1]=ie<<6|(M.dictionary&&32),T[1]|=31-(T[0]<<8|T[1])%31,M.dictionary){var ve=fr();ve.p(M.dictionary),hs(T,2,ve.d())}},Ss=function(T,M){return((T[0]&15)!=8||T[0]>>4>7||(T[0]<<8|T[1])%31)&&ge(6,"invalid zlib data"),(T[1]>>5&1)==+!M&&ge(6,"invalid zlib data: "+(T[1]&32?"need":"unexpected")+" dictionary"),(T[1]>>3&4)+2};function Os(T,M){return typeof T=="function"&&(M=T,T={}),this.ondata=M,T}var sr=(function(){function T(M,$){if(typeof M=="function"&&($=M,M={}),this.ondata=$,this.o=M||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new p(98304),this.o.dictionary){var ie=this.o.dictionary.subarray(-32768);this.b.set(ie,32768-ie.length),this.s.i=32768-ie.length}}return T.prototype.p=function(M,$){this.ondata(Ar(M,this.o,0,0,this.s),$)},T.prototype.push=function(M,$){this.ondata||ge(5),this.s.l&&ge(4);var ie=M.length+this.s.z;if(ie>this.b.length){if(ie>2*this.b.length-32768){var ve=new p(ie&-32768);ve.set(this.b.subarray(0,this.s.z)),this.b=ve}var Re=this.b.length-this.s.z;this.b.set(M.subarray(0,Re),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(M.subarray(Re),32768),this.s.z=M.length-Re+32768,this.s.i=32766,this.s.w=32768}else this.b.set(M,this.s.z),this.s.z+=M.length;this.s.l=$&1,(this.s.z>this.s.w+8191||$)&&(this.p(this.b,$||!1),this.s.w=this.s.i,this.s.i-=2)},T.prototype.flush=function(){this.ondata||ge(5),this.s.l&&ge(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},T})(),fs=(function(){function T(M,$){ir([nn,function(){return[Vs,sr]}],this,Os.call(this,M,$),function(ie){var ve=new sr(ie.data);onmessage=Vs(ve)},6,1)}return T})();function Pr(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),Cs(T,M,[nn],function(ie){return ft(Gr(ie.data[0],ie.data[1]))},0,$)}function Gr(T,M){return Ar(T,M||{},0,0)}var ur=(function(){function T(M,$){typeof M=="function"&&($=M,M={}),this.ondata=$;var ie=M&&M.dictionary&&M.dictionary.subarray(-32768);this.s={i:0,b:ie?ie.length:0},this.o=new p(32768),this.p=new p(0),ie&&this.o.set(ie)}return T.prototype.e=function(M){if(this.ondata||ge(5),this.d&&ge(4),!this.p.length)this.p=M;else if(M.length){var $=new p(this.p.length+M.length);$.set(this.p),$.set(M,this.p.length),this.p=$}},T.prototype.c=function(M){this.s.i=+(this.d=M||!1);var $=this.s.b,ie=Fe(this.p,this.s,this.o);this.ondata(ye(ie,$,this.s.b),this.d),this.o=ye(ie,this.s.b-32768),this.s.b=this.o.length,this.p=ye(this.p,this.s.p/8|0),this.s.p&=7},T.prototype.push=function(M,$){this.e(M),this.c($)},T})(),Va=(function(){function T(M,$){ir([yr,function(){return[Vs,ur]}],this,Os.call(this,M,$),function(ie){var ve=new ur(ie.data);onmessage=Vs(ve)},7,0)}return T})();function ha(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),Cs(T,M,[yr],function(ie){return ft(fn(ie.data[0],Kt(ie.data[1])))},1,$)}function fn(T,M){return Fe(T,{i:2},M&&M.out,M&&M.dictionary)}var Bn=(function(){function T(M,$){this.c=vs(),this.l=0,this.v=1,sr.call(this,M,$)}return T.prototype.push=function(M,$){this.c.p(M),this.l+=M.length,sr.prototype.push.call(this,M,$)},T.prototype.p=function(M,$){var ie=Ar(M,this.o,this.v&&en(this.o),$&&8,this.s);this.v&&(Ks(ie,this.o),this.v=0),$&&(hs(ie,ie.length-8,this.c.d()),hs(ie,ie.length-4,this.l)),this.ondata(ie,$)},T.prototype.flush=function(){sr.prototype.flush.call(this)},T})(),ln=(function(){function T(M,$){ir([nn,Nr,function(){return[Vs,sr,Bn]}],this,Os.call(this,M,$),function(ie){var ve=new Bn(ie.data);onmessage=Vs(ve)},8,1)}return T})();function fa(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),Cs(T,M,[nn,Nr,function(){return[Zn]}],function(ie){return ft(Zn(ie.data[0],ie.data[1]))},2,$)}function Zn(T,M){M||(M={});var $=vs(),ie=T.length;$.p(T);var ve=Ar(T,M,en(M),8),Re=ve.length;return Ks(ve,M),hs(ve,Re-8,$.d()),hs(ve,Re-4,ie),ve}var Ii=(function(){function T(M,$){this.v=1,this.r=0,ur.call(this,M,$)}return T.prototype.push=function(M,$){if(ur.prototype.e.call(this,M),this.r+=M.length,this.v){var ie=this.p.subarray(this.v-1),ve=ie.length>3?zs(ie):4;if(ve>ie.length){if(!$)return}else this.v>1&&this.onmember&&this.onmember(this.r-ie.length);this.p=ie.subarray(ve),this.v=0}ur.prototype.c.call(this,$),this.s.f&&!this.s.l&&!$&&(this.v=pe(this.s.p)+9,this.s={i:0},this.o=new p(0),this.push(new p(0),$))},T})(),Dn=(function(){function T(M,$){var ie=this;ir([yr,er,function(){return[Vs,ur,Ii]}],this,Os.call(this,M,$),function(ve){var Re=new Ii(ve.data);Re.onmember=function(Je){return postMessage(Je)},onmessage=Vs(Re)},9,0,function(ve){return ie.onmember&&ie.onmember(ve)})}return T})();function mc(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),Cs(T,M,[yr,er,function(){return[oi]}],function(ie){return ft(oi(ie.data[0],ie.data[1]))},3,$)}function oi(T,M){var $=zs(T);return $+8>T.length&&ge(6,"invalid gzip data"),Fe(T.subarray($,-8),{i:2},M&&M.out||new p(mr(T)),M&&M.dictionary)}var To=(function(){function T(M,$){this.c=fr(),this.v=1,sr.call(this,M,$)}return T.prototype.push=function(M,$){this.c.p(M),sr.prototype.push.call(this,M,$)},T.prototype.p=function(M,$){var ie=Ar(M,this.o,this.v&&(this.o.dictionary?6:2),$&&4,this.s);this.v&&(wa(ie,this.o),this.v=0),$&&hs(ie,ie.length-4,this.c.d()),this.ondata(ie,$)},T.prototype.flush=function(){sr.prototype.flush.call(this)},T})(),Vl=(function(){function T(M,$){ir([nn,Ys,function(){return[Vs,sr,To]}],this,Os.call(this,M,$),function(ie){var ve=new To(ie.data);onmessage=Vs(ve)},10,1)}return T})();function ho(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),Cs(T,M,[nn,Ys,function(){return[ma]}],function(ie){return ft(ma(ie.data[0],ie.data[1]))},4,$)}function ma(T,M){M||(M={});var $=fr();$.p(T);var ie=Ar(T,M,M.dictionary?6:2,4);return wa(ie,M),hs(ie,ie.length-4,$.d()),ie}var Ni=(function(){function T(M,$){ur.call(this,M,$),this.v=M&&M.dictionary?2:1}return T.prototype.push=function(M,$){if(ur.prototype.e.call(this,M),this.v){if(this.p.length<6&&!$)return;this.p=this.p.subarray(Ss(this.p,this.v-1)),this.v=0}$&&(this.p.length<4&&ge(6,"invalid zlib data"),this.p=this.p.subarray(0,-4)),ur.prototype.c.call(this,$)},T})(),sa=(function(){function T(M,$){ir([yr,Ts,function(){return[Vs,ur,Ni]}],this,Os.call(this,M,$),function(ie){var ve=new Ni(ie.data);onmessage=Vs(ve)},11,0)}return T})();function Ua(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),Cs(T,M,[yr,Ts,function(){return[qn]}],function(ie){return ft(qn(ie.data[0],Kt(ie.data[1])))},5,$)}function qn(T,M){return Fe(T.subarray(Ss(T,M&&M.dictionary),-4),{i:2},M&&M.out,M&&M.dictionary)}var fo=(function(){function T(M,$){this.o=Os.call(this,M,$)||{},this.G=Ii,this.I=ur,this.Z=Ni}return T.prototype.i=function(){var M=this;this.s.ondata=function($,ie){M.ondata($,ie)}},T.prototype.push=function(M,$){if(this.ondata||ge(5),this.s)this.s.push(M,$);else{if(this.p&&this.p.length){var ie=new p(this.p.length+M.length);ie.set(this.p),ie.set(M,this.p.length)}else this.p=M;this.p.length>2&&(this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(this.o):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(this.o):new this.Z(this.o),this.i(),this.s.push(this.p,$),this.p=null)}},T})(),Ai=(function(){function T(M,$){fo.call(this,M,$),this.queuedSize=0,this.G=Dn,this.I=Va,this.Z=sa}return T.prototype.i=function(){var M=this;this.s.ondata=function($,ie,ve){M.ondata($,ie,ve)},this.s.ondrain=function($){M.queuedSize-=$,M.ondrain&&M.ondrain($)}},T.prototype.push=function(M,$){this.queuedSize+=M.length,fo.prototype.push.call(this,M,$)},T})();function Ci(T,M,$){return $||($=M,M={}),typeof $!="function"&&ge(7),T[0]==31&&T[1]==139&&T[2]==8?mc(T,M,$):(T[0]&15)!=8||T[0]>>4>7||(T[0]<<8|T[1])%31?ha(T,M,$):Ua(T,M,$)}function Al(T,M){return T[0]==31&&T[1]==139&&T[2]==8?oi(T,M):(T[0]&15)!=8||T[0]>>4>7||(T[0]<<8|T[1])%31?fn(T,M):qn(T,M)}var qo=function(T,M,$,ie){for(var ve in T){var Re=T[ve],Je=M+ve,N=ie;Array.isArray(Re)&&(N=hr(ie,Re[1]),Re=Re[0]),Re instanceof p?$[Je]=[Re,N]:($[Je+="/"]=[new p(0),N],qo(Re,Je,$,ie))}},Tl=typeof TextEncoder<"u"&&new TextEncoder,xa=typeof TextDecoder<"u"&&new TextDecoder,ja=0;try{xa.decode(At,{stream:!0}),ja=1}catch{}var mo=function(T){for(var M="",$=0;;){var ie=T[$++],ve=(ie>127)+(ie>223)+(ie>239);if($+ve>T.length)return{s:M,r:ye(T,$-1)};ve?ve==3?(ie=((ie&15)<<18|(T[$++]&63)<<12|(T[$++]&63)<<6|T[$++]&63)-65536,M+=String.fromCharCode(55296|ie>>10,56320|ie&1023)):ve&1?M+=String.fromCharCode((ie&31)<<6|T[$++]&63):M+=String.fromCharCode((ie&15)<<12|(T[$++]&63)<<6|T[$++]&63):M+=String.fromCharCode(ie)}},ti=(function(){function T(M){this.ondata=M,ja?this.t=new TextDecoder:this.p=At}return T.prototype.push=function(M,$){if(this.ondata||ge(5),$=!!$,this.t){this.ondata(this.t.decode(M,{stream:!0}),$),$&&(this.t.decode().length&&ge(8),this.t=null);return}this.p||ge(4);var ie=new p(this.p.length+M.length);ie.set(this.p),ie.set(M,this.p.length);var ve=mo(ie),Re=ve.s,Je=ve.r;$?(Je.length&&ge(8),this.p=null):this.p=Je,this.ondata(Re,$)},T})(),Di=(function(){function T(M){this.ondata=M}return T.prototype.push=function(M,$){this.ondata||ge(5),this.d&&ge(4),this.ondata(hi(M),this.d=$||!1)},T})();function hi(T,M){if(M){for(var $=new p(T.length),ie=0;ie<T.length;++ie)$[ie]=T.charCodeAt(ie);return $}if(Tl)return Tl.encode(T);for(var ve=T.length,Re=new p(T.length+(T.length>>1)),Je=0,N=function(I){Re[Je++]=I},ie=0;ie<ve;++ie){if(Je+5>Re.length){var v=new p(Je+8+(ve-ie<<1));v.set(Re),Re=v}var S=T.charCodeAt(ie);S<128||M?N(S):S<2048?(N(192|S>>6),N(128|S&63)):S>55295&&S<57344?(S=65536+(S&1047552)|T.charCodeAt(++ie)&1023,N(240|S>>18),N(128|S>>12&63),N(128|S>>6&63),N(128|S&63)):(N(224|S>>12),N(128|S>>6&63),N(128|S&63))}return ye(Re,0,Je)}function Wr(T,M){if(M){for(var $="",ie=0;ie<T.length;ie+=16384)$+=String.fromCharCode.apply(null,T.subarray(ie,ie+16384));return $}else{if(xa)return xa.decode(T);var ve=mo(T),Re=ve.s,$=ve.r;return $.length&&ge(8),Re}}var Ka=function(T){return T==1?3:T<6?2:T==9?1:0},ki=function(T,M){return M+30+wt(T,M+26)+wt(T,M+28)},Pa=function(T,M,$){var ie=wt(T,M+28),ve=Wr(T.subarray(M+46,M+46+ie),!(wt(T,M+8)&2048)),Re=M+46+ie,Je=es(T,M+20),N=$&&Je==4294967295?po(T,Re):[Je,es(T,M+24),es(T,M+42)],v=N[0],S=N[1],I=N[2];return[wt(T,M+10),v,S,ve,Re+wt(T,M+30)+wt(T,M+32),I]},po=function(T,M){for(;wt(T,M)!=1;M+=4+wt(T,M+2));return[As(T,M+12),As(T,M+4),As(T,M+20)]},Gn=function(T){var M=0;if(T)for(var $ in T){var ie=T[$].length;ie>65535&&ge(9),M+=ie+4}return M},Ki=function(T,M,$,ie,ve,Re,Je,N){var v=ie.length,S=$.extra,I=N&&N.length,P=Gn(S);hs(T,M,Je!=null?33639248:67324752),M+=4,Je!=null&&(T[M++]=20,T[M++]=$.os),T[M]=20,M+=2,T[M++]=$.flag<<1|(Re<0&&8),T[M++]=ve&&8,T[M++]=$.compression&255,T[M++]=$.compression>>8;var V=new Date($.mtime==null?Date.now():$.mtime),ce=V.getFullYear()-1980;if((ce<0||ce>119)&&ge(10),hs(T,M,ce<<25|V.getMonth()+1<<21|V.getDate()<<16|V.getHours()<<11|V.getMinutes()<<5|V.getSeconds()>>1),M+=4,Re!=-1&&(hs(T,M,$.crc),hs(T,M+4,Re<0?-Re-2:Re),hs(T,M+8,$.size)),hs(T,M+12,v),hs(T,M+14,P),M+=16,Je!=null&&(hs(T,M,I),hs(T,M+6,$.attrs),hs(T,M+10,Je),M+=14),T.set(ie,M),M+=v,P)for(var q in S){var ee=S[q],Ce=ee.length;hs(T,M,+q),hs(T,M+2,Ce),T.set(ee,M+4),M+=4+Ce}return I&&(T.set(N,M),M+=I),M},Ga=function(T,M,$,ie,ve){hs(T,M,101010256),hs(T,M+8,$),hs(T,M+10,$),hs(T,M+12,ie),hs(T,M+16,ve)},Da=(function(){function T(M){this.filename=M,this.c=vs(),this.size=0,this.compression=0}return T.prototype.process=function(M,$){this.ondata(null,M,$)},T.prototype.push=function(M,$){this.ondata||ge(5),this.c.p(M),this.size+=M.length,$&&(this.crc=this.c.d()),this.process(M,$||!1)},T})(),fi=(function(){function T(M,$){var ie=this;$||($={}),Da.call(this,M),this.d=new sr($,function(ve,Re){ie.ondata(null,ve,Re)}),this.compression=8,this.flag=Ka($.level)}return T.prototype.process=function(M,$){try{this.d.push(M,$)}catch(ie){this.ondata(ie,null,$)}},T.prototype.push=function(M,$){Da.prototype.push.call(this,M,$)},T})(),Uo=(function(){function T(M,$){var ie=this;$||($={}),Da.call(this,M),this.d=new fs($,function(ve,Re,Je){ie.ondata(ve,Re,Je)}),this.compression=8,this.flag=Ka($.level),this.terminate=this.d.terminate}return T.prototype.process=function(M,$){this.d.push(M,$)},T.prototype.push=function(M,$){Da.prototype.push.call(this,M,$)},T})(),Bi=(function(){function T(M){this.ondata=M,this.u=[],this.d=1}return T.prototype.add=function(M){var $=this;if(this.ondata||ge(5),this.d&2)this.ondata(ge(4+(this.d&1)*8,0,1),null,!1);else{var ie=hi(M.filename),ve=ie.length,Re=M.comment,Je=Re&&hi(Re),N=ve!=M.filename.length||Je&&Re.length!=Je.length,v=ve+Gn(M.extra)+30;ve>65535&&this.ondata(ge(11,0,1),null,!1);var S=new p(v);Ki(S,0,M,ie,N,-1);var I=[S],P=function(){for(var Ce=0,Me=I;Ce<Me.length;Ce++){var ze=Me[Ce];$.ondata(null,ze,!1)}I=[]},V=this.d;this.d=0;var ce=this.u.length,q=hr(M,{f:ie,u:N,o:Je,t:function(){M.terminate&&M.terminate()},r:function(){if(P(),V){var Ce=$.u[ce+1];Ce?Ce.r():$.d=1}V=1}}),ee=0;M.ondata=function(Ce,Me,ze){if(Ce)$.ondata(Ce,Me,ze),$.terminate();else if(ee+=Me.length,I.push(Me),ze){var Xe=new p(16);hs(Xe,0,134695760),hs(Xe,4,M.crc),hs(Xe,8,ee),hs(Xe,12,M.size),I.push(Xe),q.c=ee,q.b=v+ee+16,q.crc=M.crc,q.size=M.size,V&&q.r(),V=1}else V&&P()},this.u.push(q)}},T.prototype.end=function(){var M=this;if(this.d&2){this.ondata(ge(4+(this.d&1)*8,0,1),null,!0);return}this.d?this.e():this.u.push({r:function(){M.d&1&&(M.u.splice(-1,1),M.e())},t:function(){}}),this.d=3},T.prototype.e=function(){for(var M=0,$=0,ie=0,ve=0,Re=this.u;ve<Re.length;ve++){var Je=Re[ve];ie+=46+Je.f.length+Gn(Je.extra)+(Je.o?Je.o.length:0)}for(var N=new p(ie+22),v=0,S=this.u;v<S.length;v++){var Je=S[v];Ki(N,M,Je,Je.f,Je.u,-Je.c-2,$,Je.o),M+=46+Je.f.length+Gn(Je.extra)+(Je.o?Je.o.length:0),$+=Je.b}Ga(N,M,this.u.length,ie,$),this.ondata(null,N,!0),this.d=2},T.prototype.terminate=function(){for(var M=0,$=this.u;M<$.length;M++){var ie=$[M];ie.t()}this.d=2},T})();function ba(T,M,$){$||($=M,M={}),typeof $!="function"&&ge(7);var ie={};qo(T,"",ie,M);var ve=Object.keys(ie),Re=ve.length,Je=0,N=0,v=Re,S=new Array(Re),I=[],P=function(){for(var Ce=0;Ce<I.length;++Ce)I[Ce]()},V=function(Ce,Me){F(function(){$(Ce,Me)})};F(function(){V=$});var ce=function(){var Ce=new p(N+22),Me=Je,ze=N-Je;N=0;for(var Xe=0;Xe<v;++Xe){var xe=S[Xe];try{var ct=xe.c.length;Ki(Ce,N,xe,xe.f,xe.u,ct);var it=30+xe.f.length+Gn(xe.extra),ut=N+it;Ce.set(xe.c,ut),Ki(Ce,Je,xe,xe.f,xe.u,ct,N,xe.m),Je+=16+it+(xe.m?xe.m.length:0),N=ut+ct}catch(We){return V(We,null)}}Ga(Ce,Je,S.length,ze,Me),V(null,Ce)};Re||ce();for(var q=function(Ce){var Me=ve[Ce],ze=ie[Me],Xe=ze[0],xe=ze[1],ct=vs(),it=Xe.length;ct.p(Xe);var ut=hi(Me),We=ut.length,jt=xe.comment,Pt=jt&&hi(jt),gt=Pt&&Pt.length,Ke=Gn(xe.extra),Ot=xe.level==0?0:8,ls=function(zt,yt){if(zt)P(),V(zt,null);else{var ss=yt.length;S[Ce]=hr(xe,{size:it,crc:ct.d(),c:yt,f:ut,m:Pt,u:We!=Me.length||Pt&&jt.length!=gt,compression:Ot}),Je+=30+We+Ke+ss,N+=76+2*(We+Ke)+(gt||0)+ss,--Re||ce()}};if(We>65535&&ls(ge(11,0,1),null),!Ot)ls(null,Xe);else if(it<16e4)try{ls(null,Gr(Xe,xe))}catch(zt){ls(zt,null)}else I.push(Pr(Xe,xe,ls))},ee=0;ee<v;++ee)q(ee);return P}function mi(T,M){M||(M={});var $={},ie=[];qo(T,"",$,M);var ve=0,Re=0;for(var Je in $){var N=$[Je],v=N[0],S=N[1],I=S.level==0?0:8,P=hi(Je),V=P.length,ce=S.comment,q=ce&&hi(ce),ee=q&&q.length,Ce=Gn(S.extra);V>65535&&ge(11);var Me=I?Gr(v,S):v,ze=Me.length,Xe=vs();Xe.p(v),ie.push(hr(S,{size:v.length,crc:Xe.d(),c:Me,f:P,m:q,u:V!=Je.length||q&&ce.length!=ee,o:ve,compression:I})),ve+=30+V+Ce+ze,Re+=76+2*(V+Ce)+(ee||0)+ze}for(var xe=new p(Re+22),ct=ve,it=Re-ve,ut=0;ut<ie.length;++ut){var P=ie[ut];Ki(xe,P.o,P,P.f,P.u,P.c.length);var We=30+P.f.length+Gn(P.extra);xe.set(P.c,P.o+We),Ki(xe,ve,P,P.f,P.u,P.c.length,P.o,P.m),ve+=16+We+(P.m?P.m.length:0)}return Ga(xe,ve,ie.length,it,ct),xe}var eo=(function(){function T(){}return T.prototype.push=function(M,$){this.ondata(null,M,$)},T.compression=0,T})(),Si=(function(){function T(){var M=this;this.i=new ur(function($,ie){M.ondata(null,$,ie)})}return T.prototype.push=function(M,$){try{this.i.push(M,$)}catch(ie){this.ondata(ie,null,$)}},T.compression=8,T})(),oo=(function(){function T(M,$){var ie=this;$<32e4?this.i=new ur(function(ve,Re){ie.ondata(null,ve,Re)}):(this.i=new Va(function(ve,Re,Je){ie.ondata(ve,Re,Je)}),this.terminate=this.i.terminate)}return T.prototype.push=function(M,$){this.i.terminate&&(M=ye(M,0)),this.i.push(M,$)},T.compression=8,T})(),Tt=(function(){function T(M){this.onfile=M,this.k=[],this.o={0:eo},this.p=At}return T.prototype.push=function(M,$){var ie=this;if(this.onfile||ge(5),this.p||ge(4),this.c>0){var ve=Math.min(this.c,M.length),Re=M.subarray(0,ve);if(this.c-=ve,this.d?this.d.push(Re,!this.c):this.k[0].push(Re),M=M.subarray(ve),M.length)return this.push(M,$)}else{var Je=0,N=0,v=void 0,S=void 0;this.p.length?M.length?(S=new p(this.p.length+M.length),S.set(this.p),S.set(M,this.p.length)):S=this.p:S=M;for(var I=S.length,P=this.c,V=P&&this.d,ce=function(){var Me,ze=es(S,N);if(ze==67324752){Je=1,v=N,q.d=null,q.c=0;var Xe=wt(S,N+6),xe=wt(S,N+8),ct=Xe&2048,it=Xe&8,ut=wt(S,N+26),We=wt(S,N+28);if(I>N+30+ut+We){var jt=[];q.k.unshift(jt),Je=2;var Pt=es(S,N+18),gt=es(S,N+22),Ke=Wr(S.subarray(N+30,N+=30+ut),!ct);Pt==4294967295?(Me=it?[-2]:po(S,N),Pt=Me[0],gt=Me[1]):it&&(Pt=-1),N+=We,q.c=Pt;var Ot,ls={name:Ke,compression:xe,start:function(){if(ls.ondata||ge(5),!Pt)ls.ondata(null,At,!0);else{var zt=ie.o[xe];zt||ls.ondata(ge(14,"unknown compression type "+xe,1),null,!1),Ot=Pt<0?new zt(Ke):new zt(Ke,Pt,gt),Ot.ondata=function(st,bt,vt){ls.ondata(st,bt,vt)};for(var yt=0,ss=jt;yt<ss.length;yt++){var Ye=ss[yt];Ot.push(Ye,!1)}ie.k[0]==jt&&ie.c?ie.d=Ot:Ot.push(At,!0)}},terminate:function(){Ot&&Ot.terminate&&Ot.terminate()}};Pt>=0&&(ls.size=Pt,ls.originalSize=gt),q.onfile(ls)}return"break"}else if(P){if(ze==134695760)return v=N+=12+(P==-2&&8),Je=3,q.c=0,"break";if(ze==33639248)return v=N-=4,Je=3,q.c=0,"break"}},q=this;N<I-4;++N){var ee=ce();if(ee==="break")break}if(this.p=At,P<0){var Ce=Je?S.subarray(0,v-12-(P==-2&&8)-(es(S,v-16)==134695760&&4)):S.subarray(0,N);V?V.push(Ce,!!Je):this.k[+(Je==2)].push(Ce)}if(Je&2)return this.push(S.subarray(N),$);this.p=S.subarray(N)}$&&(this.c&&ge(13),this.p=null)},T.prototype.register=function(M){this.o[M.compression]=M},T})(),F=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(T){T()};function K(T,M,$){$||($=M,M={}),typeof $!="function"&&ge(7);var ie=[],ve=function(){for(var Ce=0;Ce<ie.length;++Ce)ie[Ce]()},Re={},Je=function(Ce,Me){F(function(){$(Ce,Me)})};F(function(){Je=$});for(var N=T.length-22;es(T,N)!=101010256;--N)if(!N||T.length-N>65558)return Je(ge(13,0,1),null),ve;var v=wt(T,N+8);if(v){var S=v,I=es(T,N+16),P=I==4294967295||S==65535;if(P){var V=es(T,N-12);P=es(T,V)==101075792,P&&(S=v=es(T,V+32),I=es(T,V+48))}for(var ce=M&&M.filter,q=function(Ce){var Me=Pa(T,I,P),ze=Me[0],Xe=Me[1],xe=Me[2],ct=Me[3],it=Me[4],ut=Me[5],We=ki(T,ut);I=it;var jt=function(gt,Ke){gt?(ve(),Je(gt,null)):(Ke&&(Re[ct]=Ke),--v||Je(null,Re))};if(!ce||ce({name:ct,size:Xe,originalSize:xe,compression:ze}))if(!ze)jt(null,ye(T,We,We+Xe));else if(ze==8){var Pt=T.subarray(We,We+Xe);if(xe<524288||Xe>.8*xe)try{jt(null,fn(Pt,{out:new p(xe)}))}catch(gt){jt(gt,null)}else ie.push(ha(Pt,{size:xe},jt))}else jt(ge(14,"unknown compression type "+ze,1),null);else jt(null,null)},ee=0;ee<S;++ee)q(ee)}else Je(null,{});return ve}function J(T,M){for(var $={},ie=T.length-22;es(T,ie)!=101010256;--ie)(!ie||T.length-ie>65558)&&ge(13);var ve=wt(T,ie+8);if(!ve)return{};var Re=es(T,ie+16),Je=Re==4294967295||ve==65535;if(Je){var N=es(T,ie-12);Je=es(T,N)==101075792,Je&&(ve=es(T,N+32),Re=es(T,N+48))}for(var v=M&&M.filter,S=0;S<ve;++S){var I=Pa(T,Re,Je),P=I[0],V=I[1],ce=I[2],q=I[3],ee=I[4],Ce=I[5],Me=ki(T,Ce);Re=ee,(!v||v({name:q,size:V,originalSize:ce,compression:P}))&&(P?P==8?$[q]=fn(T.subarray(Me,Me+V),{out:new p(ce)}):ge(14,"unknown compression type "+P):$[q]=ye(T,Me,Me+V))}return $}}),"./node_modules/iobuffer/lib-esm/IOBuffer.js":(function(d,A,o){o.r(A),o.d(A,{IOBuffer:function(){return b}});var f=o("./node_modules/iobuffer/lib-esm/text.js");const m=1024*8,p=(()=>{const y=new Uint8Array(4),w=new Uint32Array(y.buffer);return!((w[0]=1)&y[0])})(),x={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class b{constructor(w=m,E={}){$a(this,"buffer");$a(this,"byteLength");$a(this,"byteOffset");$a(this,"length");$a(this,"offset");$a(this,"lastWrittenByte");$a(this,"littleEndian");$a(this,"_data");$a(this,"_mark");$a(this,"_marks");let R=!1;typeof w=="number"?w=new ArrayBuffer(w):(R=!0,this.lastWrittenByte=w.byteLength);const z=E.offset?E.offset>>>0:0,X=w.byteLength-z;let Y=z;(ArrayBuffer.isView(w)||w instanceof b)&&(w.byteLength!==w.buffer.byteLength&&(Y=w.byteOffset+z),w=w.buffer),R?this.lastWrittenByte=X:this.lastWrittenByte=0,this.buffer=w,this.length=X,this.byteLength=X,this.byteOffset=Y,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,Y,X),this._mark=0,this._marks=[]}available(w=1){return this.offset+w<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(w=1){return this.offset+=w,this}back(w=1){return this.offset-=w,this}seek(w){return this.offset=w,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const w=this._marks.pop();if(w===void 0)throw new Error("Mark stack empty");return this.seek(w),this}rewind(){return this.offset=0,this}ensureAvailable(w=1){if(!this.available(w)){const R=(this.offset+w)*2,z=new Uint8Array(R);z.set(new Uint8Array(this.buffer)),this.buffer=z.buffer,this.length=R,this.byteLength=R,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(w=1){return this.readArray(w,"uint8")}readArray(w,E){const R=x[E].BYTES_PER_ELEMENT*w,z=this.byteOffset+this.offset,X=this.buffer.slice(z,z+R);if(this.littleEndian===p&&E!=="uint8"&&E!=="int8"){const Q=new Uint8Array(this.buffer.slice(z,z+R));Q.reverse();const G=new x[E](Q.buffer);return this.offset+=R,G.reverse(),G}const Y=new x[E](X);return this.offset+=R,Y}readInt16(){const w=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,w}readUint16(){const w=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,w}readInt32(){const w=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,w}readUint32(){const w=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,w}readFloat32(){const w=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,w}readFloat64(){const w=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,w}readBigInt64(){const w=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,w}readBigUint64(){const w=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,w}readChar(){return String.fromCharCode(this.readInt8())}readChars(w=1){let E="";for(let R=0;R<w;R++)E+=this.readChar();return E}readUtf8(w=1){return(0,f.decode)(this.readBytes(w))}decodeText(w=1,E="utf8"){return(0,f.decode)(this.readBytes(w),E)}writeBoolean(w){return this.writeUint8(w?255:0),this}writeInt8(w){return this.ensureAvailable(1),this._data.setInt8(this.offset++,w),this._updateLastWrittenByte(),this}writeUint8(w){return this.ensureAvailable(1),this._data.setUint8(this.offset++,w),this._updateLastWrittenByte(),this}writeByte(w){return this.writeUint8(w)}writeBytes(w){this.ensureAvailable(w.length);for(let E=0;E<w.length;E++)this._data.setUint8(this.offset++,w[E]);return this._updateLastWrittenByte(),this}writeInt16(w){return this.ensureAvailable(2),this._data.setInt16(this.offset,w,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(w){return this.ensureAvailable(2),this._data.setUint16(this.offset,w,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(w){return this.ensureAvailable(4),this._data.setInt32(this.offset,w,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(w){return this.ensureAvailable(4),this._data.setUint32(this.offset,w,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(w){return this.ensureAvailable(4),this._data.setFloat32(this.offset,w,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(w){return this.ensureAvailable(8),this._data.setFloat64(this.offset,w,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(w){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,w,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(w){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,w,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(w){return this.writeUint8(w.charCodeAt(0))}writeChars(w){for(let E=0;E<w.length;E++)this.writeUint8(w.charCodeAt(E));return this}writeUtf8(w){return this.writeBytes((0,f.encode)(w))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}}),"./node_modules/iobuffer/lib-esm/text.js":(function(d,A,o){o.r(A),o.d(A,{decode:function(){return f},encode:function(){return p}});function f(x,b="utf8"){return new TextDecoder(b).decode(x)}const m=new TextEncoder;function p(x){return m.encode(x)}}),"./node_modules/jspdf/dist/jspdf.es.min.js":(function(d,A,o){o.r(A),o.d(A,{AcroForm:function(){return Gr},AcroFormAppearance:function(){return fs},AcroFormButton:function(){return zs},AcroFormCheckBox:function(){return Ss},AcroFormChoiceField:function(){return es},AcroFormComboBox:function(){return hs},AcroFormEditBox:function(){return Ks},AcroFormListBox:function(){return As},AcroFormPasswordField:function(){return sr},AcroFormPushButton:function(){return mr},AcroFormRadioButton:function(){return en},AcroFormTextField:function(){return Os},GState:function(){return Fe},ShadingPattern:function(){return kt},TilingPattern:function(){return St},default:function(){return Ge},jsPDF:function(){return Ge}});var f=o("./node_modules/@babel/runtime/helpers/esm/typeof.js"),m=o("./node_modules/fflate/esm/browser.js"),p=o("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),x=o("./node_modules/fast-png/lib-esm/index.js");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 4.0.0 Built on 2025-12-18T10:27:09.425Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2025 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2025 yWorks GmbH, http://www.yworks.com
 *               2015-2025 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var b=(function(){return typeof window<"u"?window:typeof O0<"u"?O0:typeof self<"u"?self:this})();function y(){b.console&&typeof b.console.log=="function"&&b.console.log.apply(b.console,arguments)}var w={log:y,warn:function(N){b.console&&(typeof b.console.warn=="function"?b.console.warn.apply(b.console,arguments):y.call(null,arguments))},error:function(N){b.console&&(typeof b.console.error=="function"?b.console.error.apply(b.console,arguments):y(N))}};function E(N,v,S){var I=new XMLHttpRequest;I.open("GET",N),I.responseType="blob",I.onload=function(){X(I.response,v,S)},I.onerror=function(){w.error("could not download file")},I.send()}function R(N){var v=new XMLHttpRequest;v.open("HEAD",N,!1);try{v.send()}catch{}return v.status>=200&&v.status<=299}function z(N){try{N.dispatchEvent(new MouseEvent("click"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),N.dispatchEvent(v)}}var X=b.saveAs||((typeof window>"u"?"undefined":(0,f.default)(window))!=="object"||window!==b?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(N,v,S){var I=b.URL||b.webkitURL,P=document.createElement("a");v=v||N.name||"download",P.download=v,P.rel="noopener",typeof N=="string"?(P.href=N,P.origin!==location.origin?R(P.href)?E(N,v,S):z(P,P.target="_blank"):z(P)):(P.href=I.createObjectURL(N),setTimeout(function(){I.revokeObjectURL(P.href)},4e4),setTimeout(function(){z(P)},0))}:"msSaveOrOpenBlob"in navigator?function(N,v,S){if(v=v||N.name||"download",typeof N=="string")if(R(N))E(N,v,S);else{var I=document.createElement("a");I.href=N,I.target="_blank",setTimeout(function(){z(I)})}else navigator.msSaveOrOpenBlob((function(P,V){return V===void 0?V={autoBom:!1}:(0,f.default)(V)!=="object"&&(w.warn("Deprecated: Expected third argument to be a object"),V={autoBom:!V}),V.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(P.type)?new Blob(["\uFEFF",P],{type:P.type}):P})(N,S),v)}:function(N,v,S,I){if((I=I||open("","_blank"))&&(I.document.title=I.document.body.innerText="downloading..."),typeof N=="string")return E(N,v,S);var P=N.type==="application/octet-stream",V=/constructor/i.test(b.HTMLElement)||b.safari,ce=/CriOS\/[\d]+/.test(navigator.userAgent);if((ce||P&&V)&&(typeof FileReader>"u"?"undefined":(0,f.default)(FileReader))==="object"){var q=new FileReader;q.onloadend=function(){var Me=q.result;Me=ce?Me:Me.replace(/^data:[^;]*;/,"data:attachment/file;"),I?I.location.href=Me:location=Me,I=null},q.readAsDataURL(N)}else{var ee=b.URL||b.webkitURL,Ce=ee.createObjectURL(N);I?I.location=Ce:location.href=Ce,I=null,setTimeout(function(){ee.revokeObjectURL(Ce)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Y(N){var v;N=N||"",this.ok=!1,N.charAt(0)=="#"&&(N=N.substr(1,6)),N={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[N=(N=N.replace(/ /g,"")).toLowerCase()]||N;for(var S=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(q){return[parseInt(q[1]),parseInt(q[2]),parseInt(q[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(q){return[parseInt(q[1],16),parseInt(q[2],16),parseInt(q[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(q){return[parseInt(q[1]+q[1],16),parseInt(q[2]+q[2],16),parseInt(q[3]+q[3],16)]}}],I=0;I<S.length;I++){var P=S[I].re,V=S[I].process,ce=P.exec(N);ce&&(v=V(ce),this.r=v[0],this.g=v[1],this.b=v[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var q=this.r.toString(16),ee=this.g.toString(16),Ce=this.b.toString(16);return q.length==1&&(q="0"+q),ee.length==1&&(ee="0"+ee),Ce.length==1&&(Ce="0"+Ce),"#"+q+ee+Ce}}var Q=b.atob.bind(b),G=b.btoa.bind(b);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function le(N,v){var S=N[0],I=N[1],P=N[2],V=N[3];S=je(S,I,P,V,v[0],7,-680876936),V=je(V,S,I,P,v[1],12,-389564586),P=je(P,V,S,I,v[2],17,606105819),I=je(I,P,V,S,v[3],22,-1044525330),S=je(S,I,P,V,v[4],7,-176418897),V=je(V,S,I,P,v[5],12,1200080426),P=je(P,V,S,I,v[6],17,-1473231341),I=je(I,P,V,S,v[7],22,-45705983),S=je(S,I,P,V,v[8],7,1770035416),V=je(V,S,I,P,v[9],12,-1958414417),P=je(P,V,S,I,v[10],17,-42063),I=je(I,P,V,S,v[11],22,-1990404162),S=je(S,I,P,V,v[12],7,1804603682),V=je(V,S,I,P,v[13],12,-40341101),P=je(P,V,S,I,v[14],17,-1502002290),S=ue(S,I=je(I,P,V,S,v[15],22,1236535329),P,V,v[1],5,-165796510),V=ue(V,S,I,P,v[6],9,-1069501632),P=ue(P,V,S,I,v[11],14,643717713),I=ue(I,P,V,S,v[0],20,-373897302),S=ue(S,I,P,V,v[5],5,-701558691),V=ue(V,S,I,P,v[10],9,38016083),P=ue(P,V,S,I,v[15],14,-660478335),I=ue(I,P,V,S,v[4],20,-405537848),S=ue(S,I,P,V,v[9],5,568446438),V=ue(V,S,I,P,v[14],9,-1019803690),P=ue(P,V,S,I,v[3],14,-187363961),I=ue(I,P,V,S,v[8],20,1163531501),S=ue(S,I,P,V,v[13],5,-1444681467),V=ue(V,S,I,P,v[2],9,-51403784),P=ue(P,V,S,I,v[7],14,1735328473),S=Se(S,I=ue(I,P,V,S,v[12],20,-1926607734),P,V,v[5],4,-378558),V=Se(V,S,I,P,v[8],11,-2022574463),P=Se(P,V,S,I,v[11],16,1839030562),I=Se(I,P,V,S,v[14],23,-35309556),S=Se(S,I,P,V,v[1],4,-1530992060),V=Se(V,S,I,P,v[4],11,1272893353),P=Se(P,V,S,I,v[7],16,-155497632),I=Se(I,P,V,S,v[10],23,-1094730640),S=Se(S,I,P,V,v[13],4,681279174),V=Se(V,S,I,P,v[0],11,-358537222),P=Se(P,V,S,I,v[3],16,-722521979),I=Se(I,P,V,S,v[6],23,76029189),S=Se(S,I,P,V,v[9],4,-640364487),V=Se(V,S,I,P,v[12],11,-421815835),P=Se(P,V,S,I,v[15],16,530742520),S=ae(S,I=Se(I,P,V,S,v[2],23,-995338651),P,V,v[0],6,-198630844),V=ae(V,S,I,P,v[7],10,1126891415),P=ae(P,V,S,I,v[14],15,-1416354905),I=ae(I,P,V,S,v[5],21,-57434055),S=ae(S,I,P,V,v[12],6,1700485571),V=ae(V,S,I,P,v[3],10,-1894986606),P=ae(P,V,S,I,v[10],15,-1051523),I=ae(I,P,V,S,v[1],21,-2054922799),S=ae(S,I,P,V,v[8],6,1873313359),V=ae(V,S,I,P,v[15],10,-30611744),P=ae(P,V,S,I,v[6],15,-1560198380),I=ae(I,P,V,S,v[13],21,1309151649),S=ae(S,I,P,V,v[4],6,-145523070),V=ae(V,S,I,P,v[11],10,-1120210379),P=ae(P,V,S,I,v[2],15,718787259),I=ae(I,P,V,S,v[9],21,-343485551),N[0]=ke(S,N[0]),N[1]=ke(I,N[1]),N[2]=ke(P,N[2]),N[3]=ke(V,N[3])}function Ae(N,v,S,I,P,V){return v=ke(ke(v,N),ke(I,V)),ke(v<<P|v>>>32-P,S)}function je(N,v,S,I,P,V,ce){return Ae(v&S|~v&I,N,v,P,V,ce)}function ue(N,v,S,I,P,V,ce){return Ae(v&I|S&~I,N,v,P,V,ce)}function Se(N,v,S,I,P,V,ce){return Ae(v^S^I,N,v,P,V,ce)}function ae(N,v,S,I,P,V,ce){return Ae(S^(v|~I),N,v,P,V,ce)}function Ne(N){var v,S=N.length,I=[1732584193,-271733879,-1732584194,271733878];for(v=64;v<=N.length;v+=64)le(I,he(N.substring(v-64,v)));N=N.substring(v-64);var P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(v=0;v<N.length;v++)P[v>>2]|=N.charCodeAt(v)<<(v%4<<3);if(P[v>>2]|=128<<(v%4<<3),v>55)for(le(I,P),v=0;v<16;v++)P[v]=0;return P[14]=8*S,le(I,P),I}function he(N){var v,S=[];for(v=0;v<64;v+=4)S[v>>2]=N.charCodeAt(v)+(N.charCodeAt(v+1)<<8)+(N.charCodeAt(v+2)<<16)+(N.charCodeAt(v+3)<<24);return S}var se="0123456789abcdef".split("");function de(N){for(var v="",S=0;S<4;S++)v+=se[N>>8*S+4&15]+se[N>>8*S&15];return v}function oe(N){return String.fromCharCode(255&N,(65280&N)>>8,(16711680&N)>>16,(4278190080&N)>>24)}function Ee(N){return Ne(N).map(oe).join("")}var De=(function(N){for(var v=0;v<N.length;v++)N[v]=de(N[v]);return N.join("")})(Ne("hello"))!="5d41402abc4b2a76b9719d911017c592";function ke(N,v){if(De){var S=(65535&N)+(65535&v);return(N>>16)+(v>>16)+(S>>16)<<16|65535&S}return N+v&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function pe(N,v){var S,I,P,V;if(N!==S){for(var ce=(P=N,V=1+(256/N.length|0),new Array(V+1).join(P)),q=[],ee=0;ee<256;ee++)q[ee]=ee;var Ce=0;for(ee=0;ee<256;ee++){var Me=q[ee];Ce=(Ce+Me+ce.charCodeAt(ee))%256,q[ee]=q[Ce],q[Ce]=Me}S=N,I=q}else q=I;var ze=v.length,Xe=0,xe=0,ct="";for(ee=0;ee<ze;ee++)xe=(xe+(Me=q[Xe=(Xe+1)%256]))%256,q[Xe]=q[xe],q[xe]=Me,ce=q[(q[Xe]+q[xe])%256],ct+=String.fromCharCode(v.charCodeAt(ee)^ce);return ct}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ye={print:4,modify:8,copy:16,"annot-forms":32};function fe(N,v,S,I){this.v=1,this.r=2;var P=192;N.forEach(function(q){if(ye.perm!==void 0)throw new Error("Invalid permission: "+q);P+=ye[q]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var V=(v+this.padding).substr(0,32),ce=(S+this.padding).substr(0,32);this.O=this.processOwnerPassword(V,ce),this.P=-(1+(255^P)),this.encryptionKey=Ee(V+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(I)).substr(0,5),this.U=pe(this.encryptionKey,this.padding)}function te(N){if(/[^\u0000-\u00ff]/.test(N))throw new Error("Invalid PDF Name Object: "+N+", Only accept ASCII characters.");for(var v="",S=N.length,I=0;I<S;I++){var P=N.charCodeAt(I);v+=P<33||P===35||P===37||P===40||P===41||P===47||P===60||P===62||P===91||P===93||P===123||P===125||P>126?"#"+("0"+P.toString(16)).slice(-2):N[I]}return v}function ge(N){if((0,f.default)(N)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var v={};this.subscribe=function(S,I,P){if(P=P||!1,typeof S!="string"||typeof I!="function"||typeof P!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");v.hasOwnProperty(S)||(v[S]={});var V=Math.random().toString(35);return v[S][V]=[I,!!P],V},this.unsubscribe=function(S){for(var I in v)if(v[I][S])return delete v[I][S],Object.keys(v[I]).length===0&&delete v[I],!0;return!1},this.publish=function(S){if(v.hasOwnProperty(S)){var I=Array.prototype.slice.call(arguments,1),P=[];for(var V in v[S]){var ce=v[S][V];try{ce[0].apply(N,I)}catch(q){b.console&&w.error("jsPDF PubSub Error",q.message,q)}ce[1]&&P.push(V)}P.length&&P.forEach(this.unsubscribe)}},this.getTopics=function(){return v}}function Fe(N){if(!(this instanceof Fe))return new Fe(N);var v="opacity,stroke-opacity".split(",");for(var S in N)N.hasOwnProperty(S)&&v.indexOf(S)>=0&&(this[S]=N[S]);this.id="",this.objectNumber=-1}function $e(N,v){this.gState=N,this.matrix=v,this.id="",this.objectNumber=-1}function kt(N,v,S,I,P){if(!(this instanceof kt))return new kt(N,v,S,I,P);this.type=N==="axial"?2:3,this.coords=v,this.colors=S,$e.call(this,I,P)}function St(N,v,S,I,P){if(!(this instanceof St))return new St(N,v,S,I,P);this.boundingBox=N,this.xStep=v,this.yStep=S,this.stream="",this.cloneIndex=0,$e.call(this,I,P)}function Ge(N){var v,S=typeof arguments[0]=="string"?arguments[0]:"p",I=arguments[1],P=arguments[2],V=arguments[3],ce=[],q=1,ee=16,Ce="S",Me=null;(0,f.default)(N=N||{})==="object"&&(S=N.orientation,I=N.unit||I,P=N.format||P,V=N.compress||N.compressPdf||V,(Me=N.encryption||null)!==null&&(Me.userPassword=Me.userPassword||"",Me.ownerPassword=Me.ownerPassword||"",Me.userPermissions=Me.userPermissions||[]),q=typeof N.userUnit=="number"?Math.abs(N.userUnit):1,N.precision!==void 0&&(v=N.precision),N.floatPrecision!==void 0&&(ee=N.floatPrecision),Ce=N.defaultPathOperation||"S"),ce=N.filters||(V===!0?["FlateEncode"]:ce),I=I||"mm",S=(""+(S||"P")).toLowerCase();var ze=N.putOnlyUsedFonts||!1,Xe={},xe={internal:{},__private__:{}};xe.__private__.PubSub=ge;var ct="1.3",it=xe.__private__.getPdfVersion=function(){return ct};xe.__private__.setPdfVersion=function(Z){ct=Z};var ut={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};xe.__private__.getPageFormats=function(){return ut};var We=xe.__private__.getPageFormat=function(Z){return ut[Z]};P=P||"a4";var jt="compat",Pt="advanced",gt=jt;function Ke(){this.saveGraphicsState(),et(new an(rn,0,0,-rn,0,sd()*rn).toString()+" cm"),this.setFontSize(this.getFontSize()/rn),Ce="n",gt=Pt}function Ot(){this.restoreGraphicsState(),Ce="S",gt=jt}var ls=xe.__private__.combineFontStyleAndFontWeight=function(Z,Te){if(Z=="bold"&&Te=="normal"||Z=="bold"&&Te==400||Z=="normal"&&Te=="italic"||Z=="bold"&&Te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Te&&(Z=Te==400||Te==="normal"?Z==="italic"?"italic":"normal":Te!=700&&Te!=="bold"||Z!=="normal"?(Te==700?"bold":Te)+""+Z:"bold"),Z};xe.advancedAPI=function(Z){var Te=gt===jt;return Te&&Ke.call(this),typeof Z!="function"||(Z(this),Te&&Ot.call(this)),this},xe.compatAPI=function(Z){var Te=gt===Pt;return Te&&Ot.call(this),typeof Z!="function"||(Z(this),Te&&Ke.call(this)),this},xe.isAdvancedAPI=function(){return gt===Pt};var zt,yt=function(Z){if(gt!==Pt)throw new Error(Z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ss=xe.roundToPrecision=xe.__private__.roundToPrecision=function(Z,Te){var nt=v||Te;if(isNaN(Z)||isNaN(nt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Z.toFixed(nt).replace(/0+$/,"")};zt=xe.hpf=xe.__private__.hpf=typeof ee=="number"?function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.hpf");return ss(Z,ee)}:ee==="smart"?function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.hpf");return ss(Z,Z>-1&&Z<1?16:5)}:function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.hpf");return ss(Z,16)};var Ye=xe.f2=xe.__private__.f2=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.f2");return ss(Z,2)},st=xe.__private__.f3=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.f3");return ss(Z,3)},bt=xe.scale=xe.__private__.scale=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.scale");return gt===jt?Z*rn:gt===Pt?Z:void 0},vt=function(Z){return bt((function(Te){return gt===jt?sd()-Te:gt===Pt?Te:void 0})(Z))};xe.__private__.setPrecision=xe.setPrecision=function(Z){typeof parseInt(Z,10)=="number"&&(v=parseInt(Z,10))};var ns,us="00000000000000000000000000000000",bs=xe.__private__.getFileId=function(){return us},Gt=xe.__private__.setFileId=function(Z){return us=Z!==void 0&&/^[a-fA-F0-9]{32}$/.test(Z)?Z.toUpperCase():us.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Me!==null&&(Gi=new fe(Me.userPermissions,Me.userPassword,Me.ownerPassword,us)),us};xe.setFileId=function(Z){return Gt(Z),this},xe.getFileId=function(){return bs()};var ms=xe.__private__.convertDateToPDFDate=function(Z){var Te=Z.getTimezoneOffset(),nt=Te<0?"+":"-",mt=Math.floor(Math.abs(Te/60)),_t=Math.abs(Te%60),ks=[nt,ht(mt),"'",ht(_t),"'"].join("");return["D:",Z.getFullYear(),ht(Z.getMonth()+1),ht(Z.getDate()),ht(Z.getHours()),ht(Z.getMinutes()),ht(Z.getSeconds()),ks].join("")},Xs=xe.__private__.convertPDFDateToDate=function(Z){var Te=parseInt(Z.substr(2,4),10),nt=parseInt(Z.substr(6,2),10)-1,mt=parseInt(Z.substr(8,2),10),_t=parseInt(Z.substr(10,2),10),ks=parseInt(Z.substr(12,2),10),Ds=parseInt(Z.substr(14,2),10);return new Date(Te,nt,mt,_t,ks,Ds,0)},Qs=xe.__private__.setCreationDate=function(Z){var Te;if(Z===void 0&&(Z=new Date),Z instanceof Date)Te=ms(Z);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Z))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Te=Z}return ns=Te},Qe=xe.__private__.getCreationDate=function(Z){var Te=ns;return Z==="jsDate"&&(Te=Xs(ns)),Te};xe.setCreationDate=function(Z){return Qs(Z),this},xe.getCreationDate=function(Z){return Qe(Z)};var dt,ht=xe.__private__.padd2=function(Z){return("0"+parseInt(Z)).slice(-2)},It=xe.__private__.padd2Hex=function(Z){return("00"+(Z=Z.toString())).substr(Z.length)},Qt=0,Xt=[],ps=[],gs=0,Ls=[],Js=[],br=!1,gr=ps;xe.__private__.setCustomOutputDestination=function(Z){br=!0,gr=Z};var Yr=function(Z){br||(gr=Z)};xe.__private__.resetCustomOutputDestination=function(){br=!1,gr=ps};var et=xe.__private__.out=function(Z){return Z=Z.toString(),gs+=Z.length+1,gr.push(Z),gr},or=xe.__private__.write=function(Z){return et(arguments.length===1?Z.toString():Array.prototype.join.call(arguments," "))},un=xe.__private__.getArrayBuffer=function(Z){for(var Te=Z.length,nt=new ArrayBuffer(Te),mt=new Uint8Array(nt);Te--;)mt[Te]=Z.charCodeAt(Te);return nt},rr=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];xe.__private__.getStandardFonts=function(){return rr};var _s=N.fontSize||16;xe.__private__.setFontSize=xe.setFontSize=function(Z){return _s=gt===Pt?Z/rn:Z,this};var tn,vr=xe.__private__.getFontSize=xe.getFontSize=function(){return gt===jt?_s:_s*rn},$r=N.R2L||!1;xe.__private__.setR2L=xe.setR2L=function(Z){return $r=Z,this},xe.__private__.getR2L=xe.getR2L=function(){return $r};var Or,ka=xe.__private__.setZoomMode=function(Z){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Z))tn=Z;else if(isNaN(Z)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Z)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Z+'" is not recognized.');tn=Z}else tn=parseInt(Z,10)};xe.__private__.getZoomMode=function(){return tn};var Sn,kr=xe.__private__.setPageMode=function(Z){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Z)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Z+'" is not recognized.');Or=Z};xe.__private__.getPageMode=function(){return Or};var zn=xe.__private__.setLayoutMode=function(Z){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Z)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Z+'" is not recognized.');Sn=Z};xe.__private__.getLayoutMode=function(){return Sn},xe.__private__.setDisplayMode=xe.setDisplayMode=function(Z,Te,nt){return ka(Z),zn(Te),kr(nt),this};var Xr={title:"",subject:"",author:"",keywords:"",creator:""};xe.__private__.getDocumentProperty=function(Z){if(Object.keys(Xr).indexOf(Z)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xr[Z]},xe.__private__.getDocumentProperties=function(){return Xr},xe.__private__.setDocumentProperties=xe.setProperties=xe.setDocumentProperties=function(Z){for(var Te in Xr)Xr.hasOwnProperty(Te)&&Z[Te]&&(Xr[Te]=Z[Te]);return this},xe.__private__.setDocumentProperty=function(Z,Te){if(Object.keys(Xr).indexOf(Z)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xr[Z]=Te};var Br,rn,Ir,vn,Wn,En={},Rn={},Wa=[],Vr={},Qa={},mn={},_r={},Na=null,jn=0,ar=[],Fn=new ge(xe),Wc=N.hotfixes||[],Ri={},lo={},Kl=[],an=function Z(Te,nt,mt,_t,ks,Ds){if(!(this instanceof Z))return new Z(Te,nt,mt,_t,ks,Ds);isNaN(Te)&&(Te=1),isNaN(nt)&&(nt=0),isNaN(mt)&&(mt=0),isNaN(_t)&&(_t=1),isNaN(ks)&&(ks=0),isNaN(Ds)&&(Ds=0),this._matrix=[Te,nt,mt,_t,ks,Ds]};Object.defineProperty(an.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Z){this._matrix[0]=Z}}),Object.defineProperty(an.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Z){this._matrix[1]=Z}}),Object.defineProperty(an.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Z){this._matrix[2]=Z}}),Object.defineProperty(an.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Z){this._matrix[3]=Z}}),Object.defineProperty(an.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Z){this._matrix[4]=Z}}),Object.defineProperty(an.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Z){this._matrix[5]=Z}}),Object.defineProperty(an.prototype,"a",{get:function(){return this._matrix[0]},set:function(Z){this._matrix[0]=Z}}),Object.defineProperty(an.prototype,"b",{get:function(){return this._matrix[1]},set:function(Z){this._matrix[1]=Z}}),Object.defineProperty(an.prototype,"c",{get:function(){return this._matrix[2]},set:function(Z){this._matrix[2]=Z}}),Object.defineProperty(an.prototype,"d",{get:function(){return this._matrix[3]},set:function(Z){this._matrix[3]=Z}}),Object.defineProperty(an.prototype,"e",{get:function(){return this._matrix[4]},set:function(Z){this._matrix[4]=Z}}),Object.defineProperty(an.prototype,"f",{get:function(){return this._matrix[5]},set:function(Z){this._matrix[5]=Z}}),Object.defineProperty(an.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(an.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(an.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(an.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),an.prototype.join=function(Z){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(zt).join(Z)},an.prototype.multiply=function(Z){var Te=Z.sx*this.sx+Z.shy*this.shx,nt=Z.sx*this.shy+Z.shy*this.sy,mt=Z.shx*this.sx+Z.sy*this.shx,_t=Z.shx*this.shy+Z.sy*this.sy,ks=Z.tx*this.sx+Z.ty*this.shx+this.tx,Ds=Z.tx*this.shy+Z.ty*this.sy+this.ty;return new an(Te,nt,mt,_t,ks,Ds)},an.prototype.decompose=function(){var Z=this.sx,Te=this.shy,nt=this.shx,mt=this.sy,_t=this.tx,ks=this.ty,Ds=Math.sqrt(Z*Z+Te*Te),Sr=(Z/=Ds)*nt+(Te/=Ds)*mt;nt-=Z*Sr,mt-=Te*Sr;var Er=Math.sqrt(nt*nt+mt*mt);return Sr/=Er,Z*(mt/=Er)<Te*(nt/=Er)&&(Z=-Z,Te=-Te,Sr=-Sr,Ds=-Ds),{scale:new an(Ds,0,0,Er,0,0),translate:new an(1,0,0,1,_t,ks),rotate:new an(Z,Te,-Te,Z,0,0),skew:new an(1,0,Sr,1,0,0)}},an.prototype.toString=function(Z){return this.join(" ")},an.prototype.inversed=function(){var Z=this.sx,Te=this.shy,nt=this.shx,mt=this.sy,_t=this.tx,ks=this.ty,Ds=1/(Z*mt-Te*nt),Sr=mt*Ds,Er=-Te*Ds,pn=-nt*Ds,Nn=Z*Ds;return new an(Sr,Er,pn,Nn,-Sr*_t-pn*ks,-Er*_t-Nn*ks)},an.prototype.applyToPoint=function(Z){var Te=Z.x*this.sx+Z.y*this.shx+this.tx,nt=Z.x*this.shy+Z.y*this.sy+this.ty;return new vl(Te,nt)},an.prototype.applyToRectangle=function(Z){var Te=this.applyToPoint(Z),nt=this.applyToPoint(new vl(Z.x+Z.w,Z.y+Z.h));return new bc(Te.x,Te.y,nt.x-Te.x,nt.y-Te.y)},an.prototype.clone=function(){var Z=this.sx,Te=this.shy,nt=this.shx,mt=this.sy,_t=this.tx,ks=this.ty;return new an(Z,Te,nt,mt,_t,ks)},xe.Matrix=an;var li=xe.matrixMult=function(Z,Te){return Te.multiply(Z)},pi=new an(1,0,0,1,0,0);xe.unitMatrix=xe.identityMatrix=pi;var el=function(Z,Te){if(!Qa[Z]){var nt=(Te instanceof kt?"Sh":"P")+(Object.keys(Vr).length+1).toString(10);Te.id=nt,Qa[Z]=nt,Vr[nt]=Te,Fn.publish("addPattern",Te)}};xe.ShadingPattern=kt,xe.TilingPattern=St,xe.addShadingPattern=function(Z,Te){return yt("addShadingPattern()"),el(Z,Te),this},xe.beginTilingPattern=function(Z){yt("beginTilingPattern()"),al(Z.boundingBox[0],Z.boundingBox[1],Z.boundingBox[2]-Z.boundingBox[0],Z.boundingBox[3]-Z.boundingBox[1],Z.matrix)},xe.endTilingPattern=function(Z,Te){yt("endTilingPattern()"),Te.stream=Js[dt].join(`
`),el(Z,Te),Fn.publish("endTilingPattern",Te),Kl.pop().restore()};var Lo,Ra=xe.__private__.newObject=function(){var Z=gi();return ci(Z,!0),Z},gi=xe.__private__.newObjectDeferred=function(){return Qt++,Xt[Qt]=function(){return gs},Qt},ci=function(Z,Te){return Te=typeof Te=="boolean"&&Te,Xt[Z]=gs,Te&&et(Z+" 0 obj"),Z},Ul=xe.__private__.newAdditionalObject=function(){var Z={objId:gi(),content:""};return Ls.push(Z),Z},Pi=gi(),hl=gi(),go=xe.__private__.decodeColorString=function(Z){var Te=Z.split(" ");if(Te.length!==2||Te[1]!=="g"&&Te[1]!=="G")Te.length!==5||Te[4]!=="k"&&Te[4]!=="K"||(Te=[(1-Te[0])*(1-Te[3]),(1-Te[1])*(1-Te[3]),(1-Te[2])*(1-Te[3]),"r"]);else{var nt=parseFloat(Te[0]);Te=[nt,nt,nt,"r"]}for(var mt="#",_t=0;_t<3;_t++)mt+=("0"+Math.floor(255*parseFloat(Te[_t])).toString(16)).slice(-2);return mt},Ll=xe.__private__.encodeColorString=function(Z){var Te;typeof Z=="string"&&(Z={ch1:Z});var nt=Z.ch1,mt=Z.ch2,_t=Z.ch3,ks=Z.ch4,Ds=Z.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof nt=="string"&&nt.charAt(0)!=="#"){var Sr=new Y(nt);if(Sr.ok)nt=Sr.toHex();else if(!/^\d*\.?\d*$/.test(nt))throw new Error('Invalid color "'+nt+'" passed to jsPDF.encodeColorString.')}if(typeof nt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(nt)&&(nt="#"+nt[1]+nt[1]+nt[2]+nt[2]+nt[3]+nt[3]),typeof nt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(nt)){var Er=parseInt(nt.substr(1),16);nt=Er>>16&255,mt=Er>>8&255,_t=255&Er}if(mt===void 0||ks===void 0&&nt===mt&&mt===_t)Te=typeof nt=="string"?nt+" "+Ds[0]:Z.precision===2?Ye(nt/255)+" "+Ds[0]:st(nt/255)+" "+Ds[0];else if(ks===void 0||(0,f.default)(ks)==="object"){if(ks&&!isNaN(ks.a)&&ks.a===0)return["1.","1.","1.",Ds[1]].join(" ");Te=typeof nt=="string"?[nt,mt,_t,Ds[1]].join(" "):Z.precision===2?[Ye(nt/255),Ye(mt/255),Ye(_t/255),Ds[1]].join(" "):[st(nt/255),st(mt/255),st(_t/255),Ds[1]].join(" ")}else Te=typeof nt=="string"?[nt,mt,_t,ks,Ds[2]].join(" "):Z.precision===2?[Ye(nt),Ye(mt),Ye(_t),Ye(ks),Ds[2]].join(" "):[st(nt),st(mt),st(_t),st(ks),Ds[2]].join(" ");return Te},Fo=xe.__private__.getFilters=function(){return ce},fl=xe.__private__.putStream=function(Z){var Te=(Z=Z||{}).data||"",nt=Z.filters||Fo(),mt=Z.alreadyAppliedFilters||[],_t=Z.addLength1||!1,ks=Te.length,Ds=Z.objectId,Sr=function(Ei){return Ei};if(Me!==null&&Ds===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Me!==null&&(Sr=Gi.encryptor(Ds,0));var Er={};nt===!0&&(nt=["FlateEncode"]);var pn=Z.additionalKeyValues||[],Nn=(Er=Ge.API.processDataByFilters!==void 0?Ge.API.processDataByFilters(Te,nt):{data:Te,reverseChain:[]}).reverseChain+(Array.isArray(mt)?mt.join(" "):mt.toString());if(Er.data.length!==0&&(pn.push({key:"Length",value:Er.data.length}),_t===!0&&pn.push({key:"Length1",value:ks})),Nn.length!=0)if(Nn.split("/").length-1==1)pn.push({key:"Filter",value:Nn});else{pn.push({key:"Filter",value:"["+Nn+"]"});for(var ra=0;ra<pn.length;ra+=1)if(pn[ra].key==="DecodeParms"){for(var La=[],bi=0;bi<Er.reverseChain.split("/").length-1;bi+=1)La.push("null");La.push(pn[ra].value),pn[ra].value="["+La.join(" ")+"]"}}et("<<");for(var Ba=0;Ba<pn.length;Ba++)et("/"+pn[Ba].key+" "+pn[Ba].value);et(">>"),Er.data.length!==0&&(et("stream"),et(Sr(Er.data)),et("endstream"))},Yc=xe.__private__.putPage=function(Z){var Te=Z.number,nt=Z.data,mt=Z.objId,_t=Z.contentsObjId;ci(mt,!0),et("<</Type /Page"),et("/Parent "+Z.rootDictionaryObjId+" 0 R"),et("/Resources "+Z.resourceDictionaryObjId+" 0 R"),et("/MediaBox ["+parseFloat(zt(Z.mediaBox.bottomLeftX))+" "+parseFloat(zt(Z.mediaBox.bottomLeftY))+" "+zt(Z.mediaBox.topRightX)+" "+zt(Z.mediaBox.topRightY)+"]"),Z.cropBox!==null&&et("/CropBox ["+zt(Z.cropBox.bottomLeftX)+" "+zt(Z.cropBox.bottomLeftY)+" "+zt(Z.cropBox.topRightX)+" "+zt(Z.cropBox.topRightY)+"]"),Z.bleedBox!==null&&et("/BleedBox ["+zt(Z.bleedBox.bottomLeftX)+" "+zt(Z.bleedBox.bottomLeftY)+" "+zt(Z.bleedBox.topRightX)+" "+zt(Z.bleedBox.topRightY)+"]"),Z.trimBox!==null&&et("/TrimBox ["+zt(Z.trimBox.bottomLeftX)+" "+zt(Z.trimBox.bottomLeftY)+" "+zt(Z.trimBox.topRightX)+" "+zt(Z.trimBox.topRightY)+"]"),Z.artBox!==null&&et("/ArtBox ["+zt(Z.artBox.bottomLeftX)+" "+zt(Z.artBox.bottomLeftY)+" "+zt(Z.artBox.topRightX)+" "+zt(Z.artBox.topRightY)+"]"),typeof Z.userUnit=="number"&&Z.userUnit!==1&&et("/UserUnit "+Z.userUnit),Fn.publish("putPage",{objId:mt,pageContext:ar[Te],pageNumber:Te,page:nt}),et("/Contents "+_t+" 0 R"),et(">>"),et("endobj");var ks=nt.join(`
`);return gt===Pt&&(ks+=`
Q`),ci(_t,!0),fl({data:ks,filters:Fo(),objectId:_t}),et("endobj"),mt},ml=xe.__private__.putPages=function(){var Z,Te,nt=[];for(Z=1;Z<=jn;Z++)ar[Z].objId=gi(),ar[Z].contentsObjId=gi();for(Z=1;Z<=jn;Z++)nt.push(Yc({number:Z,data:Js[Z],objId:ar[Z].objId,contentsObjId:ar[Z].contentsObjId,mediaBox:ar[Z].mediaBox,cropBox:ar[Z].cropBox,bleedBox:ar[Z].bleedBox,trimBox:ar[Z].trimBox,artBox:ar[Z].artBox,userUnit:ar[Z].userUnit,rootDictionaryObjId:Pi,resourceDictionaryObjId:hl}));ci(Pi,!0),et("<</Type /Pages");var mt="/Kids [";for(Te=0;Te<jn;Te++)mt+=nt[Te]+" 0 R ";et(mt+"]"),et("/Count "+jn),et(">>"),et("endobj"),Fn.publish("postPutPages")},Mo=function(Z){Fn.publish("putFont",{font:Z,out:et,newObject:Ra,putStream:fl}),Z.isAlreadyPutted!==!0&&(Z.objectNumber=Ra(),et("<<"),et("/Type /Font"),et("/BaseFont /"+te(Z.postScriptName)),et("/Subtype /Type1"),typeof Z.encoding=="string"&&et("/Encoding /"+Z.encoding),et("/FirstChar 32"),et("/LastChar 255"),et(">>"),et("endobj"))},Uc=function(Z){Z.objectNumber=Ra();var Te=[];Te.push({key:"Type",value:"/XObject"}),Te.push({key:"Subtype",value:"/Form"}),Te.push({key:"BBox",value:"["+[zt(Z.x),zt(Z.y),zt(Z.x+Z.width),zt(Z.y+Z.height)].join(" ")+"]"}),Te.push({key:"Matrix",value:"["+Z.matrix.toString()+"]"});var nt=Z.pages[1].join(`
`);fl({data:nt,additionalKeyValues:Te,objectId:Z.objectNumber}),et("endobj")},Xc=function(Z,Te){Te||(Te=21);var nt=Ra(),mt=(function(Ds,Sr){var Er,pn=[],Nn=1/(Sr-1);for(Er=0;Er<1;Er+=Nn)pn.push(Er);if(pn.push(1),Ds[0].offset!=0){var ra={offset:0,color:Ds[0].color};Ds.unshift(ra)}if(Ds[Ds.length-1].offset!=1){var La={offset:1,color:Ds[Ds.length-1].color};Ds.push(La)}for(var bi="",Ba=0,Ei=0;Ei<pn.length;Ei++){for(Er=pn[Ei];Er>Ds[Ba+1].offset;)Ba++;var C=Ds[Ba].offset,Be=(Er-C)/(Ds[Ba+1].offset-C),H=Ds[Ba].color,Pe=Ds[Ba+1].color;bi+=It(Math.round((1-Be)*H[0]+Be*Pe[0]).toString(16))+It(Math.round((1-Be)*H[1]+Be*Pe[1]).toString(16))+It(Math.round((1-Be)*H[2]+Be*Pe[2]).toString(16))}return bi.trim()})(Z.colors,Te),_t=[];_t.push({key:"FunctionType",value:"0"}),_t.push({key:"Domain",value:"[0.0 1.0]"}),_t.push({key:"Size",value:"["+Te+"]"}),_t.push({key:"BitsPerSample",value:"8"}),_t.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_t.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fl({data:mt,additionalKeyValues:_t,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:nt}),et("endobj"),Z.objectNumber=Ra(),et("<< /ShadingType "+Z.type),et("/ColorSpace /DeviceRGB");var ks="/Coords ["+zt(parseFloat(Z.coords[0]))+" "+zt(parseFloat(Z.coords[1]))+" ";Z.type===2?ks+=zt(parseFloat(Z.coords[2]))+" "+zt(parseFloat(Z.coords[3])):ks+=zt(parseFloat(Z.coords[2]))+" "+zt(parseFloat(Z.coords[3]))+" "+zt(parseFloat(Z.coords[4]))+" "+zt(parseFloat(Z.coords[5])),et(ks+="]"),Z.matrix&&et("/Matrix ["+Z.matrix.toString()+"]"),et("/Function "+nt+" 0 R"),et("/Extend [true true]"),et(">>"),et("endobj")},pc=function(Z,Te){var nt=gi(),mt=Ra();Te.push({resourcesOid:nt,objectOid:mt}),Z.objectNumber=mt;var _t=[];_t.push({key:"Type",value:"/Pattern"}),_t.push({key:"PatternType",value:"1"}),_t.push({key:"PaintType",value:"1"}),_t.push({key:"TilingType",value:"1"}),_t.push({key:"BBox",value:"["+Z.boundingBox.map(zt).join(" ")+"]"}),_t.push({key:"XStep",value:zt(Z.xStep)}),_t.push({key:"YStep",value:zt(Z.yStep)}),_t.push({key:"Resources",value:nt+" 0 R"}),Z.matrix&&_t.push({key:"Matrix",value:"["+Z.matrix.toString()+"]"}),fl({data:Z.stream,additionalKeyValues:_t,objectId:Z.objectNumber}),et("endobj")},tl=function(Z){for(var Te in Z.objectNumber=Ra(),et("<<"),Z)switch(Te){case"opacity":et("/ca "+Ye(Z[Te]));break;case"stroke-opacity":et("/CA "+Ye(Z[Te]))}et(">>"),et("endobj")},Lc=function(Z){ci(Z.resourcesOid,!0),et("<<"),et("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var Te in et("/Font <<"),En)En.hasOwnProperty(Te)&&(ze===!1||ze===!0&&Xe.hasOwnProperty(Te))&&et("/"+Te+" "+En[Te].objectNumber+" 0 R");et(">>")})(),(function(){if(Object.keys(Vr).length>0){for(var Te in et("/Shading <<"),Vr)Vr.hasOwnProperty(Te)&&Vr[Te]instanceof kt&&Vr[Te].objectNumber>=0&&et("/"+Te+" "+Vr[Te].objectNumber+" 0 R");Fn.publish("putShadingPatternDict"),et(">>")}})(),(function(Te){if(Object.keys(Vr).length>0){for(var nt in et("/Pattern <<"),Vr)Vr.hasOwnProperty(nt)&&Vr[nt]instanceof xe.TilingPattern&&Vr[nt].objectNumber>=0&&Vr[nt].objectNumber<Te&&et("/"+nt+" "+Vr[nt].objectNumber+" 0 R");Fn.publish("putTilingPatternDict"),et(">>")}})(Z.objectOid),(function(){if(Object.keys(mn).length>0){var Te;for(Te in et("/ExtGState <<"),mn)mn.hasOwnProperty(Te)&&mn[Te].objectNumber>=0&&et("/"+Te+" "+mn[Te].objectNumber+" 0 R");Fn.publish("putGStateDict"),et(">>")}})(),(function(){for(var Te in et("/XObject <<"),Ri)Ri.hasOwnProperty(Te)&&Ri[Te].objectNumber>=0&&et("/"+Te+" "+Ri[Te].objectNumber+" 0 R");Fn.publish("putXobjectDict"),et(">>")})(),et(">>"),et("endobj")},Oo=function(Z){Rn[Z.fontName]=Rn[Z.fontName]||{},Rn[Z.fontName][Z.fontStyle]=Z.id},Fl=function(Z,Te,nt,mt,_t){var ks={id:"F"+(Object.keys(En).length+1).toString(10),postScriptName:Z,fontName:Te,fontStyle:nt,encoding:mt,isStandardFont:_t||!1,metadata:{}};return Fn.publish("addFont",{font:ks,instance:this}),En[ks.id]=ks,Oo(ks),ks.id},xo=xe.__private__.pdfEscape=xe.pdfEscape=function(Z,Te){return(function(nt,mt){var _t,ks,Ds,Sr,Er,pn,Nn,ra,La;if(Ds=(mt=mt||{}).sourceEncoding||"Unicode",Er=mt.outputEncoding,(mt.autoencode||Er)&&En[Br].metadata&&En[Br].metadata[Ds]&&En[Br].metadata[Ds].encoding&&(Sr=En[Br].metadata[Ds].encoding,!Er&&En[Br].encoding&&(Er=En[Br].encoding),!Er&&Sr.codePages&&(Er=Sr.codePages[0]),typeof Er=="string"&&(Er=Sr[Er]),Er)){for(Nn=!1,pn=[],_t=0,ks=nt.length;_t<ks;_t++)(ra=Er[nt.charCodeAt(_t)])?pn.push(String.fromCharCode(ra)):pn.push(nt[_t]),pn[_t].charCodeAt(0)>>8&&(Nn=!0);nt=pn.join("")}for(_t=nt.length;Nn===void 0&&_t!==0;)nt.charCodeAt(_t-1)>>8&&(Nn=!0),_t--;if(!Nn)return nt;for(pn=mt.noBOM?[]:[254,255],_t=0,ks=nt.length;_t<ks;_t++){if((La=(ra=nt.charCodeAt(_t))>>8)>>8)throw new Error("Character at position "+_t+" of string '"+nt+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");pn.push(La),pn.push(ra-(La<<8))}return String.fromCharCode.apply(void 0,pn)})(Z,Te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gc=xe.__private__.beginPage=function(Z){Js[++jn]=[],ar[jn]={objId:0,contentsObjId:0,userUnit:Number(q),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Z[0]),topRightY:Number(Z[1])}},Gl(jn),Yr(Js[dt])},Fc=function(Z,Te){var nt,mt,_t;switch(S=Te||S,typeof Z=="string"&&(nt=We(Z.toLowerCase()),Array.isArray(nt)&&(mt=nt[0],_t=nt[1])),Array.isArray(Z)&&(mt=Z[0]*rn,_t=Z[1]*rn),isNaN(mt)&&(mt=P[0],_t=P[1]),(mt>14400||_t>14400)&&(w.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),mt=Math.min(14400,mt),_t=Math.min(14400,_t)),P=[mt,_t],S.substr(0,1)){case"l":_t>mt&&(P=[_t,mt]);break;case"p":mt>_t&&(P=[_t,mt])}gc(P),lr(Qi),et(Yi),Po!==0&&et(Po+" J"),nl!==0&&et(nl+" j"),Fn.publish("addPage",{pageNumber:jn})},ud=function(Z){Z>0&&Z<=jn&&(Js.splice(Z,1),ar.splice(Z,1),jn--,dt>jn&&(dt=jn),this.setPage(dt))},Gl=function(Z){Z>0&&Z<=jn&&(dt=Z)},Jd=xe.__private__.getNumberOfPages=xe.getNumberOfPages=function(){return Js.length-1},Ad=function(Z,Te,nt){var mt,_t=void 0;return nt=nt||{},Z=Z!==void 0?Z:En[Br].fontName,Te=Te!==void 0?Te:En[Br].fontStyle,mt=Z.toLowerCase(),Rn[mt]!==void 0&&Rn[mt][Te]!==void 0?_t=Rn[mt][Te]:Rn[Z]!==void 0&&Rn[Z][Te]!==void 0?_t=Rn[Z][Te]:nt.disableWarning===!1&&w.warn("Unable to look up font label for font '"+Z+"', '"+Te+"'. Refer to getFontList() for available fonts."),_t||nt.noFallback||(_t=Rn.times[Te])==null&&(_t=Rn.times.normal),_t},bo=xe.__private__.putInfo=function(){var Z=Ra(),Te=function(mt){return mt};for(var nt in Me!==null&&(Te=Gi.encryptor(Z,0)),et("<<"),et("/Producer ("+xo(Te("jsPDF "+Ge.version))+")"),Xr)Xr.hasOwnProperty(nt)&&Xr[nt]&&et("/"+nt.substr(0,1).toUpperCase()+nt.substr(1)+" ("+xo(Te(Xr[nt]))+")");et("/CreationDate ("+xo(Te(ns))+")"),et(">>"),et("endobj")},Md=xe.__private__.putCatalog=function(Z){var Te=(Z=Z||{}).rootDictionaryObjId||Pi;switch(Ra(),et("<<"),et("/Type /Catalog"),et("/Pages "+Te+" 0 R"),tn||(tn="fullwidth"),tn){case"fullwidth":et("/OpenAction [3 0 R /FitH null]");break;case"fullheight":et("/OpenAction [3 0 R /FitV null]");break;case"fullpage":et("/OpenAction [3 0 R /Fit]");break;case"original":et("/OpenAction [3 0 R /XYZ null null 1]");break;default:var nt=""+tn;nt.substr(nt.length-1)==="%"&&(tn=parseInt(tn)/100),typeof tn=="number"&&et("/OpenAction [3 0 R /XYZ null null "+Ye(tn)+"]")}switch(Sn||(Sn="continuous"),Sn){case"continuous":et("/PageLayout /OneColumn");break;case"single":et("/PageLayout /SinglePage");break;case"two":case"twoleft":et("/PageLayout /TwoColumnLeft");break;case"tworight":et("/PageLayout /TwoColumnRight")}Or&&et("/PageMode /"+Or),Fn.publish("putCatalog"),et(">>"),et("endobj")},Io=xe.__private__.putTrailer=function(){et("trailer"),et("<<"),et("/Size "+(Qt+1)),et("/Root "+Qt+" 0 R"),et("/Info "+(Qt-1)+" 0 R"),Me!==null&&et("/Encrypt "+Gi.oid+" 0 R"),et("/ID [ <"+us+"> <"+us+"> ]"),et(">>")},An=xe.__private__.putHeader=function(){et("%PDF-"+ct),et("%")},Ml=xe.__private__.putXRef=function(){var Z="0000000000";et("xref"),et("0 "+(Qt+1)),et("0000000000 65535 f ");for(var Te=1;Te<=Qt;Te++)typeof Xt[Te]=="function"?et((Z+Xt[Te]()).slice(-10)+" 00000 n "):Xt[Te]!==void 0?et((Z+Xt[Te]).slice(-10)+" 00000 n "):et("0000000000 00000 n ")},Wl=xe.__private__.buildDocument=function(){var Z;Qt=0,gs=0,ps=[],Xt=[],Ls=[],Pi=gi(),hl=gi(),Yr(ps),Fn.publish("buildDocument"),An(),ml(),(function(){Fn.publish("putAdditionalObjects");for(var nt=0;nt<Ls.length;nt++){var mt=Ls[nt];ci(mt.objId,!0),et(mt.content),et("endobj")}Fn.publish("postPutAdditionalObjects")})(),Z=[],(function(){for(var nt in En)En.hasOwnProperty(nt)&&(ze===!1||ze===!0&&Xe.hasOwnProperty(nt))&&Mo(En[nt])})(),(function(){var nt;for(nt in mn)mn.hasOwnProperty(nt)&&tl(mn[nt])})(),(function(){for(var nt in Ri)Ri.hasOwnProperty(nt)&&Uc(Ri[nt])})(),(function(nt){var mt;for(mt in Vr)Vr.hasOwnProperty(mt)&&(Vr[mt]instanceof kt?Xc(Vr[mt]):Vr[mt]instanceof St&&pc(Vr[mt],nt))})(Z),Fn.publish("putResources"),Z.forEach(Lc),Lc({resourcesOid:hl,objectOid:Number.MAX_SAFE_INTEGER}),Fn.publish("postPutResources"),Me!==null&&(Gi.oid=Ra(),et("<<"),et("/Filter /Standard"),et("/V "+Gi.v),et("/R "+Gi.r),et("/U <"+Gi.toHexString(Gi.U)+">"),et("/O <"+Gi.toHexString(Gi.O)+">"),et("/P "+Gi.P),et(">>"),et("endobj")),bo(),Md();var Te=gs;return Ml(),Io(),et("startxref"),et(""+Te),et("%%EOF"),Yr(Js[dt]),ps.join(`
`)},Yl=xe.__private__.getBlob=function(Z){return new Blob([un(Z)],{type:"application/pdf"})},Mc=xe.output=xe.__private__.output=(Lo=function(Z,Te){switch(typeof(Te=Te||{})=="string"?Te={filename:Te}:Te.filename=Te.filename||"generated.pdf",Z){case void 0:return Wl();case"save":xe.save(Te.filename);break;case"arraybuffer":return un(Wl());case"blob":return Yl(Wl());case"bloburi":case"bloburl":if(b.URL!==void 0&&typeof b.URL.createObjectURL=="function")return b.URL&&b.URL.createObjectURL(Yl(Wl()))||void 0;w.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var nt="",mt=Wl();try{nt=G(mt)}catch{nt=G(unescape(encodeURIComponent(mt)))}return"data:application/pdf;filename="+Te.filename+";base64,"+nt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(b)==="[object Window]"){var _t="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ks=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Te.pdfObjectUrl&&(_t=Te.pdfObjectUrl,ks="");var Ds='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_t+'"'+ks+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Te)+");<\/script></body></html>",Sr=b.open();return Sr!==null&&Sr.document.write(Ds),Sr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(b)==="[object Window]"){var Er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Te.filename+'" width="500px" height="400px" /></body></html>',pn=b.open();if(pn!==null){pn.document.write(Er);var Nn=this;pn.document.documentElement.querySelector("#pdfViewer").onload=function(){pn.document.title=Te.filename,pn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nn.output("bloburl"))}}return pn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(b)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ra='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Te)+'"></iframe></body></html>',La=b.open();if(La!==null&&(La.document.write(ra),La.document.title=Te.filename),La||typeof safari>"u")return La;break;case"datauri":case"dataurl":return b.document.location.href=this.output("datauristring",Te);default:return null}},Lo.foo=function(){try{return Lo.apply(this,arguments)}catch(nt){var Z=nt.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var Te="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+nt.message;if(!b.console)throw new Error(Te);b.console.error(Te,nt),b.alert&&alert(Te)}},Lo.foo.bar=Lo,Lo.foo),Ol=function(Z){return Array.isArray(Wc)===!0&&Wc.indexOf(Z)>-1};switch(I){case"pt":rn=1;break;case"mm":rn=2.834645669291339;break;case"cm":rn=28.346456692913385;break;case"in":rn=72;break;case"px":rn=Ol("px_scaling")==1?.75:1.3333333333333333;break;case"pc":case"em":rn=12;break;case"ex":rn=6;break;default:if(typeof I!="number")throw new Error("Invalid unit: "+I);rn=I}var Gi=null;Qs(),Gt();var Xl=xe.__private__.getPageInfo=xe.getPageInfo=function(Z){if(isNaN(Z)||Z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ar[Z].objId,pageNumber:Z,pageContext:ar[Z]}},hd=xe.__private__.getPageInfoByObjId=function(Z){if(isNaN(Z)||Z%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Te in ar)if(ar[Te].objId===Z)break;return Xl(Te)},Wi=xe.__private__.getCurrentPageInfo=xe.getCurrentPageInfo=function(){return{objId:ar[dt].objId,pageNumber:dt,pageContext:ar[dt]}};xe.addPage=function(){return Fc.apply(this,arguments),this},xe.setPage=function(){return Gl.apply(this,arguments),Yr.call(this,Js[dt]),this},xe.insertPage=function(Z){return this.addPage(),this.movePage(dt,Z),this},xe.movePage=function(Z,Te){var nt,mt;if(Z>Te){nt=Js[Z],mt=ar[Z];for(var _t=Z;_t>Te;_t--)Js[_t]=Js[_t-1],ar[_t]=ar[_t-1];Js[Te]=nt,ar[Te]=mt,this.setPage(Te)}else if(Z<Te){nt=Js[Z],mt=ar[Z];for(var ks=Z;ks<Te;ks++)Js[ks]=Js[ks+1],ar[ks]=ar[ks+1];Js[Te]=nt,ar[Te]=mt,this.setPage(Te)}return this},xe.deletePage=function(){return ud.apply(this,arguments),this},xe.__private__.text=xe.text=function(Z,Te,nt,mt,_t){var ks,Ds,Sr,Er,pn,Nn,ra,La,bi,Ba=(mt=mt||{}).scope||this;if(typeof Z=="number"&&typeof Te=="number"&&(typeof nt=="string"||Array.isArray(nt))){var Ei=nt;nt=Te,Te=Z,Z=Ei}if(arguments[3]instanceof an==0?(Sr=arguments[4],Er=arguments[5],(0,f.default)(ra=arguments[3])==="object"&&ra!==null||(typeof Sr=="string"&&(Er=Sr,Sr=null),typeof ra=="string"&&(Er=ra,ra=null),typeof ra=="number"&&(Sr=ra,ra=null),mt={flags:ra,angle:Sr,align:Er})):(yt("The transform parameter of text() with a Matrix value"),bi=_t),isNaN(Te)||isNaN(nt)||Z==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Z.length===0)return Ba;var C,Be="",H=typeof mt.lineHeightFactor=="number"?mt.lineHeightFactor:md,Pe=Ba.internal.scaleFactor;function lt(aa){return aa=aa.split("	").join(Array(mt.TabLen||9).join(" ")),xo(aa,ra)}function at(aa){for(var Ha,Qn=aa.concat(),Ji=[],nd=Qn.length;nd--;)typeof(Ha=Qn.shift())=="string"?Ji.push(Ha):Array.isArray(aa)&&(Ha.length===1||Ha[1]===void 0&&Ha[2]===void 0)?Ji.push(Ha[0]):Ji.push([Ha[0],Ha[1],Ha[2]]);return Ji}function Jt(aa,Ha){var Qn;if(typeof aa=="string")Qn=Ha(aa)[0];else if(Array.isArray(aa)){for(var Ji,nd,yu=aa.concat(),Od=[],Ou=yu.length;Ou--;)typeof(Ji=yu.shift())=="string"?Od.push(Ha(Ji)[0]):Array.isArray(Ji)&&typeof Ji[0]=="string"&&(nd=Ha(Ji[0],Ji[1],Ji[2]),Od.push([nd[0],nd[1],nd[2]]));Qn=Od}return Qn}var Ut=!1,pr=!0;if(typeof Z=="string")Ut=!0;else if(Array.isArray(Z)){var Nt=Z.concat();Ds=[];for(var Zt,gn=Nt.length;gn--;)(typeof(Zt=Nt.shift())!="string"||Array.isArray(Zt)&&typeof Zt[0]!="string")&&(pr=!1);Ut=pr}if(Ut===!1)throw new Error('Type of text must be string or Array. "'+Z+'" is not recognized.');typeof Z=="string"&&(Z=Z.match(/[\r?\n]/)?Z.split(/\r\n|\r|\n/g):[Z]);var nr=_s/Ba.internal.scaleFactor,Ps=nr*(H-1);switch(mt.baseline){case"bottom":nt-=Ps;break;case"top":nt+=nr-Ps;break;case"hanging":nt+=nr-2*Ps;break;case"middle":nt+=nr/2-Ps}if((Nn=mt.maxWidth||0)>0&&(typeof Z=="string"?Z=Ba.splitTextToSize(Z,Nn):Object.prototype.toString.call(Z)==="[object Array]"&&(Z=Z.reduce(function(aa,Ha){return aa.concat(Ba.splitTextToSize(Ha,Nn))},[]))),ks={text:Z,x:Te,y:nt,options:mt,mutex:{pdfEscape:xo,activeFontKey:Br,fonts:En,activeFontSize:_s}},Fn.publish("preProcessText",ks),Z=ks.text,Sr=(mt=ks.options).angle,bi instanceof an==0&&Sr&&typeof Sr=="number"){Sr*=Math.PI/180,mt.rotationDirection===0&&(Sr=-Sr),gt===Pt&&(Sr=-Sr);var xs=Math.cos(Sr),Fa=Math.sin(Sr);bi=new an(xs,Fa,-Fa,xs,0,0)}else Sr&&Sr instanceof an&&(bi=Sr);gt!==Pt||bi||(bi=pi),(pn=mt.charSpace||rl)!==void 0&&(Be+=zt(bt(pn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(La=mt.horizontalScale)!==void 0&&(Be+=zt(100*La)+` Tz
`),mt.lang;var hn=-1,Kr=mt.renderingMode!==void 0?mt.renderingMode:mt.stroke,cn=Ba.internal.getCurrentPageInfo().pageContext;switch(Kr){case 0:case!1:case"fill":hn=0;break;case 1:case!0:case"stroke":hn=1;break;case 2:case"fillThenStroke":hn=2;break;case 3:case"invisible":hn=3;break;case 4:case"fillAndAddForClipping":hn=4;break;case 5:case"strokeAndAddPathForClipping":hn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":hn=6;break;case 7:case"addToPathForClipping":hn=7}var Tn=cn.usedRenderingMode!==void 0?cn.usedRenderingMode:-1;hn!==-1?Be+=hn+` Tr
`:Tn!==-1&&(Be+=`0 Tr
`),hn!==-1&&(cn.usedRenderingMode=hn),Er=mt.align||"left";var tr,Un=_s*H,Ma=Ba.internal.pageSize.getWidth(),Hr=En[Br];pn=mt.charSpace||rl,Nn=mt.maxWidth||0,ra=Object.assign({autoencode:!0,noBOM:!0},mt.flags);var na=[],Pn=function(aa){return Ba.getStringUnitWidth(aa,{font:Hr,charSpace:pn,fontSize:_s,doKerning:!1})*_s/Pe};if(Object.prototype.toString.call(Z)==="[object Array]"){var Tr;Ds=at(Z),Er!=="left"&&(tr=Ds.map(Pn));var on,yo=0;if(Er==="right"){Te-=tr[0],Z=[],gn=Ds.length;for(var ql=0;ql<gn;ql++)ql===0?(on=Ro(Te),Tr=Ic(nt)):(on=bt(yo-tr[ql]),Tr=-Un),Z.push([Ds[ql],on,Tr]),yo=tr[ql]}else if(Er==="center"){Te-=tr[0]/2,Z=[],gn=Ds.length;for(var yl=0;yl<gn;yl++)yl===0?(on=Ro(Te),Tr=Ic(nt)):(on=bt((yo-tr[yl])/2),Tr=-Un),Z.push([Ds[yl],on,Tr]),yo=tr[yl]}else if(Er==="left"){Z=[],gn=Ds.length;for(var Xi=0;Xi<gn;Xi++)Z.push(Ds[Xi])}else if(Er==="justify"&&Hr.encoding==="Identity-H"){Z=[],gn=Ds.length,Nn=Nn!==0?Nn:Ma;for(var wo=0,Ya=0;Ya<gn;Ya++)if(Tr=Ya===0?Ic(nt):-Un,on=Ya===0?Ro(Te):wo,Ya<gn-1){var Mu=bt((Nn-tr[Ya])/(Ds[Ya].split(" ").length-1)),rd=Ds[Ya].split(" ");Z.push([rd[0]+" ",on,Tr]),wo=0;for(var il=1;il<rd.length;il++){var ol=(Pn(rd[il-1]+" "+rd[il])-Pn(rd[il]))*Pe+Mu;il==rd.length-1?Z.push([rd[il],ol,0]):Z.push([rd[il]+" ",ol,0]),wo-=ol}}else Z.push([Ds[Ya],on,Tr]);Z.push(["",wo,0])}else{if(Er!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Z=[],gn=Ds.length,Nn=Nn!==0?Nn:Ma,Ya=0;Ya<gn;Ya++){Tr=Ya===0?Ic(nt):-Un,on=Ya===0?Ro(Te):0;var vi=Ds[Ya].split(" ").length-1,qd=vi>0?(Nn-tr[Ya])/vi:0;Ya<gn-1?na.push(zt(bt(qd))):na.push(0),Z.push([Ds[Ya],on,Tr])}}}(typeof mt.R2L=="boolean"?mt.R2L:$r)===!0&&(Z=Jt(Z,function(aa,Ha,Qn){return[aa.split("").reverse().join(""),Ha,Qn]})),ks={text:Z,x:Te,y:nt,options:mt,mutex:{pdfEscape:xo,activeFontKey:Br,fonts:En,activeFontSize:_s}},Fn.publish("postProcessText",ks),Z=ks.text,C=ks.mutex.isHex||!1;var vc=En[Br].encoding;vc!=="WinAnsiEncoding"&&vc!=="StandardEncoding"||(Z=Jt(Z,function(aa,Ha,Qn){return[lt(aa),Ha,Qn]})),Ds=at(Z),Z=[];for(var yn,pa,ri,yd=Array.isArray(Ds[0])?1:0,ec="",yc=function(aa,Ha,Qn){var Ji="";return Qn instanceof an?(Qn=typeof mt.angle=="number"?li(Qn,new an(1,0,0,1,aa,Ha)):li(new an(1,0,0,1,aa,Ha),Qn),gt===Pt&&(Qn=li(new an(1,0,0,-1,0,0),Qn)),Ji=Qn.join(" ")+` Tm
`):Ji=zt(aa)+" "+zt(Ha)+` Td
`,Ji},Qo=0;Qo<Ds.length;Qo++){switch(ec="",yd){case 1:ri=(C?"<":"(")+Ds[Qo][0]+(C?">":")"),yn=parseFloat(Ds[Qo][1]),pa=parseFloat(Ds[Qo][2]);break;case 0:ri=(C?"<":"(")+Ds[Qo]+(C?">":")"),yn=Ro(Te),pa=Ic(nt)}na!==void 0&&na[Qo]!==void 0&&(ec=na[Qo]+` Tw
`),Qo===0?Z.push(ec+yc(yn,pa,bi)+ri):yd===0?Z.push(ec+ri):yd===1&&Z.push(ec+yc(yn,pa,bi)+ri)}Z=yd===0?Z.join(` Tj
T* `):Z.join(` Tj
`),Z+=` Tj
`;var tc=`BT
/`;return tc+=Br+" "+_s+` Tf
`,tc+=zt(_s*H)+` TL
`,tc+=bl+`
`,tc+=Be,tc+=Z,et(tc+="ET"),Xe[Br]=!0,Ba};var Jc=xe.__private__.clip=xe.clip=function(Z){return et(Z==="evenodd"?"W*":"W"),this};xe.clipEvenOdd=function(){return Jc("evenodd")},xe.__private__.discardPath=xe.discardPath=function(){return et("n"),this};var Do=xe.__private__.isValidStyle=function(Z){var Te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Z)!==-1&&(Te=!0),Te};xe.__private__.setDefaultPathOperation=xe.setDefaultPathOperation=function(Z){return Do(Z)&&(Ce=Z),this};var fd=xe.__private__.getStyle=xe.getStyle=function(Z){var Te=Ce;switch(Z){case"D":case"S":Te="S";break;case"F":Te="f";break;case"FD":case"DF":Te="B";break;case"f":case"f*":case"B":case"B*":Te=Z}return Te},Jl=xe.close=function(){return et("h"),this};xe.stroke=function(){return et("S"),this},xe.fill=function(Z){return vo("f",Z),this},xe.fillEvenOdd=function(Z){return vo("f*",Z),this},xe.fillStroke=function(Z){return vo("B",Z),this},xe.fillStrokeEvenOdd=function(Z){return vo("B*",Z),this};var vo=function(Z,Te){(0,f.default)(Te)==="object"?pl(Te,Z):et(Z)},to=function(Z){Z===null||gt===Pt&&Z===void 0||(Z=fd(Z),et(Z))};function Zl(Z,Te,nt,mt,_t){var ks=new St(Te||this.boundingBox,nt||this.xStep,mt||this.yStep,this.gState,_t||this.matrix);ks.stream=this.stream;var Ds=Z+"$$"+this.cloneIndex+++"$$";return el(Ds,ks),ks}var pl=function(Z,Te){var nt=Qa[Z.key],mt=Vr[nt];if(mt instanceof kt)et("q"),et(sl(Te)),mt.gState&&xe.setGState(mt.gState),et(Z.matrix.toString()+" cm"),et("/"+nt+" sh"),et("Q");else if(mt instanceof St){var _t=new an(1,0,0,-1,0,sd());Z.matrix&&(_t=_t.multiply(Z.matrix||pi),nt=Zl.call(mt,Z.key,Z.boundingBox,Z.xStep,Z.yStep,_t).id),et("q"),et("/Pattern cs"),et("/"+nt+" scn"),mt.gState&&xe.setGState(mt.gState),et(Te),et("Q")}},sl=function(Z){switch(Z){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},gl=xe.moveTo=function(Z,Te){return et(zt(bt(Z))+" "+zt(vt(Te))+" m"),this},gu=xe.lineTo=function(Z,Te){return et(zt(bt(Z))+" "+zt(vt(Te))+" l"),this},Il=xe.curveTo=function(Z,Te,nt,mt,_t,ks){return et([zt(bt(Z)),zt(vt(Te)),zt(bt(nt)),zt(vt(mt)),zt(bt(_t)),zt(vt(ks)),"c"].join(" ")),this};xe.__private__.line=xe.line=function(Z,Te,nt,mt,_t){if(isNaN(Z)||isNaN(Te)||isNaN(nt)||isNaN(mt)||!Do(_t))throw new Error("Invalid arguments passed to jsPDF.line");return gt===jt?this.lines([[nt-Z,mt-Te]],Z,Te,[1,1],_t||"S"):this.lines([[nt-Z,mt-Te]],Z,Te,[1,1]).stroke()},xe.__private__.lines=xe.lines=function(Z,Te,nt,mt,_t,ks){var Ds,Sr,Er,pn,Nn,ra,La,bi,Ba,Ei,C,Be;if(typeof Z=="number"&&(Be=nt,nt=Te,Te=Z,Z=Be),mt=mt||[1,1],ks=ks||!1,isNaN(Te)||isNaN(nt)||!Array.isArray(Z)||!Array.isArray(mt)||!Do(_t)||typeof ks!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(gl(Te,nt),Ds=mt[0],Sr=mt[1],pn=Z.length,Ei=Te,C=nt,Er=0;Er<pn;Er++)(Nn=Z[Er]).length===2?(Ei=Nn[0]*Ds+Ei,C=Nn[1]*Sr+C,gu(Ei,C)):(ra=Nn[0]*Ds+Ei,La=Nn[1]*Sr+C,bi=Nn[2]*Ds+Ei,Ba=Nn[3]*Sr+C,Ei=Nn[4]*Ds+Ei,C=Nn[5]*Sr+C,Il(ra,La,bi,Ba,Ei,C));return ks&&Jl(),to(_t),this},xe.path=function(Z){for(var Te=0;Te<Z.length;Te++){var nt=Z[Te],mt=nt.c;switch(nt.op){case"m":gl(mt[0],mt[1]);break;case"l":gu(mt[0],mt[1]);break;case"c":Il.apply(this,mt);break;case"h":Jl()}}return this},xe.__private__.rect=xe.rect=function(Z,Te,nt,mt,_t){if(isNaN(Z)||isNaN(Te)||isNaN(nt)||isNaN(mt)||!Do(_t))throw new Error("Invalid arguments passed to jsPDF.rect");return gt===jt&&(mt=-mt),et([zt(bt(Z)),zt(vt(Te)),zt(bt(nt)),zt(bt(mt)),"re"].join(" ")),to(_t),this},xe.__private__.triangle=xe.triangle=function(Z,Te,nt,mt,_t,ks,Ds){if(isNaN(Z)||isNaN(Te)||isNaN(nt)||isNaN(mt)||isNaN(_t)||isNaN(ks)||!Do(Ds))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[nt-Z,mt-Te],[_t-nt,ks-mt],[Z-_t,Te-ks]],Z,Te,[1,1],Ds,!0),this},xe.__private__.roundedRect=xe.roundedRect=function(Z,Te,nt,mt,_t,ks,Ds){if(isNaN(Z)||isNaN(Te)||isNaN(nt)||isNaN(mt)||isNaN(_t)||isNaN(ks)||!Do(Ds))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Sr=4/3*(Math.SQRT2-1);return _t=Math.min(_t,.5*nt),ks=Math.min(ks,.5*mt),this.lines([[nt-2*_t,0],[_t*Sr,0,_t,ks-ks*Sr,_t,ks],[0,mt-2*ks],[0,ks*Sr,-_t*Sr,ks,-_t,ks],[2*_t-nt,0],[-_t*Sr,0,-_t,-ks*Sr,-_t,-ks],[0,2*ks-mt],[0,-ks*Sr,_t*Sr,-ks,_t,-ks]],Z+_t,Te,[1,1],Ds,!0),this},xe.__private__.ellipse=xe.ellipse=function(Z,Te,nt,mt,_t){if(isNaN(Z)||isNaN(Te)||isNaN(nt)||isNaN(mt)||!Do(_t))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ks=4/3*(Math.SQRT2-1)*nt,Ds=4/3*(Math.SQRT2-1)*mt;return gl(Z+nt,Te),Il(Z+nt,Te-Ds,Z+ks,Te-mt,Z,Te-mt),Il(Z-ks,Te-mt,Z-nt,Te-Ds,Z-nt,Te),Il(Z-nt,Te+Ds,Z-ks,Te+mt,Z,Te+mt),Il(Z+ks,Te+mt,Z+nt,Te+Ds,Z+nt,Te),to(_t),this},xe.__private__.circle=xe.circle=function(Z,Te,nt,mt){if(isNaN(Z)||isNaN(Te)||isNaN(nt)||!Do(mt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Z,Te,nt,nt,mt)},xe.setFont=function(Z,Te,nt){return nt&&(Te=ls(Te,nt)),Br=Ad(Z,Te,{disableWarning:!1}),this};var xu=xe.__private__.getFont=xe.getFont=function(){return En[Ad.apply(xe,arguments)]};xe.__private__.getFontList=xe.getFontList=function(){var Z,Te,nt={};for(Z in Rn)if(Rn.hasOwnProperty(Z))for(Te in nt[Z]=[],Rn[Z])Rn[Z].hasOwnProperty(Te)&&nt[Z].push(Te);return nt},xe.addFont=function(Z,Te,nt,mt,_t){var ks=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ks.indexOf(arguments[3])!==-1?_t=arguments[3]:arguments[3]&&ks.indexOf(arguments[3])==-1&&(nt=ls(nt,mt)),Fl.call(this,Z,Te,nt,_t=_t||"Identity-H")};var md,Qi=N.lineWidth||.200025,_a=xe.__private__.getLineWidth=xe.getLineWidth=function(){return Qi},lr=xe.__private__.setLineWidth=xe.setLineWidth=function(Z){return Qi=Z,et(zt(bt(Z))+" w"),this};xe.__private__.setLineDash=Ge.API.setLineDash=Ge.API.setLineDashPattern=function(Z,Te){if(Z=Z||[],Te=Te||0,isNaN(Te)||!Array.isArray(Z))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Z=Z.map(function(nt){return zt(bt(nt))}).join(" "),Te=zt(bt(Te)),et("["+Z+"] "+Te+" d"),this};var Oc=xe.__private__.getLineHeight=xe.getLineHeight=function(){return _s*md};xe.__private__.getLineHeight=xe.getLineHeight=function(){return _s*md};var xl=xe.__private__.setLineHeightFactor=xe.setLineHeightFactor=function(Z){return typeof(Z=Z||1.15)=="number"&&(md=Z),this},pd=xe.__private__.getLineHeightFactor=xe.getLineHeightFactor=function(){return md};xl(N.lineHeight);var Ro=xe.__private__.getHorizontalCoordinate=function(Z){return bt(Z)},Ic=xe.__private__.getVerticalCoordinate=function(Z){return gt===Pt?Z:ar[dt].mediaBox.topRightY-ar[dt].mediaBox.bottomLeftY-bt(Z)},bu=xe.__private__.getHorizontalCoordinateString=xe.getHorizontalCoordinateString=function(Z){return zt(Ro(Z))},gd=xe.__private__.getVerticalCoordinateString=xe.getVerticalCoordinateString=function(Z){return zt(Ic(Z))},Yi=N.strokeColor||"0 G";xe.__private__.getStrokeColor=xe.getDrawColor=function(){return go(Yi)},xe.__private__.setStrokeColor=xe.setDrawColor=function(Z,Te,nt,mt){return Yi=Ll({ch1:Z,ch2:Te,ch3:nt,ch4:mt,pdfColorType:"draw",precision:2}),et(Yi),this};var Zc=N.fillColor||"0 g";xe.__private__.getFillColor=xe.getFillColor=function(){return go(Zc)},xe.__private__.setFillColor=xe.setFillColor=function(Z,Te,nt,mt){return Zc=Ll({ch1:Z,ch2:Te,ch3:nt,ch4:mt,pdfColorType:"fill",precision:2}),et(Zc),this};var bl=N.textColor||"0 g",Zd=xe.__private__.getTextColor=xe.getTextColor=function(){return go(bl)};xe.__private__.setTextColor=xe.setTextColor=function(Z,Te,nt,mt){return bl=Ll({ch1:Z,ch2:Te,ch3:nt,ch4:mt,pdfColorType:"text",precision:3}),this};var rl=N.charSpace,xc=xe.__private__.getCharSpace=xe.getCharSpace=function(){return parseFloat(rl||0)};xe.__private__.setCharSpace=xe.setCharSpace=function(Z){if(isNaN(Z))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return rl=Z,this};var Po=0;xe.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},xe.__private__.setLineCap=xe.setLineCap=function(Z){var Te=xe.CapJoinStyles[Z];if(Te===void 0)throw new Error("Line cap style of '"+Z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Po=Te,et(Te+" J"),this};var nl=0;xe.__private__.setLineJoin=xe.setLineJoin=function(Z){var Te=xe.CapJoinStyles[Z];if(Te===void 0)throw new Error("Line join style of '"+Z+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nl=Te,et(Te+" j"),this},xe.__private__.setLineMiterLimit=xe.__private__.setMiterLimit=xe.setLineMiterLimit=xe.setMiterLimit=function(Z){if(Z=Z||0,isNaN(Z))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return et(zt(bt(Z))+" M"),this},xe.GState=Fe,xe.setGState=function(Z){(Z=typeof Z=="string"?mn[_r[Z]]:xd(null,Z)).equals(Na)||(et("/"+Z.id+" gs"),Na=Z)};var xd=function(Z,Te){if(!Z||!_r[Z]){var nt=!1;for(var mt in mn)if(mn.hasOwnProperty(mt)&&mn[mt].equals(Te)){nt=!0;break}if(nt)Te=mn[mt];else{var _t="GS"+(Object.keys(mn).length+1).toString(10);mn[_t]=Te,Te.id=_t}return Z&&(_r[Z]=Te.id),Fn.publish("addGState",Te),Te}};xe.addGState=function(Z,Te){return xd(Z,Te),this},xe.saveGraphicsState=function(){return et("q"),Wa.push({key:Br,size:_s,color:bl}),this},xe.restoreGraphicsState=function(){et("Q");var Z=Wa.pop();return Br=Z.key,_s=Z.size,bl=Z.color,Na=null,this},xe.setCurrentTransformationMatrix=function(Z){return et(Z.toString()+" cm"),this},xe.comment=function(Z){return et("#"+Z),this};var vl=function(Z,Te){var nt=Z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return nt},set:function(ks){isNaN(ks)||(nt=parseFloat(ks))}});var mt=Te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return mt},set:function(ks){isNaN(ks)||(mt=parseFloat(ks))}});var _t="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _t},set:function(ks){_t=ks.toString()}}),this},bc=function(Z,Te,nt,mt){vl.call(this,Z,Te),this.type="rect";var _t=nt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _t},set:function(Ds){isNaN(Ds)||(_t=parseFloat(Ds))}});var ks=mt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ks},set:function(Ds){isNaN(Ds)||(ks=parseFloat(Ds))}}),this},qc=function(){this.page=jn,this.currentPage=dt,this.pages=Js.slice(0),this.pagesContext=ar.slice(0),this.x=Ir,this.y=vn,this.matrix=Wn,this.width=bd(dt),this.height=Fu(dt),this.outputDestination=gr,this.id="",this.objectNumber=-1};qc.prototype.restore=function(){jn=this.page,dt=this.currentPage,ar=this.pagesContext,Js=this.pages,Ir=this.x,vn=this.y,Wn=this.matrix,vu(dt,this.width),ed(dt,this.height),gr=this.outputDestination};var al=function(Z,Te,nt,mt,_t){Kl.push(new qc),jn=dt=0,Js=[],Ir=Z,vn=Te,Wn=_t,gc([nt,mt])};for(var si in xe.beginFormObject=function(Z,Te,nt,mt,_t){return al(Z,Te,nt,mt,_t),this},xe.endFormObject=function(Z){return(function(Te){if(lo[Te])Kl.pop().restore();else{var nt=new qc,mt="Xo"+(Object.keys(Ri).length+1).toString(10);nt.id=mt,lo[Te]=mt,Ri[mt]=nt,Fn.publish("addFormObject",nt),Kl.pop().restore()}})(Z),this},xe.doFormObject=function(Z,Te){var nt=Ri[lo[Z]];return et("q"),et(Te.toString()+" cm"),et("/"+nt.id+" Do"),et("Q"),this},xe.getFormObject=function(Z){var Te=Ri[lo[Z]];return{x:Te.x,y:Te.y,width:Te.width,height:Te.height,matrix:Te.matrix}},xe.save=function(Z,Te){return Z=Z||"generated.pdf",(Te=Te||{}).returnPromise=Te.returnPromise||!1,Te.returnPromise===!1?(X(Yl(Wl()),Z),typeof X.unload=="function"&&b.setTimeout&&setTimeout(X.unload,911),this):new Promise(function(nt,mt){try{var _t=X(Yl(Wl()),Z);typeof X.unload=="function"&&b.setTimeout&&setTimeout(X.unload,911),nt(_t)}catch(ks){mt(ks.message)}})},Ge.API)Ge.API.hasOwnProperty(si)&&(si==="events"&&Ge.API.events.length?(function(Z,Te){var nt,mt,_t;for(_t=Te.length-1;_t!==-1;_t--)nt=Te[_t][0],mt=Te[_t][1],Z.subscribe.apply(Z,[nt].concat(typeof mt=="function"?[mt]:mt))})(Fn,Ge.API.events):xe[si]=Ge.API[si]);function bd(Z){return ar[Z].mediaBox.topRightX-ar[Z].mediaBox.bottomLeftX}function vu(Z,Te){ar[Z].mediaBox.topRightX=Te+ar[Z].mediaBox.bottomLeftX}function Fu(Z){return ar[Z].mediaBox.topRightY-ar[Z].mediaBox.bottomLeftY}function ed(Z,Te){ar[Z].mediaBox.topRightY=Te+ar[Z].mediaBox.bottomLeftY}var td=xe.getPageWidth=function(Z){return bd(Z=Z||dt)/rn},xi=xe.setPageWidth=function(Z,Te){vu(Z,Te*rn)},sd=xe.getPageHeight=function(Z){return Fu(Z=Z||dt)/rn},vd=xe.setPageHeight=function(Z,Te){ed(Z,Te*rn)};return xe.internal={pdfEscape:xo,getStyle:fd,getFont:xu,getFontSize:vr,getCharSpace:xc,getTextColor:Zd,getLineHeight:Oc,getLineHeightFactor:pd,getLineWidth:_a,write:or,getHorizontalCoordinate:Ro,getVerticalCoordinate:Ic,getCoordinateString:bu,getVerticalCoordinateString:gd,collections:{},newObject:Ra,newAdditionalObject:Ul,newObjectDeferred:gi,newObjectDeferredBegin:ci,getFilters:Fo,putStream:fl,events:Fn,scaleFactor:rn,pageSize:{getWidth:function(){return td(dt)},setWidth:function(Z){xi(dt,Z)},getHeight:function(){return sd(dt)},setHeight:function(Z){vd(dt,Z)}},encryptionOptions:Me,encryption:Gi,getEncryptor:function(Z){return Me!==null?Gi.encryptor(Z,0):function(Te){return Te}},output:Mc,getNumberOfPages:Jd,get pages(){return Js},out:et,f2:Ye,f3:st,getPageInfo:Xl,getPageInfoByObjId:hd,getCurrentPageInfo:Wi,getPDFVersion:it,Point:vl,Rectangle:bc,Matrix:an,hasHotfix:Ol},Object.defineProperty(xe.internal.pageSize,"width",{get:function(){return td(dt)},set:function(Z){xi(dt,Z)},enumerable:!0,configurable:!0}),Object.defineProperty(xe.internal.pageSize,"height",{get:function(){return sd(dt)},set:function(Z){vd(dt,Z)},enumerable:!0,configurable:!0}),(function(Z){for(var Te=0,nt=rr.length;Te<nt;Te++){var mt=Fl.call(this,Z[Te][0],Z[Te][1],Z[Te][2],rr[Te][3],!0);ze===!1&&(Xe[mt]=!0);var _t=Z[Te][0].split("-");Oo({id:mt,fontName:_t[0],fontStyle:_t[1]||""})}Fn.publish("addFonts",{fonts:En,dictionary:Rn})}).call(xe,rr),Br="F1",Fc(P,S),Fn.publish("initialized"),xe}fe.prototype.lsbFirstWord=function(N){return String.fromCharCode(255&N,N>>8&255,N>>16&255,N>>24&255)},fe.prototype.toHexString=function(N){return N.split("").map(function(v){return("0"+(255&v.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fe.prototype.hexToBytes=function(N){for(var v=[],S=0;S<N.length;S+=2)v.push(String.fromCharCode(parseInt(N.substr(S,2),16)));return v.join("")},fe.prototype.processOwnerPassword=function(N,v){return pe(Ee(v).substr(0,5),N)},fe.prototype.encryptor=function(N,v){var S=Ee(this.encryptionKey+String.fromCharCode(255&N,N>>8&255,N>>16&255,255&v,v>>8&255)).substr(0,10);return function(I){return pe(S,I)}},Fe.prototype.equals=function(N){var v,S="id,objectNumber,equals";if(!N||(0,f.default)(N)!==(0,f.default)(this))return!1;var I=0;for(v in this)if(!(S.indexOf(v)>=0)){if(this.hasOwnProperty(v)&&!N.hasOwnProperty(v)||this[v]!==N[v])return!1;I++}for(v in N)N.hasOwnProperty(v)&&S.indexOf(v)<0&&I--;return I===0},Ge.API={events:[]},Ge.version="4.0.0";var Mt=Ge.API,Vt=1,cs=function(N){return N.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xt=function(N){return N.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ot=function(N){return N.toFixed(2)},At=function(N){return N.toFixed(5)};Mt.__acroform__={};var Lt=function(N,v){N.prototype=Object.create(v.prototype),N.prototype.constructor=N},$s=function(N){return N*Vt},vs=function(N){var v=new Vs,S=fs.internal.getHeight(N)||0,I=fs.internal.getWidth(N)||0;return v.BBox=[0,0,Number(ot(I)),Number(ot(S))],v},fr=Mt.__acroform__.setBit=function(N,v){if(N=N||0,v=v||0,isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return N|1<<v},Ar=Mt.__acroform__.clearBit=function(N,v){if(N=N||0,v=v||0,isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return N&~(1<<v)},hr=Mt.__acroform__.getBit=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return N&1<<v?1:0},Ms=Mt.__acroform__.getBitForPdf=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hr(N,v-1)},ys=Mt.__acroform__.setBitForPdf=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return fr(N,v-1)},Us=Mt.__acroform__.clearBitForPdf=function(N,v){if(isNaN(N)||isNaN(v))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ar(N,v-1)},xr=Mt.__acroform__.calculateCoordinates=function(N,v){var S=v.internal.getHorizontalCoordinate,I=v.internal.getVerticalCoordinate,P=N[0],V=N[1],ce=N[2],q=N[3],ee={};return ee.lowerLeft_X=S(P)||0,ee.lowerLeft_Y=I(V+q)||0,ee.upperRight_X=S(P+ce)||0,ee.upperRight_Y=I(V)||0,[Number(ot(ee.lowerLeft_X)),Number(ot(ee.lowerLeft_Y)),Number(ot(ee.upperRight_X)),Number(ot(ee.upperRight_Y))]},yr=function(N){if(N.appearanceStreamContent)return N.appearanceStreamContent;if(N.V||N.DV){var v=[],S=N._V||N.DV,I=nn(N,S),P=N.scope.internal.getFont(N.fontName,N.fontStyle).id;v.push("/Tx BMC"),v.push("q"),v.push("BT"),v.push(N.scope.__private__.encodeColorString(N.color)),v.push("/"+P+" "+ot(I.fontSize)+" Tf"),v.push("1 0 0 1 0 0 Tm"),v.push(I.text),v.push("ET"),v.push("Q"),v.push("EMC");var V=vs(N);return V.scope=N.scope,V.stream=v.join(`
`),V}},nn=function(N,v){var S=N.fontSize===0?N.maxFontSize:N.fontSize,I={text:"",fontSize:""},P=(v=(v=v.substr(0,1)=="("?v.substr(1):v).substr(v.length-1)==")"?v.substr(0,v.length-1):v).split(" ");P=N.multiline?P.map(function(Ye){return Ye.split(`
`)}):P.map(function(Ye){return[Ye]});var V=S,ce=fs.internal.getHeight(N)||0;ce=ce<0?-ce:ce;var q=fs.internal.getWidth(N)||0;q=q<0?-q:q;var ee=function(Ye,st,bt){if(Ye+1<P.length){var vt=st+" "+P[Ye+1][0];return Nr(vt,N,bt).width<=q-4}return!1};V++;e:for(;V>0;){v="",V--;var Ce,Me,ze=Nr("3",N,V).height,Xe=N.multiline?ce-V:(ce-ze)/2,xe=Xe+=2,ct=0,it=0,ut=0;if(V<=0){v=`(...) Tj
`,v+="% Width of Text: "+Nr(v,N,V=12).width+", FieldWidth:"+q+`
`;break}for(var We="",jt=0,Pt=0;Pt<P.length;Pt++)if(P.hasOwnProperty(Pt)){var gt=!1;if(P[Pt].length!==1&&ut!==P[Pt].length-1){if((ze+2)*(jt+2)+2>ce)continue e;We+=P[Pt][ut],gt=!0,it=Pt,Pt--}else{We=(We+=P[Pt][ut]+" ").substr(We.length-1)==" "?We.substr(0,We.length-1):We;var Ke=parseInt(Pt),Ot=ee(Ke,We,V),ls=Pt>=P.length-1;if(Ot&&!ls){We+=" ",ut=0;continue}if(Ot||ls){if(ls)it=Ke;else if(N.multiline&&(ze+2)*(jt+2)+2>ce)continue e}else{if(!N.multiline||(ze+2)*(jt+2)+2>ce)continue e;it=Ke}}for(var zt="",yt=ct;yt<=it;yt++){var ss=P[yt];if(N.multiline){if(yt===it){zt+=ss[ut]+" ",ut=(ut+1)%ss.length;continue}if(yt===ct){zt+=ss[ss.length-1]+" ";continue}}zt+=ss[0]+" "}switch(zt=zt.substr(zt.length-1)==" "?zt.substr(0,zt.length-1):zt,Me=Nr(zt,N,V).width,N.textAlign){case"right":Ce=q-Me-2;break;case"center":Ce=(q-Me)/2;break;default:Ce=2}v+=ot(Ce)+" "+ot(xe)+` Td
`,v+="("+cs(zt)+`) Tj
`,v+=-ot(Ce)+` 0 Td
`,xe=-(V+2),Me=0,ct=gt?it:it+1,jt++,We=""}break}return I.text=v,I.fontSize=V,I},Nr=function(N,v,S){var I=v.scope.internal.getFont(v.fontName,v.fontStyle),P=v.scope.getStringUnitWidth(N,{font:I,fontSize:parseFloat(S),charSpace:0})*parseFloat(S);return{height:v.scope.getStringUnitWidth("3",{font:I,fontSize:parseFloat(S),charSpace:0})*parseFloat(S)*1.5,width:P}},er={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Ys=function(N,v){var S={type:"reference",object:N};v.internal.getPageInfo(N.page).pageContext.annotations.find(function(I){return I.type===S.type&&I.object===S.object})===void 0&&v.internal.getPageInfo(N.page).pageContext.annotations.push(S)},Ts=function(N,v){if(v.scope=N,N.internal!==void 0&&(N.internal.acroformPlugin===void 0||N.internal.acroformPlugin.isInitialized===!1)){if(wt.FieldNum=0,N.internal.acroformPlugin=JSON.parse(JSON.stringify(er)),N.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Vt=N.internal.scaleFactor,N.internal.acroformPlugin.acroFormDictionaryRoot=new ir,N.internal.acroformPlugin.acroFormDictionaryRoot.scope=N,N.internal.acroformPlugin.acroFormDictionaryRoot._eventID=N.internal.events.subscribe("postPutResources",function(){(function(S){S.internal.events.unsubscribe(S.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete S.internal.acroformPlugin.acroFormDictionaryRoot._eventID,S.internal.acroformPlugin.printedOut=!0})(N)}),N.internal.events.subscribe("buildDocument",function(){(function(S){S.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var I=S.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var P in I)if(I.hasOwnProperty(P)){var V=I[P];V.objId=void 0,V.hasAnnotation&&Ys(V,S)}})(N)}),N.internal.events.subscribe("putCatalog",function(){(function(S){if(S.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");S.internal.write("/AcroForm "+S.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(N)}),N.internal.events.subscribe("postPutPages",function(S){(function(I,P){var V=!I;for(var ce in I||(P.internal.newObjectDeferredBegin(P.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),P.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),I=I||P.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(I.hasOwnProperty(ce)){var q=I[ce],ee=[],Ce=q.Rect;if(q.Rect&&(q.Rect=xr(q.Rect,P)),P.internal.newObjectDeferredBegin(q.objId,!0),q.DA=fs.createDefaultAppearanceStream(q),(0,f.default)(q)==="object"&&typeof q.getKeyValueListForStream=="function"&&(ee=q.getKeyValueListForStream()),q.Rect=Ce,q.hasAppearanceStream&&!q.appearanceStreamContent){var Me=yr(q);ee.push({key:"AP",value:"<</N "+Me+">>"}),P.internal.acroformPlugin.xForms.push(Me)}if(q.appearanceStreamContent){var ze="";for(var Xe in q.appearanceStreamContent)if(q.appearanceStreamContent.hasOwnProperty(Xe)){var xe=q.appearanceStreamContent[Xe];if(ze+="/"+Xe+" ",ze+="<<",Object.keys(xe).length>=1||Array.isArray(xe)){for(var ce in xe)if(xe.hasOwnProperty(ce)){var ct=xe[ce];typeof ct=="function"&&(ct=ct.call(P,q)),ze+="/"+ce+" "+ct+" ",P.internal.acroformPlugin.xForms.indexOf(ct)>=0||P.internal.acroformPlugin.xForms.push(ct)}}else typeof(ct=xe)=="function"&&(ct=ct.call(P,q)),ze+="/"+ce+" "+ct,P.internal.acroformPlugin.xForms.indexOf(ct)>=0||P.internal.acroformPlugin.xForms.push(ct);ze+=">>"}ee.push({key:"AP",value:`<<
`+ze+">>"})}P.internal.putStream({additionalKeyValues:ee,objectId:q.objId}),P.internal.out("endobj")}V&&(function(it,ut){for(var We in it)if(it.hasOwnProperty(We)){var jt=We,Pt=it[We];ut.internal.newObjectDeferredBegin(Pt.objId,!0),(0,f.default)(Pt)==="object"&&typeof Pt.putStream=="function"&&Pt.putStream(),delete it[jt]}})(P.internal.acroformPlugin.xForms,P)})(S,N)}),N.internal.acroformPlugin.isInitialized=!0}},ft=Mt.__acroform__.arrayToPdfArray=function(N,v,S){var I=function(ce){return ce};if(Array.isArray(N)){for(var P="[",V=0;V<N.length;V++)switch(V!==0&&(P+=" "),(0,f.default)(N[V])){case"boolean":case"number":case"object":P+=N[V].toString();break;case"string":N[V].substr(0,1)!=="/"?(v!==void 0&&S&&(I=S.internal.getEncryptor(v)),P+="("+cs(I(N[V].toString()))+")"):P+=N[V].toString()}return P+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Kt=function(N,v,S){var I=function(P){return P};return v!==void 0&&S&&(I=S.internal.getEncryptor(v)),(N=N||"").toString(),"("+cs(I(N))+")"},Cs=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(N){this._objId=N}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Cs.prototype.toString=function(){return this.objId+" 0 R"},Cs.prototype.putStream=function(){var N=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:N,objectId:this.objId}),this.scope.internal.out("endobj")},Cs.prototype.getKeyValueListForStream=function(){var N=[],v=Object.getOwnPropertyNames(this).filter(function(V){return V!="content"&&V!="appearanceStreamContent"&&V!="scope"&&V!="objId"&&V.substring(0,1)!="_"});for(var S in v)if(Object.getOwnPropertyDescriptor(this,v[S]).configurable===!1){var I=v[S],P=this[I];P&&(Array.isArray(P)?N.push({key:I,value:ft(P,this.objId,this.scope)}):P instanceof Cs?(P.scope=this.scope,N.push({key:I,value:P.objId+" 0 R"})):typeof P!="function"&&N.push({key:I,value:P}))}return N};var Vs=function(){Cs.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var N,v=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return v},set:function(S){v=S}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(S){N=S.trim()},get:function(){return N||null}})};Lt(Vs,Cs);var ir=function(){Cs.call(this);var N,v=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return v.length>0?v:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return v}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(N){var S=function(I){return I};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+cs(S(N))+")"}},set:function(S){N=S}})};Lt(ir,Cs);var wt=function N(){Cs.call(this);var v=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return v},set:function(We){if(isNaN(We))throw new Error('Invalid value "'+We+'" for attribute F supplied.');v=We}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ms(v,3)},set:function(We){We?this.F=ys(v,3):this.F=Us(v,3)}});var S=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return S},set:function(We){if(isNaN(We))throw new Error('Invalid value "'+We+'" for attribute Ff supplied.');S=We}});var I=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(I.length!==0)return I},set:function(We){I=We!==void 0?We:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[0])?0:I[0]},set:function(We){I[0]=We}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[1])?0:I[1]},set:function(We){I[1]=We}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[2])?0:I[2]},set:function(We){I[2]=We}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!I||isNaN(I[3])?0:I[3]},set:function(We){I[3]=We}});var P="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return P},set:function(We){switch(We){case"/Btn":case"/Tx":case"/Ch":case"/Sig":P=We;break;default:throw new Error('Invalid value "'+We+'" for attribute FT supplied.')}}});var V=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!V||V.length<1){if(this instanceof wa)return;V="FieldObject"+N.FieldNum++}var We=function(jt){return jt};return this.scope&&(We=this.scope.internal.getEncryptor(this.objId)),"("+cs(We(V))+")"},set:function(We){V=We.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return V},set:function(We){V=We}});var ce="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return ce},set:function(We){ce=We}});var q="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return q},set:function(We){q=We}});var ee=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return ee},set:function(We){ee=We}});var Ce=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Ce===void 0?50/Vt:Ce},set:function(We){Ce=We}});var Me="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Me},set:function(We){Me=We}});var ze="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!ze||this instanceof wa||this instanceof Os))return Kt(ze,this.objId,this.scope)},set:function(We){We=We.toString(),ze=We}});var Xe=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Xe)return this instanceof zs==0?Kt(Xe,this.objId,this.scope):Xe},set:function(We){We=We.toString(),Xe=this instanceof zs==0?We.substr(0,1)==="("?xt(We.substr(1,We.length-2)):xt(We):We}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof zs==1?xt(Xe.substr(1,Xe.length-1)):Xe},set:function(We){We=We.toString(),Xe=this instanceof zs==1?"/"+We:We}});var xe=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(xe)return xe},set:function(We){this.V=We}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(xe)return this instanceof zs==0?Kt(xe,this.objId,this.scope):xe},set:function(We){We=We.toString(),xe=this instanceof zs==0?We.substr(0,1)==="("?xt(We.substr(1,We.length-2)):xt(We):We}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof zs==1?xt(xe.substr(1,xe.length-1)):xe},set:function(We){We=We.toString(),xe=this instanceof zs==1?"/"+We:We}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var ct,it=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return it},set:function(We){We=!!We,it=We}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(ct)return ct},set:function(We){ct=We}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,1)},set:function(We){We?this.Ff=ys(this.Ff,1):this.Ff=Us(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,2)},set:function(We){We?this.Ff=ys(this.Ff,2):this.Ff=Us(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,3)},set:function(We){We?this.Ff=ys(this.Ff,3):this.Ff=Us(this.Ff,3)}});var ut=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(ut!==null)return ut},set:function(We){if([0,1,2].indexOf(We)===-1)throw new Error('Invalid value "'+We+'" for attribute Q supplied.');ut=We}}),Object.defineProperty(this,"textAlign",{get:function(){var We;switch(ut){case 0:default:We="left";break;case 1:We="center";break;case 2:We="right"}return We},configurable:!0,enumerable:!0,set:function(We){switch(We){case"right":case 2:ut=2;break;case"center":case 1:ut=1;break;default:ut=0}}})};Lt(wt,Cs);var es=function(){wt.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var N=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return N},set:function(S){N=S}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return N},set:function(S){N=S}});var v=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ft(v,this.objId,this.scope)},set:function(S){var I,P;P=[],typeof(I=S)=="string"&&(P=(function(V,ce,q){q||(q=1);for(var ee,Ce=[];ee=ce.exec(V);)Ce.push(ee[q]);return Ce})(I,/\((.*?)\)/g)),v=P}}),this.getOptions=function(){return v},this.setOptions=function(S){v=S,this.sort&&v.sort()},this.addOption=function(S){S=(S=S||"").toString(),v.push(S),this.sort&&v.sort()},this.removeOption=function(S,I){for(I=I||!1,S=(S=S||"").toString();v.indexOf(S)!==-1&&(v.splice(v.indexOf(S),1),I!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,18)},set:function(S){S?this.Ff=ys(this.Ff,18):this.Ff=Us(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,19)},set:function(S){this.combo===!0&&(S?this.Ff=ys(this.Ff,19):this.Ff=Us(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,20)},set:function(S){S?(this.Ff=ys(this.Ff,20),v.sort()):this.Ff=Us(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,22)},set:function(S){S?this.Ff=ys(this.Ff,22):this.Ff=Us(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,23)},set:function(S){S?this.Ff=ys(this.Ff,23):this.Ff=Us(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,27)},set:function(S){S?this.Ff=ys(this.Ff,27):this.Ff=Us(this.Ff,27)}}),this.hasAppearanceStream=!1};Lt(es,wt);var As=function(){es.call(this),this.fontName="helvetica",this.combo=!1};Lt(As,es);var hs=function(){As.call(this),this.combo=!0};Lt(hs,As);var Ks=function(){hs.call(this),this.edit=!0};Lt(Ks,hs);var zs=function(){wt.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,15)},set:function(S){S?this.Ff=ys(this.Ff,15):this.Ff=Us(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,16)},set:function(S){S?this.Ff=ys(this.Ff,16):this.Ff=Us(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,17)},set:function(S){S?this.Ff=ys(this.Ff,17):this.Ff=Us(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,26)},set:function(S){S?this.Ff=ys(this.Ff,26):this.Ff=Us(this.Ff,26)}});var N,v={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var S=function(V){return V};if(this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),Object.keys(v).length!==0){var I,P=[];for(I in P.push("<<"),v)P.push("/"+I+" ("+cs(S(v[I]))+")");return P.push(">>"),P.join(`
`)}},set:function(S){(0,f.default)(S)==="object"&&(v=S)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return v.CA||""},set:function(S){typeof S=="string"&&(v.CA=S)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return N},set:function(S){N=S}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return N.substr(1,N.length-1)},set:function(S){N="/"+S}})};Lt(zs,wt);var mr=function(){zs.call(this),this.pushButton=!0};Lt(mr,zs);var en=function(){zs.call(this),this.radio=!0,this.pushButton=!1;var N=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return N},set:function(v){N=v!==void 0?v:[]}})};Lt(en,zs);var wa=function(){var N,v;wt.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return N},set:function(P){N=P}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return v},set:function(P){v=P}});var S,I={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var P=function(q){return q};this.scope&&(P=this.scope.internal.getEncryptor(this.objId));var V,ce=[];for(V in ce.push("<<"),I)ce.push("/"+V+" ("+cs(P(I[V]))+")");return ce.push(">>"),ce.join(`
`)},set:function(P){(0,f.default)(P)==="object"&&(I=P)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return I.CA||""},set:function(P){typeof P=="string"&&(I.CA=P)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return S},set:function(P){S=P}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return S.substr(1,S.length-1)},set:function(P){S="/"+P}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=fs.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Lt(wa,wt),en.prototype.setAppearance=function(N){if(!("createAppearanceStream"in N)||!("getCA"in N))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var v in this.Kids)if(this.Kids.hasOwnProperty(v)){var S=this.Kids[v];S.appearanceStreamContent=N.createAppearanceStream(S.optionName),S.caption=N.getCA()}},en.prototype.createOption=function(N){var v=new wa;return v.Parent=this,v.optionName=N,this.Kids.push(v),Pr.call(this.scope,v),v};var Ss=function(){zs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=fs.CheckBox.createAppearanceStream()};Lt(Ss,zs);var Os=function(){wt.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,13)},set:function(v){v?this.Ff=ys(this.Ff,13):this.Ff=Us(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,21)},set:function(v){v?this.Ff=ys(this.Ff,21):this.Ff=Us(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,23)},set:function(v){v?this.Ff=ys(this.Ff,23):this.Ff=Us(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,24)},set:function(v){v?this.Ff=ys(this.Ff,24):this.Ff=Us(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,25)},set:function(v){v?this.Ff=ys(this.Ff,25):this.Ff=Us(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,26)},set:function(v){v?this.Ff=ys(this.Ff,26):this.Ff=Us(this.Ff,26)}});var N=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return N},set:function(v){N=v}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return N},set:function(v){Number.isInteger(v)&&(N=v)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Lt(Os,wt);var sr=function(){Os.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ms(this.Ff,14)},set:function(N){N?this.Ff=ys(this.Ff,14):this.Ff=Us(this.Ff,14)}}),this.password=!0};Lt(sr,Os);var fs={CheckBox:{createAppearanceStream:function(){return{N:{On:fs.CheckBox.YesNormal},D:{On:fs.CheckBox.YesPushDown,Off:fs.CheckBox.OffPushDown}}},YesPushDown:function(N){var v=vs(N);v.scope=N.scope;var S=[],I=N.scope.internal.getFont(N.fontName,N.fontStyle).id,P=N.scope.__private__.encodeColorString(N.color),V=nn(N,N.caption);return S.push("0.749023 g"),S.push("0 0 "+ot(fs.internal.getWidth(N))+" "+ot(fs.internal.getHeight(N))+" re"),S.push("f"),S.push("BMC"),S.push("q"),S.push("0 0 1 rg"),S.push("/"+I+" "+ot(V.fontSize)+" Tf "+P),S.push("BT"),S.push(V.text),S.push("ET"),S.push("Q"),S.push("EMC"),v.stream=S.join(`
`),v},YesNormal:function(N){var v=vs(N);v.scope=N.scope;var S=N.scope.internal.getFont(N.fontName,N.fontStyle).id,I=N.scope.__private__.encodeColorString(N.color),P=[],V=fs.internal.getHeight(N),ce=fs.internal.getWidth(N),q=nn(N,N.caption);return P.push("1 g"),P.push("0 0 "+ot(ce)+" "+ot(V)+" re"),P.push("f"),P.push("q"),P.push("0 0 1 rg"),P.push("0 0 "+ot(ce-1)+" "+ot(V-1)+" re"),P.push("W"),P.push("n"),P.push("0 g"),P.push("BT"),P.push("/"+S+" "+ot(q.fontSize)+" Tf "+I),P.push(q.text),P.push("ET"),P.push("Q"),v.stream=P.join(`
`),v},OffPushDown:function(N){var v=vs(N);v.scope=N.scope;var S=[];return S.push("0.749023 g"),S.push("0 0 "+ot(fs.internal.getWidth(N))+" "+ot(fs.internal.getHeight(N))+" re"),S.push("f"),v.stream=S.join(`
`),v}},RadioButton:{Circle:{createAppearanceStream:function(N){var v={D:{Off:fs.RadioButton.Circle.OffPushDown},N:{}};return v.N[N]=fs.RadioButton.Circle.YesNormal,v.D[N]=fs.RadioButton.Circle.YesPushDown,v},getCA:function(){return"l"},YesNormal:function(N){var v=vs(N);v.scope=N.scope;var S=[],I=fs.internal.getWidth(N)<=fs.internal.getHeight(N)?fs.internal.getWidth(N)/4:fs.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var P=fs.internal.Bezier_C,V=Number((I*P).toFixed(5));return S.push("q"),S.push("1 0 0 1 "+At(fs.internal.getWidth(N)/2)+" "+At(fs.internal.getHeight(N)/2)+" cm"),S.push(I+" 0 m"),S.push(I+" "+V+" "+V+" "+I+" 0 "+I+" c"),S.push("-"+V+" "+I+" -"+I+" "+V+" -"+I+" 0 c"),S.push("-"+I+" -"+V+" -"+V+" -"+I+" 0 -"+I+" c"),S.push(V+" -"+I+" "+I+" -"+V+" "+I+" 0 c"),S.push("f"),S.push("Q"),v.stream=S.join(`
`),v},YesPushDown:function(N){var v=vs(N);v.scope=N.scope;var S=[],I=fs.internal.getWidth(N)<=fs.internal.getHeight(N)?fs.internal.getWidth(N)/4:fs.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var P=Number((2*I).toFixed(5)),V=Number((P*fs.internal.Bezier_C).toFixed(5)),ce=Number((I*fs.internal.Bezier_C).toFixed(5));return S.push("0.749023 g"),S.push("q"),S.push("1 0 0 1 "+At(fs.internal.getWidth(N)/2)+" "+At(fs.internal.getHeight(N)/2)+" cm"),S.push(P+" 0 m"),S.push(P+" "+V+" "+V+" "+P+" 0 "+P+" c"),S.push("-"+V+" "+P+" -"+P+" "+V+" -"+P+" 0 c"),S.push("-"+P+" -"+V+" -"+V+" -"+P+" 0 -"+P+" c"),S.push(V+" -"+P+" "+P+" -"+V+" "+P+" 0 c"),S.push("f"),S.push("Q"),S.push("0 g"),S.push("q"),S.push("1 0 0 1 "+At(fs.internal.getWidth(N)/2)+" "+At(fs.internal.getHeight(N)/2)+" cm"),S.push(I+" 0 m"),S.push(I+" "+ce+" "+ce+" "+I+" 0 "+I+" c"),S.push("-"+ce+" "+I+" -"+I+" "+ce+" -"+I+" 0 c"),S.push("-"+I+" -"+ce+" -"+ce+" -"+I+" 0 -"+I+" c"),S.push(ce+" -"+I+" "+I+" -"+ce+" "+I+" 0 c"),S.push("f"),S.push("Q"),v.stream=S.join(`
`),v},OffPushDown:function(N){var v=vs(N);v.scope=N.scope;var S=[],I=fs.internal.getWidth(N)<=fs.internal.getHeight(N)?fs.internal.getWidth(N)/4:fs.internal.getHeight(N)/4;I=Number((.9*I).toFixed(5));var P=Number((2*I).toFixed(5)),V=Number((P*fs.internal.Bezier_C).toFixed(5));return S.push("0.749023 g"),S.push("q"),S.push("1 0 0 1 "+At(fs.internal.getWidth(N)/2)+" "+At(fs.internal.getHeight(N)/2)+" cm"),S.push(P+" 0 m"),S.push(P+" "+V+" "+V+" "+P+" 0 "+P+" c"),S.push("-"+V+" "+P+" -"+P+" "+V+" -"+P+" 0 c"),S.push("-"+P+" -"+V+" -"+V+" -"+P+" 0 -"+P+" c"),S.push(V+" -"+P+" "+P+" -"+V+" "+P+" 0 c"),S.push("f"),S.push("Q"),v.stream=S.join(`
`),v}},Cross:{createAppearanceStream:function(N){var v={D:{Off:fs.RadioButton.Cross.OffPushDown},N:{}};return v.N[N]=fs.RadioButton.Cross.YesNormal,v.D[N]=fs.RadioButton.Cross.YesPushDown,v},getCA:function(){return"8"},YesNormal:function(N){var v=vs(N);v.scope=N.scope;var S=[],I=fs.internal.calculateCross(N);return S.push("q"),S.push("1 1 "+ot(fs.internal.getWidth(N)-2)+" "+ot(fs.internal.getHeight(N)-2)+" re"),S.push("W"),S.push("n"),S.push(ot(I.x1.x)+" "+ot(I.x1.y)+" m"),S.push(ot(I.x2.x)+" "+ot(I.x2.y)+" l"),S.push(ot(I.x4.x)+" "+ot(I.x4.y)+" m"),S.push(ot(I.x3.x)+" "+ot(I.x3.y)+" l"),S.push("s"),S.push("Q"),v.stream=S.join(`
`),v},YesPushDown:function(N){var v=vs(N);v.scope=N.scope;var S=fs.internal.calculateCross(N),I=[];return I.push("0.749023 g"),I.push("0 0 "+ot(fs.internal.getWidth(N))+" "+ot(fs.internal.getHeight(N))+" re"),I.push("f"),I.push("q"),I.push("1 1 "+ot(fs.internal.getWidth(N)-2)+" "+ot(fs.internal.getHeight(N)-2)+" re"),I.push("W"),I.push("n"),I.push(ot(S.x1.x)+" "+ot(S.x1.y)+" m"),I.push(ot(S.x2.x)+" "+ot(S.x2.y)+" l"),I.push(ot(S.x4.x)+" "+ot(S.x4.y)+" m"),I.push(ot(S.x3.x)+" "+ot(S.x3.y)+" l"),I.push("s"),I.push("Q"),v.stream=I.join(`
`),v},OffPushDown:function(N){var v=vs(N);v.scope=N.scope;var S=[];return S.push("0.749023 g"),S.push("0 0 "+ot(fs.internal.getWidth(N))+" "+ot(fs.internal.getHeight(N))+" re"),S.push("f"),v.stream=S.join(`
`),v}}},createDefaultAppearanceStream:function(N){var v=N.scope.internal.getFont(N.fontName,N.fontStyle).id,S=N.scope.__private__.encodeColorString(N.color);return"/"+v+" "+N.fontSize+" Tf "+S}};fs.internal={Bezier_C:.551915024494,calculateCross:function(N){var v=fs.internal.getWidth(N),S=fs.internal.getHeight(N),I=Math.min(v,S);return{x1:{x:(v-I)/2,y:(S-I)/2+I},x2:{x:(v-I)/2+I,y:(S-I)/2},x3:{x:(v-I)/2,y:(S-I)/2},x4:{x:(v-I)/2+I,y:(S-I)/2+I}}}},fs.internal.getWidth=function(N){var v=0;return(0,f.default)(N)==="object"&&(v=$s(N.Rect[2])),v},fs.internal.getHeight=function(N){var v=0;return(0,f.default)(N)==="object"&&(v=$s(N.Rect[3])),v};var Pr=Mt.addField=function(N){if(Ts(this,N),!(N instanceof wt))throw new Error("Invalid argument passed to jsPDF.addField.");var v;return(v=N).scope.internal.acroformPlugin.printedOut&&(v.scope.internal.acroformPlugin.printedOut=!1,v.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),v.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(v),N.page=N.scope.internal.getCurrentPageInfo().pageNumber,this};Mt.AcroFormChoiceField=es,Mt.AcroFormListBox=As,Mt.AcroFormComboBox=hs,Mt.AcroFormEditBox=Ks,Mt.AcroFormButton=zs,Mt.AcroFormPushButton=mr,Mt.AcroFormRadioButton=en,Mt.AcroFormCheckBox=Ss,Mt.AcroFormTextField=Os,Mt.AcroFormPasswordField=sr,Mt.AcroFormAppearance=fs,Mt.AcroForm={ChoiceField:es,ListBox:As,ComboBox:hs,EditBox:Ks,Button:zs,PushButton:mr,RadioButton:en,CheckBox:Ss,TextField:Os,PasswordField:sr,Appearance:fs},Ge.AcroForm={ChoiceField:es,ListBox:As,ComboBox:hs,EditBox:Ks,Button:zs,PushButton:mr,RadioButton:en,CheckBox:Ss,TextField:Os,PasswordField:sr,Appearance:fs};var Gr=Ge.AcroForm;function ur(N){return N.reduce(function(v,S,I){return v[S]=I,v},{})}(function(N){var v="addImage_";N.__addimage__={};var S="UNKNOWN",I={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},P=N.__addimage__.getImageFileTypeByImageData=function(Ye,st){var bt,vt,ns,us,bs,Gt=S;if((st=st||S)==="RGBA"||Ye.data!==void 0&&Ye.data instanceof Uint8ClampedArray&&"height"in Ye&&"width"in Ye)return"RGBA";if(Ot(Ye))for(bs in I)for(ns=I[bs],bt=0;bt<ns.length;bt+=1){for(us=!0,vt=0;vt<ns[bt].length;vt+=1)if(ns[bt][vt]!==void 0&&ns[bt][vt]!==Ye[vt]){us=!1;break}if(us===!0){Gt=bs;break}}else for(bs in I)for(ns=I[bs],bt=0;bt<ns.length;bt+=1){for(us=!0,vt=0;vt<ns[bt].length;vt+=1)if(ns[bt][vt]!==void 0&&ns[bt][vt]!==Ye.charCodeAt(vt)){us=!1;break}if(us===!0){Gt=bs;break}}return Gt===S&&st!==S&&(Gt=st),Gt},V=function Ye(st){for(var bt=this.internal.write,vt=this.internal.putStream,ns=(0,this.internal.getFilters)();ns.indexOf("FlateEncode")!==-1;)ns.splice(ns.indexOf("FlateEncode"),1);st.objectId=this.internal.newObject();var us=[];if(us.push({key:"Type",value:"/XObject"}),us.push({key:"Subtype",value:"/Image"}),us.push({key:"Width",value:st.width}),us.push({key:"Height",value:st.height}),st.colorSpace===We.INDEXED?us.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(st.palette.length/3-1)+" "+("sMask"in st&&st.sMask!==void 0?st.objectId+2:st.objectId+1)+" 0 R]"}):(us.push({key:"ColorSpace",value:"/"+st.colorSpace}),st.colorSpace===We.DEVICE_CMYK&&us.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),us.push({key:"BitsPerComponent",value:st.bitsPerComponent}),"decodeParameters"in st&&st.decodeParameters!==void 0&&us.push({key:"DecodeParms",value:"<<"+st.decodeParameters+">>"}),"transparency"in st&&Array.isArray(st.transparency)&&st.transparency.length>0){for(var bs="",Gt=0,ms=st.transparency.length;Gt<ms;Gt++)bs+=st.transparency[Gt]+" "+st.transparency[Gt]+" ";us.push({key:"Mask",value:"["+bs+"]"})}st.sMask!==void 0&&us.push({key:"SMask",value:st.objectId+1+" 0 R"});var Xs=st.filter!==void 0?["/"+st.filter]:void 0;if(vt({data:st.data,additionalKeyValues:us,alreadyAppliedFilters:Xs,objectId:st.objectId}),bt("endobj"),"sMask"in st&&st.sMask!==void 0){var Qs,Qe=(Qs=st.sMaskBitsPerComponent)!==null&&Qs!==void 0?Qs:st.bitsPerComponent,dt={width:st.width,height:st.height,colorSpace:"DeviceGray",bitsPerComponent:Qe,data:st.sMask};"filter"in st&&(dt.decodeParameters="/Predictor ".concat(st.predictor," /Colors 1 /BitsPerComponent ").concat(Qe," /Columns ").concat(st.width),dt.filter=st.filter),Ye.call(this,dt)}if(st.colorSpace===We.INDEXED){var ht=this.internal.newObject();vt({data:zt(new Uint8Array(st.palette)),objectId:ht}),bt("endobj")}},ce=function(){var Ye=this.internal.collections[v+"images"];for(var st in Ye)V.call(this,Ye[st])},q=function(){var Ye,st=this.internal.collections[v+"images"],bt=this.internal.write;for(var vt in st)bt("/I"+(Ye=st[vt]).index,Ye.objectId,"0","R")},ee=function(){this.internal.collections[v+"images"]||(this.internal.collections[v+"images"]={},this.internal.events.subscribe("putResources",ce),this.internal.events.subscribe("putXobjectDict",q))},Ce=function(){var Ye=this.internal.collections[v+"images"];return ee.call(this),Ye},Me=function(){return Object.keys(this.internal.collections[v+"images"]).length},ze=function(Ye){return typeof N["process"+Ye.toUpperCase()]=="function"},Xe=function(Ye){return(0,f.default)(Ye)==="object"&&Ye.nodeType===1},xe=function(Ye,st){if(Ye.nodeName==="IMG"&&Ye.hasAttribute("src")){var bt=""+Ye.getAttribute("src");if(bt.indexOf("data:image/")===0)return Q(unescape(bt).split("base64,").pop());var vt=N.loadFile(bt,!0);if(vt!==void 0)return vt}if(Ye.nodeName==="CANVAS"){if(Ye.width===0||Ye.height===0)throw new Error("Given canvas must have data. Canvas width: "+Ye.width+", height: "+Ye.height);var ns;switch(st){case"PNG":ns="image/png";break;case"WEBP":ns="image/webp";break;default:ns="image/jpeg"}return Q(Ye.toDataURL(ns,1).split("base64,").pop())}},ct=function(Ye){var st=this.internal.collections[v+"images"];if(st){for(var bt in st)if(Ye===st[bt].alias)return st[bt]}},it=function(Ye,st,bt){return Ye||st||(Ye=-96,st=-96),Ye<0&&(Ye=-1*bt.width*72/Ye/this.internal.scaleFactor),st<0&&(st=-1*bt.height*72/st/this.internal.scaleFactor),Ye===0&&(Ye=st*bt.width/bt.height),st===0&&(st=Ye*bt.height/bt.width),[Ye,st]},ut=function(Ye,st,bt,vt,ns,us){var bs=it.call(this,bt,vt,ns),Gt=this.internal.getCoordinateString,ms=this.internal.getVerticalCoordinateString,Xs=Ce.call(this);if(bt=bs[0],vt=bs[1],Xs[ns.index]=ns,us){us*=Math.PI/180;var Qs=Math.cos(us),Qe=Math.sin(us),dt=function(It){return It.toFixed(4)},ht=[dt(Qs),dt(Qe),dt(-1*Qe),dt(Qs),0,0,"cm"]}this.internal.write("q"),us?(this.internal.write([1,"0","0",1,Gt(Ye),ms(st+vt),"cm"].join(" ")),this.internal.write(ht.join(" ")),this.internal.write([Gt(bt),"0","0",Gt(vt),"0","0","cm"].join(" "))):this.internal.write([Gt(bt),"0","0",Gt(vt),Gt(Ye),ms(st+vt),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ns.index+" Do"),this.internal.write("Q")},We=N.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};N.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var jt=N.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Pt=N.__addimage__.sHashCode=function(Ye){var st,bt,vt=0;if(typeof Ye=="string")for(bt=Ye.length,st=0;st<bt;st++)vt=(vt<<5)-vt+Ye.charCodeAt(st),vt|=0;else if(Ot(Ye))for(bt=Ye.byteLength/2,st=0;st<bt;st++)vt=(vt<<5)-vt+Ye[st],vt|=0;return vt},gt=N.__addimage__.validateStringAsBase64=function(Ye){(Ye=Ye||"").toString().trim();var st=!0;return Ye.length===0&&(st=!1),Ye.length%4!=0&&(st=!1),/^[A-Za-z0-9+/]+$/.test(Ye.substr(0,Ye.length-2))===!1&&(st=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Ye.substr(-2))===!1&&(st=!1),st},Ke=N.__addimage__.extractImageFromDataUrl=function(Ye){if(Ye==null||!(Ye=Ye.trim()).startsWith("data:"))return null;var st=Ye.indexOf(",");return st<0?null:Ye.substring(0,st).trim().endsWith("base64")?Ye.substring(st+1):null};N.__addimage__.isArrayBuffer=function(Ye){return Ye instanceof ArrayBuffer};var Ot=N.__addimage__.isArrayBufferView=function(Ye){return Ye instanceof Int8Array||Ye instanceof Uint8Array||Ye instanceof Uint8ClampedArray||Ye instanceof Int16Array||Ye instanceof Uint16Array||Ye instanceof Int32Array||Ye instanceof Uint32Array||Ye instanceof Float32Array||Ye instanceof Float64Array},ls=N.__addimage__.binaryStringToUint8Array=function(Ye){for(var st=Ye.length,bt=new Uint8Array(st),vt=0;vt<st;vt++)bt[vt]=Ye.charCodeAt(vt);return bt},zt=N.__addimage__.arrayBufferToBinaryString=function(Ye){for(var st="",bt=Ot(Ye)?Ye:new Uint8Array(Ye),vt=0;vt<bt.length;vt+=8192)st+=String.fromCharCode.apply(null,bt.subarray(vt,vt+8192));return st};N.addImage=function(){var Ye,st,bt,vt,ns,us,bs,Gt,ms;if(typeof arguments[1]=="number"?(st=S,bt=arguments[1],vt=arguments[2],ns=arguments[3],us=arguments[4],bs=arguments[5],Gt=arguments[6],ms=arguments[7]):(st=arguments[1],bt=arguments[2],vt=arguments[3],ns=arguments[4],us=arguments[5],bs=arguments[6],Gt=arguments[7],ms=arguments[8]),(0,f.default)(Ye=arguments[0])==="object"&&!Xe(Ye)&&"imageData"in Ye){var Xs=Ye;Ye=Xs.imageData,st=Xs.format||st||S,bt=Xs.x||bt||0,vt=Xs.y||vt||0,ns=Xs.w||Xs.width||ns,us=Xs.h||Xs.height||us,bs=Xs.alias||bs,Gt=Xs.compression||Gt,ms=Xs.rotation||Xs.angle||ms}var Qs=this.internal.getFilters();if(Gt===void 0&&Qs.indexOf("FlateEncode")!==-1&&(Gt="SLOW"),isNaN(bt)||isNaN(vt))throw new Error("Invalid coordinates passed to jsPDF.addImage");ee.call(this);var Qe=yt.call(this,Ye,st,bs,Gt);return ut.call(this,bt,vt,ns,us,Qe,ms),this};var yt=function(Ye,st,bt,vt){var ns,us,bs;if(typeof Ye=="string"&&P(Ye)===S){Ye=unescape(Ye);var Gt=ss(Ye,!1);(Gt!==""||(Gt=N.loadFile(Ye,!0))!==void 0)&&(Ye=Gt)}if(Xe(Ye)&&(Ye=xe(Ye,st)),st=P(Ye,st),!ze(st))throw new Error("addImage does not support files of type '"+st+"', please ensure that a plugin for '"+st+"' support is added.");if(((bs=bt)==null||bs.length===0)&&(bt=(function(ms){return typeof ms=="string"||Ot(ms)?Pt(ms):Ot(ms.data)?Pt(ms.data):null})(Ye)),(ns=ct.call(this,bt))||(Ye instanceof Uint8Array||st==="RGBA"||(us=Ye,Ye=ls(Ye)),ns=this["process"+st.toUpperCase()](Ye,Me.call(this),bt,(function(ms){return ms&&typeof ms=="string"&&(ms=ms.toUpperCase()),ms in N.image_compression?ms:jt.NONE})(vt),us)),!ns)throw new Error("An unknown error occurred whilst processing the image.");return ns},ss=N.__addimage__.convertBase64ToBinaryString=function(Ye,st){st=typeof st!="boolean"||st;var bt,vt="";if(typeof Ye=="string"){var ns;bt=(ns=Ke(Ye))!==null&&ns!==void 0?ns:Ye;try{vt=Q(bt)}catch(us){if(st)throw gt(bt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+us.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return vt};N.getImageProperties=function(Ye){var st,bt,vt="";if(Xe(Ye)&&(Ye=xe(Ye)),typeof Ye=="string"&&P(Ye)===S&&((vt=ss(Ye,!1))===""&&(vt=N.loadFile(Ye)||""),Ye=vt),bt=P(Ye),!ze(bt))throw new Error("addImage does not support files of type '"+bt+"', please ensure that a plugin for '"+bt+"' support is added.");if(Ye instanceof Uint8Array||(Ye=ls(Ye)),!(st=this["process"+bt.toUpperCase()](Ye)))throw new Error("An unknown error occurred whilst processing the image");return st.fileType=bt,st}})(Ge.API),(function(N){var v=function(S){if(S!==void 0&&S!="")return!0};Ge.API.events.push(["addPage",function(S){this.internal.getPageInfo(S.pageNumber).pageContext.annotations=[]}]),N.events.push(["putPage",function(S){for(var I,P,V,ce=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,ee=this.internal.getPageInfoByObjId(S.objId),Ce=S.pageContext.annotations,Me=!1,ze=0;ze<Ce.length&&!Me;ze++)switch((I=Ce[ze]).type){case"link":(v(I.options.url)||v(I.options.pageNumber))&&(Me=!0);break;case"reference":case"text":case"freetext":Me=!0}if(Me!=0){this.internal.write("/Annots [");for(var Xe=0;Xe<Ce.length;Xe++){I=Ce[Xe];var xe=this.internal.pdfEscape,ct=this.internal.getEncryptor(S.objId);switch(I.type){case"reference":this.internal.write(" "+I.object.objId+" 0 R ");break;case"text":var it=this.internal.newAdditionalObject(),ut=this.internal.newAdditionalObject(),We=this.internal.getEncryptor(it.objId),jt=I.title||"Note";V="<</Type /Annot /Subtype /Text "+(P="/Rect ["+ce(I.bounds.x)+" "+q(I.bounds.y+I.bounds.h)+" "+ce(I.bounds.x+I.bounds.w)+" "+q(I.bounds.y)+"] ")+"/Contents ("+xe(We(I.contents))+")",V+=" /Popup "+ut.objId+" 0 R",V+=" /P "+ee.objId+" 0 R",V+=" /T ("+xe(We(jt))+") >>",it.content=V;var Pt=it.objId+" 0 R";V="<</Type /Annot /Subtype /Popup "+(P="/Rect ["+ce(I.bounds.x+30)+" "+q(I.bounds.y+I.bounds.h)+" "+ce(I.bounds.x+I.bounds.w+30)+" "+q(I.bounds.y)+"] ")+" /Parent "+Pt,I.open&&(V+=" /Open true"),V+=" >>",ut.content=V,this.internal.write(it.objId,"0 R",ut.objId,"0 R");break;case"freetext":P="/Rect ["+ce(I.bounds.x)+" "+q(I.bounds.y)+" "+ce(I.bounds.x+I.bounds.w)+" "+q(I.bounds.y+I.bounds.h)+"] ";var gt=I.color||"#000000";V="<</Type /Annot /Subtype /FreeText "+P+"/Contents ("+xe(ct(I.contents))+")",V+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+gt+")",V+=" /Border [0 0 0]",V+=" >>",this.internal.write(V);break;case"link":if(I.options.name){var Ke=this.annotations._nameMap[I.options.name];I.options.pageNumber=Ke.page,I.options.top=Ke.y}else I.options.top||(I.options.top=0);if(P="/Rect ["+I.finalBounds.x+" "+I.finalBounds.y+" "+I.finalBounds.w+" "+I.finalBounds.h+"] ",V="",I.options.url)V="<</Type /Annot /Subtype /Link "+P+"/Border [0 0 0] /A <</S /URI /URI ("+xe(ct(I.options.url))+") >>";else if(I.options.pageNumber)switch(V="<</Type /Annot /Subtype /Link "+P+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(I.options.pageNumber).objId+" 0 R",I.options.magFactor=I.options.magFactor||"XYZ",I.options.magFactor){case"Fit":V+=" /Fit]";break;case"FitH":V+=" /FitH "+I.options.top+"]";break;case"FitV":I.options.left=I.options.left||0,V+=" /FitV "+I.options.left+"]";break;default:var Ot=q(I.options.top);I.options.left=I.options.left||0,I.options.zoom===void 0&&(I.options.zoom=0),V+=" /XYZ "+I.options.left+" "+Ot+" "+I.options.zoom+"]"}V!=""&&(V+=" >>",this.internal.write(V))}}this.internal.write("]")}}]),N.createAnnotation=function(S){var I=this.internal.getCurrentPageInfo();switch(S.type){case"link":this.link(S.bounds.x,S.bounds.y,S.bounds.w,S.bounds.h,S);break;case"text":case"freetext":I.pageContext.annotations.push(S)}},N.link=function(S,I,P,V,ce){var q=this.internal.getCurrentPageInfo(),ee=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString;q.pageContext.annotations.push({finalBounds:{x:ee(S),y:Ce(I),w:ee(S+P),h:Ce(I+V)},options:ce,type:"link"})},N.textWithLink=function(S,I,P,V){var ce,q,ee=this.getTextWidth(S),Ce=this.internal.getLineHeight()/this.internal.scaleFactor;if(V.maxWidth!==void 0){q=V.maxWidth;var Me=this.splitTextToSize(S,q).length;ce=Math.ceil(Ce*Me)}else q=ee,ce=Ce;return this.text(S,I,P,V),P+=.2*Ce,V.align==="center"&&(I-=ee/2),V.align==="right"&&(I-=ee),this.link(I,P-Ce,q,ce,V),ee},N.getTextWidth=function(S){var I=this.internal.getFontSize();return this.getStringUnitWidth(S)*I/this.internal.scaleFactor}})(Ge.API),(function(N){var v={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},S={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},I={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},P=[1570,1571,1573,1575];N.__arabicParser__={};var V=N.__arabicParser__.isInArabicSubstitutionA=function(it){return v[it.charCodeAt(0)]!==void 0},ce=N.__arabicParser__.isArabicLetter=function(it){return typeof it=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(it)},q=N.__arabicParser__.isArabicEndLetter=function(it){return ce(it)&&V(it)&&v[it.charCodeAt(0)].length<=2},ee=N.__arabicParser__.isArabicAlfLetter=function(it){return ce(it)&&P.indexOf(it.charCodeAt(0))>=0};N.__arabicParser__.arabicLetterHasIsolatedForm=function(it){return ce(it)&&V(it)&&v[it.charCodeAt(0)].length>=1};var Ce=N.__arabicParser__.arabicLetterHasFinalForm=function(it){return ce(it)&&V(it)&&v[it.charCodeAt(0)].length>=2};N.__arabicParser__.arabicLetterHasInitialForm=function(it){return ce(it)&&V(it)&&v[it.charCodeAt(0)].length>=3};var Me=N.__arabicParser__.arabicLetterHasMedialForm=function(it){return ce(it)&&V(it)&&v[it.charCodeAt(0)].length==4},ze=N.__arabicParser__.resolveLigatures=function(it){var ut=0,We=S,jt="",Pt=0;for(ut=0;ut<it.length;ut+=1)We[it.charCodeAt(ut)]!==void 0?(Pt++,typeof(We=We[it.charCodeAt(ut)])=="number"&&(jt+=String.fromCharCode(We),We=S,Pt=0),ut===it.length-1&&(We=S,jt+=it.charAt(ut-(Pt-1)),ut-=Pt-1,Pt=0)):(We=S,jt+=it.charAt(ut-Pt),ut-=Pt,Pt=0);return jt};N.__arabicParser__.isArabicDiacritic=function(it){return it!==void 0&&I[it.charCodeAt(0)]!==void 0};var Xe=N.__arabicParser__.getCorrectForm=function(it,ut,We){return ce(it)?V(it)===!1?-1:!Ce(it)||!ce(ut)&&!ce(We)||!ce(We)&&q(ut)||q(it)&&!ce(ut)||q(it)&&ee(ut)||q(it)&&q(ut)?0:Me(it)&&ce(ut)&&!q(ut)&&ce(We)&&Ce(We)?3:q(it)||!ce(We)?1:2:-1},xe=function(it){var ut=0,We=0,jt=0,Pt="",gt="",Ke="",Ot=(it=it||"").split("\\s+"),ls=[];for(ut=0;ut<Ot.length;ut+=1){for(ls.push(""),We=0;We<Ot[ut].length;We+=1)Pt=Ot[ut][We],gt=Ot[ut][We-1],Ke=Ot[ut][We+1],ce(Pt)?(jt=Xe(Pt,gt,Ke),ls[ut]+=jt!==-1?String.fromCharCode(v[Pt.charCodeAt(0)][jt]):Pt):ls[ut]+=Pt;ls[ut]=ze(ls[ut])}return ls.join(" ")},ct=N.__arabicParser__.processArabic=N.processArabic=function(){var it,ut=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,We=[];if(Array.isArray(ut)){var jt=0;for(We=[],jt=0;jt<ut.length;jt+=1)Array.isArray(ut[jt])?We.push([xe(ut[jt][0]),ut[jt][1],ut[jt][2]]):We.push([xe(ut[jt])]);it=We}else it=xe(ut);return typeof arguments[0]=="string"?it:(arguments[0].text=it,arguments[0])};N.events.push(["preProcessText",ct])})(Ge.API),Ge.API.autoPrint=function(N){var v;return(N=N||{}).variant=N.variant||"non-conform",N.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){v=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+v+" 0 R")})),this},(function(N){var v=function(){var S=void 0;Object.defineProperty(this,"pdf",{get:function(){return S},set:function(q){S=q}});var I=150;Object.defineProperty(this,"width",{get:function(){return I},set:function(q){I=isNaN(q)||Number.isInteger(q)===!1||q<0?150:q,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=I+1)}});var P=300;Object.defineProperty(this,"height",{get:function(){return P},set:function(q){P=isNaN(q)||Number.isInteger(q)===!1||q<0?300:q,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=P+1)}});var V=[];Object.defineProperty(this,"childNodes",{get:function(){return V},set:function(q){V=q}});var ce={};Object.defineProperty(this,"style",{get:function(){return ce},set:function(q){ce=q}}),Object.defineProperty(this,"parentNode",{})};v.prototype.getContext=function(S,I){var P;if((S=S||"2d")!=="2d")return null;for(P in I)this.pdf.context2d.hasOwnProperty(P)&&(this.pdf.context2d[P]=I[P]);return this.pdf.context2d._canvas=this,this.pdf.context2d},v.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},N.events.push(["initialized",function(){this.canvas=new v,this.canvas.pdf=this}])})(Ge.API),(function(N){var v={left:0,top:0,bottom:0,right:0},S=!1,I=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},v),this.internal.__cell__.margins.width=this.getPageWidth(),P.call(this))},P=function(){this.internal.__cell__.lastCell=new V,this.internal.__cell__.pages=1},V=function(){var ee=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(it){ee=it}});var Ce=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(it){Ce=it}});var Me=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Me},set:function(it){Me=it}});var ze=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return ze},set:function(it){ze=it}});var Xe=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Xe},set:function(it){Xe=it}});var xe=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return xe},set:function(it){xe=it}});var ct=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return ct},set:function(it){ct=it}}),this};V.prototype.clone=function(){return new V(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},V.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},N.setHeaderFunction=function(ee){return I.call(this),this.internal.__cell__.headerFunction=typeof ee=="function"?ee:void 0,this},N.getTextDimensions=function(ee,Ce){I.call(this);var Me=(Ce=Ce||{}).fontSize||this.getFontSize(),ze=Ce.font||this.getFont(),Xe=Ce.scaleFactor||this.internal.scaleFactor,xe=0,ct=0,it=0,ut=this;if(!Array.isArray(ee)&&typeof ee!="string"){if(typeof ee!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");ee=String(ee)}var We=Ce.maxWidth;We>0?typeof ee=="string"?ee=this.splitTextToSize(ee,We):Object.prototype.toString.call(ee)==="[object Array]"&&(ee=ee.reduce(function(Pt,gt){return Pt.concat(ut.splitTextToSize(gt,We))},[])):ee=Array.isArray(ee)?ee:[ee];for(var jt=0;jt<ee.length;jt++)xe<(it=this.getStringUnitWidth(ee[jt],{font:ze})*Me)&&(xe=it);return xe!==0&&(ct=ee.length),{w:xe/=Xe,h:Math.max((ct*Me*this.getLineHeightFactor()-Me*(this.getLineHeightFactor()-1))/Xe,0)}},N.cellAddPage=function(){I.call(this),this.addPage();var ee=this.internal.__cell__.margins||v;return this.internal.__cell__.lastCell=new V(ee.left,ee.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var ce=N.cell=function(){var ee;ee=arguments[0]instanceof V?arguments[0]:new V(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),I.call(this);var Ce=this.internal.__cell__.lastCell,Me=this.internal.__cell__.padding,ze=this.internal.__cell__.margins||v,Xe=this.internal.__cell__.tableHeaderRow,xe=this.internal.__cell__.printHeaders;return Ce.lineNumber!==void 0&&(Ce.lineNumber===ee.lineNumber?(ee.x=(Ce.x||0)+(Ce.width||0),ee.y=Ce.y||0):Ce.y+Ce.height+ee.height+ze.bottom>this.getPageHeight()?(this.cellAddPage(),ee.y=ze.top,xe&&Xe&&(this.printHeaderRow(ee.lineNumber,!0),ee.y+=Xe[0].height)):ee.y=Ce.y+Ce.height||ee.y),ee.text[0]!==void 0&&(this.rect(ee.x,ee.y,ee.width,ee.height,S===!0?"FD":void 0),ee.align==="right"?this.text(ee.text,ee.x+ee.width-Me,ee.y+Me,{align:"right",baseline:"top"}):ee.align==="center"?this.text(ee.text,ee.x+ee.width/2,ee.y+Me,{align:"center",baseline:"top",maxWidth:ee.width-Me-Me}):this.text(ee.text,ee.x+Me,ee.y+Me,{align:"left",baseline:"top",maxWidth:ee.width-Me-Me})),this.internal.__cell__.lastCell=ee,this};N.table=function(ee,Ce,Me,ze,Xe){if(I.call(this),!Me)throw new Error("No data for PDF table.");var xe,ct,it,ut,We=[],jt=[],Pt=[],gt={},Ke={},Ot=[],ls=[],zt=(Xe=Xe||{}).autoSize||!1,yt=Xe.printHeaders!==!1,ss=Xe.css&&Xe.css["font-size"]!==void 0?16*Xe.css["font-size"]:Xe.fontSize||12,Ye=Xe.margins||Object.assign({width:this.getPageWidth()},v),st=typeof Xe.padding=="number"?Xe.padding:3,bt=Xe.headerBackgroundColor||"#c8c8c8",vt=Xe.headerTextColor||"#000";if(P.call(this),this.internal.__cell__.printHeaders=yt,this.internal.__cell__.margins=Ye,this.internal.__cell__.table_font_size=ss,this.internal.__cell__.padding=st,this.internal.__cell__.headerBackgroundColor=bt,this.internal.__cell__.headerTextColor=vt,this.setFontSize(ss),ze==null)jt=We=Object.keys(Me[0]),Pt=We.map(function(){return"left"});else if(Array.isArray(ze)&&(0,f.default)(ze[0])==="object")for(We=ze.map(function(Xs){return Xs.name}),jt=ze.map(function(Xs){return Xs.prompt||Xs.name||""}),Pt=ze.map(function(Xs){return Xs.align||"left"}),xe=0;xe<ze.length;xe+=1)Ke[ze[xe].name]=.7499990551181103*ze[xe].width;else Array.isArray(ze)&&typeof ze[0]=="string"&&(jt=We=ze,Pt=We.map(function(){return"left"}));if(zt||Array.isArray(ze)&&typeof ze[0]=="string")for(xe=0;xe<We.length;xe+=1){for(gt[ut=We[xe]]=Me.map(function(Xs){return Xs[ut]}),this.setFont(void 0,"bold"),Ot.push(this.getTextDimensions(jt[xe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),ct=gt[ut],this.setFont(void 0,"normal"),it=0;it<ct.length;it+=1)Ot.push(this.getTextDimensions(ct[it],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ke[ut]=Math.max.apply(null,Ot)+st+st,Ot=[]}if(yt){var ns={};for(xe=0;xe<We.length;xe+=1)ns[We[xe]]={},ns[We[xe]].text=jt[xe],ns[We[xe]].align=Pt[xe];var us=q.call(this,ns,Ke);ls=We.map(function(Xs){return new V(ee,Ce,Ke[Xs],us,ns[Xs].text,void 0,ns[Xs].align)}),this.setTableHeaderRow(ls),this.printHeaderRow(1,!1)}var bs=ze.reduce(function(Xs,Qs){return Xs[Qs.name]=Qs.align,Xs},{});for(xe=0;xe<Me.length;xe+=1){"rowStart"in Xe&&Xe.rowStart instanceof Function&&Xe.rowStart({row:xe,data:Me[xe]},this);var Gt=q.call(this,Me[xe],Ke);for(it=0;it<We.length;it+=1){var ms=Me[xe][We[it]];"cellStart"in Xe&&Xe.cellStart instanceof Function&&Xe.cellStart({row:xe,col:it,data:ms},this),ce.call(this,new V(ee,Ce,Ke[We[it]],Gt,ms,xe+2,bs[We[it]]))}}return this.internal.__cell__.table_x=ee,this.internal.__cell__.table_y=Ce,this};var q=function(ee,Ce){var Me=this.internal.__cell__.padding,ze=this.internal.__cell__.table_font_size,Xe=this.internal.scaleFactor;return Object.keys(ee).map(function(xe){var ct=ee[xe];return this.splitTextToSize(ct.hasOwnProperty("text")?ct.text:ct,Ce[xe]-Me-Me)},this).map(function(xe){return this.getLineHeightFactor()*xe.length*ze/Xe+Me+Me},this).reduce(function(xe,ct){return Math.max(xe,ct)},0)};N.setTableHeaderRow=function(ee){I.call(this),this.internal.__cell__.tableHeaderRow=ee},N.printHeaderRow=function(ee,Ce){if(I.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Me;if(S=!0,typeof this.internal.__cell__.headerFunction=="function"){var ze=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new V(ze[0],ze[1],ze[2],ze[3],void 0,-1)}this.setFont(void 0,"bold");for(var Xe=[],xe=0;xe<this.internal.__cell__.tableHeaderRow.length;xe+=1){Me=this.internal.__cell__.tableHeaderRow[xe].clone(),Ce&&(Me.y=this.internal.__cell__.margins.top||0,Xe.push(Me)),Me.lineNumber=ee;var ct=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),ce.call(this,Me),this.setTextColor(ct)}Xe.length>0&&this.setTableHeaderRow(Xe),this.setFont(void 0,"normal"),S=!1}})(Ge.API);var Va={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ha=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],fn=ur(ha),Bn=[100,200,300,400,500,600,700,800,900],ln=ur(Bn);function fa(N){var v=N.family.replace(/"|'/g,"").toLowerCase(),S=(function(V){return Va[V=V||"normal"]?V:"normal"})(N.style),I=(function(V){return V?typeof V=="number"?V>=100&&V<=900&&V%100==0?V:400:/^\d00$/.test(V)?parseInt(V):V==="bold"?700:400:400})(N.weight),P=(function(V){return typeof fn[V=V||"normal"]=="number"?V:"normal"})(N.stretch);return{family:v,style:S,weight:I,stretch:P,src:N.src||[],ref:N.ref||{name:v,style:[P,S,I].join(" ")}}}function Zn(N,v,S,I){var P;for(P=S;P>=0&&P<v.length;P+=I)if(N[v[P]])return N[v[P]];for(P=S;P>=0&&P<v.length;P-=I)if(N[v[P]])return N[v[P]]}var Ii={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Dn={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mc(N){return[N.stretch,N.style,N.weight,N.family].join(" ")}function oi(N){return N.trimLeft()}function To(N,v){for(var S=0;S<N.length;){if(N.charAt(S)===v)return[N.substring(0,S),N.substring(S+1)];S+=1}return null}function Vl(N){var v=N.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return v===null?null:[v[0],N.substring(v[0].length)]}var ho,ma,Ni,sa,Ua,qn,fo,Ai,Ci=["times"];function Al(N,v,S,I,P){var V=4,ce=xa;switch(P){case Ge.API.image_compression.FAST:V=1,ce=Tl;break;case Ge.API.image_compression.MEDIUM:V=6,ce=ja;break;case Ge.API.image_compression.SLOW:V=9,ce=mo}N=(function(ee,Ce,Me,ze){for(var Xe,xe=ee.length/Ce,ct=new Uint8Array(ee.length+xe),it=[qo,Tl,xa,ja,mo],ut=0;ut<xe;ut+=1){var We=ut*Ce,jt=ee.subarray(We,We+Ce);if(ze)ct.set(ze(jt,Me,Xe),We+ut);else{for(var Pt=it.length,gt=[],Ke=0;Ke<Pt;Ke+=1)gt[Ke]=it[Ke](jt,Me,Xe);var Ot=Di(gt.concat());ct.set(gt[Ot],We+ut)}Xe=jt}return ct})(N,v,Math.ceil(S*I/8),ce);var q=(0,m.zlibSync)(N,{level:V});return Ge.API.__addimage__.arrayBufferToBinaryString(q)}function qo(N){var v=Array.apply([],N);return v.unshift(0),v}function Tl(N,v){var S=N.length,I=[];I[0]=1;for(var P=0;P<S;P+=1){var V=N[P-v]||0;I[P+1]=N[P]-V+256&255}return I}function xa(N,v,S){var I=N.length,P=[];P[0]=2;for(var V=0;V<I;V+=1){var ce=S&&S[V]||0;P[V+1]=N[V]-ce+256&255}return P}function ja(N,v,S){var I=N.length,P=[];P[0]=3;for(var V=0;V<I;V+=1){var ce=N[V-v]||0,q=S&&S[V]||0;P[V+1]=N[V]+256-(ce+q>>>1)&255}return P}function mo(N,v,S){var I=N.length,P=[];P[0]=4;for(var V=0;V<I;V+=1){var ce=ti(N[V-v]||0,S&&S[V]||0,S&&S[V-v]||0);P[V+1]=N[V]-ce+256&255}return P}function ti(N,v,S){if(N===v&&v===S)return N;var I=Math.abs(v-S),P=Math.abs(N-S),V=Math.abs(N+v-S-S);return I<=P&&I<=V?N:P<=V?v:S}function Di(N){var v=N.map(function(S){return S.reduce(function(I,P){return I+Math.abs(P)},0)});return v.indexOf(Math.min.apply(null,v))}function hi(N,v,S){var I=v*S,P=Math.floor(I/8),V=16-(I-8*P+S),ce=(1<<S)-1;return Ka(N,P)>>V&ce}function Wr(N,v,S,I){var P=S*I,V=Math.floor(P/8),ce=16-(P-8*V+I),q=(1<<I)-1,ee=(v&q)<<ce;(function(Ce,Me,ze){if(Me+1<Ce.byteLength)Ce.setUint16(Me,ze,!1);else{var Xe=ze>>8&255;Ce.setUint8(Me,Xe)}})(N,V,Ka(N,V)&~(q<<ce)&65535|ee)}function Ka(N,v){return v+1<N.byteLength?N.getUint16(v,!1):N.getUint8(v)<<8}function ki(N){var v=0;if(N[v++]!==71||N[v++]!==73||N[v++]!==70||N[v++]!==56||(N[v++]+1&253)!=56||N[v++]!==97)throw new Error("Invalid GIF 87a/89a header.");var S=N[v++]|N[v++]<<8,I=N[v++]|N[v++]<<8,P=N[v++],V=P>>7,ce=1<<1+(7&P);N[v++],N[v++];var q=null,ee=null;V&&(q=v,ee=ce,v+=3*ce);var Ce=!0,Me=[],ze=0,Xe=null,xe=0,ct=null;for(this.width=S,this.height=I;Ce&&v<N.length;)switch(N[v++]){case 33:switch(N[v++]){case 255:if(N[v]!==11||N[v+1]==78&&N[v+2]==69&&N[v+3]==84&&N[v+4]==83&&N[v+5]==67&&N[v+6]==65&&N[v+7]==80&&N[v+8]==69&&N[v+9]==50&&N[v+10]==46&&N[v+11]==48&&N[v+12]==3&&N[v+13]==1&&N[v+16]==0)v+=14,ct=N[v++]|N[v++]<<8,v++;else for(v+=12;;){if(!((Ye=N[v++])>=0))throw Error("Invalid block size");if(Ye===0)break;v+=Ye}break;case 249:if(N[v++]!==4||N[v+4]!==0)throw new Error("Invalid graphics extension block.");var it=N[v++];ze=N[v++]|N[v++]<<8,Xe=N[v++],1&it||(Xe=null),xe=it>>2&7,v++;break;case 254:for(;;){if(!((Ye=N[v++])>=0))throw Error("Invalid block size");if(Ye===0)break;v+=Ye}break;default:throw new Error("Unknown graphic control label: 0x"+N[v-1].toString(16))}break;case 44:var ut=N[v++]|N[v++]<<8,We=N[v++]|N[v++]<<8,jt=N[v++]|N[v++]<<8,Pt=N[v++]|N[v++]<<8,gt=N[v++],Ke=gt>>6&1,Ot=1<<1+(7&gt),ls=q,zt=ee,yt=!1;gt>>7&&(yt=!0,ls=v,zt=Ot,v+=3*Ot);var ss=v;for(v++;;){var Ye;if(!((Ye=N[v++])>=0))throw Error("Invalid block size");if(Ye===0)break;v+=Ye}Me.push({x:ut,y:We,width:jt,height:Pt,has_local_palette:yt,palette_offset:ls,palette_size:zt,data_offset:ss,data_length:v-ss,transparent_index:Xe,interlaced:!!Ke,delay:ze,disposal:xe});break;case 59:Ce=!1;break;default:throw new Error("Unknown gif block: 0x"+N[v-1].toString(16))}this.numFrames=function(){return Me.length},this.loopCount=function(){return ct},this.frameInfo=function(st){if(st<0||st>=Me.length)throw new Error("Frame index out of range.");return Me[st]},this.decodeAndBlitFrameBGRA=function(st,bt){var vt=this.frameInfo(st),ns=vt.width*vt.height,us=new Uint8Array(ns);Pa(N,vt.data_offset,us,ns);var bs=vt.palette_offset,Gt=vt.transparent_index;Gt===null&&(Gt=256);var ms=vt.width,Xs=S-ms,Qs=ms,Qe=4*(vt.y*S+vt.x),dt=4*((vt.y+vt.height)*S+vt.x),ht=Qe,It=4*Xs;vt.interlaced===!0&&(It+=4*S*7);for(var Qt=8,Xt=0,ps=us.length;Xt<ps;++Xt){var gs=us[Xt];if(Qs===0&&(Qs=ms,(ht+=It)>=dt&&(It=4*Xs+4*S*(Qt-1),ht=Qe+(ms+Xs)*(Qt<<1),Qt>>=1)),gs===Gt)ht+=4;else{var Ls=N[bs+3*gs],Js=N[bs+3*gs+1],br=N[bs+3*gs+2];bt[ht++]=br,bt[ht++]=Js,bt[ht++]=Ls,bt[ht++]=255}--Qs}},this.decodeAndBlitFrameRGBA=function(st,bt){var vt=this.frameInfo(st),ns=vt.width*vt.height,us=new Uint8Array(ns);Pa(N,vt.data_offset,us,ns);var bs=vt.palette_offset,Gt=vt.transparent_index;Gt===null&&(Gt=256);var ms=vt.width,Xs=S-ms,Qs=ms,Qe=4*(vt.y*S+vt.x),dt=4*((vt.y+vt.height)*S+vt.x),ht=Qe,It=4*Xs;vt.interlaced===!0&&(It+=4*S*7);for(var Qt=8,Xt=0,ps=us.length;Xt<ps;++Xt){var gs=us[Xt];if(Qs===0&&(Qs=ms,(ht+=It)>=dt&&(It=4*Xs+4*S*(Qt-1),ht=Qe+(ms+Xs)*(Qt<<1),Qt>>=1)),gs===Gt)ht+=4;else{var Ls=N[bs+3*gs],Js=N[bs+3*gs+1],br=N[bs+3*gs+2];bt[ht++]=Ls,bt[ht++]=Js,bt[ht++]=br,bt[ht++]=255}--Qs}}}function Pa(N,v,S,I){for(var P=N[v++],V=1<<P,ce=V+1,q=ce+1,ee=P+1,Ce=(1<<ee)-1,Me=0,ze=0,Xe=0,xe=N[v++],ct=new Int32Array(4096),it=null;;){for(;Me<16&&xe!==0;)ze|=N[v++]<<Me,Me+=8,xe===1?xe=N[v++]:--xe;if(Me<ee)break;var ut=ze&Ce;if(ze>>=ee,Me-=ee,ut!==V){if(ut===ce)break;for(var We=ut<q?ut:it,jt=0,Pt=We;Pt>V;)Pt=ct[Pt]>>8,++jt;var gt=Pt;if(Xe+jt+(We!==ut?1:0)>I)return void w.log("Warning, gif stream longer than expected.");S[Xe++]=gt;var Ke=Xe+=jt;for(We!==ut&&(S[Xe++]=gt),Pt=We;jt--;)Pt=ct[Pt],S[--Ke]=255&Pt,Pt>>=8;it!==null&&q<4096&&(ct[q++]=it<<8|gt,q>=Ce+1&&ee<12&&(++ee,Ce=Ce<<1|1)),it=ut}else q=ce+1,Ce=(1<<(ee=P+1))-1,it=null}return Xe!==I&&w.log("Warning, gif stream shorter than expected."),S}/**
		 * @license
		  Copyright (c) 2008, Adobe Systems Incorporated
		  All rights reserved.

		  Redistribution and use in source and binary forms, with or without 
		  modification, are permitted provided that the following conditions are
		  met:

		  * Redistributions of source code must retain the above copyright notice, 
		    this list of conditions and the following disclaimer.
		  
		  * Redistributions in binary form must reproduce the above copyright
		    notice, this list of conditions and the following disclaimer in the 
		    documentation and/or other materials provided with the distribution.
		  
		  * Neither the name of Adobe Systems Incorporated nor the names of its 
		    contributors may be used to endorse or promote products derived from 
		    this software without specific prior written permission.

		  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
		  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
		  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
		  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
		  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
		  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
		  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
		  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
		  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
		  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
		  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
		*/function po(N){var v,S,I,P,V,ce=Math.floor,q=new Array(64),ee=new Array(64),Ce=new Array(64),Me=new Array(64),ze=new Array(65535),Xe=new Array(65535),xe=new Array(64),ct=new Array(64),it=[],ut=0,We=7,jt=new Array(64),Pt=new Array(64),gt=new Array(64),Ke=new Array(256),Ot=new Array(2048),ls=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],zt=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],yt=[0,1,2,3,4,5,6,7,8,9,10,11],ss=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Ye=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],st=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],bt=[0,1,2,3,4,5,6,7,8,9,10,11],vt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ns=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function us(Qe,dt){for(var ht=0,It=0,Qt=new Array,Xt=1;Xt<=16;Xt++){for(var ps=1;ps<=Qe[Xt];ps++)Qt[dt[It]]=[],Qt[dt[It]][0]=ht,Qt[dt[It]][1]=Xt,It++,ht++;ht*=2}return Qt}function bs(Qe){for(var dt=Qe[0],ht=Qe[1]-1;ht>=0;)dt&1<<ht&&(ut|=1<<We),ht--,--We<0&&(ut==255?(Gt(255),Gt(0)):Gt(ut),We=7,ut=0)}function Gt(Qe){it.push(Qe)}function ms(Qe){Gt(Qe>>8&255),Gt(255&Qe)}function Xs(Qe,dt,ht,It,Qt){for(var Xt,ps=Qt[0],gs=Qt[240],Ls=(function(_s,tn){var vr,$r,Or,ka,Sn,kr,zn,Xr,Br,rn,Ir=0;for(Br=0;Br<8;++Br){vr=_s[Ir],$r=_s[Ir+1],Or=_s[Ir+2],ka=_s[Ir+3],Sn=_s[Ir+4],kr=_s[Ir+5],zn=_s[Ir+6];var vn=vr+(Xr=_s[Ir+7]),Wn=vr-Xr,En=$r+zn,Rn=$r-zn,Wa=Or+kr,Vr=Or-kr,Qa=ka+Sn,mn=ka-Sn,_r=vn+Qa,Na=vn-Qa,jn=En+Wa,ar=En-Wa;_s[Ir]=_r+jn,_s[Ir+4]=_r-jn;var Fn=.707106781*(ar+Na);_s[Ir+2]=Na+Fn,_s[Ir+6]=Na-Fn;var Wc=.382683433*((_r=mn+Vr)-(ar=Rn+Wn)),Ri=.5411961*_r+Wc,lo=1.306562965*ar+Wc,Kl=.707106781*(jn=Vr+Rn),an=Wn+Kl,li=Wn-Kl;_s[Ir+5]=li+Ri,_s[Ir+3]=li-Ri,_s[Ir+1]=an+lo,_s[Ir+7]=an-lo,Ir+=8}for(Ir=0,Br=0;Br<8;++Br){vr=_s[Ir],$r=_s[Ir+8],Or=_s[Ir+16],ka=_s[Ir+24],Sn=_s[Ir+32],kr=_s[Ir+40],zn=_s[Ir+48];var pi=vr+(Xr=_s[Ir+56]),el=vr-Xr,Lo=$r+zn,Ra=$r-zn,gi=Or+kr,ci=Or-kr,Ul=ka+Sn,Pi=ka-Sn,hl=pi+Ul,go=pi-Ul,Ll=Lo+gi,Fo=Lo-gi;_s[Ir]=hl+Ll,_s[Ir+32]=hl-Ll;var fl=.707106781*(Fo+go);_s[Ir+16]=go+fl,_s[Ir+48]=go-fl;var Yc=.382683433*((hl=Pi+ci)-(Fo=Ra+el)),ml=.5411961*hl+Yc,Mo=1.306562965*Fo+Yc,Uc=.707106781*(Ll=ci+Ra),Xc=el+Uc,pc=el-Uc;_s[Ir+40]=pc+ml,_s[Ir+24]=pc-ml,_s[Ir+8]=Xc+Mo,_s[Ir+56]=Xc-Mo,Ir++}for(Br=0;Br<64;++Br)rn=_s[Br]*tn[Br],xe[Br]=rn>0?rn+.5|0:rn-.5|0;return xe})(Qe,dt),Js=0;Js<64;++Js)ct[ls[Js]]=Ls[Js];var br=ct[0]-ht;ht=ct[0],br==0?bs(It[0]):(bs(It[Xe[Xt=32767+br]]),bs(ze[Xt]));for(var gr=63;gr>0&&ct[gr]==0;)gr--;if(gr==0)return bs(ps),ht;for(var Yr,et=1;et<=gr;){for(var or=et;ct[et]==0&&et<=gr;)++et;var un=et-or;if(un>=16){Yr=un>>4;for(var rr=1;rr<=Yr;++rr)bs(gs);un&=15}Xt=32767+ct[et],bs(Qt[(un<<4)+Xe[Xt]]),bs(ze[Xt]),et++}return gr!=63&&bs(ps),ht}function Qs(Qe){Qe=Math.min(Math.max(Qe,1),100),V!=Qe&&((function(dt){for(var ht=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],It=0;It<64;It++){var Qt=ce((ht[It]*dt+50)/100);Qt=Math.min(Math.max(Qt,1),255),q[ls[It]]=Qt}for(var Xt=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ps=0;ps<64;ps++){var gs=ce((Xt[ps]*dt+50)/100);gs=Math.min(Math.max(gs,1),255),ee[ls[ps]]=gs}for(var Ls=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Js=0,br=0;br<8;br++)for(var gr=0;gr<8;gr++)Ce[Js]=1/(q[ls[Js]]*Ls[br]*Ls[gr]*8),Me[Js]=1/(ee[ls[Js]]*Ls[br]*Ls[gr]*8),Js++})(Qe<50?Math.floor(5e3/Qe):Math.floor(200-2*Qe)),V=Qe)}this.encode=function(Qe,dt){dt&&Qs(dt),it=new Array,ut=0,We=7,ms(65496),ms(65504),ms(16),Gt(74),Gt(70),Gt(73),Gt(70),Gt(0),Gt(1),Gt(1),Gt(0),ms(1),ms(1),Gt(0),Gt(0),(function(){ms(65499),ms(132),Gt(0);for(var $r=0;$r<64;$r++)Gt(q[$r]);Gt(1);for(var Or=0;Or<64;Or++)Gt(ee[Or])})(),(function($r,Or){ms(65472),ms(17),Gt(8),ms(Or),ms($r),Gt(3),Gt(1),Gt(17),Gt(0),Gt(2),Gt(17),Gt(1),Gt(3),Gt(17),Gt(1)})(Qe.width,Qe.height),(function(){ms(65476),ms(418),Gt(0);for(var $r=0;$r<16;$r++)Gt(zt[$r+1]);for(var Or=0;Or<=11;Or++)Gt(yt[Or]);Gt(16);for(var ka=0;ka<16;ka++)Gt(ss[ka+1]);for(var Sn=0;Sn<=161;Sn++)Gt(Ye[Sn]);Gt(1);for(var kr=0;kr<16;kr++)Gt(st[kr+1]);for(var zn=0;zn<=11;zn++)Gt(bt[zn]);Gt(17);for(var Xr=0;Xr<16;Xr++)Gt(vt[Xr+1]);for(var Br=0;Br<=161;Br++)Gt(ns[Br])})(),ms(65498),ms(12),Gt(3),Gt(1),Gt(0),Gt(2),Gt(17),Gt(3),Gt(17),Gt(0),Gt(63),Gt(0);var ht=0,It=0,Qt=0;ut=0,We=7,this.encode.displayName="_encode_";for(var Xt,ps,gs,Ls,Js,br,gr,Yr,et,or=Qe.data,un=Qe.width,rr=Qe.height,_s=4*un,tn=0;tn<rr;){for(Xt=0;Xt<_s;){for(Js=_s*tn+Xt,gr=-1,Yr=0,et=0;et<64;et++)br=Js+(Yr=et>>3)*_s+(gr=4*(7&et)),tn+Yr>=rr&&(br-=_s*(tn+1+Yr-rr)),Xt+gr>=_s&&(br-=Xt+gr-_s+4),ps=or[br++],gs=or[br++],Ls=or[br++],jt[et]=(Ot[ps]+Ot[gs+256|0]+Ot[Ls+512|0]>>16)-128,Pt[et]=(Ot[ps+768|0]+Ot[gs+1024|0]+Ot[Ls+1280|0]>>16)-128,gt[et]=(Ot[ps+1280|0]+Ot[gs+1536|0]+Ot[Ls+1792|0]>>16)-128;ht=Xs(jt,Ce,ht,v,I),It=Xs(Pt,Me,It,S,P),Qt=Xs(gt,Me,Qt,S,P),Xt+=32}tn+=8}if(We>=0){var vr=[];vr[1]=We+1,vr[0]=(1<<We+1)-1,bs(vr)}return ms(65497),new Uint8Array(it)},N=N||50,(function(){for(var Qe=String.fromCharCode,dt=0;dt<256;dt++)Ke[dt]=Qe(dt)})(),v=us(zt,yt),S=us(st,bt),I=us(ss,Ye),P=us(vt,ns),(function(){for(var Qe=1,dt=2,ht=1;ht<=15;ht++){for(var It=Qe;It<dt;It++)Xe[32767+It]=ht,ze[32767+It]=[],ze[32767+It][1]=ht,ze[32767+It][0]=It;for(var Qt=-(dt-1);Qt<=-Qe;Qt++)Xe[32767+Qt]=ht,ze[32767+Qt]=[],ze[32767+Qt][1]=ht,ze[32767+Qt][0]=dt-1+Qt;Qe<<=1,dt<<=1}})(),(function(){for(var Qe=0;Qe<256;Qe++)Ot[Qe]=19595*Qe,Ot[Qe+256|0]=38470*Qe,Ot[Qe+512|0]=7471*Qe+32768,Ot[Qe+768|0]=-11059*Qe,Ot[Qe+1024|0]=-21709*Qe,Ot[Qe+1280|0]=32768*Qe+8421375,Ot[Qe+1536|0]=-27439*Qe,Ot[Qe+1792|0]=-5329*Qe})(),Qs(N)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Gn(N,v){if(this.pos=0,this.buffer=N,this.datav=new DataView(N.buffer),this.is_with_alpha=!!v,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ki(N){function v(yt){if(!yt)throw Error("assert :P")}function S(yt,ss,Ye){for(var st=0;4>st;st++)if(yt[ss+st]!=Ye.charCodeAt(st))return!0;return!1}function I(yt,ss,Ye,st,bt){for(var vt=0;vt<bt;vt++)yt[ss+vt]=Ye[st+vt]}function P(yt,ss,Ye,st){for(var bt=0;bt<st;bt++)yt[ss+bt]=Ye}function V(yt){return new Int32Array(yt)}function ce(yt,ss){for(var Ye=[],st=0;st<yt;st++)Ye.push(new ss);return Ye}function q(yt,ss){var Ye=[];return(function st(bt,vt,ns){for(var us=ns[vt],bs=0;bs<us&&(bt.push(ns.length>vt+1?[]:new ss),!(ns.length<vt+1));bs++)st(bt[bs],vt+1,ns)})(Ye,0,yt),Ye}var ee=function(){var yt=this;function ss(k,D){for(var re=1<<D-1>>>0;k&re;)re>>>=1;return re?(k&re-1)+re:k}function Ye(k,D,re,me,Ue){v(!(me%re));do k[D+(me-=re)]=Ue;while(0<me)}function st(k,D,re,me,Ue){if(v(2328>=Ue),512>=Ue)var Ie=V(512);else if((Ie=V(Ue))==null)return 0;return(function(Oe,_e,Ve,rt,Bt,Yt){var tt,Ft,Ht=_e,ws=1<<Ve,qt=V(16),js=V(16);for(v(Bt!=0),v(rt!=null),v(Oe!=null),v(0<Ve),Ft=0;Ft<Bt;++Ft){if(15<rt[Ft])return 0;++qt[rt[Ft]]}if(qt[0]==Bt)return 0;for(js[1]=0,tt=1;15>tt;++tt){if(qt[tt]>1<<tt)return 0;js[tt+1]=js[tt]+qt[tt]}for(Ft=0;Ft<Bt;++Ft)tt=rt[Ft],0<rt[Ft]&&(Yt[js[tt]++]=Ft);if(js[15]==1)return(rt=new bt).g=0,rt.value=Yt[0],Ye(Oe,Ht,1,ws,rt),ws;var Bs,Hs=-1,Rs=ws-1,zr=0,wr=1,_n=1,Rr=1<<Ve;for(Ft=0,tt=1,Bt=2;tt<=Ve;++tt,Bt<<=1){if(wr+=_n<<=1,0>(_n-=qt[tt]))return 0;for(;0<qt[tt];--qt[tt])(rt=new bt).g=tt,rt.value=Yt[Ft++],Ye(Oe,Ht+zr,Bt,Rr,rt),zr=ss(zr,tt)}for(tt=Ve+1,Bt=2;15>=tt;++tt,Bt<<=1){if(wr+=_n<<=1,0>(_n-=qt[tt]))return 0;for(;0<qt[tt];--qt[tt]){if(rt=new bt,(zr&Rs)!=Hs){for(Ht+=Rr,Bs=1<<(Hs=tt)-Ve;15>Hs&&!(0>=(Bs-=qt[Hs]));)++Hs,Bs<<=1;ws+=Rr=1<<(Bs=Hs-Ve),Oe[_e+(Hs=zr&Rs)].g=Bs+Ve,Oe[_e+Hs].value=Ht-_e-Hs}rt.g=tt-Ve,rt.value=Yt[Ft++],Ye(Oe,Ht+(zr>>Ve),Bt,Rr,rt),zr=ss(zr,tt)}}return wr!=2*js[15]-1?0:ws})(k,D,re,me,Ue,Ie)}function bt(){this.value=this.g=0}function vt(){this.value=this.g=0}function ns(){this.G=ce(5,bt),this.H=V(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=ce(Pn,vt)}function us(k,D,re,me){v(k!=null),v(D!=null),v(2147483648>me),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=D,k.pa=re,k.Jd=D,k.Yc=re+me,k.Zc=4<=me?re+me-4+1:re,ps(k)}function bs(k,D){for(var re=0;0<D--;)re|=Ls(k,128)<<D;return re}function Gt(k,D){var re=bs(k,D);return gs(k)?-re:re}function ms(k,D,re,me){var Ue,Ie=0;for(v(k!=null),v(D!=null),v(4294967288>me),k.Sb=me,k.Ra=0,k.u=0,k.h=0,4<me&&(me=4),Ue=0;Ue<me;++Ue)Ie+=D[re+Ue]<<8*Ue;k.Ra=Ie,k.bb=me,k.oa=D,k.pa=re}function Xs(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<yo-8>>>0,++k.bb,k.u-=8;It(k)&&(k.h=1,k.u=0)}function Qs(k,D){if(v(0<=D),!k.h&&D<=on){var re=ht(k)&Tr[D];return k.u+=D,Xs(k),re}return k.h=1,k.u=0}function Qe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function dt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ht(k){return k.Ra>>>(k.u&yo-1)>>>0}function It(k){return v(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>yo}function Qt(k,D){k.u=D,k.h=It(k)}function Xt(k){k.u>=ql&&(v(k.u>=ql),Xs(k))}function ps(k){v(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(v(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function gs(k){return bs(k,1)}function Ls(k,D){var re=k.Ca;0>k.b&&ps(k);var me=k.b,Ue=re*D>>>8,Ie=(k.I>>>me>Ue)+0;for(Ie?(re-=Ue,k.I-=Ue+1<<me>>>0):re=Ue+1,me=re,Ue=0;256<=me;)Ue+=8,me>>=8;return me=7^Ue+yl[me],k.b-=me,k.Ca=(re<<me)-1,Ie}function Js(k,D,re){k[D+0]=re>>24&255,k[D+1]=re>>16&255,k[D+2]=re>>8&255,k[D+3]=255&re}function br(k,D){return k[D+0]|k[D+1]<<8}function gr(k,D){return br(k,D)|k[D+2]<<16}function Yr(k,D){return br(k,D)|br(k,D+2)<<16}function et(k,D){var re=1<<D;return v(k!=null),v(0<D),k.X=V(re),k.X==null?0:(k.Mb=32-D,k.Xa=D,1)}function or(k,D){v(k!=null),v(D!=null),v(k.Xa==D.Xa),I(D.X,0,k.X,0,1<<D.Xa)}function un(){this.X=[],this.Xa=this.Mb=0}function rr(k,D,re,me){v(re!=null),v(me!=null);var Ue=re[0],Ie=me[0];return Ue==0&&(Ue=(k*Ie+D/2)/D),Ie==0&&(Ie=(D*Ue+k/2)/k),0>=Ue||0>=Ie?0:(re[0]=Ue,me[0]=Ie,1)}function _s(k,D){return k+(1<<D)-1>>>D}function tn(k,D){return((4278255360&k)+(4278255360&D)>>>0&4278255360)+((16711935&k)+(16711935&D)>>>0&16711935)>>>0}function vr(k,D){yt[D]=function(re,me,Ue,Ie,Oe,_e,Ve){var rt;for(rt=0;rt<Oe;++rt){var Bt=yt[k](_e[Ve+rt-1],Ue,Ie+rt);_e[Ve+rt]=tn(re[me+rt],Bt)}}}function $r(){this.ud=this.hd=this.jd=0}function Or(k,D){return((4278124286&(k^D))>>>1)+(k&D)>>>0}function ka(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function Sn(k,D){return ka(k+(k-D+.5>>1))}function kr(k,D,re){return Math.abs(D-re)-Math.abs(k-re)}function zn(k,D,re,me,Ue,Ie,Oe){for(me=Ie[Oe-1],re=0;re<Ue;++re)Ie[Oe+re]=me=tn(k[D+re],me)}function Xr(k,D,re,me,Ue){var Ie;for(Ie=0;Ie<re;++Ie){var Oe=k[D+Ie],_e=Oe>>8&255,Ve=16711935&(Ve=(Ve=16711935&Oe)+((_e<<16)+_e));me[Ue+Ie]=(4278255360&Oe)+Ve>>>0}}function Br(k,D){D.jd=255&k,D.hd=k>>8&255,D.ud=k>>16&255}function rn(k,D,re,me,Ue,Ie){var Oe;for(Oe=0;Oe<me;++Oe){var _e=D[re+Oe],Ve=_e>>>8,rt=_e,Bt=255&(Bt=(Bt=_e>>>16)+((k.jd<<24>>24)*(Ve<<24>>24)>>>5));rt=255&(rt=(rt+=(k.hd<<24>>24)*(Ve<<24>>24)>>>5)+((k.ud<<24>>24)*(Bt<<24>>24)>>>5)),Ue[Ie+Oe]=(4278255360&_e)+(Bt<<16)+rt}}function Ir(k,D,re,me,Ue){yt[D]=function(Ie,Oe,_e,Ve,rt,Bt,Yt,tt,Ft){for(Ve=Yt;Ve<tt;++Ve)for(Yt=0;Yt<Ft;++Yt)rt[Bt++]=Ue(_e[me(Ie[Oe++])])},yt[k]=function(Ie,Oe,_e,Ve,rt,Bt,Yt){var tt=8>>Ie.b,Ft=Ie.Ea,Ht=Ie.K[0],ws=Ie.w;if(8>tt)for(Ie=(1<<Ie.b)-1,ws=(1<<tt)-1;Oe<_e;++Oe){var qt,js=0;for(qt=0;qt<Ft;++qt)qt&Ie||(js=me(Ve[rt++])),Bt[Yt++]=Ue(Ht[js&ws]),js>>=tt}else yt["VP8LMapColor"+re](Ve,rt,Ht,ws,Bt,Yt,Oe,_e,Ft)}}function vn(k,D,re,me,Ue){for(re=D+re;D<re;){var Ie=k[D++];me[Ue++]=Ie>>16&255,me[Ue++]=Ie>>8&255,me[Ue++]=255&Ie}}function Wn(k,D,re,me,Ue){for(re=D+re;D<re;){var Ie=k[D++];me[Ue++]=Ie>>16&255,me[Ue++]=Ie>>8&255,me[Ue++]=255&Ie,me[Ue++]=Ie>>24&255}}function En(k,D,re,me,Ue){for(re=D+re;D<re;){var Ie=(Oe=k[D++])>>16&240|Oe>>12&15,Oe=240&Oe|Oe>>28&15;me[Ue++]=Ie,me[Ue++]=Oe}}function Rn(k,D,re,me,Ue){for(re=D+re;D<re;){var Ie=(Oe=k[D++])>>16&248|Oe>>13&7,Oe=Oe>>5&224|Oe>>3&31;me[Ue++]=Ie,me[Ue++]=Oe}}function Wa(k,D,re,me,Ue){for(re=D+re;D<re;){var Ie=k[D++];me[Ue++]=255&Ie,me[Ue++]=Ie>>8&255,me[Ue++]=Ie>>16&255}}function Vr(k,D,re,me,Ue,Ie){if(Ie==0)for(re=D+re;D<re;)Js(me,((Ie=k[D++])[0]>>24|Ie[1]>>8&65280|Ie[2]<<8&16711680|Ie[3]<<24)>>>0),Ue+=32;else I(me,Ue,k,D,re)}function Qa(k,D){yt[D][0]=yt[k+"0"],yt[D][1]=yt[k+"1"],yt[D][2]=yt[k+"2"],yt[D][3]=yt[k+"3"],yt[D][4]=yt[k+"4"],yt[D][5]=yt[k+"5"],yt[D][6]=yt[k+"6"],yt[D][7]=yt[k+"7"],yt[D][8]=yt[k+"8"],yt[D][9]=yt[k+"9"],yt[D][10]=yt[k+"10"],yt[D][11]=yt[k+"11"],yt[D][12]=yt[k+"12"],yt[D][13]=yt[k+"13"],yt[D][14]=yt[k+"0"],yt[D][15]=yt[k+"0"]}function mn(k){return k==WA||k==pA||k==ju||k==YA}function _r(){this.eb=[],this.size=this.A=this.fb=0}function Na(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function jn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _r,this.f.kb=new Na,this.sd=null}function ar(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Fn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wc(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function Ri(k,D){var re=k.T,me=D.ba.f.RGBA,Ue=me.eb,Ie=me.fb+k.ka*me.A,Oe=Nc[D.ba.S],_e=k.y,Ve=k.O,rt=k.f,Bt=k.N,Yt=k.ea,tt=k.W,Ft=D.cc,Ht=D.dc,ws=D.Mc,qt=D.Nc,js=k.ka,Bs=k.ka+k.T,Hs=k.U,Rs=Hs+1>>1;for(js==0?Oe(_e,Ve,null,null,rt,Bt,Yt,tt,rt,Bt,Yt,tt,Ue,Ie,null,null,Hs):(Oe(D.ec,D.fc,_e,Ve,Ft,Ht,ws,qt,rt,Bt,Yt,tt,Ue,Ie-me.A,Ue,Ie,Hs),++re);js+2<Bs;js+=2)Ft=rt,Ht=Bt,ws=Yt,qt=tt,Bt+=k.Rc,tt+=k.Rc,Ie+=2*me.A,Oe(_e,(Ve+=2*k.fa)-k.fa,_e,Ve,Ft,Ht,ws,qt,rt,Bt,Yt,tt,Ue,Ie-me.A,Ue,Ie,Hs);return Ve+=k.fa,k.j+Bs<k.o?(I(D.ec,D.fc,_e,Ve,Hs),I(D.cc,D.dc,rt,Bt,Rs),I(D.Mc,D.Nc,Yt,tt,Rs),re--):1&Bs||Oe(_e,Ve,null,null,rt,Bt,Yt,tt,rt,Bt,Yt,tt,Ue,Ie+me.A,null,null,Hs),re}function lo(k,D,re){var me=k.F,Ue=[k.J];if(me!=null){var Ie=k.U,Oe=D.ba.S,_e=Oe==so||Oe==ju;D=D.ba.f.RGBA;var Ve=[0],rt=k.ka;Ve[0]=k.T,k.Kb&&(rt==0?--Ve[0]:(--rt,Ue[0]-=k.width),k.j+k.ka+k.T==k.o&&(Ve[0]=k.o-k.j-rt));var Bt=D.eb;rt=D.fb+rt*D.A,k=Dl(me,Ue[0],k.width,Ie,Ve,Bt,rt+(_e?0:3),D.A),v(re==Ve),k&&mn(Oe)&&Id(Bt,rt,_e,Ie,Ve,D.A)}return 0}function Kl(k){var D=k.ma,re=D.ba.S,me=11>re,Ue=re==mA||re==Iu||re==so||re==eu||re==12||mn(re);if(D.memory=null,D.Ib=null,D.Jb=null,D.Nd=null,!Ma(D.Oa,k,Ue?11:12))return 0;if(Ue&&mn(re)&&at(),k.da)alert("todo:use_scaling");else{if(me){if(D.Ib=Wc,k.Kb){if(re=k.U+1>>1,D.memory=V(k.U+2*re),D.memory==null)return 0;D.ec=D.memory,D.fc=0,D.cc=D.ec,D.dc=D.fc+k.U,D.Mc=D.cc,D.Nc=D.dc+re,D.Ib=Ri,at()}}else alert("todo:EmitYUV");Ue&&(D.Jb=lo,me&&Pe())}if(me&&!Xh){for(k=0;256>k;++k)rh[k]=89858*(k-128)+Cd>>tu,ih[k]=-22014*(k-128)+Cd,ah[k]=-45773*(k-128),nh[k]=113618*(k-128)+Cd>>tu;for(k=Qu;k<sh;++k)D=76283*(k-16)+Cd>>tu,oh[k-Qu]=bo(D,255),Jh[k-Qu]=bo(D+8>>4,15);Xh=1}return 1}function an(k){var D=k.ma,re=k.U,me=k.T;return v(!(1&k.ka)),0>=re||0>=me?0:(re=D.Ib(k,D),D.Jb!=null&&D.Jb(k,D,re),D.Dc+=re,1)}function li(k){k.ma.memory=null}function pi(k,D,re,me){return Qs(k,8)!=47?0:(D[0]=Qs(k,14)+1,re[0]=Qs(k,14)+1,me[0]=Qs(k,1),Qs(k,3)!=0?0:!k.h)}function el(k,D){if(4>k)return k+1;var re=k-2>>1;return(2+(1&k)<<re)+Qs(D,re)+1}function Lo(k,D){return 120<D?D-120:1<=(re=((re=XA[D-1])>>4)*k+(8-(15&re)))?re:1;var re}function Ra(k,D,re){var me=ht(re),Ue=k[D+=255&me].g-8;return 0<Ue&&(Qt(re,re.u+8),me=ht(re),D+=k[D].value,D+=me&(1<<Ue)-1),Qt(re,re.u+k[D].g),k[D].value}function gi(k,D,re){return re.g+=k.g,re.value+=k.value<<D>>>0,v(8>=re.g),k.g}function ci(k,D,re){var me=k.xc;return v((D=me==0?0:k.vc[k.md*(re>>me)+(D>>me)])<k.Wb),k.Ya[D]}function Ul(k,D,re,me){var Ue=k.ab,Ie=k.c*D,Oe=k.C;D=Oe+D;var _e=re,Ve=me;for(me=k.Ta,re=k.Ua;0<Ue--;){var rt=k.gc[Ue],Bt=Oe,Yt=D,tt=_e,Ft=Ve,Ht=(Ve=me,_e=re,rt.Ea);switch(v(Bt<Yt),v(Yt<=rt.nc),rt.hc){case 2:Ya(tt,Ft,(Yt-Bt)*Ht,Ve,_e);break;case 0:var ws=Bt,qt=Yt,js=Ve,Bs=_e,Hs=(Rr=rt).Ea;ws==0&&(Xi(tt,Ft,null,null,1,js,Bs),zn(tt,Ft+1,0,0,Hs-1,js,Bs+1),Ft+=Hs,Bs+=Hs,++ws);for(var Rs=1<<Rr.b,zr=Rs-1,wr=_s(Hs,Rr.b),_n=Rr.K,Rr=Rr.w+(ws>>Rr.b)*wr;ws<qt;){var la=_n,ro=Rr,Mn=1;for(wo(tt,Ft,js,Bs-Hs,1,js,Bs);Mn<Hs;){var Dr=(Mn&~zr)+Rs;Dr>Hs&&(Dr=Hs),(0,vi[la[ro++]>>8&15])(tt,Ft+ +Mn,js,Bs+Mn-Hs,Dr-Mn,js,Bs+Mn),Mn=Dr}Ft+=Hs,Bs+=Hs,++ws&zr||(Rr+=wr)}Yt!=rt.nc&&I(Ve,_e-Ht,Ve,_e+(Yt-Bt-1)*Ht,Ht);break;case 1:for(Ht=tt,qt=Ft,Hs=(tt=rt.Ea)-(Bs=tt&~(js=(Ft=1<<rt.b)-1)),ws=_s(tt,rt.b),Rs=rt.K,rt=rt.w+(Bt>>rt.b)*ws;Bt<Yt;){for(zr=Rs,wr=rt,_n=new $r,Rr=qt+Bs,la=qt+tt;qt<Rr;)Br(zr[wr++],_n),qd(_n,Ht,qt,Ft,Ve,_e),qt+=Ft,_e+=Ft;qt<la&&(Br(zr[wr++],_n),qd(_n,Ht,qt,Hs,Ve,_e),qt+=Hs,_e+=Hs),++Bt&js||(rt+=ws)}break;case 3:if(tt==Ve&&Ft==_e&&0<rt.b){for(qt=Ve,tt=Ht=_e+(Yt-Bt)*Ht-(Bs=(Yt-Bt)*_s(rt.Ea,rt.b)),Ft=Ve,js=_e,ws=[],Bs=(Hs=Bs)-1;0<=Bs;--Bs)ws[Bs]=Ft[js+Bs];for(Bs=Hs-1;0<=Bs;--Bs)qt[tt+Bs]=ws[Bs];Mu(rt,Bt,Yt,Ve,Ht,Ve,_e)}else Mu(rt,Bt,Yt,tt,Ft,Ve,_e)}_e=me,Ve=re}Ve!=re&&I(me,re,_e,Ve,Ie)}function Pi(k,D){var re=k.V,me=k.Ba+k.c*k.C,Ue=D-k.C;if(v(D<=k.l.o),v(16>=Ue),0<Ue){var Ie=k.l,Oe=k.Ta,_e=k.Ua,Ve=Ie.width;if(Ul(k,Ue,re,me),Ue=_e=[_e],v((re=k.C)<(me=D)),v(Ie.v<Ie.va),me>Ie.o&&(me=Ie.o),re<Ie.j){var rt=Ie.j-re;re=Ie.j,Ue[0]+=rt*Ve}if(re>=me?re=0:(Ue[0]+=4*Ie.v,Ie.ka=re-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=me-re,re=1),re){if(_e=_e[0],11>(re=k.ca).S){var Bt=re.f.RGBA,Yt=(me=re.S,Ue=Ie.U,Ie=Ie.T,rt=Bt.eb,Bt.A),tt=Ie;for(Bt=Bt.fb+k.Ma*Bt.A;0<tt--;){var Ft=Oe,Ht=_e,ws=Ue,qt=rt,js=Bt;switch(me){case wu:vc(Ft,Ht,ws,qt,js);break;case mA:yn(Ft,Ht,ws,qt,js);break;case WA:yn(Ft,Ht,ws,qt,js),Id(qt,js,0,ws,1,0);break;case KA:yd(Ft,Ht,ws,qt,js);break;case Iu:Vr(Ft,Ht,ws,qt,js,1);break;case pA:Vr(Ft,Ht,ws,qt,js,1),Id(qt,js,0,ws,1,0);break;case so:Vr(Ft,Ht,ws,qt,js,0);break;case ju:Vr(Ft,Ht,ws,qt,js,0),Id(qt,js,1,ws,1,0);break;case eu:pa(Ft,Ht,ws,qt,js);break;case YA:pa(Ft,Ht,ws,qt,js),AA(qt,js,ws,1,0);break;case GA:ri(Ft,Ht,ws,qt,js);break;default:v(0)}_e+=Ve,Bt+=Yt}k.Ma+=Ie}else alert("todo:EmitRescaledRowsYUVA");v(k.Ma<=re.height)}}k.C=D,v(k.C<=k.i)}function hl(k){var D;if(0<k.ua)return 0;for(D=0;D<k.Wb;++D){var re=k.Ya[D].G,me=k.Ya[D].H;if(0<re[1][me[1]+0].g||0<re[2][me[2]+0].g||0<re[3][me[3]+0].g)return 0}return 1}function go(k,D,re,me,Ue,Ie){if(k.Z!=0){var Oe=k.qd,_e=k.rd;for(v(jd[k.Z]!=null);D<re;++D)jd[k.Z](Oe,_e,me,Ue,me,Ue,Ie),Oe=me,_e=Ue,Ue+=Ie;k.qd=Oe,k.rd=_e}}function Ll(k,D){var re=k.l.ma,me=re.Z==0||re.Z==1?k.l.j:k.C;if(me=k.C<me?me:k.C,v(D<=k.l.o),D>me){var Ue=k.l.width,Ie=re.ca,Oe=re.tb+Ue*me,_e=k.V,Ve=k.Ba+k.c*me,rt=k.gc;v(k.ab==1),v(rt[0].hc==3),il(rt[0],me,D,_e,Ve,Ie,Oe),go(re,me,D,Ie,Oe,Ue)}k.C=k.Ma=D}function Fo(k,D,re,me,Ue,Ie,Oe){var _e=k.$/me,Ve=k.$%me,rt=k.m,Bt=k.s,Yt=re+k.$,tt=Yt;Ue=re+me*Ue;var Ft=re+me*Ie,Ht=280+Bt.ua,ws=k.Pb?_e:16777216,qt=0<Bt.ua?Bt.Wa:null,js=Bt.wc,Bs=Yt<Ft?ci(Bt,Ve,_e):null;v(k.C<Ie),v(Ft<=Ue);var Hs=!1;e:for(;;){for(;Hs||Yt<Ft;){var Rs=0;if(_e>=ws){var zr=Yt-re;v((ws=k).Pb),ws.wd=ws.m,ws.xd=zr,0<ws.s.ua&&or(ws.s.Wa,ws.s.vb),ws=_e+Kh}if(Ve&js||(Bs=ci(Bt,Ve,_e)),v(Bs!=null),Bs.Qb&&(D[Yt]=Bs.qb,Hs=!0),!Hs)if(Xt(rt),Bs.jc){Rs=rt,zr=D;var wr=Yt,_n=Bs.pd[ht(Rs)&Pn-1];v(Bs.jc),256>_n.g?(Qt(Rs,Rs.u+_n.g),zr[wr]=_n.value,Rs=0):(Qt(Rs,Rs.u+_n.g-256),v(256<=_n.value),Rs=_n.value),Rs==0&&(Hs=!0)}else Rs=Ra(Bs.G[0],Bs.H[0],rt);if(rt.h)break;if(Hs||256>Rs){if(!Hs)if(Bs.nd)D[Yt]=(Bs.qb|Rs<<8)>>>0;else{if(Xt(rt),Hs=Ra(Bs.G[1],Bs.H[1],rt),Xt(rt),zr=Ra(Bs.G[2],Bs.H[2],rt),wr=Ra(Bs.G[3],Bs.H[3],rt),rt.h)break;D[Yt]=(wr<<24|Hs<<16|Rs<<8|zr)>>>0}if(Hs=!1,++Yt,++Ve>=me&&(Ve=0,++_e,Oe!=null&&_e<=Ie&&!(_e%16)&&Oe(k,_e),qt!=null))for(;tt<Yt;)Rs=D[tt++],qt.X[(506832829*Rs&4294967295)>>>qt.Mb]=Rs}else if(280>Rs){if(Rs=el(Rs-256,rt),zr=Ra(Bs.G[4],Bs.H[4],rt),Xt(rt),zr=Lo(me,zr=el(zr,rt)),rt.h)break;if(Yt-re<zr||Ue-Yt<Rs)break e;for(wr=0;wr<Rs;++wr)D[Yt+wr]=D[Yt+wr-zr];for(Yt+=Rs,Ve+=Rs;Ve>=me;)Ve-=me,++_e,Oe!=null&&_e<=Ie&&!(_e%16)&&Oe(k,_e);if(v(Yt<=Ue),Ve&js&&(Bs=ci(Bt,Ve,_e)),qt!=null)for(;tt<Yt;)Rs=D[tt++],qt.X[(506832829*Rs&4294967295)>>>qt.Mb]=Rs}else{if(!(Rs<Ht))break e;for(Hs=Rs-280,v(qt!=null);tt<Yt;)Rs=D[tt++],qt.X[(506832829*Rs&4294967295)>>>qt.Mb]=Rs;Rs=Yt,v(!(Hs>>>(zr=qt).Xa)),D[Rs]=zr.X[Hs],Hs=!0}Hs||v(rt.h==It(rt))}if(k.Pb&&rt.h&&Yt<Ue)v(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&or(k.s.vb,k.s.Wa);else{if(rt.h)break e;Oe!=null&&Oe(k,_e>Ie?Ie:_e),k.a=0,k.$=Yt-re}return 1}return k.a=3,0}function fl(k){v(k!=null),k.vc=null,k.yc=null,k.Ya=null;var D=k.Wa;D!=null&&(D.X=null),k.vb=null,v(k!=null)}function Yc(){var k=new pn;return k==null?null:(k.a=0,k.xb=bA,Qa("Predictor","VP8LPredictors"),Qa("Predictor","VP8LPredictors_C"),Qa("PredictorAdd","VP8LPredictorsAdd"),Qa("PredictorAdd","VP8LPredictorsAdd_C"),Ya=Xr,qd=rn,vc=vn,yn=Wn,pa=En,ri=Rn,yd=Wa,yt.VP8LMapColor32b=rd,yt.VP8LMapColor8b=ol,k)}function ml(k,D,re,me,Ue){var Ie=1,Oe=[k],_e=[D],Ve=me.m,rt=me.s,Bt=null,Yt=0;e:for(;;){if(re)for(;Ie&&Qs(Ve,1);){var tt=Oe,Ft=_e,Ht=me,ws=1,qt=Ht.m,js=Ht.gc[Ht.ab],Bs=Qs(qt,2);if(Ht.Oc&1<<Bs)Ie=0;else{switch(Ht.Oc|=1<<Bs,js.hc=Bs,js.Ea=tt[0],js.nc=Ft[0],js.K=[null],++Ht.ab,v(4>=Ht.ab),Bs){case 0:case 1:js.b=Qs(qt,3)+2,ws=ml(_s(js.Ea,js.b),_s(js.nc,js.b),0,Ht,js.K),js.K=js.K[0];break;case 3:var Hs,Rs=Qs(qt,8)+1,zr=16<Rs?0:4<Rs?1:2<Rs?2:3;if(tt[0]=_s(js.Ea,zr),js.b=zr,Hs=ws=ml(Rs,1,0,Ht,js.K)){var wr,_n=Rs,Rr=js,la=1<<(8>>Rr.b),ro=V(la);if(ro==null)Hs=0;else{var Mn=Rr.K[0],Dr=Rr.w;for(ro[0]=Rr.K[0][0],wr=1;wr<1*_n;++wr)ro[wr]=tn(Mn[Dr+wr],ro[wr-1]);for(;wr<4*la;++wr)ro[wr]=0;Rr.K[0]=null,Rr.K[0]=ro,Hs=1}}ws=Hs;break;case 2:break;default:v(0)}Ie=ws}}if(Oe=Oe[0],_e=_e[0],Ie&&Qs(Ve,1)&&!(Ie=1<=(Yt=Qs(Ve,4))&&11>=Yt)){me.a=3;break e}var cr;if(cr=Ie)t:{var _i,On,$n,ni=me,jo=Oe,_o=_e,Oa=Yt,Ho=re,wl=ni.m,Hi=ni.s,ia=[null],dn=1,Zi=0,za=JA[Oa];s:for(;;){if(Ho&&Qs(wl,1)){var zo=Qs(wl,3)+2,cl=_s(jo,zo),Xa=_s(_o,zo),dl=cl*Xa;if(!ml(cl,Xa,0,ni,ia))break s;for(ia=ia[0],Hi.xc=zo,_i=0;_i<dl;++_i){var Ja=ia[_i]>>8&65535;ia[_i]=Ja,Ja>=dn&&(dn=Ja+1)}}if(wl.h)break s;for(On=0;5>On;++On){var Ws=Vh[On];!On&&0<Oa&&(Ws+=1<<Oa),Zi<Ws&&(Zi=Ws)}var ai=ce(dn*za,bt),No=dn,di=ce(No,ns);if(di==null)var rc=null;else v(65536>=No),rc=di;var Ln=V(Zi);if(rc==null||Ln==null||ai==null){ni.a=1;break s}var ea=ai;for(_i=$n=0;_i<dn;++_i){var Sa=rc[_i],nc=Sa.G,qi=Sa.H,ui=0,ac=1,$o=0;for(On=0;5>On;++On){Ws=Vh[On],nc[On]=ea,qi[On]=$n,!On&&0<Oa&&(Ws+=1<<Oa);n:{var no,lh=Ws,NA=ni,Cu=Ln,Ui=ea,Rl=$n,Pc=0,ad=NA.m,Zh=Qs(ad,1);if(P(Cu,0,0,lh),Zh){var If=Qs(ad,1)+1,Df=Qs(ad,1),CA=Qs(ad,Df==0?1:8);Cu[CA]=1,If==2&&(Cu[CA=Qs(ad,8)]=1);var ul=1}else{var Qc=V(19),Hu=Qs(ad,4)+4;if(19<Hu){NA.a=3;var Za=0;break n}for(no=0;no<Hu;++no)Qc[Tf[no]]=Qs(ad,3);var kA=void 0,jl=void 0,su=NA,Rd=Qc,ru=lh,Pd=Cu,Nl=0,Qd=su.m,_c=8,zu=ce(128,bt);r:for(;st(zu,0,7,Rd,19);){if(Qs(Qd,1)){var BA=2+2*Qs(Qd,3);if((kA=2+Qs(Qd,BA))>ru)break r}else kA=ru;for(jl=0;jl<ru&&kA--;){Xt(Qd);var nu=zu[0+(127&ht(Qd))];Qt(Qd,Qd.u+nu.g);var ku=nu.value;if(16>ku)Pd[jl++]=ku,ku!=0&&(_c=ku);else{var qh=ku==16,$u=ku-16,Rf=N0[$u],SA=Qs(Qd,Ef[$u])+Rf;if(jl+SA>ru)break r;for(var Pf=qh?_c:0;0<SA--;)Pd[jl++]=Pf}}Nl=1;break r}Nl||(su.a=3),ul=Nl}(ul=ul&&!ad.h)&&(Pc=st(Ui,Rl,8,Cu,lh)),ul&&Pc!=0?Za=Pc:(NA.a=3,Za=0)}if(Za==0)break s;if(ac&&Du[On]==1&&(ac=ea[$n].g==0),ui+=ea[$n].g,$n+=Za,3>=On){var EA,ef=Ln[0];for(EA=1;EA<Ws;++EA)Ln[EA]>ef&&(ef=Ln[EA]);$o+=ef}}if(Sa.nd=ac,Sa.Qb=0,ac&&(Sa.qb=(nc[3][qi[3]+0].value<<24|nc[1][qi[1]+0].value<<16|nc[2][qi[2]+0].value)>>>0,ui==0&&256>nc[0][qi[0]+0].value&&(Sa.Qb=1,Sa.qb+=nc[0][qi[0]+0].value<<8)),Sa.jc=!Sa.Qb&&6>$o,Sa.jc){var va,ga=Sa;for(va=0;va<Pn;++va){var In=va,Hn=ga.pd[In],Ea=ga.G[0][ga.H[0]+In];256<=Ea.value?(Hn.g=Ea.g+256,Hn.value=Ea.value):(Hn.g=0,Hn.value=0,In>>=gi(Ea,8,Hn),In>>=gi(ga.G[1][ga.H[1]+In],16,Hn),In>>=gi(ga.G[2][ga.H[2]+In],0,Hn),gi(ga.G[3][ga.H[3]+In],24,Hn))}}}Hi.vc=ia,Hi.Wb=dn,Hi.Ya=rc,Hi.yc=ai,cr=1;break t}cr=0}if(!(Ie=cr)){me.a=3;break e}if(0<Yt){if(rt.ua=1<<Yt,!et(rt.Wa,Yt)){me.a=1,Ie=0;break e}}else rt.ua=0;var Pl=me,_d=Oe,Vu=_e,B=Pl.s,j=B.xc;if(Pl.c=_d,Pl.i=Vu,B.md=_s(_d,j),B.wc=j==0?-1:(1<<j)-1,re){me.xb=Ff;break e}if((Bt=V(Oe*_e))==null){me.a=1,Ie=0;break e}Ie=(Ie=Fo(me,Bt,0,Oe,_e,_e,null))&&!Ve.h;break e}return Ie?(Ue!=null?Ue[0]=Bt:(v(Bt==null),v(re)),me.$=0,re||fl(rt)):fl(rt),Ie}function Mo(k,D){var re=k.c*k.i,me=re+D+16*D;return v(k.c<=D),k.V=V(me),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+re+D,1)}function Uc(k,D){var re=k.C,me=D-re,Ue=k.V,Ie=k.Ba+k.c*re;for(v(D<=k.l.o);0<me;){var Oe=16<me?16:me,_e=k.l.ma,Ve=k.l.width,rt=Ve*Oe,Bt=_e.ca,Yt=_e.tb+Ve*re,tt=k.Ta,Ft=k.Ua;Ul(k,Oe,Ue,Ie),Dc(tt,Ft,Bt,Yt,rt),go(_e,re,re+Oe,Bt,Yt,Ve),me-=Oe,Ue+=Oe*k.c,re+=Oe}v(re==D),k.C=k.Ma=D}function Xc(){this.ub=this.yd=this.td=this.Rb=0}function pc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function tl(){this.Fb=this.Bb=this.Cb=0,this.Zb=V(4),this.Lb=V(4)}function Lc(){this.Yb=(function(){var k=[];return(function D(re,me,Ue){for(var Ie=Ue[me],Oe=0;Oe<Ie&&(re.push(Ue.length>me+1?[]:0),!(Ue.length<me+1));Oe++)D(re[Oe],me+1,Ue)})(k,0,[3,11]),k})()}function Oo(){this.jb=V(3),this.Wc=q([4,8],Lc),this.Xc=q([4,17],Lc)}function Fl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new V(4),this.od=new V(4)}function xo(){this.ld=this.La=this.dd=this.tc=0}function gc(){this.Na=this.la=0}function Fc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ud(){this.ad=V(384),this.Za=0,this.Ob=V(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gl(){this.uc=this.M=this.Nb=0,this.wa=Array(new xo),this.Y=0,this.ya=Array(new ud),this.aa=0,this.l=new Md}function Jd(){this.y=V(16),this.f=V(8),this.ea=V(8)}function Ad(){this.cb=this.a=0,this.sc="",this.m=new Qe,this.Od=new Xc,this.Kc=new pc,this.ed=new Fl,this.Qa=new tl,this.Ic=this.$c=this.Aa=0,this.D=new Gl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=ce(8,Qe),this.ia=0,this.pb=ce(4,Fc),this.Pa=new Oo,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Jd),this.Hd=0,this.rb=Array(new gc),this.sb=0,this.wa=Array(new xo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ud),this.L=this.aa=0,this.gd=q([4,2],xo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bo(k,D){return 0>k?0:k>D?D:k}function Md(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Io(){var k=new Ad;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,Nu||(Nu=Yl)),k}function An(k,D,re){return k.a==0&&(k.a=D,k.sc=re,k.cb=0),0}function Ml(k,D,re){return 3<=re&&k[D+0]==157&&k[D+1]==1&&k[D+2]==42}function Wl(k,D){if(k==null)return 0;if(k.a=0,k.sc="OK",D==null)return An(k,2,"null VP8Io passed to VP8GetHeaders()");var re=D.data,me=D.w,Ue=D.ha;if(4>Ue)return An(k,7,"Truncated header.");var Ie=re[me+0]|re[me+1]<<8|re[me+2]<<16,Oe=k.Od;if(Oe.Rb=!(1&Ie),Oe.td=Ie>>1&7,Oe.yd=Ie>>4&1,Oe.ub=Ie>>5,3<Oe.td)return An(k,3,"Incorrect keyframe parameters.");if(!Oe.yd)return An(k,4,"Frame not displayable.");me+=3,Ue-=3;var _e=k.Kc;if(Oe.Rb){if(7>Ue)return An(k,7,"cannot parse picture header");if(!Ml(re,me,Ue))return An(k,3,"Bad code word");_e.c=16383&(re[me+4]<<8|re[me+3]),_e.Td=re[me+4]>>6,_e.i=16383&(re[me+6]<<8|re[me+5]),_e.Ud=re[me+6]>>6,me+=7,Ue-=7,k.za=_e.c+15>>4,k.Ub=_e.i+15>>4,D.width=_e.c,D.height=_e.i,D.Da=0,D.j=0,D.v=0,D.va=D.width,D.o=D.height,D.da=0,D.ib=D.width,D.hb=D.height,D.U=D.width,D.T=D.height,P((Ie=k.Pa).jb,0,255,Ie.jb.length),v((Ie=k.Qa)!=null),Ie.Cb=0,Ie.Bb=0,Ie.Fb=1,P(Ie.Zb,0,0,Ie.Zb.length),P(Ie.Lb,0,0,Ie.Lb)}if(Oe.ub>Ue)return An(k,7,"bad partition length");us(Ie=k.m,re,me,Oe.ub),me+=Oe.ub,Ue-=Oe.ub,Oe.Rb&&(_e.Ld=gs(Ie),_e.Kd=gs(Ie)),_e=k.Qa;var Ve,rt=k.Pa;if(v(Ie!=null),v(_e!=null),_e.Cb=gs(Ie),_e.Cb){if(_e.Bb=gs(Ie),gs(Ie)){for(_e.Fb=gs(Ie),Ve=0;4>Ve;++Ve)_e.Zb[Ve]=gs(Ie)?Gt(Ie,7):0;for(Ve=0;4>Ve;++Ve)_e.Lb[Ve]=gs(Ie)?Gt(Ie,6):0}if(_e.Bb)for(Ve=0;3>Ve;++Ve)rt.jb[Ve]=gs(Ie)?bs(Ie,8):255}else _e.Bb=0;if(Ie.Ka)return An(k,3,"cannot parse segment header");if((_e=k.ed).zd=gs(Ie),_e.Tb=bs(Ie,6),_e.wb=bs(Ie,3),_e.Pc=gs(Ie),_e.Pc&&gs(Ie)){for(rt=0;4>rt;++rt)gs(Ie)&&(_e.vd[rt]=Gt(Ie,6));for(rt=0;4>rt;++rt)gs(Ie)&&(_e.od[rt]=Gt(Ie,6))}if(k.L=_e.Tb==0?0:_e.zd?1:2,Ie.Ka)return An(k,3,"cannot parse filter header");var Bt=Ue;if(Ue=Ve=me,me=Ve+Bt,_e=Bt,k.Xb=(1<<bs(k.m,2))-1,Bt<3*(rt=k.Xb))re=7;else{for(Ve+=3*rt,_e-=3*rt,Bt=0;Bt<rt;++Bt){var Yt=re[Ue+0]|re[Ue+1]<<8|re[Ue+2]<<16;Yt>_e&&(Yt=_e),us(k.Jc[+Bt],re,Ve,Yt),Ve+=Yt,_e-=Yt,Ue+=3}us(k.Jc[+rt],re,Ve,_e),re=Ve<me?0:5}if(re!=0)return An(k,re,"cannot parse partitions");for(re=bs(Ve=k.m,7),Ue=gs(Ve)?Gt(Ve,4):0,me=gs(Ve)?Gt(Ve,4):0,_e=gs(Ve)?Gt(Ve,4):0,rt=gs(Ve)?Gt(Ve,4):0,Ve=gs(Ve)?Gt(Ve,4):0,Bt=k.Qa,Yt=0;4>Yt;++Yt){if(Bt.Cb){var tt=Bt.Zb[Yt];Bt.Fb||(tt+=re)}else{if(0<Yt){k.pb[Yt]=k.pb[0];continue}tt=re}var Ft=k.pb[Yt];Ft.Sc[0]=Ru[bo(tt+Ue,127)],Ft.Sc[1]=ZA[bo(tt+0,127)],Ft.Eb[0]=2*Ru[bo(tt+me,127)],Ft.Eb[1]=101581*ZA[bo(tt+_e,127)]>>16,8>Ft.Eb[1]&&(Ft.Eb[1]=8),Ft.Qc[0]=Ru[bo(tt+rt,117)],Ft.Qc[1]=ZA[bo(tt+Ve,127)],Ft.lc=tt+Ve}if(!Oe.Rb)return An(k,4,"Not a key frame.");for(gs(Ie),Oe=k.Pa,re=0;4>re;++re){for(Ue=0;8>Ue;++Ue)for(me=0;3>me;++me)for(_e=0;11>_e;++_e)rt=Ls(Ie,gA[re][Ue][me][_e])?bs(Ie,8):Lf[re][Ue][me][_e],Oe.Wc[re][Ue].Yb[me][_e]=rt;for(Ue=0;17>Ue;++Ue)Oe.Xc[re][Ue]=Oe.Wc[re][xA[Ue]]}return k.kc=gs(Ie),k.kc&&(k.Bd=bs(Ie,8)),k.cb=1}function Yl(k,D,re,me,Ue,Ie,Oe){var _e=D[Ue].Yb[re];for(re=0;16>Ue;++Ue){if(!Ls(k,_e[re+0]))return Ue;for(;!Ls(k,_e[re+1]);)if(_e=D[++Ue].Yb[0],re=0,Ue==16)return 16;var Ve=D[Ue+1].Yb;if(Ls(k,_e[re+2])){var rt=k,Bt=0;if(Ls(rt,(tt=_e)[(Yt=re)+3]))if(Ls(rt,tt[Yt+6])){for(_e=0,Yt=2*(Bt=Ls(rt,tt[Yt+8]))+(tt=Ls(rt,tt[Yt+9+Bt])),Bt=0,tt=qA[Yt];tt[_e];++_e)Bt+=Bt+Ls(rt,tt[_e]);Bt+=3+(8<<Yt)}else Ls(rt,tt[Yt+7])?(Bt=7+2*Ls(rt,165),Bt+=Ls(rt,145)):Bt=5+Ls(rt,159);else Bt=Ls(rt,tt[Yt+4])?3+Ls(rt,tt[Yt+5]):2;_e=Ve[2]}else Bt=1,_e=Ve[1];Ve=Oe+Uf[Ue],0>(rt=k).b&&ps(rt);var Yt,tt=rt.b,Ft=(Yt=rt.Ca>>1)-(rt.I>>tt)>>31;--rt.b,rt.Ca+=Ft,rt.Ca|=1,rt.I-=(Yt+1&Ft)<<tt,Ie[Ve]=((Bt^Ft)-Ft)*me[(0<Ue)+0]}return 16}function Mc(k){var D=k.rb[k.sb-1];D.la=0,D.Na=0,P(k.zc,0,0,k.zc.length),k.ja=0}function Ol(k,D,re,me,Ue){Ue=k[D+re+32*me]+(Ue>>3),k[D+re+32*me]=-256&Ue?0>Ue?0:255:Ue}function Gi(k,D,re,me,Ue,Ie){Ol(k,D,0,re,me+Ue),Ol(k,D,1,re,me+Ie),Ol(k,D,2,re,me-Ie),Ol(k,D,3,re,me-Ue)}function Xl(k){return(20091*k>>16)+k}function hd(k,D,re,me){var Ue,Ie=0,Oe=V(16);for(Ue=0;4>Ue;++Ue){var _e=k[D+0]+k[D+8],Ve=k[D+0]-k[D+8],rt=(35468*k[D+4]>>16)-Xl(k[D+12]),Bt=Xl(k[D+4])+(35468*k[D+12]>>16);Oe[Ie+0]=_e+Bt,Oe[Ie+1]=Ve+rt,Oe[Ie+2]=Ve-rt,Oe[Ie+3]=_e-Bt,Ie+=4,D++}for(Ue=Ie=0;4>Ue;++Ue)_e=(k=Oe[Ie+0]+4)+Oe[Ie+8],Ve=k-Oe[Ie+8],rt=(35468*Oe[Ie+4]>>16)-Xl(Oe[Ie+12]),Ol(re,me,0,0,_e+(Bt=Xl(Oe[Ie+4])+(35468*Oe[Ie+12]>>16))),Ol(re,me,1,0,Ve+rt),Ol(re,me,2,0,Ve-rt),Ol(re,me,3,0,_e-Bt),Ie++,me+=32}function Wi(k,D,re,me){var Ue=k[D+0]+4,Ie=35468*k[D+4]>>16,Oe=Xl(k[D+4]),_e=35468*k[D+1]>>16;Gi(re,me,0,Ue+Oe,k=Xl(k[D+1]),_e),Gi(re,me,1,Ue+Ie,k,_e),Gi(re,me,2,Ue-Ie,k,_e),Gi(re,me,3,Ue-Oe,k,_e)}function Jc(k,D,re,me,Ue){hd(k,D,re,me),Ue&&hd(k,D+16,re,me+4)}function Do(k,D,re,me){yc(k,D+0,re,me,1),yc(k,D+32,re,me+128,1)}function fd(k,D,re,me){var Ue;for(k=k[D+0]+4,Ue=0;4>Ue;++Ue)for(D=0;4>D;++D)Ol(re,me,D,Ue,k)}function Jl(k,D,re,me){k[D+0]&&aa(k,D+0,re,me),k[D+16]&&aa(k,D+16,re,me+4),k[D+32]&&aa(k,D+32,re,me+128),k[D+48]&&aa(k,D+48,re,me+128+4)}function vo(k,D,re,me){var Ue,Ie=V(16);for(Ue=0;4>Ue;++Ue){var Oe=k[D+0+Ue]+k[D+12+Ue],_e=k[D+4+Ue]+k[D+8+Ue],Ve=k[D+4+Ue]-k[D+8+Ue],rt=k[D+0+Ue]-k[D+12+Ue];Ie[0+Ue]=Oe+_e,Ie[8+Ue]=Oe-_e,Ie[4+Ue]=rt+Ve,Ie[12+Ue]=rt-Ve}for(Ue=0;4>Ue;++Ue)Oe=(k=Ie[0+4*Ue]+3)+Ie[3+4*Ue],_e=Ie[1+4*Ue]+Ie[2+4*Ue],Ve=Ie[1+4*Ue]-Ie[2+4*Ue],rt=k-Ie[3+4*Ue],re[me+0]=Oe+_e>>3,re[me+16]=rt+Ve>>3,re[me+32]=Oe-_e>>3,re[me+48]=rt-Ve>>3,me+=64}function to(k,D,re){var me,Ue=D-32,Ie=sc,Oe=255-k[Ue-1];for(me=0;me<re;++me){var _e,Ve=Ie,rt=Oe+k[D-1];for(_e=0;_e<re;++_e)k[D+_e]=Ve[rt+k[Ue+_e]];D+=32}}function Zl(k,D){to(k,D,4)}function pl(k,D){to(k,D,8)}function sl(k,D){to(k,D,16)}function gl(k,D){var re;for(re=0;16>re;++re)I(k,D+32*re,k,D-32,16)}function gu(k,D){var re;for(re=16;0<re;--re)P(k,D,k[D-1],16),D+=32}function Il(k,D,re){var me;for(me=0;16>me;++me)P(D,re+32*me,k,16)}function xu(k,D){var re,me=16;for(re=0;16>re;++re)me+=k[D-1+32*re]+k[D+re-32];Il(me>>5,k,D)}function md(k,D){var re,me=8;for(re=0;16>re;++re)me+=k[D-1+32*re];Il(me>>4,k,D)}function Qi(k,D){var re,me=8;for(re=0;16>re;++re)me+=k[D+re-32];Il(me>>4,k,D)}function _a(k,D){Il(128,k,D)}function lr(k,D,re){return k+2*D+re+2>>2}function Oc(k,D){var re,me=D-32;for(me=new Uint8Array([lr(k[me-1],k[me+0],k[me+1]),lr(k[me+0],k[me+1],k[me+2]),lr(k[me+1],k[me+2],k[me+3]),lr(k[me+2],k[me+3],k[me+4])]),re=0;4>re;++re)I(k,D+32*re,me,0,me.length)}function xl(k,D){var re=k[D-1],me=k[D-1+32],Ue=k[D-1+64],Ie=k[D-1+96];Js(k,D+0,16843009*lr(k[D-1-32],re,me)),Js(k,D+32,16843009*lr(re,me,Ue)),Js(k,D+64,16843009*lr(me,Ue,Ie)),Js(k,D+96,16843009*lr(Ue,Ie,Ie))}function pd(k,D){var re,me=4;for(re=0;4>re;++re)me+=k[D+re-32]+k[D-1+32*re];for(me>>=3,re=0;4>re;++re)P(k,D+32*re,me,4)}function Ro(k,D){var re=k[D-1+0],me=k[D-1+32],Ue=k[D-1+64],Ie=k[D-1-32],Oe=k[D+0-32],_e=k[D+1-32],Ve=k[D+2-32],rt=k[D+3-32];k[D+0+96]=lr(me,Ue,k[D-1+96]),k[D+1+96]=k[D+0+64]=lr(re,me,Ue),k[D+2+96]=k[D+1+64]=k[D+0+32]=lr(Ie,re,me),k[D+3+96]=k[D+2+64]=k[D+1+32]=k[D+0+0]=lr(Oe,Ie,re),k[D+3+64]=k[D+2+32]=k[D+1+0]=lr(_e,Oe,Ie),k[D+3+32]=k[D+2+0]=lr(Ve,_e,Oe),k[D+3+0]=lr(rt,Ve,_e)}function Ic(k,D){var re=k[D+1-32],me=k[D+2-32],Ue=k[D+3-32],Ie=k[D+4-32],Oe=k[D+5-32],_e=k[D+6-32],Ve=k[D+7-32];k[D+0+0]=lr(k[D+0-32],re,me),k[D+1+0]=k[D+0+32]=lr(re,me,Ue),k[D+2+0]=k[D+1+32]=k[D+0+64]=lr(me,Ue,Ie),k[D+3+0]=k[D+2+32]=k[D+1+64]=k[D+0+96]=lr(Ue,Ie,Oe),k[D+3+32]=k[D+2+64]=k[D+1+96]=lr(Ie,Oe,_e),k[D+3+64]=k[D+2+96]=lr(Oe,_e,Ve),k[D+3+96]=lr(_e,Ve,Ve)}function bu(k,D){var re=k[D-1+0],me=k[D-1+32],Ue=k[D-1+64],Ie=k[D-1-32],Oe=k[D+0-32],_e=k[D+1-32],Ve=k[D+2-32],rt=k[D+3-32];k[D+0+0]=k[D+1+64]=Ie+Oe+1>>1,k[D+1+0]=k[D+2+64]=Oe+_e+1>>1,k[D+2+0]=k[D+3+64]=_e+Ve+1>>1,k[D+3+0]=Ve+rt+1>>1,k[D+0+96]=lr(Ue,me,re),k[D+0+64]=lr(me,re,Ie),k[D+0+32]=k[D+1+96]=lr(re,Ie,Oe),k[D+1+32]=k[D+2+96]=lr(Ie,Oe,_e),k[D+2+32]=k[D+3+96]=lr(Oe,_e,Ve),k[D+3+32]=lr(_e,Ve,rt)}function gd(k,D){var re=k[D+0-32],me=k[D+1-32],Ue=k[D+2-32],Ie=k[D+3-32],Oe=k[D+4-32],_e=k[D+5-32],Ve=k[D+6-32],rt=k[D+7-32];k[D+0+0]=re+me+1>>1,k[D+1+0]=k[D+0+64]=me+Ue+1>>1,k[D+2+0]=k[D+1+64]=Ue+Ie+1>>1,k[D+3+0]=k[D+2+64]=Ie+Oe+1>>1,k[D+0+32]=lr(re,me,Ue),k[D+1+32]=k[D+0+96]=lr(me,Ue,Ie),k[D+2+32]=k[D+1+96]=lr(Ue,Ie,Oe),k[D+3+32]=k[D+2+96]=lr(Ie,Oe,_e),k[D+3+64]=lr(Oe,_e,Ve),k[D+3+96]=lr(_e,Ve,rt)}function Yi(k,D){var re=k[D-1+0],me=k[D-1+32],Ue=k[D-1+64],Ie=k[D-1+96];k[D+0+0]=re+me+1>>1,k[D+2+0]=k[D+0+32]=me+Ue+1>>1,k[D+2+32]=k[D+0+64]=Ue+Ie+1>>1,k[D+1+0]=lr(re,me,Ue),k[D+3+0]=k[D+1+32]=lr(me,Ue,Ie),k[D+3+32]=k[D+1+64]=lr(Ue,Ie,Ie),k[D+3+64]=k[D+2+64]=k[D+0+96]=k[D+1+96]=k[D+2+96]=k[D+3+96]=Ie}function Zc(k,D){var re=k[D-1+0],me=k[D-1+32],Ue=k[D-1+64],Ie=k[D-1+96],Oe=k[D-1-32],_e=k[D+0-32],Ve=k[D+1-32],rt=k[D+2-32];k[D+0+0]=k[D+2+32]=re+Oe+1>>1,k[D+0+32]=k[D+2+64]=me+re+1>>1,k[D+0+64]=k[D+2+96]=Ue+me+1>>1,k[D+0+96]=Ie+Ue+1>>1,k[D+3+0]=lr(_e,Ve,rt),k[D+2+0]=lr(Oe,_e,Ve),k[D+1+0]=k[D+3+32]=lr(re,Oe,_e),k[D+1+32]=k[D+3+64]=lr(me,re,Oe),k[D+1+64]=k[D+3+96]=lr(Ue,me,re),k[D+1+96]=lr(Ie,Ue,me)}function bl(k,D){var re;for(re=0;8>re;++re)I(k,D+32*re,k,D-32,8)}function Zd(k,D){var re;for(re=0;8>re;++re)P(k,D,k[D-1],8),D+=32}function rl(k,D,re){var me;for(me=0;8>me;++me)P(D,re+32*me,k,8)}function xc(k,D){var re,me=8;for(re=0;8>re;++re)me+=k[D+re-32]+k[D-1+32*re];rl(me>>4,k,D)}function Po(k,D){var re,me=4;for(re=0;8>re;++re)me+=k[D+re-32];rl(me>>3,k,D)}function nl(k,D){var re,me=4;for(re=0;8>re;++re)me+=k[D-1+32*re];rl(me>>3,k,D)}function xd(k,D){rl(128,k,D)}function vl(k,D,re){var me=k[D-re],Ue=k[D+0],Ie=3*(Ue-me)+VA[1020+k[D-2*re]-k[D+re]],Oe=fA[112+(Ie+4>>3)];k[D-re]=sc[255+me+fA[112+(Ie+3>>3)]],k[D+0]=sc[255+Ue-Oe]}function bc(k,D,re,me){var Ue=k[D+0],Ie=k[D+re];return wc[255+k[D-2*re]-k[D-re]]>me||wc[255+Ie-Ue]>me}function qc(k,D,re,me){return 4*wc[255+k[D-re]-k[D+0]]+wc[255+k[D-2*re]-k[D+re]]<=me}function al(k,D,re,me,Ue){var Ie=k[D-3*re],Oe=k[D-2*re],_e=k[D-re],Ve=k[D+0],rt=k[D+re],Bt=k[D+2*re],Yt=k[D+3*re];return 4*wc[255+_e-Ve]+wc[255+Oe-rt]>me?0:wc[255+k[D-4*re]-Ie]<=Ue&&wc[255+Ie-Oe]<=Ue&&wc[255+Oe-_e]<=Ue&&wc[255+Yt-Bt]<=Ue&&wc[255+Bt-rt]<=Ue&&wc[255+rt-Ve]<=Ue}function si(k,D,re,me){var Ue=2*me+1;for(me=0;16>me;++me)qc(k,D+me,re,Ue)&&vl(k,D+me,re)}function bd(k,D,re,me){var Ue=2*me+1;for(me=0;16>me;++me)qc(k,D+me*re,1,Ue)&&vl(k,D+me*re,1)}function vu(k,D,re,me){var Ue;for(Ue=3;0<Ue;--Ue)si(k,D+=4*re,re,me)}function Fu(k,D,re,me){var Ue;for(Ue=3;0<Ue;--Ue)bd(k,D+=4,re,me)}function ed(k,D,re,me,Ue,Ie,Oe,_e){for(Ie=2*Ie+1;0<Ue--;){if(al(k,D,re,Ie,Oe))if(bc(k,D,re,_e))vl(k,D,re);else{var Ve=k,rt=D,Bt=re,Yt=Ve[rt-2*Bt],tt=Ve[rt-Bt],Ft=Ve[rt+0],Ht=Ve[rt+Bt],ws=Ve[rt+2*Bt],qt=27*(Bs=VA[1020+3*(Ft-tt)+VA[1020+Yt-Ht]])+63>>7,js=18*Bs+63>>7,Bs=9*Bs+63>>7;Ve[rt-3*Bt]=sc[255+Ve[rt-3*Bt]+Bs],Ve[rt-2*Bt]=sc[255+Yt+js],Ve[rt-Bt]=sc[255+tt+qt],Ve[rt+0]=sc[255+Ft-qt],Ve[rt+Bt]=sc[255+Ht-js],Ve[rt+2*Bt]=sc[255+ws-Bs]}D+=me}}function td(k,D,re,me,Ue,Ie,Oe,_e){for(Ie=2*Ie+1;0<Ue--;){if(al(k,D,re,Ie,Oe))if(bc(k,D,re,_e))vl(k,D,re);else{var Ve=k,rt=D,Bt=re,Yt=Ve[rt-Bt],tt=Ve[rt+0],Ft=Ve[rt+Bt],Ht=fA[112+(4+(ws=3*(tt-Yt))>>3)],ws=fA[112+(ws+3>>3)],qt=Ht+1>>1;Ve[rt-2*Bt]=sc[255+Ve[rt-2*Bt]+qt],Ve[rt-Bt]=sc[255+Yt+ws],Ve[rt+0]=sc[255+tt-Ht],Ve[rt+Bt]=sc[255+Ft-qt]}D+=me}}function xi(k,D,re,me,Ue,Ie){ed(k,D,re,1,16,me,Ue,Ie)}function sd(k,D,re,me,Ue,Ie){ed(k,D,1,re,16,me,Ue,Ie)}function vd(k,D,re,me,Ue,Ie){var Oe;for(Oe=3;0<Oe;--Oe)td(k,D+=4*re,re,1,16,me,Ue,Ie)}function Z(k,D,re,me,Ue,Ie){var Oe;for(Oe=3;0<Oe;--Oe)td(k,D+=4,1,re,16,me,Ue,Ie)}function Te(k,D,re,me,Ue,Ie,Oe,_e){ed(k,D,Ue,1,8,Ie,Oe,_e),ed(re,me,Ue,1,8,Ie,Oe,_e)}function nt(k,D,re,me,Ue,Ie,Oe,_e){ed(k,D,1,Ue,8,Ie,Oe,_e),ed(re,me,1,Ue,8,Ie,Oe,_e)}function mt(k,D,re,me,Ue,Ie,Oe,_e){td(k,D+4*Ue,Ue,1,8,Ie,Oe,_e),td(re,me+4*Ue,Ue,1,8,Ie,Oe,_e)}function _t(k,D,re,me,Ue,Ie,Oe,_e){td(k,D+4,1,Ue,8,Ie,Oe,_e),td(re,me+4,1,Ue,8,Ie,Oe,_e)}function ks(){this.ba=new jn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Fn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ds(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Sr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Er(){this.ua=0,this.Wa=new un,this.vb=new un,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ns,this.yc=new bt}function pn(){this.xb=this.a=0,this.l=new Md,this.ca=new jn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new dt,this.Pb=0,this.wd=new dt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Er,this.ab=0,this.gc=ce(4,Sr),this.Oc=0}function Nn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Md,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ra(k,D,re,me,Ue,Ie,Oe){for(k=k==null?0:k[D+0],D=0;D<Oe;++D)Ue[Ie+D]=k+re[me+D]&255,k=Ue[Ie+D]}function La(k,D,re,me,Ue,Ie,Oe){var _e;if(k==null)ra(null,null,re,me,Ue,Ie,Oe);else for(_e=0;_e<Oe;++_e)Ue[Ie+_e]=k[D+_e]+re[me+_e]&255}function bi(k,D,re,me,Ue,Ie,Oe){if(k==null)ra(null,null,re,me,Ue,Ie,Oe);else{var _e,Ve=k[D+0],rt=Ve,Bt=Ve;for(_e=0;_e<Oe;++_e)rt=Bt+(Ve=k[D+_e])-rt,Bt=re[me+_e]+(-256&rt?0>rt?0:255:rt)&255,rt=Ve,Ue[Ie+_e]=Bt}}function Ba(k,D,re,me){var Ue=D.width,Ie=D.o;if(v(k!=null&&D!=null),0>re||0>=me||re+me>Ie)return null;if(!k.Cc){if(k.ga==null){var Oe;if(k.ga=new Nn,(Oe=k.ga==null)||(Oe=D.width*D.o,v(k.Gb.length==0),k.Gb=V(Oe),k.Uc=0,k.Gb==null?Oe=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,Oe=1),Oe=!Oe),!Oe){Oe=k.ga;var _e=k.Fa,Ve=k.P,rt=k.qc,Bt=k.mb,Yt=k.nb,tt=Ve+1,Ft=rt-1,Ht=Oe.l;if(v(_e!=null&&Bt!=null&&D!=null),jd[0]=null,jd[1]=ra,jd[2]=La,jd[3]=bi,Oe.ca=Bt,Oe.tb=Yt,Oe.c=D.width,Oe.i=D.height,v(0<Oe.c&&0<Oe.i),1>=rt)D=0;else if(Oe.$a=3&_e[Ve+0],Oe.Z=_e[Ve+0]>>2&3,Oe.Lc=_e[Ve+0]>>4&3,Ve=_e[Ve+0]>>6&3,0>Oe.$a||1<Oe.$a||4<=Oe.Z||1<Oe.Lc||Ve)D=0;else if(Ht.put=an,Ht.ac=Kl,Ht.bc=li,Ht.ma=Oe,Ht.width=D.width,Ht.height=D.height,Ht.Da=D.Da,Ht.v=D.v,Ht.va=D.va,Ht.j=D.j,Ht.o=D.o,Oe.$a)e:{v(Oe.$a==1),D=Yc();t:for(;;){if(D==null){D=0;break e}if(v(Oe!=null),Oe.mc=D,D.c=Oe.c,D.i=Oe.i,D.l=Oe.l,D.l.ma=Oe,D.l.width=Oe.c,D.l.height=Oe.i,D.a=0,ms(D.m,_e,tt,Ft),!ml(Oe.c,Oe.i,1,D,null)||(D.ab==1&&D.gc[0].hc==3&&hl(D.s)?(Oe.ic=1,_e=D.c*D.i,D.Ta=null,D.Ua=0,D.V=V(_e),D.Ba=0,D.V==null?(D.a=1,D=0):D=1):(Oe.ic=0,D=Mo(D,Oe.c)),!D))break t;D=1;break e}Oe.mc=null,D=0}else D=Ft>=Oe.c*Oe.i;Oe=!D}if(Oe)return null;k.ga.Lc!=1?k.Ga=0:me=Ie-re}v(k.ga!=null),v(re+me<=Ie);e:{if(D=(_e=k.ga).c,Ie=_e.l.o,_e.$a==0){if(tt=k.rc,Ft=k.Vc,Ht=k.Fa,Ve=k.P+1+re*D,rt=k.mb,Bt=k.nb+re*D,v(Ve<=k.P+k.qc),_e.Z!=0)for(v(jd[_e.Z]!=null),Oe=0;Oe<me;++Oe)jd[_e.Z](tt,Ft,Ht,Ve,rt,Bt,D),tt=rt,Ft=Bt,Bt+=D,Ve+=D;else for(Oe=0;Oe<me;++Oe)I(rt,Bt,Ht,Ve,D),tt=rt,Ft=Bt,Bt+=D,Ve+=D;k.rc=tt,k.Vc=Ft}else{if(v(_e.mc!=null),D=re+me,v((Oe=_e.mc)!=null),v(D<=Oe.i),Oe.C>=D)D=1;else if(_e.ic||Pe(),_e.ic){_e=Oe.V,tt=Oe.Ba,Ft=Oe.c;var ws=Oe.i,qt=(Ht=1,Ve=Oe.$/Ft,rt=Oe.$%Ft,Bt=Oe.m,Yt=Oe.s,Oe.$),js=Ft*ws,Bs=Ft*D,Hs=Yt.wc,Rs=qt<Bs?ci(Yt,rt,Ve):null;v(qt<=js),v(D<=ws),v(hl(Yt));t:for(;;){for(;!Bt.h&&qt<Bs;){if(rt&Hs||(Rs=ci(Yt,rt,Ve)),v(Rs!=null),Xt(Bt),256>(ws=Ra(Rs.G[0],Rs.H[0],Bt)))_e[tt+qt]=ws,++qt,++rt>=Ft&&(rt=0,++Ve<=D&&!(Ve%16)&&Ll(Oe,Ve));else{if(!(280>ws)){Ht=0;break t}ws=el(ws-256,Bt);var zr,wr=Ra(Rs.G[4],Rs.H[4],Bt);if(Xt(Bt),!(qt>=(wr=Lo(Ft,wr=el(wr,Bt)))&&js-qt>=ws)){Ht=0;break t}for(zr=0;zr<ws;++zr)_e[tt+qt+zr]=_e[tt+qt+zr-wr];for(qt+=ws,rt+=ws;rt>=Ft;)rt-=Ft,++Ve<=D&&!(Ve%16)&&Ll(Oe,Ve);qt<Bs&&rt&Hs&&(Rs=ci(Yt,rt,Ve))}v(Bt.h==It(Bt))}Ll(Oe,Ve>D?D:Ve);break t}!Ht||Bt.h&&qt<js?(Ht=0,Oe.a=Bt.h?5:3):Oe.$=qt,D=Ht}else D=Fo(Oe,Oe.V,Oe.Ba,Oe.c,Oe.i,D,Uc);if(!D){me=0;break e}}re+me>=Ie&&(k.Cc=1),me=1}if(!me)return null;if(k.Cc&&((me=k.ga)!=null&&(me.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+re*Ue}function Ei(k,D,re,me,Ue,Ie){for(;0<Ue--;){var Oe,_e=k,Ve=D+(re?1:0),rt=k,Bt=D+(re?0:3);for(Oe=0;Oe<me;++Oe){var Yt=rt[Bt+4*Oe];Yt!=255&&(Yt*=32897,_e[Ve+4*Oe+0]=_e[Ve+4*Oe+0]*Yt>>23,_e[Ve+4*Oe+1]=_e[Ve+4*Oe+1]*Yt>>23,_e[Ve+4*Oe+2]=_e[Ve+4*Oe+2]*Yt>>23)}D+=Ie}}function C(k,D,re,me,Ue){for(;0<me--;){var Ie;for(Ie=0;Ie<re;++Ie){var Oe=k[D+2*Ie+0],_e=15&(rt=k[D+2*Ie+1]),Ve=4369*_e,rt=(240&rt|rt>>4)*Ve>>16;k[D+2*Ie+0]=(240&Oe|Oe>>4)*Ve>>16&240|(15&Oe|Oe<<4)*Ve>>16>>4&15,k[D+2*Ie+1]=240&rt|_e}D+=Ue}}function Be(k,D,re,me,Ue,Ie,Oe,_e){var Ve,rt,Bt=255;for(rt=0;rt<Ue;++rt){for(Ve=0;Ve<me;++Ve){var Yt=k[D+Ve];Ie[Oe+4*Ve]=Yt,Bt&=Yt}D+=re,Oe+=_e}return Bt!=255}function H(k,D,re,me,Ue){var Ie;for(Ie=0;Ie<Ue;++Ie)re[me+Ie]=k[D+Ie]>>8}function Pe(){Id=Ei,AA=C,Dl=Be,Dc=H}function lt(k,D,re){yt[k]=function(me,Ue,Ie,Oe,_e,Ve,rt,Bt,Yt,tt,Ft,Ht,ws,qt,js,Bs,Hs){var Rs,zr=Hs-1>>1,wr=_e[Ve+0]|rt[Bt+0]<<16,_n=Yt[tt+0]|Ft[Ht+0]<<16;v(me!=null);var Rr=3*wr+_n+131074>>2;for(D(me[Ue+0],255&Rr,Rr>>16,ws,qt),Ie!=null&&(Rr=3*_n+wr+131074>>2,D(Ie[Oe+0],255&Rr,Rr>>16,js,Bs)),Rs=1;Rs<=zr;++Rs){var la=_e[Ve+Rs]|rt[Bt+Rs]<<16,ro=Yt[tt+Rs]|Ft[Ht+Rs]<<16,Mn=wr+la+_n+ro+524296,Dr=Mn+2*(la+_n)>>3;Rr=Dr+wr>>1,wr=(Mn=Mn+2*(wr+ro)>>3)+la>>1,D(me[Ue+2*Rs-1],255&Rr,Rr>>16,ws,qt+(2*Rs-1)*re),D(me[Ue+2*Rs-0],255&wr,wr>>16,ws,qt+(2*Rs-0)*re),Ie!=null&&(Rr=Mn+_n>>1,wr=Dr+ro>>1,D(Ie[Oe+2*Rs-1],255&Rr,Rr>>16,js,Bs+(2*Rs-1)*re),D(Ie[Oe+2*Rs+0],255&wr,wr>>16,js,Bs+(2*Rs+0)*re)),wr=la,_n=ro}1&Hs||(Rr=3*wr+_n+131074>>2,D(me[Ue+Hs-1],255&Rr,Rr>>16,ws,qt+(Hs-1)*re),Ie!=null&&(Rr=3*_n+wr+131074>>2,D(Ie[Oe+Hs-1],255&Rr,Rr>>16,js,Bs+(Hs-1)*re)))}}function at(){Nc[wu]=Pu,Nc[mA]=eh,Nc[KA]=Yh,Nc[Iu]=Mf,Nc[so]=Of,Nc[eu]=th,Nc[GA]=Nd,Nc[WA]=eh,Nc[pA]=Mf,Nc[ju]=Of,Nc[YA]=th}function Jt(k){return k&-16384?0>k?0:255:k>>vA}function Ut(k,D){return Jt((19077*k>>8)+(26149*D>>8)-14234)}function pr(k,D,re){return Jt((19077*k>>8)-(6419*D>>8)-(13320*re>>8)+8708)}function Nt(k,D){return Jt((19077*k>>8)+(33050*D>>8)-17685)}function Zt(k,D,re,me,Ue){me[Ue+0]=Ut(k,re),me[Ue+1]=pr(k,D,re),me[Ue+2]=Nt(k,D)}function gn(k,D,re,me,Ue){me[Ue+0]=Nt(k,D),me[Ue+1]=pr(k,D,re),me[Ue+2]=Ut(k,re)}function nr(k,D,re,me,Ue){var Ie=pr(k,D,re);D=Ie<<3&224|Nt(k,D)>>3,me[Ue+0]=248&Ut(k,re)|Ie>>5,me[Ue+1]=D}function Ps(k,D,re,me,Ue){var Ie=240&Nt(k,D)|15;me[Ue+0]=240&Ut(k,re)|pr(k,D,re)>>4,me[Ue+1]=Ie}function xs(k,D,re,me,Ue){me[Ue+0]=255,Zt(k,D,re,me,Ue+1)}function Fa(k,D,re,me,Ue){gn(k,D,re,me,Ue),me[Ue+3]=255}function hn(k,D,re,me,Ue){Zt(k,D,re,me,Ue),me[Ue+3]=255}function Kr(k,D,re){yt[k]=function(me,Ue,Ie,Oe,_e,Ve,rt,Bt,Yt){for(var tt=Bt+(-2&Yt)*re;Bt!=tt;)D(me[Ue+0],Ie[Oe+0],_e[Ve+0],rt,Bt),D(me[Ue+1],Ie[Oe+0],_e[Ve+0],rt,Bt+re),Ue+=2,++Oe,++Ve,Bt+=2*re;1&Yt&&D(me[Ue+0],Ie[Oe+0],_e[Ve+0],rt,Bt)}}function cn(k,D,re){return re==0?k==0?D==0?6:5:D==0?4:0:re}function Tn(k,D,re,me,Ue){switch(k>>>30){case 3:yc(D,re,me,Ue,0);break;case 2:Qo(D,re,me,Ue);break;case 1:aa(D,re,me,Ue)}}function tr(k,D){var re,me,Ue=D.M,Ie=D.Nb,Oe=k.oc,_e=k.pc+40,Ve=k.oc,rt=k.pc+584,Bt=k.oc,Yt=k.pc+600;for(re=0;16>re;++re)Oe[_e+32*re-1]=129;for(re=0;8>re;++re)Ve[rt+32*re-1]=129,Bt[Yt+32*re-1]=129;for(0<Ue?Oe[_e-1-32]=Ve[rt-1-32]=Bt[Yt-1-32]=129:(P(Oe,_e-32-1,127,21),P(Ve,rt-32-1,127,9),P(Bt,Yt-32-1,127,9)),me=0;me<k.za;++me){var tt=D.ya[D.aa+me];if(0<me){for(re=-1;16>re;++re)I(Oe,_e+32*re-4,Oe,_e+32*re+12,4);for(re=-1;8>re;++re)I(Ve,rt+32*re-4,Ve,rt+32*re+4,4),I(Bt,Yt+32*re-4,Bt,Yt+32*re+4,4)}var Ft=k.Gd,Ht=k.Hd+me,ws=tt.ad,qt=tt.Hc;if(0<Ue&&(I(Oe,_e-32,Ft[Ht].y,0,16),I(Ve,rt-32,Ft[Ht].f,0,8),I(Bt,Yt-32,Ft[Ht].ea,0,8)),tt.Za){var js=Oe,Bs=_e-32+16;for(0<Ue&&(me>=k.za-1?P(js,Bs,Ft[Ht].y[15],4):I(js,Bs,Ft[Ht+1].y,0,4)),re=0;4>re;re++)js[Bs+128+re]=js[Bs+256+re]=js[Bs+384+re]=js[Bs+0+re];for(re=0;16>re;++re,qt<<=2)js=Oe,Bs=_e+Dd[re],jc[tt.Ob[re]](js,Bs),Tn(qt,ws,16*+re,js,Bs)}else if(js=cn(me,Ue,tt.Ob[0]),wd[js](Oe,_e),qt!=0)for(re=0;16>re;++re,qt<<=2)Tn(qt,ws,16*+re,Oe,_e+Dd[re]);for(re=tt.Gc,js=cn(me,Ue,tt.Dd),Rc[js](Ve,rt),Rc[js](Bt,Yt),qt=ws,js=Ve,Bs=rt,255&(tt=0|re)&&(170&tt?tc(qt,256,js,Bs):Ha(qt,256,js,Bs)),tt=Bt,qt=Yt,255&(re>>=8)&&(170&re?tc(ws,320,tt,qt):Ha(ws,320,tt,qt)),Ue<k.Ub-1&&(I(Ft[Ht].y,0,Oe,_e+480,16),I(Ft[Ht].f,0,Ve,rt+224,8),I(Ft[Ht].ea,0,Bt,Yt+224,8)),re=8*Ie*k.B,Ft=k.sa,Ht=k.ta+16*me+16*Ie*k.R,ws=k.qa,tt=k.ra+8*me+re,qt=k.Ha,js=k.Ia+8*me+re,re=0;16>re;++re)I(Ft,Ht+re*k.R,Oe,_e+32*re,16);for(re=0;8>re;++re)I(ws,tt+re*k.B,Ve,rt+32*re,8),I(qt,js+re*k.B,Bt,Yt+32*re,8)}}function Un(k,D,re,me,Ue,Ie,Oe,_e,Ve){var rt=[0],Bt=[0],Yt=0,tt=Ve!=null?Ve.kd:0,Ft=Ve??new Ds;if(k==null||12>re)return 7;Ft.data=k,Ft.w=D,Ft.ha=re,D=[D],re=[re],Ft.gb=[Ft.gb];e:{var Ht=D,ws=re,qt=Ft.gb;if(v(k!=null),v(ws!=null),v(qt!=null),qt[0]=0,12<=ws[0]&&!S(k,Ht[0],"RIFF")){if(S(k,Ht[0]+8,"WEBP")){qt=3;break e}var js=Yr(k,Ht[0]+4);if(12>js||4294967286<js){qt=3;break e}if(tt&&js>ws[0]-8){qt=7;break e}qt[0]=js,Ht[0]+=12,ws[0]-=12}qt=0}if(qt!=0)return qt;for(js=0<Ft.gb[0],re=re[0];;){e:{var Bs=k;ws=D,qt=re;var Hs=rt,Rs=Bt,zr=Ht=[0];if((Rr=Yt=[Yt])[0]=0,8>qt[0])qt=7;else{if(!S(Bs,ws[0],"VP8X")){if(Yr(Bs,ws[0]+4)!=10){qt=3;break e}if(18>qt[0]){qt=7;break e}var wr=Yr(Bs,ws[0]+8),_n=1+gr(Bs,ws[0]+12);if(2147483648<=_n*(Bs=1+gr(Bs,ws[0]+15))){qt=3;break e}zr!=null&&(zr[0]=wr),Hs!=null&&(Hs[0]=_n),Rs!=null&&(Rs[0]=Bs),ws[0]+=18,qt[0]-=18,Rr[0]=1}qt=0}}if(Yt=Yt[0],Ht=Ht[0],qt!=0)return qt;if(ws=!!(2&Ht),!js&&Yt)return 3;if(Ie!=null&&(Ie[0]=!!(16&Ht)),Oe!=null&&(Oe[0]=ws),_e!=null&&(_e[0]=0),Oe=rt[0],Ht=Bt[0],Yt&&ws&&Ve==null){qt=0;break}if(4>re){qt=7;break}if(js&&Yt||!js&&!Yt&&!S(k,D[0],"ALPH")){re=[re],Ft.na=[Ft.na],Ft.P=[Ft.P],Ft.Sa=[Ft.Sa];e:{wr=k,qt=D,js=re;var Rr=Ft.gb;Hs=Ft.na,Rs=Ft.P,zr=Ft.Sa,_n=22,v(wr!=null),v(js!=null),Bs=qt[0];var la=js[0];for(v(Hs!=null),v(zr!=null),Hs[0]=null,Rs[0]=null,zr[0]=0;;){if(qt[0]=Bs,js[0]=la,8>la){qt=7;break e}var ro=Yr(wr,Bs+4);if(4294967286<ro){qt=3;break e}var Mn=8+ro+1&-2;if(_n+=Mn,0<Rr&&_n>Rr){qt=3;break e}if(!S(wr,Bs,"VP8 ")||!S(wr,Bs,"VP8L")){qt=0;break e}if(la[0]<Mn){qt=7;break e}S(wr,Bs,"ALPH")||(Hs[0]=wr,Rs[0]=Bs+8,zr[0]=ro),Bs+=Mn,la-=Mn}}if(re=re[0],Ft.na=Ft.na[0],Ft.P=Ft.P[0],Ft.Sa=Ft.Sa[0],qt!=0)break}re=[re],Ft.Ja=[Ft.Ja],Ft.xa=[Ft.xa];e:if(Rr=k,qt=D,js=re,Hs=Ft.gb[0],Rs=Ft.Ja,zr=Ft.xa,wr=qt[0],Bs=!S(Rr,wr,"VP8 "),_n=!S(Rr,wr,"VP8L"),v(Rr!=null),v(js!=null),v(Rs!=null),v(zr!=null),8>js[0])qt=7;else{if(Bs||_n){if(Rr=Yr(Rr,wr+4),12<=Hs&&Rr>Hs-12){qt=3;break e}if(tt&&Rr>js[0]-8){qt=7;break e}Rs[0]=Rr,qt[0]+=8,js[0]-=8,zr[0]=_n}else zr[0]=5<=js[0]&&Rr[wr+0]==47&&!(Rr[wr+4]>>5),Rs[0]=js[0];qt=0}if(re=re[0],Ft.Ja=Ft.Ja[0],Ft.xa=Ft.xa[0],D=D[0],qt!=0)break;if(4294967286<Ft.Ja)return 3;if(_e==null||ws||(_e[0]=Ft.xa?2:1),Oe=[Oe],Ht=[Ht],Ft.xa){if(5>re){qt=7;break}_e=Oe,tt=Ht,ws=Ie,k==null||5>re?k=0:5<=re&&k[D+0]==47&&!(k[D+4]>>5)?(js=[0],Rr=[0],Hs=[0],ms(Rs=new dt,k,D,re),pi(Rs,js,Rr,Hs)?(_e!=null&&(_e[0]=js[0]),tt!=null&&(tt[0]=Rr[0]),ws!=null&&(ws[0]=Hs[0]),k=1):k=0):k=0}else{if(10>re){qt=7;break}_e=Ht,k==null||10>re||!Ml(k,D+3,re-3)?k=0:(tt=k[D+0]|k[D+1]<<8|k[D+2]<<16,ws=16383&(k[D+7]<<8|k[D+6]),k=16383&(k[D+9]<<8|k[D+8]),1&tt||3<(tt>>1&7)||!(tt>>4&1)||tt>>5>=Ft.Ja||!ws||!k?k=0:(Oe&&(Oe[0]=ws),_e&&(_e[0]=k),k=1))}if(!k||(Oe=Oe[0],Ht=Ht[0],Yt&&(rt[0]!=Oe||Bt[0]!=Ht)))return 3;Ve!=null&&(Ve[0]=Ft,Ve.offset=D-Ve.w,v(4294967286>D-Ve.w),v(Ve.offset==Ve.ha-re));break}return qt==0||qt==7&&Yt&&Ve==null?(Ie!=null&&(Ie[0]|=Ft.na!=null&&0<Ft.na.length),me!=null&&(me[0]=Oe),Ue!=null&&(Ue[0]=Ht),0):qt}function Ma(k,D,re){var me=D.width,Ue=D.height,Ie=0,Oe=0,_e=me,Ve=Ue;if(D.Da=k!=null&&0<k.Da,D.Da&&(_e=k.cd,Ve=k.bd,Ie=k.v,Oe=k.j,11>re||(Ie&=-2,Oe&=-2),0>Ie||0>Oe||0>=_e||0>=Ve||Ie+_e>me||Oe+Ve>Ue))return 0;if(D.v=Ie,D.j=Oe,D.va=Ie+_e,D.o=Oe+Ve,D.U=_e,D.T=Ve,D.da=k!=null&&0<k.da,D.da){if(!rr(_e,Ve,re=[k.ib],Ie=[k.hb]))return 0;D.ib=re[0],D.hb=Ie[0]}return D.ob=k!=null&&k.ob,D.Kb=k==null||!k.Sd,D.da&&(D.ob=D.ib<3*me/4&&D.hb<3*Ue/4,D.Kb=0),1}function Hr(k){if(k==null)return 2;if(11>k.S){var D=k.f.RGBA;D.fb+=(k.height-1)*D.A,D.A=-D.A}else D=k.f.kb,k=k.height,D.O+=(k-1)*D.fa,D.fa=-D.fa,D.N+=(k-1>>1)*D.Ab,D.Ab=-D.Ab,D.W+=(k-1>>1)*D.Db,D.Db=-D.Db,D.F!=null&&(D.J+=(k-1)*D.lb,D.lb=-D.lb);return 0}function na(k,D,re,me){if(me==null||0>=k||0>=D)return 2;if(re!=null){if(re.Da){var Ue=re.cd,Ie=re.bd,Oe=-2&re.v,_e=-2&re.j;if(0>Oe||0>_e||0>=Ue||0>=Ie||Oe+Ue>k||_e+Ie>D)return 2;k=Ue,D=Ie}if(re.da){if(!rr(k,D,Ue=[re.ib],Ie=[re.hb]))return 2;k=Ue[0],D=Ie[0]}}me.width=k,me.height=D;e:{var Ve=me.width,rt=me.height;if(k=me.S,0>=Ve||0>=rt||!(k>=wu&&13>k))k=2;else{if(0>=me.Rd&&me.sd==null){Oe=Ie=Ue=D=0;var Bt=(_e=Ve*_u[k])*rt;if(11>k||(Ie=(rt+1)/2*(D=(Ve+1)/2),k==12&&(Oe=(Ue=Ve)*rt)),(rt=V(Bt+2*Ie+Oe))==null){k=1;break e}me.sd=rt,11>k?((Ve=me.f.RGBA).eb=rt,Ve.fb=0,Ve.A=_e,Ve.size=Bt):((Ve=me.f.kb).y=rt,Ve.O=0,Ve.fa=_e,Ve.Fd=Bt,Ve.f=rt,Ve.N=0+Bt,Ve.Ab=D,Ve.Cd=Ie,Ve.ea=rt,Ve.W=0+Bt+Ie,Ve.Db=D,Ve.Ed=Ie,k==12&&(Ve.F=rt,Ve.J=0+Bt+2*Ie),Ve.Tc=Oe,Ve.lb=Ue)}if(D=1,Ue=me.S,Ie=me.width,Oe=me.height,Ue>=wu&&13>Ue)if(11>Ue)k=me.f.RGBA,D&=(_e=Math.abs(k.A))*(Oe-1)+Ie<=k.size,D&=_e>=Ie*_u[Ue],D&=k.eb!=null;else{k=me.f.kb,_e=(Ie+1)/2,Bt=(Oe+1)/2,Ve=Math.abs(k.fa),rt=Math.abs(k.Ab);var Yt=Math.abs(k.Db),tt=Math.abs(k.lb),Ft=tt*(Oe-1)+Ie;D&=Ve*(Oe-1)+Ie<=k.Fd,D&=rt*(Bt-1)+_e<=k.Cd,D=(D&=Yt*(Bt-1)+_e<=k.Ed)&Ve>=Ie&rt>=_e&Yt>=_e,D&=k.y!=null,D&=k.f!=null,D&=k.ea!=null,Ue==12&&(D&=tt>=Ie,D&=Ft<=k.Tc,D&=k.F!=null)}else D=0;k=D?0:2}}return k!=0||re!=null&&re.fd&&(k=Hr(me)),k}var Pn=64,Tr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],on=24,yo=32,ql=8,yl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];vr("Predictor0","PredictorAdd0"),yt.Predictor0=function(){return 4278190080},yt.Predictor1=function(k){return k},yt.Predictor2=function(k,D,re){return D[re+0]},yt.Predictor3=function(k,D,re){return D[re+1]},yt.Predictor4=function(k,D,re){return D[re-1]},yt.Predictor5=function(k,D,re){return Or(Or(k,D[re+1]),D[re+0])},yt.Predictor6=function(k,D,re){return Or(k,D[re-1])},yt.Predictor7=function(k,D,re){return Or(k,D[re+0])},yt.Predictor8=function(k,D,re){return Or(D[re-1],D[re+0])},yt.Predictor9=function(k,D,re){return Or(D[re+0],D[re+1])},yt.Predictor10=function(k,D,re){return Or(Or(k,D[re-1]),Or(D[re+0],D[re+1]))},yt.Predictor11=function(k,D,re){var me=D[re+0];return 0>=kr(me>>24&255,k>>24&255,(D=D[re-1])>>24&255)+kr(me>>16&255,k>>16&255,D>>16&255)+kr(me>>8&255,k>>8&255,D>>8&255)+kr(255&me,255&k,255&D)?me:k},yt.Predictor12=function(k,D,re){var me=D[re+0];return(ka((k>>24&255)+(me>>24&255)-((D=D[re-1])>>24&255))<<24|ka((k>>16&255)+(me>>16&255)-(D>>16&255))<<16|ka((k>>8&255)+(me>>8&255)-(D>>8&255))<<8|ka((255&k)+(255&me)-(255&D)))>>>0},yt.Predictor13=function(k,D,re){var me=D[re-1];return(Sn((k=Or(k,D[re+0]))>>24&255,me>>24&255)<<24|Sn(k>>16&255,me>>16&255)<<16|Sn(k>>8&255,me>>8&255)<<8|Sn(255&k,255&me))>>>0};var Xi=yt.PredictorAdd0;yt.PredictorAdd1=zn,vr("Predictor2","PredictorAdd2"),vr("Predictor3","PredictorAdd3"),vr("Predictor4","PredictorAdd4"),vr("Predictor5","PredictorAdd5"),vr("Predictor6","PredictorAdd6"),vr("Predictor7","PredictorAdd7"),vr("Predictor8","PredictorAdd8"),vr("Predictor9","PredictorAdd9"),vr("Predictor10","PredictorAdd10"),vr("Predictor11","PredictorAdd11"),vr("Predictor12","PredictorAdd12"),vr("Predictor13","PredictorAdd13");var wo=yt.PredictorAdd2;Ir("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),Ir("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var Ya,Mu=yt.ColorIndexInverseTransform,rd=yt.MapARGB,il=yt.VP8LColorIndexInverseTransformAlpha,ol=yt.MapAlpha,vi=yt.VP8LPredictorsAdd=[];vi.length=16,(yt.VP8LPredictors=[]).length=16,(yt.VP8LPredictorsAdd_C=[]).length=16,(yt.VP8LPredictors_C=[]).length=16;var qd,vc,yn,pa,ri,yd,ec,yc,Qo,tc,aa,Ha,Qn,Ji,nd,yu,Od,Ou,lA,cA,dA,ll,Ti,uA,Id,AA,Dl,Dc,hA=V(511),zA=V(2041),$A=V(225),zh=V(767),$h=0,VA=zA,fA=$A,sc=zh,wc=hA,wu=0,mA=1,KA=2,Iu=3,so=4,eu=5,GA=6,WA=7,pA=8,ju=9,YA=10,Ef=[2,3,7],N0=[3,3,11],Vh=[280,256,256,256,40],Du=[0,1,1,1,0],Tf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],XA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],JA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Kh=8,Ru=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ZA=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Nu=null,qA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Uf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gh=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Lf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wh=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],gA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wd=[],jc=[],Rc=[],Ff=1,bA=2,jd=[],Nc=[];lt("UpsampleRgbLinePair",Zt,3),lt("UpsampleBgrLinePair",gn,3),lt("UpsampleRgbaLinePair",hn,4),lt("UpsampleBgraLinePair",Fa,4),lt("UpsampleArgbLinePair",xs,4),lt("UpsampleRgba4444LinePair",Ps,2),lt("UpsampleRgb565LinePair",nr,2);var Pu=yt.UpsampleRgbLinePair,Yh=yt.UpsampleBgrLinePair,eh=yt.UpsampleRgbaLinePair,Mf=yt.UpsampleBgraLinePair,Of=yt.UpsampleArgbLinePair,th=yt.UpsampleRgba4444LinePair,Nd=yt.UpsampleRgb565LinePair,tu=16,Cd=1<<tu-1,Qu=-227,sh=482,vA=6,Xh=0,rh=V(256),nh=V(256),ah=V(256),ih=V(256),oh=V(sh-Qu),Jh=V(sh-Qu);Kr("YuvToRgbRow",Zt,3),Kr("YuvToBgrRow",gn,3),Kr("YuvToRgbaRow",hn,4),Kr("YuvToBgraRow",Fa,4),Kr("YuvToArgbRow",xs,4),Kr("YuvToRgba4444Row",Ps,2),Kr("YuvToRgb565Row",nr,2);var Dd=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],yA=[0,2,8],wA=[8,7,6,4,4,2,2,2,1,1,1,1],jA=1;this.WebPDecodeRGBA=function(k,D,re,me,Ue){var Ie=mA,Oe=new ks,_e=new jn;Oe.ba=_e,_e.S=Ie,_e.width=[_e.width],_e.height=[_e.height];var Ve=_e.width,rt=_e.height,Bt=new ar;if(Bt==null||k==null)var Yt=2;else v(Bt!=null),Yt=Un(k,D,re,Bt.width,Bt.height,Bt.Pd,Bt.Qd,Bt.format,null);if(Yt!=0?Ve=0:(Ve!=null&&(Ve[0]=Bt.width[0]),rt!=null&&(rt[0]=Bt.height[0]),Ve=1),Ve){_e.width=_e.width[0],_e.height=_e.height[0],me!=null&&(me[0]=_e.width),Ue!=null&&(Ue[0]=_e.height);e:{if(me=new Md,(Ue=new Ds).data=k,Ue.w=D,Ue.ha=re,Ue.kd=1,D=[0],v(Ue!=null),((k=Un(Ue.data,Ue.w,Ue.ha,null,null,null,D,null,Ue))==0||k==7)&&D[0]&&(k=4),(D=k)==0){if(v(Oe!=null),me.data=Ue.data,me.w=Ue.w+Ue.offset,me.ha=Ue.ha-Ue.offset,me.put=an,me.ac=Kl,me.bc=li,me.ma=Oe,Ue.xa){if((k=Yc())==null){Oe=1;break e}if((function(tt,Ft){var Ht=[0],ws=[0],qt=[0];t:for(;;){if(tt==null)return 0;if(Ft==null)return tt.a=2,0;if(tt.l=Ft,tt.a=0,ms(tt.m,Ft.data,Ft.w,Ft.ha),!pi(tt.m,Ht,ws,qt)){tt.a=3;break t}if(tt.xb=bA,Ft.width=Ht[0],Ft.height=ws[0],!ml(Ht[0],ws[0],1,tt,null))break t;return 1}return v(tt.a!=0),0})(k,me)){if(me=(D=na(me.width,me.height,Oe.Oa,Oe.ba))==0){t:{me=k;s:for(;;){if(me==null){me=0;break t}if(v(me.s.yc!=null),v(me.s.Ya!=null),v(0<me.s.Wb),v((re=me.l)!=null),v((Ue=re.ma)!=null),me.xb!=0){if(me.ca=Ue.ba,me.tb=Ue.tb,v(me.ca!=null),!Ma(Ue.Oa,re,Iu)){me.a=2;break s}if(!Mo(me,re.width)||re.da)break s;if((re.da||mn(me.ca.S))&&Pe(),11>me.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),me.ca.f.kb.F!=null&&Pe()),me.Pb&&0<me.s.ua&&me.s.vb.X==null&&!et(me.s.vb,me.s.Wa.Xa)){me.a=1;break s}me.xb=0}if(!Fo(me,me.V,me.Ba,me.c,me.i,re.o,Pi))break s;Ue.Dc=me.Ma,me=1;break t}v(me.a!=0),me=0}me=!me}me&&(D=k.a)}else D=k.a}else{if((k=new Io)==null){Oe=1;break e}if(k.Fa=Ue.na,k.P=Ue.P,k.qc=Ue.Sa,Wl(k,me)){if((D=na(me.width,me.height,Oe.Oa,Oe.ba))==0){if(k.Aa=0,re=Oe.Oa,v((Ue=k)!=null),re!=null){if(0<(Ve=0>(Ve=re.Md)?0:100<Ve?255:255*Ve/100)){for(rt=Bt=0;4>rt;++rt)12>(Yt=Ue.pb[rt]).lc&&(Yt.ia=Ve*wA[0>Yt.lc?0:Yt.lc]>>3),Bt|=Yt.ia;Bt&&(alert("todo:VP8InitRandom"),Ue.ia=1)}Ue.Ga=re.Id,100<Ue.Ga?Ue.Ga=100:0>Ue.Ga&&(Ue.Ga=0)}(function(tt,Ft){if(tt==null)return 0;if(Ft==null)return An(tt,2,"NULL VP8Io parameter in VP8Decode().");if(!tt.cb&&!Wl(tt,Ft))return 0;if(v(tt.cb),Ft.ac==null||Ft.ac(Ft)){Ft.ob&&(tt.L=0);var Ht=yA[tt.L];if(tt.L==2?(tt.yb=0,tt.zb=0):(tt.yb=Ft.v-Ht>>4,tt.zb=Ft.j-Ht>>4,0>tt.yb&&(tt.yb=0),0>tt.zb&&(tt.zb=0)),tt.Va=Ft.o+15+Ht>>4,tt.Hb=Ft.va+15+Ht>>4,tt.Hb>tt.za&&(tt.Hb=tt.za),tt.Va>tt.Ub&&(tt.Va=tt.Ub),0<tt.L){var ws=tt.ed;for(Ht=0;4>Ht;++Ht){var qt;if(tt.Qa.Cb){var js=tt.Qa.Lb[Ht];tt.Qa.Fb||(js+=ws.Tb)}else js=ws.Tb;for(qt=0;1>=qt;++qt){var Bs=tt.gd[Ht][qt],Hs=js;if(ws.Pc&&(Hs+=ws.vd[0],qt&&(Hs+=ws.od[0])),0<(Hs=0>Hs?0:63<Hs?63:Hs)){var Rs=Hs;0<ws.wb&&(Rs=4<ws.wb?Rs>>2:Rs>>1)>9-ws.wb&&(Rs=9-ws.wb),1>Rs&&(Rs=1),Bs.dd=Rs,Bs.tc=2*Hs+Rs,Bs.ld=40<=Hs?2:15<=Hs?1:0}else Bs.tc=0;Bs.La=qt}}}Ht=0}else An(tt,6,"Frame setup failed"),Ht=tt.a;if(Ht=Ht==0){if(Ht){tt.$c=0,0<tt.Aa||(tt.Ic=jA);t:{Ht=tt.Ic,ws=4*(Rs=tt.za);var zr=32*Rs,wr=Rs+1,_n=0<tt.L?Rs*(0<tt.Aa?2:1):0,Rr=(tt.Aa==2?2:1)*Rs;if((Bs=ws+832+(qt=3*(16*Ht+yA[tt.L])/2*zr)+(js=tt.Fa!=null&&0<tt.Fa.length?tt.Kc.c*tt.Kc.i:0))!=Bs)Ht=0;else{if(Bs>tt.Vb){if(tt.Vb=0,tt.Ec=V(Bs),tt.Fc=0,tt.Ec==null){Ht=An(tt,1,"no memory during frame initialization.");break t}tt.Vb=Bs}Bs=tt.Ec,Hs=tt.Fc,tt.Ac=Bs,tt.Bc=Hs,Hs+=ws,tt.Gd=ce(zr,Jd),tt.Hd=0,tt.rb=ce(wr+1,gc),tt.sb=1,tt.wa=_n?ce(_n,xo):null,tt.Y=0,tt.D.Nb=0,tt.D.wa=tt.wa,tt.D.Y=tt.Y,0<tt.Aa&&(tt.D.Y+=Rs),v(!0),tt.oc=Bs,tt.pc=Hs,Hs+=832,tt.ya=ce(Rr,ud),tt.aa=0,tt.D.ya=tt.ya,tt.D.aa=tt.aa,tt.Aa==2&&(tt.D.aa+=Rs),tt.R=16*Rs,tt.B=8*Rs,Rs=(zr=yA[tt.L])*tt.R,zr=zr/2*tt.B,tt.sa=Bs,tt.ta=Hs+Rs,tt.qa=tt.sa,tt.ra=tt.ta+16*Ht*tt.R+zr,tt.Ha=tt.qa,tt.Ia=tt.ra+8*Ht*tt.B+zr,tt.$c=0,Hs+=qt,tt.mb=js?Bs:null,tt.nb=js?Hs:null,v(Hs+js<=tt.Fc+tt.Vb),Mc(tt),P(tt.Ac,tt.Bc,0,ws),Ht=1}}if(Ht){if(Ft.ka=0,Ft.y=tt.sa,Ft.O=tt.ta,Ft.f=tt.qa,Ft.N=tt.ra,Ft.ea=tt.Ha,Ft.Vd=tt.Ia,Ft.fa=tt.R,Ft.Rc=tt.B,Ft.F=null,Ft.J=0,!$h){for(Ht=-255;255>=Ht;++Ht)hA[255+Ht]=0>Ht?-Ht:Ht;for(Ht=-1020;1020>=Ht;++Ht)zA[1020+Ht]=-128>Ht?-128:127<Ht?127:Ht;for(Ht=-112;112>=Ht;++Ht)$A[112+Ht]=-16>Ht?-16:15<Ht?15:Ht;for(Ht=-255;510>=Ht;++Ht)zh[255+Ht]=0>Ht?0:255<Ht?255:Ht;$h=1}ec=vo,yc=Jc,tc=Do,aa=fd,Ha=Jl,Qo=Wi,Qn=xi,Ji=sd,nd=Te,yu=nt,Od=vd,Ou=Z,lA=mt,cA=_t,dA=si,ll=bd,Ti=vu,uA=Fu,jc[0]=pd,jc[1]=Zl,jc[2]=Oc,jc[3]=xl,jc[4]=Ro,jc[5]=bu,jc[6]=Ic,jc[7]=gd,jc[8]=Zc,jc[9]=Yi,wd[0]=xu,wd[1]=sl,wd[2]=gl,wd[3]=gu,wd[4]=md,wd[5]=Qi,wd[6]=_a,Rc[0]=xc,Rc[1]=pl,Rc[2]=bl,Rc[3]=Zd,Rc[4]=nl,Rc[5]=Po,Rc[6]=xd,Ht=1}else Ht=0}Ht&&(Ht=(function(la,ro){for(la.M=0;la.M<la.Va;++la.M){var Mn,Dr=la.Jc[la.M&la.Xb],cr=la.m,_i=la;for(Mn=0;Mn<_i.za;++Mn){var On=cr,$n=_i,ni=$n.Ac,jo=$n.Bc+4*Mn,_o=$n.zc,Oa=$n.ya[$n.aa+Mn];if($n.Qa.Bb?Oa.$b=Ls(On,$n.Pa.jb[0])?2+Ls(On,$n.Pa.jb[2]):Ls(On,$n.Pa.jb[1]):Oa.$b=0,$n.kc&&(Oa.Ad=Ls(On,$n.Bd)),Oa.Za=!Ls(On,145)+0,Oa.Za){var Ho=Oa.Ob,wl=0;for($n=0;4>$n;++$n){var Hi,ia=_o[0+$n];for(Hi=0;4>Hi;++Hi){ia=Wh[ni[jo+Hi]][ia];for(var dn=Gh[Ls(On,ia[0])];0<dn;)dn=Gh[2*dn+Ls(On,ia[dn])];ia=-dn,ni[jo+Hi]=ia}I(Ho,wl,ni,jo,4),wl+=4,_o[0+$n]=ia}}else ia=Ls(On,156)?Ls(On,128)?1:3:Ls(On,163)?2:0,Oa.Ob[0]=ia,P(ni,jo,ia,4),P(_o,0,ia,4);Oa.Dd=Ls(On,142)?Ls(On,114)?Ls(On,183)?1:3:2:0}if(_i.m.Ka)return An(la,7,"Premature end-of-partition0 encountered.");for(;la.ja<la.za;++la.ja){if(_i=Dr,On=(cr=la).rb[cr.sb-1],ni=cr.rb[cr.sb+cr.ja],Mn=cr.ya[cr.aa+cr.ja],jo=cr.kc?Mn.Ad:0)On.la=ni.la=0,Mn.Za||(On.Na=ni.Na=0),Mn.Hc=0,Mn.Gc=0,Mn.ia=0;else{var Zi,za;if(On=ni,ni=_i,jo=cr.Pa.Xc,_o=cr.ya[cr.aa+cr.ja],Oa=cr.pb[_o.$b],$n=_o.ad,Ho=0,wl=cr.rb[cr.sb-1],ia=Hi=0,P($n,Ho,0,384),_o.Za)var zo=0,cl=jo[3];else{dn=V(16);var Xa=On.Na+wl.Na;if(Xa=Nu(ni,jo[1],Xa,Oa.Eb,0,dn,0),On.Na=wl.Na=(0<Xa)+0,1<Xa)ec(dn,0,$n,Ho);else{var dl=dn[0]+3>>3;for(dn=0;256>dn;dn+=16)$n[Ho+dn]=dl}zo=1,cl=jo[0]}var Ja=15&On.la,Ws=15&wl.la;for(dn=0;4>dn;++dn){var ai=1&Ws;for(dl=za=0;4>dl;++dl)Ja=Ja>>1|(ai=(Xa=Nu(ni,cl,Xa=ai+(1&Ja),Oa.Sc,zo,$n,Ho))>zo)<<7,za=za<<2|(3<Xa?3:1<Xa?2:$n[Ho+0]!=0),Ho+=16;Ja>>=4,Ws=Ws>>1|ai<<7,Hi=(Hi<<8|za)>>>0}for(cl=Ja,zo=Ws>>4,Zi=0;4>Zi;Zi+=2){for(za=0,Ja=On.la>>4+Zi,Ws=wl.la>>4+Zi,dn=0;2>dn;++dn){for(ai=1&Ws,dl=0;2>dl;++dl)Xa=ai+(1&Ja),Ja=Ja>>1|(ai=0<(Xa=Nu(ni,jo[2],Xa,Oa.Qc,0,$n,Ho)))<<3,za=za<<2|(3<Xa?3:1<Xa?2:$n[Ho+0]!=0),Ho+=16;Ja>>=2,Ws=Ws>>1|ai<<5}ia|=za<<4*Zi,cl|=Ja<<4<<Zi,zo|=(240&Ws)<<Zi}On.la=cl,wl.la=zo,_o.Hc=Hi,_o.Gc=ia,_o.ia=43690&ia?0:Oa.ia,jo=!(Hi|ia)}if(0<cr.L&&(cr.wa[cr.Y+cr.ja]=cr.gd[Mn.$b][Mn.Za],cr.wa[cr.Y+cr.ja].La|=!jo),_i.Ka)return An(la,7,"Premature end-of-file encountered.")}if(Mc(la),cr=ro,_i=1,Mn=(Dr=la).D,On=0<Dr.L&&Dr.M>=Dr.zb&&Dr.M<=Dr.Va,Dr.Aa==0)t:{if(Mn.M=Dr.M,Mn.uc=On,tr(Dr,Mn),_i=1,Mn=(za=Dr.D).Nb,On=(ia=yA[Dr.L])*Dr.R,ni=ia/2*Dr.B,dn=16*Mn*Dr.R,dl=8*Mn*Dr.B,jo=Dr.sa,_o=Dr.ta-On+dn,Oa=Dr.qa,$n=Dr.ra-ni+dl,Ho=Dr.Ha,wl=Dr.Ia-ni+dl,Ws=(Ja=za.M)==0,Hi=Ja>=Dr.Va-1,Dr.Aa==2&&tr(Dr,za),za.uc)for(ai=(Xa=Dr).D.M,v(Xa.D.uc),za=Xa.yb;za<Xa.Hb;++za){zo=za,cl=ai;var No=(di=($o=Xa).D).Nb;Zi=$o.R;var di=di.wa[di.Y+zo],rc=$o.sa,Ln=$o.ta+16*No*Zi+16*zo,ea=di.dd,Sa=di.tc;if(Sa!=0)if(v(3<=Sa),$o.L==1)0<zo&&ll(rc,Ln,Zi,Sa+4),di.La&&uA(rc,Ln,Zi,Sa),0<cl&&dA(rc,Ln,Zi,Sa+4),di.La&&Ti(rc,Ln,Zi,Sa);else{var nc=$o.B,qi=$o.qa,ui=$o.ra+8*No*nc+8*zo,ac=$o.Ha,$o=$o.Ia+8*No*nc+8*zo;No=di.ld,0<zo&&(Ji(rc,Ln,Zi,Sa+4,ea,No),yu(qi,ui,ac,$o,nc,Sa+4,ea,No)),di.La&&(Ou(rc,Ln,Zi,Sa,ea,No),cA(qi,ui,ac,$o,nc,Sa,ea,No)),0<cl&&(Qn(rc,Ln,Zi,Sa+4,ea,No),nd(qi,ui,ac,$o,nc,Sa+4,ea,No)),di.La&&(Od(rc,Ln,Zi,Sa,ea,No),lA(qi,ui,ac,$o,nc,Sa,ea,No))}}if(Dr.ia&&alert("todo:DitherRow"),cr.put!=null){if(za=16*Ja,Ja=16*(Ja+1),Ws?(cr.y=Dr.sa,cr.O=Dr.ta+dn,cr.f=Dr.qa,cr.N=Dr.ra+dl,cr.ea=Dr.Ha,cr.W=Dr.Ia+dl):(za-=ia,cr.y=jo,cr.O=_o,cr.f=Oa,cr.N=$n,cr.ea=Ho,cr.W=wl),Hi||(Ja-=ia),Ja>cr.o&&(Ja=cr.o),cr.F=null,cr.J=null,Dr.Fa!=null&&0<Dr.Fa.length&&za<Ja&&(cr.J=Ba(Dr,cr,za,Ja-za),cr.F=Dr.mb,cr.F==null&&cr.F.length==0)){_i=An(Dr,3,"Could not decode alpha data.");break t}za<cr.j&&(ia=cr.j-za,za=cr.j,v(!(1&ia)),cr.O+=Dr.R*ia,cr.N+=Dr.B*(ia>>1),cr.W+=Dr.B*(ia>>1),cr.F!=null&&(cr.J+=cr.width*ia)),za<Ja&&(cr.O+=cr.v,cr.N+=cr.v>>1,cr.W+=cr.v>>1,cr.F!=null&&(cr.J+=cr.v),cr.ka=za-cr.j,cr.U=cr.va-cr.v,cr.T=Ja-za,_i=cr.put(cr))}Mn+1!=Dr.Ic||Hi||(I(Dr.sa,Dr.ta-On,jo,_o+16*Dr.R,On),I(Dr.qa,Dr.ra-ni,Oa,$n+8*Dr.B,ni),I(Dr.Ha,Dr.Ia-ni,Ho,wl+8*Dr.B,ni))}if(!_i)return An(la,6,"Output aborted.")}return 1})(tt,Ft)),Ft.bc!=null&&Ft.bc(Ft),Ht&=1}return Ht?(tt.cb=0,Ht):0})(k,me)||(D=k.a)}}else D=k.a}D==0&&Oe.Oa!=null&&Oe.Oa.fd&&(D=Hr(Oe.ba))}Oe=D}Ie=Oe!=0?null:11>Ie?_e.f.RGBA.eb:_e.f.kb.y}else Ie=null;return Ie};var _u=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Ce(yt,ss){for(var Ye="",st=0;st<4;st++)Ye+=String.fromCharCode(yt[ss++]);return Ye}function Me(yt,ss){return yt[ss+0]|yt[ss+1]<<8}function ze(yt,ss){return(yt[ss+0]|yt[ss+1]<<8|yt[ss+2]<<16)>>>0}function Xe(yt,ss){return(yt[ss+0]|yt[ss+1]<<8|yt[ss+2]<<16|yt[ss+3]<<24)>>>0}new ee;var xe=[0],ct=[0],it=[],ut=new ee,We=N,jt=(function(yt,ss){var Ye={},st=0,bt=!1,vt=0,ns=0;if(Ye.frames=[],!(function(Qe,dt){for(var ht=0;ht<4;ht++)if(Qe[dt+ht]!="RIFF".charCodeAt(ht))return!0;return!1})(yt,ss)){for(Xe(yt,ss+=4),ss+=8;ss<yt.length;){var us=Ce(yt,ss),bs=Xe(yt,ss+=4);ss+=4;var Gt=bs+(1&bs);switch(us){case"VP8 ":case"VP8L":Ye.frames[st]===void 0&&(Ye.frames[st]={}),(Qs=Ye.frames[st]).src_off=bt?ns:ss-8,Qs.src_size=vt+bs+8,st++,bt&&(bt=!1,vt=0,ns=0);break;case"VP8X":(Qs=Ye.header={}).feature_flags=yt[ss];var ms=ss+4;Qs.canvas_width=1+ze(yt,ms),ms+=3,Qs.canvas_height=1+ze(yt,ms),ms+=3;break;case"ALPH":bt=!0,vt=Gt+8,ns=ss-8;break;case"ANIM":(Qs=Ye.header).bgcolor=Xe(yt,ss),ms=ss+4,Qs.loop_count=Me(yt,ms),ms+=2;break;case"ANMF":var Xs,Qs;(Qs=Ye.frames[st]={}).offset_x=2*ze(yt,ss),ss+=3,Qs.offset_y=2*ze(yt,ss),ss+=3,Qs.width=1+ze(yt,ss),ss+=3,Qs.height=1+ze(yt,ss),ss+=3,Qs.duration=ze(yt,ss),ss+=3,Xs=yt[ss++],Qs.dispose=1&Xs,Qs.blend=Xs>>1&1}us!="ANMF"&&(ss+=Gt)}return Ye}})(We,0);jt.response=We,jt.rgbaoutput=!0,jt.dataurl=!1;var Pt=jt.header?jt.header:null,gt=jt.frames?jt.frames:null;if(Pt){Pt.loop_counter=Pt.loop_count,xe=[Pt.canvas_height],ct=[Pt.canvas_width];for(var Ke=0;Ke<gt.length&&gt[Ke].blend!=0;Ke++);}var Ot=gt[0],ls=ut.WebPDecodeRGBA(We,Ot.src_off,Ot.src_size,ct,xe);Ot.rgba=ls,Ot.imgwidth=ct[0],Ot.imgheight=xe[0];for(var zt=0;zt<ct[0]*xe[0]*4;zt++)it[zt]=ls[zt];return this.width=ct,this.height=xe,this.data=it,this}(function(N){var v,S,I,P,V,ce,q,ee,Ce,Me=function(Qe){return Qe=Qe||{},this.isStrokeTransparent=Qe.isStrokeTransparent||!1,this.strokeOpacity=Qe.strokeOpacity||1,this.strokeStyle=Qe.strokeStyle||"#000000",this.fillStyle=Qe.fillStyle||"#000000",this.isFillTransparent=Qe.isFillTransparent||!1,this.fillOpacity=Qe.fillOpacity||1,this.font=Qe.font||"10px sans-serif",this.textBaseline=Qe.textBaseline||"alphabetic",this.textAlign=Qe.textAlign||"left",this.lineWidth=Qe.lineWidth||1,this.lineJoin=Qe.lineJoin||"miter",this.lineCap=Qe.lineCap||"butt",this.path=Qe.path||[],this.transform=Qe.transform!==void 0?Qe.transform.clone():new ee,this.globalCompositeOperation=Qe.globalCompositeOperation||"normal",this.globalAlpha=Qe.globalAlpha||1,this.clip_path=Qe.clip_path||[],this.currentPoint=Qe.currentPoint||new ce,this.miterLimit=Qe.miterLimit||10,this.lastPoint=Qe.lastPoint||new ce,this.lineDashOffset=Qe.lineDashOffset||0,this.lineDash=Qe.lineDash||[],this.margin=Qe.margin||[0,0,0,0],this.prevPageLastElemOffset=Qe.prevPageLastElemOffset||0,this.ignoreClearRect=typeof Qe.ignoreClearRect!="boolean"||Qe.ignoreClearRect,this};N.events.push(["initialized",function(){this.context2d=new ze(this),v=this.internal.f2,S=this.internal.getCoordinateString,I=this.internal.getVerticalCoordinateString,P=this.internal.getHorizontalCoordinate,V=this.internal.getVerticalCoordinate,ce=this.internal.Point,q=this.internal.Rectangle,ee=this.internal.Matrix,Ce=new Me}]);var ze=function(Qe){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var dt=Qe;Object.defineProperty(this,"pdf",{get:function(){return dt}});var ht=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ht},set:function(et){ht=!!et}});var It=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return It},set:function(et){It=!!et}});var Qt=0;Object.defineProperty(this,"posX",{get:function(){return Qt},set:function(et){isNaN(et)||(Qt=et)}});var Xt=0;Object.defineProperty(this,"posY",{get:function(){return Xt},set:function(et){isNaN(et)||(Xt=et)}}),Object.defineProperty(this,"margin",{get:function(){return Ce.margin},set:function(et){var or;typeof et=="number"?or=[et,et,et,et]:((or=new Array(4))[0]=et[0],or[1]=et.length>=2?et[1]:or[0],or[2]=et.length>=3?et[2]:or[0],or[3]=et.length>=4?et[3]:or[1]),Ce.margin=or}});var ps=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ps},set:function(et){ps=et}});var gs=0;Object.defineProperty(this,"lastBreak",{get:function(){return gs},set:function(et){gs=et}});var Ls=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ls},set:function(et){Ls=et}}),Object.defineProperty(this,"ctx",{get:function(){return Ce},set:function(et){et instanceof Me&&(Ce=et)}}),Object.defineProperty(this,"path",{get:function(){return Ce.path},set:function(et){Ce.path=et}});var Js=[];Object.defineProperty(this,"ctxStack",{get:function(){return Js},set:function(et){Js=et}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(et){var or;or=Xe(et),this.ctx.fillStyle=or.style,this.ctx.isFillTransparent=or.a===0,this.ctx.fillOpacity=or.a,this.pdf.setFillColor(or.r,or.g,or.b,{a:or.a}),this.pdf.setTextColor(or.r,or.g,or.b,{a:or.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(et){var or=Xe(et);this.ctx.strokeStyle=or.style,this.ctx.isStrokeTransparent=or.a===0,this.ctx.strokeOpacity=or.a,or.a===0?this.pdf.setDrawColor(255,255,255):(or.a,this.pdf.setDrawColor(or.r,or.g,or.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(et){["butt","round","square"].indexOf(et)!==-1&&(this.ctx.lineCap=et,this.pdf.setLineCap(et))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(et){isNaN(et)||(this.ctx.lineWidth=et,this.pdf.setLineWidth(et))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(et){["bevel","round","miter"].indexOf(et)!==-1&&(this.ctx.lineJoin=et,this.pdf.setLineJoin(et))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(et){isNaN(et)||(this.ctx.miterLimit=et,this.pdf.setMiterLimit(et))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(et){this.ctx.textBaseline=et}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(et){["right","end","center","left","start"].indexOf(et)!==-1&&(this.ctx.textAlign=et)}});var br=null,gr=null,Yr=null;Object.defineProperty(this,"fontFaces",{get:function(){return Yr},set:function(et){br=null,gr=null,Yr=et}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(et){var or;if(this.ctx.font=et,(or=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(et))!==null){var un=or[1];or[2];var rr=or[3],_s=or[4];or[5];var tn=or[6],vr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_s)[2];_s=Math.floor(vr==="px"?parseFloat(_s)*this.pdf.internal.scaleFactor:vr==="em"?parseFloat(_s)*this.pdf.getFontSize():parseFloat(_s)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_s);var $r=(function(Ir){var vn,Wn,En=[],Rn=Ir.trim();if(Rn==="")return Ci;if(Rn in Dn)return[Dn[Rn]];for(;Rn!=="";){switch(Wn=null,vn=(Rn=oi(Rn)).charAt(0)){case'"':case"'":Wn=To(Rn.substring(1),vn);break;default:Wn=Vl(Rn)}if(Wn===null||(En.push(Wn[0]),(Rn=oi(Wn[1]))!==""&&Rn.charAt(0)!==","))return Ci;Rn=Rn.replace(/^,/,"")}return En})(tn);if(this.fontFaces){var Or=(function(Ir,vn){var Wn=Ir.getFontList(),En=JSON.stringify(Wn);if(br===null||gr!==En){var Rn=(function(Wa){var Vr=[];return Object.keys(Wa).forEach(function(Qa){Wa[Qa].forEach(function(mn){var _r=null;switch(mn){case"bold":_r={family:Qa,weight:"bold"};break;case"italic":_r={family:Qa,style:"italic"};break;case"bolditalic":_r={family:Qa,weight:"bold",style:"italic"};break;case"":case"normal":_r={family:Qa}}_r!==null&&(_r.ref={name:Qa,style:mn},Vr.push(_r))})}),Vr})(Wn);br=(function(Wa){for(var Vr={},Qa=0;Qa<Wa.length;++Qa){var mn=fa(Wa[Qa]),_r=mn.family,Na=mn.stretch,jn=mn.style,ar=mn.weight;Vr[_r]=Vr[_r]||{},Vr[_r][Na]=Vr[_r][Na]||{},Vr[_r][Na][jn]=Vr[_r][Na][jn]||{},Vr[_r][Na][jn][ar]=mn}return Vr})(Rn.concat(vn)),gr=En}return br})(this.pdf,this.fontFaces),ka=$r.map(function(Ir){return{family:Ir,stretch:"normal",weight:rr,style:un}}),Sn=(function(Ir,vn,Wn){for(var En=(Wn=Wn||{}).defaultFontFamily||"times",Rn=Object.assign({},Ii,Wn.genericFontFamilies||{}),Wa=null,Vr=null,Qa=0;Qa<vn.length;++Qa)if(Rn[(Wa=fa(vn[Qa])).family]&&(Wa.family=Rn[Wa.family]),Ir.hasOwnProperty(Wa.family)){Vr=Ir[Wa.family];break}if(!(Vr=Vr||Ir[En]))throw new Error("Could not find a font-family for the rule '"+mc(Wa)+"' and default family '"+En+"'.");if(Vr=(function(mn,_r){if(_r[mn])return _r[mn];var Na=fn[mn],jn=Na<=fn.normal?-1:1,ar=Zn(_r,ha,Na,jn);if(!ar)throw new Error("Could not find a matching font-stretch value for "+mn);return ar})(Wa.stretch,Vr),Vr=(function(mn,_r){if(_r[mn])return _r[mn];for(var Na=Va[mn],jn=0;jn<Na.length;++jn)if(_r[Na[jn]])return _r[Na[jn]];throw new Error("Could not find a matching font-style for "+mn)})(Wa.style,Vr),!(Vr=(function(mn,_r){if(_r[mn])return _r[mn];if(mn===400&&_r[500])return _r[500];if(mn===500&&_r[400])return _r[400];var Na=ln[mn],jn=Zn(_r,Bn,Na,mn<400?-1:1);if(!jn)throw new Error("Could not find a matching font-weight for value "+mn);return jn})(Wa.weight,Vr)))throw new Error("Failed to resolve a font for the rule '"+mc(Wa)+"'.");return Vr})(Or,ka);this.pdf.setFont(Sn.ref.name,Sn.ref.style)}else{var kr="";(rr==="bold"||parseInt(rr,10)>=700||un==="bold")&&(kr="bold"),un==="italic"&&(kr+="italic"),kr.length===0&&(kr="normal");for(var zn="",Xr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Br=0;Br<$r.length;Br++){if(this.pdf.internal.getFont($r[Br],kr,{noFallback:!0,disableWarning:!0})!==void 0){zn=$r[Br];break}if(kr==="bolditalic"&&this.pdf.internal.getFont($r[Br],"bold",{noFallback:!0,disableWarning:!0})!==void 0)zn=$r[Br],kr="bold";else if(this.pdf.internal.getFont($r[Br],"normal",{noFallback:!0,disableWarning:!0})!==void 0){zn=$r[Br],kr="normal";break}}if(zn===""){for(var rn=0;rn<$r.length;rn++)if(Xr[$r[rn]]){zn=Xr[$r[rn]];break}}zn=zn===""?"Times":zn,this.pdf.setFont(zn,kr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(et){this.ctx.globalCompositeOperation=et}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(et){this.ctx.globalAlpha=et}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(et){this.ctx.lineDashOffset=et,Qs.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(et){this.ctx.lineDash=et,Qs.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(et){this.ctx.ignoreClearRect=!!et}})};ze.prototype.setLineDash=function(Qe){this.lineDash=Qe},ze.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},ze.prototype.fill=function(){gt.call(this,"fill",!1)},ze.prototype.stroke=function(){gt.call(this,"stroke",!1)},ze.prototype.beginPath=function(){this.path=[{type:"begin"}]},ze.prototype.moveTo=function(Qe,dt){if(isNaN(Qe)||isNaN(dt))throw w.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ht=this.ctx.transform.applyToPoint(new ce(Qe,dt));this.path.push({type:"mt",x:ht.x,y:ht.y}),this.ctx.lastPoint=new ce(Qe,dt)},ze.prototype.closePath=function(){var Qe=new ce(0,0),dt=0;for(dt=this.path.length-1;dt!==-1;dt--)if(this.path[dt].type==="begin"&&(0,f.default)(this.path[dt+1])==="object"&&typeof this.path[dt+1].x=="number"){Qe=new ce(this.path[dt+1].x,this.path[dt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new ce(Qe.x,Qe.y)},ze.prototype.lineTo=function(Qe,dt){if(isNaN(Qe)||isNaN(dt))throw w.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ht=this.ctx.transform.applyToPoint(new ce(Qe,dt));this.path.push({type:"lt",x:ht.x,y:ht.y}),this.ctx.lastPoint=new ce(ht.x,ht.y)},ze.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),gt.call(this,null,!0)},ze.prototype.quadraticCurveTo=function(Qe,dt,ht,It){if(isNaN(ht)||isNaN(It)||isNaN(Qe)||isNaN(dt))throw w.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Qt=this.ctx.transform.applyToPoint(new ce(ht,It)),Xt=this.ctx.transform.applyToPoint(new ce(Qe,dt));this.path.push({type:"qct",x1:Xt.x,y1:Xt.y,x:Qt.x,y:Qt.y}),this.ctx.lastPoint=new ce(Qt.x,Qt.y)},ze.prototype.bezierCurveTo=function(Qe,dt,ht,It,Qt,Xt){if(isNaN(Qt)||isNaN(Xt)||isNaN(Qe)||isNaN(dt)||isNaN(ht)||isNaN(It))throw w.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ps=this.ctx.transform.applyToPoint(new ce(Qt,Xt)),gs=this.ctx.transform.applyToPoint(new ce(Qe,dt)),Ls=this.ctx.transform.applyToPoint(new ce(ht,It));this.path.push({type:"bct",x1:gs.x,y1:gs.y,x2:Ls.x,y2:Ls.y,x:ps.x,y:ps.y}),this.ctx.lastPoint=new ce(ps.x,ps.y)},ze.prototype.arc=function(Qe,dt,ht,It,Qt,Xt){if(isNaN(Qe)||isNaN(dt)||isNaN(ht)||isNaN(It)||isNaN(Qt))throw w.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Xt=!!Xt,!this.ctx.transform.isIdentity){var ps=this.ctx.transform.applyToPoint(new ce(Qe,dt));Qe=ps.x,dt=ps.y;var gs=this.ctx.transform.applyToPoint(new ce(0,ht)),Ls=this.ctx.transform.applyToPoint(new ce(0,0));ht=Math.sqrt(Math.pow(gs.x-Ls.x,2)+Math.pow(gs.y-Ls.y,2))}Math.abs(Qt-It)>=2*Math.PI&&(It=0,Qt=2*Math.PI),this.path.push({type:"arc",x:Qe,y:dt,radius:ht,startAngle:It,endAngle:Qt,counterclockwise:Xt})},ze.prototype.arcTo=function(Qe,dt,ht,It,Qt){throw new Error("arcTo not implemented.")},ze.prototype.rect=function(Qe,dt,ht,It){if(isNaN(Qe)||isNaN(dt)||isNaN(ht)||isNaN(It))throw w.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Qe,dt),this.lineTo(Qe+ht,dt),this.lineTo(Qe+ht,dt+It),this.lineTo(Qe,dt+It),this.lineTo(Qe,dt),this.lineTo(Qe+ht,dt),this.lineTo(Qe,dt)},ze.prototype.fillRect=function(Qe,dt,ht,It){if(isNaN(Qe)||isNaN(dt)||isNaN(ht)||isNaN(It))throw w.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!xe.call(this)){var Qt={};this.lineCap!=="butt"&&(Qt.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Qt.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Qe,dt,ht,It),this.fill(),Qt.hasOwnProperty("lineCap")&&(this.lineCap=Qt.lineCap),Qt.hasOwnProperty("lineJoin")&&(this.lineJoin=Qt.lineJoin)}},ze.prototype.strokeRect=function(Qe,dt,ht,It){if(isNaN(Qe)||isNaN(dt)||isNaN(ht)||isNaN(It))throw w.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");ct.call(this)||(this.beginPath(),this.rect(Qe,dt,ht,It),this.stroke())},ze.prototype.clearRect=function(Qe,dt,ht,It){if(isNaN(Qe)||isNaN(dt)||isNaN(ht)||isNaN(It))throw w.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Qe,dt,ht,It))},ze.prototype.save=function(Qe){Qe=typeof Qe!="boolean"||Qe;for(var dt=this.pdf.internal.getCurrentPageInfo().pageNumber,ht=0;ht<this.pdf.internal.getNumberOfPages();ht++)this.pdf.setPage(ht+1),this.pdf.internal.out("q");if(this.pdf.setPage(dt),Qe){this.ctx.fontSize=this.pdf.internal.getFontSize();var It=new Me(this.ctx);this.ctxStack.push(this.ctx),this.ctx=It}},ze.prototype.restore=function(Qe){Qe=typeof Qe!="boolean"||Qe;for(var dt=this.pdf.internal.getCurrentPageInfo().pageNumber,ht=0;ht<this.pdf.internal.getNumberOfPages();ht++)this.pdf.setPage(ht+1),this.pdf.internal.out("Q");this.pdf.setPage(dt),Qe&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},ze.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Xe=function(Qe){var dt,ht,It,Qt;if(Qe.isCanvasGradient===!0&&(Qe=Qe.getColor()),!Qe)return{r:0,g:0,b:0,a:0,style:Qe};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(Qe))dt=0,ht=0,It=0,Qt=0;else{var Xt=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(Qe);if(Xt!==null)dt=parseInt(Xt[1]),ht=parseInt(Xt[2]),It=parseInt(Xt[3]),Qt=1;else if((Xt=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(Qe))!==null)dt=parseInt(Xt[1]),ht=parseInt(Xt[2]),It=parseInt(Xt[3]),Qt=parseFloat(Xt[4]);else{if(Qt=1,typeof Qe=="string"&&Qe.charAt(0)!=="#"){var ps=new Y(Qe);Qe=ps.ok?ps.toHex():"#000000"}Qe.length===4?(dt=Qe.substring(1,2),dt+=dt,ht=Qe.substring(2,3),ht+=ht,It=Qe.substring(3,4),It+=It):(dt=Qe.substring(1,3),ht=Qe.substring(3,5),It=Qe.substring(5,7)),dt=parseInt(dt,16),ht=parseInt(ht,16),It=parseInt(It,16)}}return{r:dt,g:ht,b:It,a:Qt,style:Qe}},xe=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},ct=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};ze.prototype.fillText=function(Qe,dt,ht,It){if(isNaN(dt)||isNaN(ht)||typeof Qe!="string")throw w.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(It=isNaN(It)?void 0:It,!xe.call(this)){var Qt=Gt(this.ctx.transform.rotation),Xt=this.ctx.transform.scaleX;st.call(this,{text:Qe,x:dt,y:ht,scale:Xt,angle:Qt,align:this.textAlign,maxWidth:It})}},ze.prototype.strokeText=function(Qe,dt,ht,It){if(isNaN(dt)||isNaN(ht)||typeof Qe!="string")throw w.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!ct.call(this)){It=isNaN(It)?void 0:It;var Qt=Gt(this.ctx.transform.rotation),Xt=this.ctx.transform.scaleX;st.call(this,{text:Qe,x:dt,y:ht,scale:Xt,renderingMode:"stroke",angle:Qt,align:this.textAlign,maxWidth:It})}},ze.prototype.measureText=function(Qe){if(typeof Qe!="string")throw w.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var dt=this.pdf,ht=this.pdf.internal.scaleFactor,It=dt.internal.getFontSize(),Qt=dt.getStringUnitWidth(Qe)*It/dt.internal.scaleFactor;return new function(Xt){var ps=(Xt=Xt||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ps}}),this}({width:Qt*=Math.round(96*ht/72*1e4)/1e4})},ze.prototype.scale=function(Qe,dt){if(isNaN(Qe)||isNaN(dt))throw w.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ht=new ee(Qe,0,0,dt,0,0);this.ctx.transform=this.ctx.transform.multiply(ht)},ze.prototype.rotate=function(Qe){if(isNaN(Qe))throw w.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var dt=new ee(Math.cos(Qe),Math.sin(Qe),-Math.sin(Qe),Math.cos(Qe),0,0);this.ctx.transform=this.ctx.transform.multiply(dt)},ze.prototype.translate=function(Qe,dt){if(isNaN(Qe)||isNaN(dt))throw w.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ht=new ee(1,0,0,1,Qe,dt);this.ctx.transform=this.ctx.transform.multiply(ht)},ze.prototype.transform=function(Qe,dt,ht,It,Qt,Xt){if(isNaN(Qe)||isNaN(dt)||isNaN(ht)||isNaN(It)||isNaN(Qt)||isNaN(Xt))throw w.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ps=new ee(Qe,dt,ht,It,Qt,Xt);this.ctx.transform=this.ctx.transform.multiply(ps)},ze.prototype.setTransform=function(Qe,dt,ht,It,Qt,Xt){Qe=isNaN(Qe)?1:Qe,dt=isNaN(dt)?0:dt,ht=isNaN(ht)?0:ht,It=isNaN(It)?1:It,Qt=isNaN(Qt)?0:Qt,Xt=isNaN(Xt)?0:Xt,this.ctx.transform=new ee(Qe,dt,ht,It,Qt,Xt)};var it=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};ze.prototype.drawImage=function(Qe,dt,ht,It,Qt,Xt,ps,gs,Ls){var Js=this.pdf.getImageProperties(Qe),br=1,gr=1,Yr=1,et=1;It!==void 0&&gs!==void 0&&(Yr=gs/It,et=Ls/Qt,br=Js.width/It*gs/It,gr=Js.height/Qt*Ls/Qt),Xt===void 0&&(Xt=dt,ps=ht,dt=0,ht=0),It!==void 0&&gs===void 0&&(gs=It,Ls=Qt),It===void 0&&gs===void 0&&(gs=Js.width,Ls=Js.height);var or=this.ctx.transform.decompose(),un=Gt(or.rotate.shx),rr=new ee,_s=(rr=(rr=(rr=rr.multiply(or.translate)).multiply(or.skew)).multiply(or.scale)).applyToRectangle(new q(Xt-dt*Yr,ps-ht*et,It*br,Qt*gr));if(this.autoPaging){for(var tn,vr=ut.call(this,_s),$r=[],Or=0;Or<vr.length;Or+=1)$r.indexOf(vr[Or])===-1&&$r.push(vr[Or]);Pt($r);for(var ka=$r[0],Sn=$r[$r.length-1],kr=ka;kr<Sn+1;kr++){this.pdf.setPage(kr);var zn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Xr=kr===1?this.posY+this.margin[0]:this.margin[0],Br=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ir=kr===1?0:Br+(kr-2)*rn;if(this.ctx.clip_path.length!==0){var vn=this.path;tn=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=jt(tn,this.posX+this.margin[3],-Ir+Xr+this.ctx.prevPageLastElemOffset),Ke.call(this,"fill",!0),this.path=vn}var Wn=JSON.parse(JSON.stringify(_s));Wn=jt([Wn],this.posX+this.margin[3],-Ir+Xr+this.ctx.prevPageLastElemOffset)[0];var En=(kr>ka||kr<Sn)&&it.call(this);En&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],zn,rn,null).clip().discardPath()),this.pdf.addImage(Qe,"JPEG",Wn.x,Wn.y,Wn.w,Wn.h,null,null,un),En&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(Qe,"JPEG",_s.x,_s.y,_s.w,_s.h,null,null,un)};var ut=function(Qe,dt,ht){var It=[];dt=dt||this.pdf.internal.pageSize.width,ht=ht||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Qt=this.posY+this.ctx.prevPageLastElemOffset;switch(Qe.type){default:case"mt":case"lt":It.push(Math.floor((Qe.y+Qt)/ht)+1);break;case"arc":It.push(Math.floor((Qe.y+Qt-Qe.radius)/ht)+1),It.push(Math.floor((Qe.y+Qt+Qe.radius)/ht)+1);break;case"qct":var Xt=ms(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Qe.x1,Qe.y1,Qe.x,Qe.y);It.push(Math.floor((Xt.y+Qt)/ht)+1),It.push(Math.floor((Xt.y+Xt.h+Qt)/ht)+1);break;case"bct":var ps=Xs(this.ctx.lastPoint.x,this.ctx.lastPoint.y,Qe.x1,Qe.y1,Qe.x2,Qe.y2,Qe.x,Qe.y);It.push(Math.floor((ps.y+Qt)/ht)+1),It.push(Math.floor((ps.y+ps.h+Qt)/ht)+1);break;case"rect":It.push(Math.floor((Qe.y+Qt)/ht)+1),It.push(Math.floor((Qe.y+Qe.h+Qt)/ht)+1)}for(var gs=0;gs<It.length;gs+=1)for(;this.pdf.internal.getNumberOfPages()<It[gs];)We.call(this);return It},We=function(){var Qe=this.fillStyle,dt=this.strokeStyle,ht=this.font,It=this.lineCap,Qt=this.lineWidth,Xt=this.lineJoin;this.pdf.addPage(),this.fillStyle=Qe,this.strokeStyle=dt,this.font=ht,this.lineCap=It,this.lineWidth=Qt,this.lineJoin=Xt},jt=function(Qe,dt,ht){for(var It=0;It<Qe.length;It++)switch(Qe[It].type){case"bct":Qe[It].x2+=dt,Qe[It].y2+=ht;case"qct":Qe[It].x1+=dt,Qe[It].y1+=ht;default:Qe[It].x+=dt,Qe[It].y+=ht}return Qe},Pt=function(Qe){return Qe.sort(function(dt,ht){return dt-ht})},gt=function(Qe,dt){var ht=this.fillStyle,It=this.strokeStyle,Qt=this.lineCap,Xt=this.lineWidth,ps=Math.abs(Xt*this.ctx.transform.scaleX),gs=this.lineJoin;if(this.autoPaging){for(var Ls,Js,br=JSON.parse(JSON.stringify(this.path)),gr=JSON.parse(JSON.stringify(this.path)),Yr=[],et=0;et<gr.length;et++)if(gr[et].x!==void 0)for(var or=ut.call(this,gr[et]),un=0;un<or.length;un+=1)Yr.indexOf(or[un])===-1&&Yr.push(or[un]);for(var rr=0;rr<Yr.length;rr++)for(;this.pdf.internal.getNumberOfPages()<Yr[rr];)We.call(this);Pt(Yr);for(var _s=Yr[0],tn=Yr[Yr.length-1],vr=_s;vr<tn+1;vr++){this.pdf.setPage(vr),this.fillStyle=ht,this.strokeStyle=It,this.lineCap=Qt,this.lineWidth=ps,this.lineJoin=gs;var $r=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Or=vr===1?this.posY+this.margin[0]:this.margin[0],ka=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Sn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kr=vr===1?0:ka+(vr-2)*Sn;if(this.ctx.clip_path.length!==0){var zn=this.path;Ls=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=jt(Ls,this.posX+this.margin[3],-kr+Or+this.ctx.prevPageLastElemOffset),Ke.call(this,Qe,!0),this.path=zn}if(Js=JSON.parse(JSON.stringify(br)),this.path=jt(Js,this.posX+this.margin[3],-kr+Or+this.ctx.prevPageLastElemOffset),dt===!1||vr===0){var Xr=(vr>_s||vr<tn)&&it.call(this);Xr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$r,Sn,null).clip().discardPath()),Ke.call(this,Qe,dt),Xr&&this.pdf.restoreGraphicsState()}this.lineWidth=Xt}this.path=br}else this.lineWidth=ps,Ke.call(this,Qe,dt),this.lineWidth=Xt},Ke=function(Qe,dt){if((Qe!=="stroke"||dt||!ct.call(this))&&(Qe==="stroke"||dt||!xe.call(this))){for(var ht,It,Qt=[],Xt=this.path,ps=0;ps<Xt.length;ps++){var gs=Xt[ps];switch(gs.type){case"begin":Qt.push({begin:!0});break;case"close":Qt.push({close:!0});break;case"mt":Qt.push({start:gs,deltas:[],abs:[]});break;case"lt":var Ls=Qt.length;if(Xt[ps-1]&&!isNaN(Xt[ps-1].x)&&(ht=[gs.x-Xt[ps-1].x,gs.y-Xt[ps-1].y],Ls>0)){for(;Ls>=0;Ls--)if(Qt[Ls-1].close!==!0&&Qt[Ls-1].begin!==!0){Qt[Ls-1].deltas.push(ht),Qt[Ls-1].abs.push(gs);break}}break;case"bct":ht=[gs.x1-Xt[ps-1].x,gs.y1-Xt[ps-1].y,gs.x2-Xt[ps-1].x,gs.y2-Xt[ps-1].y,gs.x-Xt[ps-1].x,gs.y-Xt[ps-1].y],Qt[Qt.length-1].deltas.push(ht);break;case"qct":var Js=Xt[ps-1].x+2/3*(gs.x1-Xt[ps-1].x),br=Xt[ps-1].y+2/3*(gs.y1-Xt[ps-1].y),gr=gs.x+2/3*(gs.x1-gs.x),Yr=gs.y+2/3*(gs.y1-gs.y),et=gs.x,or=gs.y;ht=[Js-Xt[ps-1].x,br-Xt[ps-1].y,gr-Xt[ps-1].x,Yr-Xt[ps-1].y,et-Xt[ps-1].x,or-Xt[ps-1].y],Qt[Qt.length-1].deltas.push(ht);break;case"arc":Qt.push({deltas:[],abs:[],arc:!0}),Array.isArray(Qt[Qt.length-1].abs)&&Qt[Qt.length-1].abs.push(gs)}}It=dt?null:Qe==="stroke"?"stroke":"fill";for(var un=!1,rr=0;rr<Qt.length;rr++)if(Qt[rr].arc)for(var _s=Qt[rr].abs,tn=0;tn<_s.length;tn++){var vr=_s[tn];vr.type==="arc"?zt.call(this,vr.x,vr.y,vr.radius,vr.startAngle,vr.endAngle,vr.counterclockwise,void 0,dt,!un):bt.call(this,vr.x,vr.y),un=!0}else if(Qt[rr].close===!0)this.pdf.internal.out("h"),un=!1;else if(Qt[rr].begin!==!0){var $r=Qt[rr].start.x,Or=Qt[rr].start.y;vt.call(this,Qt[rr].deltas,$r,Or),un=!0}It&&yt.call(this,It),dt&&ss.call(this)}},Ot=function(Qe){var dt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ht=dt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return Qe-ht;case"top":return Qe+dt-ht;case"hanging":return Qe+dt-2*ht;case"middle":return Qe+dt/2-ht;default:return Qe}},ls=function(Qe){return Qe+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};ze.prototype.createLinearGradient=function(){var Qe=function(){};return Qe.colorStops=[],Qe.addColorStop=function(dt,ht){this.colorStops.push([dt,ht])},Qe.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Qe.isCanvasGradient=!0,Qe},ze.prototype.createPattern=function(){return this.createLinearGradient()},ze.prototype.createRadialGradient=function(){return this.createLinearGradient()};var zt=function(Qe,dt,ht,It,Qt,Xt,ps,gs,Ls){for(var Js=us.call(this,ht,It,Qt,Xt),br=0;br<Js.length;br++){var gr=Js[br];br===0&&(Ls?Ye.call(this,gr.x1+Qe,gr.y1+dt):bt.call(this,gr.x1+Qe,gr.y1+dt)),ns.call(this,Qe,dt,gr.x2,gr.y2,gr.x3,gr.y3,gr.x4,gr.y4)}gs?ss.call(this):yt.call(this,ps)},yt=function(Qe){switch(Qe){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ss=function(){this.pdf.clip(),this.pdf.discardPath()},Ye=function(Qe,dt){this.pdf.internal.out(S(Qe)+" "+I(dt)+" m")},st=function(Qe){var dt;switch(Qe.align){case"right":case"end":dt="right";break;case"center":dt="center";break;default:dt="left"}var ht,It,Qt,Xt=this.pdf.getTextDimensions(Qe.text),ps=Ot.call(this,Qe.y),gs=ls.call(this,ps)-Xt.h,Ls=this.ctx.transform.applyToPoint(new ce(Qe.x,ps));if(this.autoPaging){var Js=this.ctx.transform.decompose(),br=new ee;br=(br=(br=br.multiply(Js.translate)).multiply(Js.skew)).multiply(Js.scale);for(var gr=this.ctx.transform.applyToRectangle(new q(Qe.x,ps,Xt.w,Xt.h)),Yr=br.applyToRectangle(new q(Qe.x,gs,Xt.w,Xt.h)),et=ut.call(this,Yr),or=[],un=0;un<et.length;un+=1)or.indexOf(et[un])===-1&&or.push(et[un]);Pt(or);for(var rr=or[0],_s=or[or.length-1],tn=rr;tn<_s+1;tn++){this.pdf.setPage(tn);var vr=tn===1?this.posY+this.margin[0]:this.margin[0],$r=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Or=this.pdf.internal.pageSize.height-this.margin[2],ka=Or-this.margin[0],Sn=this.pdf.internal.pageSize.width-this.margin[1],kr=Sn-this.margin[3],zn=tn===1?0:$r+(tn-2)*ka;if(this.ctx.clip_path.length!==0){var Xr=this.path;ht=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=jt(ht,this.posX+this.margin[3],-1*zn+vr),Ke.call(this,"fill",!0),this.path=Xr}var Br=jt([JSON.parse(JSON.stringify(Yr))],this.posX+this.margin[3],-zn+vr+this.ctx.prevPageLastElemOffset)[0];Qe.scale>=.01&&(It=this.pdf.internal.getFontSize(),this.pdf.setFontSize(It*Qe.scale),Qt=this.lineWidth,this.lineWidth=Qt*Qe.scale);var rn=this.autoPaging!=="text";if(rn||Br.y+Br.h<=Or){if(rn||Br.y>=vr&&Br.x<=Sn){var Ir=rn?Qe.text:this.pdf.splitTextToSize(Qe.text,Qe.maxWidth||Sn-Br.x)[0],vn=jt([JSON.parse(JSON.stringify(gr))],this.posX+this.margin[3],-zn+vr+this.ctx.prevPageLastElemOffset)[0],Wn=rn&&(tn>rr||tn<_s)&&it.call(this);Wn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],kr,ka,null).clip().discardPath()),this.pdf.text(Ir,vn.x,vn.y,{angle:Qe.angle,align:dt,renderingMode:Qe.renderingMode}),Wn&&this.pdf.restoreGraphicsState()}}else Br.y<Or&&(this.ctx.prevPageLastElemOffset+=Or-Br.y);Qe.scale>=.01&&(this.pdf.setFontSize(It),this.lineWidth=Qt)}}else Qe.scale>=.01&&(It=this.pdf.internal.getFontSize(),this.pdf.setFontSize(It*Qe.scale),Qt=this.lineWidth,this.lineWidth=Qt*Qe.scale),this.pdf.text(Qe.text,Ls.x+this.posX,Ls.y+this.posY,{angle:Qe.angle,align:dt,renderingMode:Qe.renderingMode,maxWidth:Qe.maxWidth}),Qe.scale>=.01&&(this.pdf.setFontSize(It),this.lineWidth=Qt)},bt=function(Qe,dt,ht,It){ht=ht||0,It=It||0,this.pdf.internal.out(S(Qe+ht)+" "+I(dt+It)+" l")},vt=function(Qe,dt,ht){return this.pdf.lines(Qe,dt,ht,null,null)},ns=function(Qe,dt,ht,It,Qt,Xt,ps,gs){this.pdf.internal.out([v(P(ht+Qe)),v(V(It+dt)),v(P(Qt+Qe)),v(V(Xt+dt)),v(P(ps+Qe)),v(V(gs+dt)),"c"].join(" "))},us=function(Qe,dt,ht,It){for(var Qt=2*Math.PI,Xt=Math.PI/2;dt>ht;)dt-=Qt;var ps=Math.abs(ht-dt);ps<Qt&&It&&(ps=Qt-ps);for(var gs=[],Ls=It?-1:1,Js=dt;ps>1e-5;){var br=Js+Ls*Math.min(ps,Xt);gs.push(bs.call(this,Qe,Js,br)),ps-=Math.abs(br-Js),Js=br}return gs},bs=function(Qe,dt,ht){var It=(ht-dt)/2,Qt=Qe*Math.cos(It),Xt=Qe*Math.sin(It),ps=Qt,gs=-Xt,Ls=ps*ps+gs*gs,Js=Ls+ps*Qt+gs*Xt,br=4/3*(Math.sqrt(2*Ls*Js)-Js)/(ps*Xt-gs*Qt),gr=ps-br*gs,Yr=gs+br*ps,et=gr,or=-Yr,un=It+dt,rr=Math.cos(un),_s=Math.sin(un);return{x1:Qe*Math.cos(dt),y1:Qe*Math.sin(dt),x2:gr*rr-Yr*_s,y2:gr*_s+Yr*rr,x3:et*rr-or*_s,y3:et*_s+or*rr,x4:Qe*Math.cos(ht),y4:Qe*Math.sin(ht)}},Gt=function(Qe){return 180*Qe/Math.PI},ms=function(Qe,dt,ht,It,Qt,Xt){var ps=Qe+.5*(ht-Qe),gs=dt+.5*(It-dt),Ls=Qt+.5*(ht-Qt),Js=Xt+.5*(It-Xt),br=Math.min(Qe,Qt,ps,Ls),gr=Math.max(Qe,Qt,ps,Ls),Yr=Math.min(dt,Xt,gs,Js),et=Math.max(dt,Xt,gs,Js);return new q(br,Yr,gr-br,et-Yr)},Xs=function(Qe,dt,ht,It,Qt,Xt,ps,gs){var Ls,Js,br,gr,Yr,et,or,un,rr,_s,tn,vr,$r,Or,ka=ht-Qe,Sn=It-dt,kr=Qt-ht,zn=Xt-It,Xr=ps-Qt,Br=gs-Xt;for(Js=0;Js<41;Js++)rr=(or=(br=Qe+(Ls=Js/40)*ka)+Ls*((Yr=ht+Ls*kr)-br))+Ls*(Yr+Ls*(Qt+Ls*Xr-Yr)-or),_s=(un=(gr=dt+Ls*Sn)+Ls*((et=It+Ls*zn)-gr))+Ls*(et+Ls*(Xt+Ls*Br-et)-un),Js==0?(tn=rr,vr=_s,$r=rr,Or=_s):(tn=Math.min(tn,rr),vr=Math.min(vr,_s),$r=Math.max($r,rr),Or=Math.max(Or,_s));return new q(Math.round(tn),Math.round(vr),Math.round($r-tn),Math.round(Or-vr))},Qs=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var Qe,dt,ht=(Qe=this.ctx.lineDash,dt=this.ctx.lineDashOffset,JSON.stringify({lineDash:Qe,lineDashOffset:dt}));this.prevLineDash!==ht&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ht)}}})(Ge.API),(function(N){var v=function(ce){var q,ee,Ce,Me,ze,Xe,xe,ct,it,ut;for(ee=[],Ce=0,Me=(ce+=q="\0\0\0\0".slice(ce.length%4||4)).length;Me>Ce;Ce+=4)(ze=(ce.charCodeAt(Ce)<<24)+(ce.charCodeAt(Ce+1)<<16)+(ce.charCodeAt(Ce+2)<<8)+ce.charCodeAt(Ce+3))!==0?(Xe=(ze=((ze=((ze=((ze=(ze-(ut=ze%85))/85)-(it=ze%85))/85)-(ct=ze%85))/85)-(xe=ze%85))/85)%85,ee.push(Xe+33,xe+33,ct+33,it+33,ut+33)):ee.push(122);return(function(We,jt){for(var Pt=jt;Pt>0;Pt--)We.pop()})(ee,q.length),String.fromCharCode.apply(String,ee)+"~>"},S=function(ce){var q,ee,Ce,Me,ze,Xe=String,xe="length",ct=255,it="charCodeAt",ut="slice",We="replace";for(ce[ut](-2),ce=ce[ut](0,-2)[We](/\s/g,"")[We]("z","!!!!!"),Ce=[],Me=0,ze=(ce+=q="uuuuu"[ut](ce[xe]%5||5))[xe];ze>Me;Me+=5)ee=52200625*(ce[it](Me)-33)+614125*(ce[it](Me+1)-33)+7225*(ce[it](Me+2)-33)+85*(ce[it](Me+3)-33)+(ce[it](Me+4)-33),Ce.push(ct&ee>>24,ct&ee>>16,ct&ee>>8,ct&ee);return(function(jt,Pt){for(var gt=Pt;gt>0;gt--)jt.pop()})(Ce,q[xe]),Xe.fromCharCode.apply(Xe,Ce)},I=function(ce){return ce.split("").map(function(q){return("0"+q.charCodeAt().toString(16)).slice(-2)}).join("")+">"},P=function(ce){var q=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((ce=ce.replace(/\s/g,"")).indexOf(">")!==-1&&(ce=ce.substr(0,ce.indexOf(">"))),ce.length%2&&(ce+="0"),q.test(ce)===!1)return"";for(var ee="",Ce=0;Ce<ce.length;Ce+=2)ee+=String.fromCharCode("0x"+(ce[Ce]+ce[Ce+1]));return ee},V=function(ce){for(var q=new Uint8Array(ce.length),ee=ce.length;ee--;)q[ee]=ce.charCodeAt(ee);return(q=(0,m.zlibSync)(q)).reduce(function(Ce,Me){return Ce+String.fromCharCode(Me)},"")};N.processDataByFilters=function(ce,q){var ee=0,Ce=ce||"",Me=[];for(typeof(q=q||[])=="string"&&(q=[q]),ee=0;ee<q.length;ee+=1)switch(q[ee]){case"ASCII85Decode":case"/ASCII85Decode":Ce=S(Ce),Me.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Ce=v(Ce),Me.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Ce=P(Ce),Me.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Ce=I(Ce),Me.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Ce=V(Ce),Me.push("/FlateDecode");break;default:throw new Error('The filter: "'+q[ee]+'" is not implemented')}return{data:Ce,reverseChain:Me.reverse().join(" ")}}})(Ge.API),(function(N){N.loadFile=function(v,S,I){return(function(P,V,ce){V=V!==!1,ce=typeof ce=="function"?ce:function(){};var q=void 0;try{q=(function(ee,Ce,Me){var ze=new XMLHttpRequest,Xe=0,xe=function(ct){var it=ct.length,ut=[],We=String.fromCharCode;for(Xe=0;Xe<it;Xe+=1)ut.push(We(255&ct.charCodeAt(Xe)));return ut.join("")};if(ze.open("GET",ee,!Ce),ze.overrideMimeType("text/plain; charset=x-user-defined"),Ce===!1&&(ze.onload=function(){ze.status===200?Me(xe(this.responseText)):Me(void 0)}),ze.send(null),Ce&&ze.status===200)return xe(ze.responseText)})(P,V,ce)}catch{}return q})(v,S,I)},N.allowFsRead=void 0,N.loadImageFile=N.loadFile})(Ge.API),(function(N){function v(){return(b.html2canvas?Promise.resolve(b.html2canvas):Promise.resolve().then(o.t.bind(o,"html2canvas",23))).catch(function(q){return Promise.reject(new Error("Could not load html2canvas: "+q))}).then(function(q){return q.default?q.default:q})}function S(){return(b.DOMPurify?Promise.resolve(b.DOMPurify):Promise.resolve().then(o.bind(o,"./node_modules/dompurify/dist/purify.es.mjs"))).catch(function(q){return Promise.reject(new Error("Could not load dompurify: "+q))}).then(function(q){return q.default?q.default:q})}var I=function(q){var ee=(0,f.default)(q);return ee==="undefined"?"undefined":ee==="string"||q instanceof String?"string":ee==="number"||q instanceof Number?"number":ee==="function"||q instanceof Function?"function":q&&q.constructor===Array?"array":q&&q.nodeType===1?"element":ee==="object"?"object":"unknown"},P=function(q,ee){var Ce=document.createElement(q);for(var Me in ee.className&&(Ce.className=ee.className),ee.innerHTML&&ee.dompurify&&(Ce.innerHTML=ee.dompurify.sanitize(ee.innerHTML)),ee.style)Ce.style[Me]=ee.style[Me];return Ce},V=function q(ee,Ce){for(var Me=ee.nodeType===3?document.createTextNode(ee.nodeValue):ee.cloneNode(!1),ze=ee.firstChild;ze;ze=ze.nextSibling)Ce!==!0&&ze.nodeType===1&&ze.nodeName==="SCRIPT"||Me.appendChild(q(ze,Ce));return ee.nodeType===1&&(ee.nodeName==="CANVAS"?(Me.width=ee.width,Me.height=ee.height,Me.getContext("2d").drawImage(ee,0,0)):ee.nodeName!=="TEXTAREA"&&ee.nodeName!=="SELECT"||(Me.value=ee.value),Me.addEventListener("load",function(){Me.scrollTop=ee.scrollTop,Me.scrollLeft=ee.scrollLeft},!0)),Me},ce=function q(ee){var Ce=Object.assign(q.convert(Promise.resolve()),JSON.parse(JSON.stringify(q.template))),Me=q.convert(Promise.resolve(),Ce);return(Me=Me.setProgress(1,q,1,[q])).set(ee)};(ce.prototype=Object.create(Promise.prototype)).constructor=ce,ce.convert=function(q,ee){return q.__proto__=ee||ce.prototype,q},ce.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},ce.prototype.from=function(q,ee){return this.then(function(){switch(ee=ee||(function(Ce){switch(I(Ce)){case"string":return"string";case"element":return Ce.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(q),ee){case"string":return this.then(S).then(function(Ce){return this.set({src:P("div",{innerHTML:q,dompurify:Ce})})});case"element":return this.set({src:q});case"canvas":return this.set({canvas:q});case"img":return this.set({img:q});default:return this.error("Unknown source type.")}})},ce.prototype.to=function(q){switch(q){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},ce.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var q={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},ee=V(this.prop.src,this.opt.html2canvas.javascriptEnabled);ee.tagName==="BODY"&&(q.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=P("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=P("div",{className:"html2pdf__container",style:q}),this.prop.container.appendChild(ee),this.prop.container.firstChild.appendChild(P("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},ce.prototype.toCanvas=function(){var q=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(q).then(v).then(function(ee){var Ce=Object.assign({},this.opt.html2canvas);return delete Ce.onrendered,ee(this.prop.container,Ce)}).then(function(ee){(this.opt.html2canvas.onrendered||function(){})(ee),this.prop.canvas=ee,document.body.removeChild(this.prop.overlay)})},ce.prototype.toContext2d=function(){var q=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(q).then(v).then(function(ee){var Ce=this.opt.jsPDF,Me=this.opt.fontFaces,ze=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,Xe=Object.assign({async:!0,allowTaint:!0,scale:ze,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete Xe.onrendered,Ce.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Ce.context2d.posX=this.opt.x,Ce.context2d.posY=this.opt.y,Ce.context2d.margin=this.opt.margin,Ce.context2d.fontFaces=Me,Me)for(var xe=0;xe<Me.length;++xe){var ct=Me[xe],it=ct.src.find(function(ut){return ut.format==="truetype"});it&&Ce.addFont(it.url,ct.ref.name,ct.ref.style)}return Xe.windowHeight=Xe.windowHeight||0,Xe.windowHeight=Xe.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):Xe.windowHeight,Ce.context2d.save(!0),ee(this.prop.container,Xe)}).then(function(ee){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(ee),this.prop.canvas=ee,document.body.removeChild(this.prop.overlay)})},ce.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var q=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=q})},ce.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},ce.prototype.output=function(q,ee,Ce){return(Ce=Ce||"pdf").toLowerCase()==="img"||Ce.toLowerCase()==="image"?this.outputImg(q,ee):this.outputPdf(q,ee)},ce.prototype.outputPdf=function(q,ee){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(q,ee)})},ce.prototype.outputImg=function(q){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(q){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+q+'" is not supported.'}})},ce.prototype.save=function(q){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(q?{filename:q}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},ce.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},ce.prototype.set=function(q){if(I(q)!=="object")return this;var ee=Object.keys(q||{}).map(function(Ce){if(Ce in ce.template.prop)return function(){this.prop[Ce]=q[Ce]};switch(Ce){case"margin":return this.setMargin.bind(this,q.margin);case"jsPDF":return function(){return this.opt.jsPDF=q.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,q.pageSize);default:return function(){this.opt[Ce]=q[Ce]}}},this);return this.then(function(){return this.thenList(ee)})},ce.prototype.get=function(q,ee){return this.then(function(){var Ce=q in ce.template.prop?this.prop[q]:this.opt[q];return ee?ee(Ce):Ce})},ce.prototype.setMargin=function(q){return this.then(function(){switch(I(q)){case"number":q=[q,q,q,q];case"array":if(q.length===2&&(q=[q[0],q[1],q[0],q[1]]),q.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=q}).then(this.setPageSize)},ce.prototype.setPageSize=function(q){function ee(Ce,Me){return Math.floor(Ce*Me/72*96)}return this.then(function(){(q=q||Ge.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(q.inner={width:q.width-this.opt.margin[1]-this.opt.margin[3],height:q.height-this.opt.margin[0]-this.opt.margin[2]},q.inner.px={width:ee(q.inner.width,q.k),height:ee(q.inner.height,q.k)},q.inner.ratio=q.inner.height/q.inner.width),this.prop.pageSize=q})},ce.prototype.setProgress=function(q,ee,Ce,Me){return q!=null&&(this.progress.val=q),ee!=null&&(this.progress.state=ee),Ce!=null&&(this.progress.n=Ce),Me!=null&&(this.progress.stack=Me),this.progress.ratio=this.progress.val/this.progress.state,this},ce.prototype.updateProgress=function(q,ee,Ce,Me){return this.setProgress(q?this.progress.val+q:null,ee||null,Ce?this.progress.n+Ce:null,Me?this.progress.stack.concat(Me):null)},ce.prototype.then=function(q,ee){var Ce=this;return this.thenCore(q,ee,function(Me,ze){return Ce.updateProgress(null,null,1,[Me]),Promise.prototype.then.call(this,function(Xe){return Ce.updateProgress(null,Me),Xe}).then(Me,ze).then(function(Xe){return Ce.updateProgress(1),Xe})})},ce.prototype.thenCore=function(q,ee,Ce){Ce=Ce||Promise.prototype.then;var Me=this;q&&(q=q.bind(Me)),ee&&(ee=ee.bind(Me));var ze=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Me:ce.convert(Object.assign({},Me),Promise.prototype),Xe=Ce.call(ze,q,ee);return ce.convert(Xe,Me.__proto__)},ce.prototype.thenExternal=function(q,ee){return Promise.prototype.then.call(this,q,ee)},ce.prototype.thenList=function(q){var ee=this;return q.forEach(function(Ce){ee=ee.thenCore(Ce)}),ee},ce.prototype.catch=function(q){q&&(q=q.bind(this));var ee=Promise.prototype.catch.call(this,q);return ce.convert(ee,this)},ce.prototype.catchExternal=function(q){return Promise.prototype.catch.call(this,q)},ce.prototype.error=function(q){return this.then(function(){throw new Error(q)})},ce.prototype.using=ce.prototype.set,ce.prototype.saveAs=ce.prototype.save,ce.prototype.export=ce.prototype.output,ce.prototype.run=ce.prototype.then,Ge.getPageSize=function(q,ee,Ce){if((0,f.default)(q)==="object"){var Me=q;q=Me.orientation,ee=Me.unit||ee,Ce=Me.format||Ce}ee=ee||"mm",Ce=Ce||"a4",q=(""+(q||"P")).toLowerCase();var ze,Xe=(""+Ce).toLowerCase(),xe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(ee){case"pt":ze=1;break;case"mm":ze=2.834645669291339;break;case"cm":ze=28.346456692913385;break;case"in":ze=72;break;case"px":ze=.75;break;case"pc":case"em":ze=12;break;case"ex":ze=6;break;default:throw"Invalid unit: "+ee}var ct,it=0,ut=0;if(xe.hasOwnProperty(Xe))it=xe[Xe][1]/ze,ut=xe[Xe][0]/ze;else try{it=Ce[1],ut=Ce[0]}catch{throw new Error("Invalid format: "+Ce)}if(q==="p"||q==="portrait")q="p",ut>it&&(ct=ut,ut=it,it=ct);else{if(q!=="l"&&q!=="landscape")throw"Invalid orientation: "+q;q="l",it>ut&&(ct=ut,ut=it,it=ct)}return{width:ut,height:it,unit:ee,k:ze,orientation:q}},N.html=function(q,ee){(ee=ee||{}).callback=ee.callback||function(){},ee.html2canvas=ee.html2canvas||{},ee.html2canvas.canvas=ee.html2canvas.canvas||this.canvas,ee.jsPDF=ee.jsPDF||this,ee.fontFaces=ee.fontFaces?ee.fontFaces.map(fa):null;var Ce=new ce(ee);return ee.worker?Ce:Ce.from(q).doCallback()}})(Ge.API),Ge.API.addJS=function(N){return Ni=N,this.internal.events.subscribe("postPutResources",function(){ho=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ho+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),ma=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ni+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ho!==void 0&&ma!==void 0&&this.internal.out("/Names <</JavaScript "+ho+" 0 R>>")}),this},(function(N){var v;N.events.push(["postPutResources",function(){var S=this,I=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var P=S.outline.render().split(/\r\n/),V=0;V<P.length;V++){var ce=P[V],q=I.exec(ce);if(q!=null){var ee=q[1];S.internal.newObjectDeferredBegin(ee,!1)}S.internal.write(ce)}if(this.outline.createNamedDestinations){var Ce=this.internal.pages.length,Me=[];for(V=0;V<Ce;V++){var ze=S.internal.newObject();Me.push(ze);var Xe=S.internal.getPageInfo(V+1);S.internal.write("<< /D["+Xe.objId+" 0 R /XYZ null null null]>> endobj")}var xe=S.internal.newObject();for(S.internal.write("<< /Names [ "),V=0;V<Me.length;V++)S.internal.write("(page_"+(V+1)+")"+Me[V]+" 0 R");S.internal.write(" ] >>","endobj"),v=S.internal.newObject(),S.internal.write("<< /Dests "+xe+" 0 R"),S.internal.write(">>","endobj")}}]),N.events.push(["putCatalog",function(){var S=this;S.outline.root.children.length>0&&(S.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&S.internal.write("/Names "+v+" 0 R"))}]),N.events.push(["initialized",function(){var S=this;S.outline={createNamedDestinations:!1,root:{children:[]}},S.outline.add=function(I,P,V){var ce={title:P,options:V,children:[]};return I==null&&(I=this.root),I.children.push(ce),ce},S.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=S,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},S.outline.genIds_r=function(I){I.id=S.internal.newObjectDeferred();for(var P=0;P<I.children.length;P++)this.genIds_r(I.children[P])},S.outline.renderRoot=function(I){this.objStart(I),this.line("/Type /Outlines"),I.children.length>0&&(this.line("/First "+this.makeRef(I.children[0])),this.line("/Last "+this.makeRef(I.children[I.children.length-1]))),this.line("/Count "+this.count_r({count:0},I)),this.objEnd()},S.outline.renderItems=function(I){for(var P=this.ctx.pdf.internal.getVerticalCoordinateString,V=0;V<I.children.length;V++){var ce=I.children[V];this.objStart(ce),this.line("/Title "+this.makeString(ce.title)),this.line("/Parent "+this.makeRef(I)),V>0&&this.line("/Prev "+this.makeRef(I.children[V-1])),V<I.children.length-1&&this.line("/Next "+this.makeRef(I.children[V+1])),ce.children.length>0&&(this.line("/First "+this.makeRef(ce.children[0])),this.line("/Last "+this.makeRef(ce.children[ce.children.length-1])));var q=this.count=this.count_r({count:0},ce);if(q>0&&this.line("/Count "+q),ce.options&&ce.options.pageNumber){var ee=S.internal.getPageInfo(ce.options.pageNumber);this.line("/Dest ["+ee.objId+" 0 R /XYZ 0 "+P(0)+" 0]")}this.objEnd()}for(var Ce=0;Ce<I.children.length;Ce++)this.renderItems(I.children[Ce])},S.outline.line=function(I){this.ctx.val+=I+`\r
`},S.outline.makeRef=function(I){return I.id+" 0 R"},S.outline.makeString=function(I){return"("+S.internal.pdfEscape(I)+")"},S.outline.objStart=function(I){this.ctx.val+=`\r
`+I.id+` 0 obj\r
<<\r
`},S.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},S.outline.count_r=function(I,P){for(var V=0;V<P.children.length;V++)I.count++,this.count_r(I,P.children[V]);return I.count}}])})(Ge.API),(function(N){var v=[192,193,194,195,196,197,198,199];N.processJPEG=function(S,I,P,V,ce,q){var ee,Ce=this.decode.DCT_DECODE,Me=null;if(typeof S=="string"||this.__addimage__.isArrayBuffer(S)||this.__addimage__.isArrayBufferView(S)){switch(S=ce||S,S=this.__addimage__.isArrayBuffer(S)?new Uint8Array(S):S,ee=(function(ze){for(var Xe,xe=256*ze.charCodeAt(4)+ze.charCodeAt(5),ct=ze.length,it={width:0,height:0,numcomponents:1},ut=4;ut<ct;ut+=2){if(ut+=xe,v.indexOf(ze.charCodeAt(ut+1))!==-1){Xe=256*ze.charCodeAt(ut+5)+ze.charCodeAt(ut+6),it={width:256*ze.charCodeAt(ut+7)+ze.charCodeAt(ut+8),height:Xe,numcomponents:ze.charCodeAt(ut+9)};break}xe=256*ze.charCodeAt(ut+2)+ze.charCodeAt(ut+3)}return it})(S=this.__addimage__.isArrayBufferView(S)?this.__addimage__.arrayBufferToBinaryString(S):S),ee.numcomponents){case 1:q=this.color_spaces.DEVICE_GRAY;break;case 4:q=this.color_spaces.DEVICE_CMYK;break;case 3:q=this.color_spaces.DEVICE_RGB}Me={data:S,width:ee.width,height:ee.height,colorSpace:q,bitsPerComponent:8,filter:Ce,index:I,alias:P}}return Me}})(Ge.API),Ge.API.processPNG=function(N,v,S,I){if(this.__addimage__.isArrayBuffer(N)&&(N=new Uint8Array(N)),this.__addimage__.isArrayBufferView(N)){var P,V=(0,x.decode)(N,{checkCrc:!0}),ce=V.width,q=V.height,ee=V.channels,Ce=V.palette,Me=V.depth;P=Ce&&ee===1?(function(zt){for(var yt=zt.width,ss=zt.height,Ye=zt.data,st=zt.palette,bt=zt.depth,vt=!1,ns=[],us=[],bs=void 0,Gt=!1,ms=0,Xs=0;Xs<st.length;Xs++){var Qs=(0,p.default)(st[Xs],4),Qe=Qs[0],dt=Qs[1],ht=Qs[2],It=Qs[3];ns.push(Qe,dt,ht),It!=null&&(It===0?(ms++,us.length<1&&us.push(Xs)):It<255&&(Gt=!0))}if(Gt||ms>1){vt=!0,us=void 0;var Qt=yt*ss;bs=new Uint8Array(Qt);for(var Xt=new DataView(Ye.buffer),ps=0;ps<Qt;ps++){var gs=hi(Xt,ps,bt),Ls=(0,p.default)(st[gs],4)[3];bs[ps]=Ls}}else ms===0&&(us=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:vt?8:void 0,colorBytes:Ye,alphaBytes:bs,needSMask:vt,palette:ns,mask:us}})(V):ee===2||ee===4?(function(zt){for(var yt=zt.data,ss=zt.width,Ye=zt.height,st=zt.channels,bt=zt.depth,vt=st===2?"DeviceGray":"DeviceRGB",ns=st-1,us=ss*Ye,bs=ns,Gt=us*bs,ms=1*us,Xs=Math.ceil(Gt*bt/8),Qs=Math.ceil(ms*bt/8),Qe=new Uint8Array(Xs),dt=new Uint8Array(Qs),ht=new DataView(yt.buffer),It=new DataView(Qe.buffer),Qt=new DataView(dt.buffer),Xt=!1,ps=0;ps<us;ps++){for(var gs=ps*st,Ls=0;Ls<bs;Ls++)Wr(It,hi(ht,gs+Ls,bt),ps*bs+Ls,bt);var Js=hi(ht,gs+bs,bt);Js<(1<<bt)-1&&(Xt=!0),Wr(Qt,Js,1*ps,bt)}return{colorSpace:vt,colorsPerPixel:ns,sMaskBitsPerComponent:Xt?bt:void 0,colorBytes:Qe,alphaBytes:dt,needSMask:Xt}})(V):(function(zt){var yt=zt.data,ss=zt.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ss,colorsPerPixel:ss==="DeviceGray"?1:3,colorBytes:yt instanceof Uint16Array?(function(Ye){for(var st=Ye.length,bt=new Uint8Array(2*st),vt=new DataView(bt.buffer,bt.byteOffset,bt.byteLength),ns=0;ns<st;ns++)vt.setUint16(2*ns,Ye[ns],!1);return bt})(yt):yt,needSMask:!1}})(V);var ze,Xe,xe,ct=P,it=ct.colorSpace,ut=ct.colorsPerPixel,We=ct.sMaskBitsPerComponent,jt=ct.colorBytes,Pt=ct.alphaBytes,gt=ct.needSMask,Ke=ct.palette,Ot=ct.mask,ls=null;return I!==Ge.API.image_compression.NONE&&typeof m.zlibSync=="function"?(ls=(function(zt){var yt;switch(zt){case Ge.API.image_compression.FAST:yt=11;break;case Ge.API.image_compression.MEDIUM:yt=13;break;case Ge.API.image_compression.SLOW:yt=14;break;default:yt=12}return yt})(I),ze=this.decode.FLATE_DECODE,Xe="/Predictor ".concat(ls," /Colors ").concat(ut," /BitsPerComponent ").concat(Me," /Columns ").concat(ce),N=Al(jt,Math.ceil(ce*ut*Me/8),ut,Me,I),gt&&(xe=Al(Pt,Math.ceil(ce*We/8),1,We,I))):(ze=void 0,Xe=void 0,N=jt,gt&&(xe=Pt)),(this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),(xe&&this.__addimage__.isArrayBuffer(xe)||this.__addimage__.isArrayBufferView(xe))&&(xe=this.__addimage__.arrayBufferToBinaryString(xe)),{alias:S,data:N,index:v,filter:ze,decodeParameters:Xe,transparency:Ot,palette:Ke,sMask:xe,predictor:ls,width:ce,height:q,bitsPerComponent:Me,sMaskBitsPerComponent:We,colorSpace:it}}},(function(N){N.processGIF89A=function(v,S,I,P){var V=new ki(v),ce=V.width,q=V.height,ee=[];V.decodeAndBlitFrameRGBA(0,ee);var Ce={data:ee,width:ce,height:q},Me=new po(100).encode(Ce,100);return N.processJPEG.call(this,Me,S,I,P)},N.processGIF87A=N.processGIF89A})(Ge.API),Gn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var N=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(N);for(var v=0;v<N;v++){var S=this.datav.getUint8(this.pos++,!0),I=this.datav.getUint8(this.pos++,!0),P=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0);this.palette[v]={red:P,green:I,blue:S,quad:V}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Gn.prototype.parseBGR=function(){this.pos=this.offset;try{var N="bit"+this.bitPP,v=this.width*this.height*4;this.data=new Uint8Array(v),this[N]()}catch(S){w.log("bit decode error:"+S)}},Gn.prototype.bit1=function(){var N,v=Math.ceil(this.width/8),S=v%4;for(N=this.height-1;N>=0;N--){for(var I=this.bottom_up?N:this.height-1-N,P=0;P<v;P++)for(var V=this.datav.getUint8(this.pos++,!0),ce=I*this.width*4+8*P*4,q=0;q<8&&8*P+q<this.width;q++){var ee=this.palette[V>>7-q&1];this.data[ce+4*q]=ee.blue,this.data[ce+4*q+1]=ee.green,this.data[ce+4*q+2]=ee.red,this.data[ce+4*q+3]=255}S!==0&&(this.pos+=4-S)}},Gn.prototype.bit4=function(){for(var N=Math.ceil(this.width/2),v=N%4,S=this.height-1;S>=0;S--){for(var I=this.bottom_up?S:this.height-1-S,P=0;P<N;P++){var V=this.datav.getUint8(this.pos++,!0),ce=I*this.width*4+2*P*4,q=V>>4,ee=15&V,Ce=this.palette[q];if(this.data[ce]=Ce.blue,this.data[ce+1]=Ce.green,this.data[ce+2]=Ce.red,this.data[ce+3]=255,2*P+1>=this.width)break;Ce=this.palette[ee],this.data[ce+4]=Ce.blue,this.data[ce+4+1]=Ce.green,this.data[ce+4+2]=Ce.red,this.data[ce+4+3]=255}v!==0&&(this.pos+=4-v)}},Gn.prototype.bit8=function(){for(var N=this.width%4,v=this.height-1;v>=0;v--){for(var S=this.bottom_up?v:this.height-1-v,I=0;I<this.width;I++){var P=this.datav.getUint8(this.pos++,!0),V=S*this.width*4+4*I;if(P<this.palette.length){var ce=this.palette[P];this.data[V]=ce.red,this.data[V+1]=ce.green,this.data[V+2]=ce.blue,this.data[V+3]=255}else this.data[V]=255,this.data[V+1]=255,this.data[V+2]=255,this.data[V+3]=255}N!==0&&(this.pos+=4-N)}},Gn.prototype.bit15=function(){for(var N=this.width%3,v=parseInt("11111",2),S=this.height-1;S>=0;S--){for(var I=this.bottom_up?S:this.height-1-S,P=0;P<this.width;P++){var V=this.datav.getUint16(this.pos,!0);this.pos+=2;var ce=(V&v)/v*255|0,q=(V>>5&v)/v*255|0,ee=(V>>10&v)/v*255|0,Ce=V>>15?255:0,Me=I*this.width*4+4*P;this.data[Me]=ee,this.data[Me+1]=q,this.data[Me+2]=ce,this.data[Me+3]=Ce}this.pos+=N}},Gn.prototype.bit16=function(){for(var N=this.width%3,v=parseInt("11111",2),S=parseInt("111111",2),I=this.height-1;I>=0;I--){for(var P=this.bottom_up?I:this.height-1-I,V=0;V<this.width;V++){var ce=this.datav.getUint16(this.pos,!0);this.pos+=2;var q=(ce&v)/v*255|0,ee=(ce>>5&S)/S*255|0,Ce=(ce>>11)/v*255|0,Me=P*this.width*4+4*V;this.data[Me]=Ce,this.data[Me+1]=ee,this.data[Me+2]=q,this.data[Me+3]=255}this.pos+=N}},Gn.prototype.bit24=function(){for(var N=this.height-1;N>=0;N--){for(var v=this.bottom_up?N:this.height-1-N,S=0;S<this.width;S++){var I=this.datav.getUint8(this.pos++,!0),P=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0),ce=v*this.width*4+4*S;this.data[ce]=V,this.data[ce+1]=P,this.data[ce+2]=I,this.data[ce+3]=255}this.pos+=this.width%4}},Gn.prototype.bit32=function(){for(var N=this.height-1;N>=0;N--)for(var v=this.bottom_up?N:this.height-1-N,S=0;S<this.width;S++){var I=this.datav.getUint8(this.pos++,!0),P=this.datav.getUint8(this.pos++,!0),V=this.datav.getUint8(this.pos++,!0),ce=this.datav.getUint8(this.pos++,!0),q=v*this.width*4+4*S;this.data[q]=V,this.data[q+1]=P,this.data[q+2]=I,this.data[q+3]=ce}},Gn.prototype.getData=function(){return this.data},(function(N){N.processBMP=function(v,S,I,P){var V=new Gn(v,!1),ce=V.width,q=V.height,ee={data:V.getData(),width:ce,height:q},Ce=new po(100).encode(ee,100);return N.processJPEG.call(this,Ce,S,I,P)}})(Ge.API),Ki.prototype.getData=function(){return this.data},(function(N){N.processWEBP=function(v,S,I,P){var V=new Ki(v),ce=V.width,q=V.height,ee={data:V.getData(),width:ce,height:q},Ce=new po(100).encode(ee,100);return N.processJPEG.call(this,Ce,S,I,P)}})(Ge.API),Ge.API.processRGBA=function(N,v,S){for(var I=N.data,P=I.length,V=new Uint8Array(P/4*3),ce=new Uint8Array(P/4),q=0,ee=0,Ce=0;Ce<P;Ce+=4){var Me=I[Ce],ze=I[Ce+1],Xe=I[Ce+2],xe=I[Ce+3];V[q++]=Me,V[q++]=ze,V[q++]=Xe,ce[ee++]=xe}var ct=this.__addimage__.arrayBufferToBinaryString(V);return{alpha:this.__addimage__.arrayBufferToBinaryString(ce),data:ct,index:v,alias:S,colorSpace:"DeviceRGB",bitsPerComponent:8,width:N.width,height:N.height}},Ge.API.setLanguage=function(N){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[N]!==void 0&&(this.internal.languageSettings.languageCode=N,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},sa=Ge.API,Ua=sa.getCharWidthsArray=function(N,v){var S,I,P=(v=v||{}).font||this.internal.getFont(),V=v.fontSize||this.internal.getFontSize(),ce=v.charSpace||this.internal.getCharSpace(),q=v.widths?v.widths:P.metadata.Unicode.widths,ee=q.fof?q.fof:1,Ce=v.kerning?v.kerning:P.metadata.Unicode.kerning,Me=Ce.fof?Ce.fof:1,ze=v.doKerning!==!1,Xe=0,xe=N.length,ct=0,it=q[0]||ee,ut=[];for(S=0;S<xe;S++)I=N.charCodeAt(S),typeof P.metadata.widthOfString=="function"?ut.push((P.metadata.widthOfGlyph(P.metadata.characterToGlyph(I))+ce*(1e3/V)||0)/1e3):(Xe=ze&&(0,f.default)(Ce[I])==="object"&&!isNaN(parseInt(Ce[I][ct],10))?Ce[I][ct]/Me:0,ut.push((q[I]||it)/ee+Xe)),ct=I;return ut},qn=sa.getStringUnitWidth=function(N,v){var S=(v=v||{}).fontSize||this.internal.getFontSize(),I=v.font||this.internal.getFont(),P=v.charSpace||this.internal.getCharSpace();return sa.processArabic&&(N=sa.processArabic(N)),typeof I.metadata.widthOfString=="function"?I.metadata.widthOfString(N,S,P)/S:Ua.apply(this,arguments).reduce(function(V,ce){return V+ce},0)},fo=function(N,v,S,I){for(var P=[],V=0,ce=N.length,q=0;V!==ce&&q+v[V]<S;)q+=v[V],V++;P.push(N.slice(0,V));var ee=V;for(q=0;V!==ce;)q+v[V]>I&&(P.push(N.slice(ee,V)),q=0,ee=V),q+=v[V],V++;return ee!==V&&P.push(N.slice(ee,V)),P},Ai=function(N,v,S){S||(S={});var I,P,V,ce,q,ee,Ce,Me=[],ze=[Me],Xe=S.textIndent||0,xe=0,ct=0,it=N.split(" "),ut=Ua.apply(this,[" ",S])[0];if(ee=S.lineIndent===-1?it[0].length+2:S.lineIndent||0){var We=Array(ee).join(" "),jt=[];it.map(function(gt){(gt=gt.split(/\s*\n/)).length>1?jt=jt.concat(gt.map(function(Ke,Ot){return(Ot&&Ke.length?`
`:"")+Ke})):jt.push(gt[0])}),it=jt,ee=qn.apply(this,[We,S])}for(V=0,ce=it.length;V<ce;V++){var Pt=0;if(I=it[V],ee&&I[0]==`
`&&(I=I.substr(1),Pt=1),Xe+xe+(ct=(P=Ua.apply(this,[I,S])).reduce(function(gt,Ke){return gt+Ke},0))>v||Pt){if(ct>v){for(q=fo.apply(this,[I,P,v-(Xe+xe),v]),Me.push(q.shift()),Me=[q.pop()];q.length;)ze.push([q.shift()]);ct=P.slice(I.length-(Me[0]?Me[0].length:0)).reduce(function(gt,Ke){return gt+Ke},0)}else Me=[I];ze.push(Me),Xe=ct+ee,xe=ut}else Me.push(I),Xe+=xe+ct,xe=ut}return Ce=ee?function(gt,Ke){return(Ke?We:"")+gt.join(" ")}:function(gt){return gt.join(" ")},ze.map(Ce)},sa.splitTextToSize=function(N,v,S){var I,P=(S=S||{}).fontSize||this.internal.getFontSize(),V=(function(Me){if(Me.widths&&Me.kerning)return{widths:Me.widths,kerning:Me.kerning};var ze=this.internal.getFont(Me.fontName,Me.fontStyle),Xe="Unicode";return ze.metadata[Xe]?{widths:ze.metadata[Xe].widths||{0:1},kerning:ze.metadata[Xe].kerning||{}}:{font:ze.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,S);I=Array.isArray(N)?N:String(N).split(/\r?\n/);var ce=1*this.internal.scaleFactor*v/P;V.textIndent=S.textIndent?1*S.textIndent*this.internal.scaleFactor/P:0,V.lineIndent=S.lineIndent;var q,ee,Ce=[];for(q=0,ee=I.length;q<ee;q++)Ce=Ce.concat(Ai.apply(this,[I[q],ce,V]));return Ce},(function(N){N.__fontmetrics__=N.__fontmetrics__||{};for(var v="0123456789abcdef",S="klmnopqrstuvwxyz",I={},P={},V=0;V<16;V++)I[S[V]]=v[V],P[v[V]]=S[V];var ce=function(Xe){return"0x"+parseInt(Xe,10).toString(16)},q=N.__fontmetrics__.compress=function(Xe){var xe,ct,it,ut,We=["{"];for(var jt in Xe){if(xe=Xe[jt],isNaN(parseInt(jt,10))?ct="'"+jt+"'":(jt=parseInt(jt,10),ct=(ct=ce(jt).slice(2)).slice(0,-1)+P[ct.slice(-1)]),typeof xe=="number")xe<0?(it=ce(xe).slice(3),ut="-"):(it=ce(xe).slice(2),ut=""),it=ut+it.slice(0,-1)+P[it.slice(-1)];else{if((0,f.default)(xe)!=="object")throw new Error("Don't know what to do with value type "+(0,f.default)(xe)+".");it=q(xe)}We.push(ct+it)}return We.push("}"),We.join("")},ee=N.__fontmetrics__.uncompress=function(Xe){if(typeof Xe!="string")throw new Error("Invalid argument passed to uncompress.");for(var xe,ct,it,ut,We={},jt=1,Pt=We,gt=[],Ke="",Ot="",ls=Xe.length-1,zt=1;zt<ls;zt+=1)(ut=Xe[zt])=="'"?xe?(it=xe.join(""),xe=void 0):xe=[]:xe?xe.push(ut):ut=="{"?(gt.push([Pt,it]),Pt={},it=void 0):ut=="}"?((ct=gt.pop())[0][ct[1]]=Pt,it=void 0,Pt=ct[0]):ut=="-"?jt=-1:it===void 0?I.hasOwnProperty(ut)?(Ke+=I[ut],it=parseInt(Ke,16)*jt,jt=1,Ke=""):Ke+=ut:I.hasOwnProperty(ut)?(Ot+=I[ut],Pt[it]=parseInt(Ot,16)*jt,jt=1,it=void 0,Ot=""):Ot+=ut;return We},Ce={codePages:["WinAnsiEncoding"],WinAnsiEncoding:ee("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Me={Unicode:{Courier:Ce,"Courier-Bold":Ce,"Courier-BoldOblique":Ce,"Courier-Oblique":Ce,Helvetica:Ce,"Helvetica-Bold":Ce,"Helvetica-BoldOblique":Ce,"Helvetica-Oblique":Ce,"Times-Roman":Ce,"Times-Bold":Ce,"Times-BoldItalic":Ce,"Times-Italic":Ce}},ze={Unicode:{"Courier-Oblique":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":ee("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":ee("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:ee("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":ee("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:ee("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":ee("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":ee("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":ee("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":ee("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};N.events.push(["addFont",function(Xe){var xe=Xe.font,ct=ze.Unicode[xe.postScriptName];ct&&(xe.metadata.Unicode={},xe.metadata.Unicode.widths=ct.widths,xe.metadata.Unicode.kerning=ct.kerning);var it=Me.Unicode[xe.postScriptName];it&&(xe.metadata.Unicode.encoding=it,xe.encoding=it.codePages[0])}])})(Ge.API),(function(N){var v=function(S){for(var I=S.length,P=new Uint8Array(I),V=0;V<I;V++)P[V]=S.charCodeAt(V);return P};N.API.events.push(["addFont",function(S){var I=void 0,P=S.font,V=S.instance;if(!P.isStandardFont){if(V===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+P.postScriptName+"').");if(typeof(I=V.existsFileInVFS(P.postScriptName)===!1?V.loadFile(P.postScriptName):V.getFileFromVFS(P.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+P.postScriptName+"').");(function(ce,q){q=/^\x00\x01\x00\x00/.test(q)?v(q):v(Q(q)),ce.metadata=N.API.TTFFont.open(q),ce.metadata.Unicode=ce.metadata.Unicode||{encoding:{},kerning:{},widths:[]},ce.metadata.glyIdsUsed=[0]})(P,I)}}])})(Ge),Ge.API.addSvgAsImage=function(N,v,S,I,P,V,ce,q){if(isNaN(v)||isNaN(S))throw w.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(I)||isNaN(P))throw w.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ee=document.createElement("canvas");ee.width=I,ee.height=P;var Ce=ee.getContext("2d");Ce.fillStyle="#fff",Ce.fillRect(0,0,ee.width,ee.height);var Me={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},ze=this;return(b.canvg?Promise.resolve(b.canvg):Promise.resolve().then(o.bind(o,"./node_modules/canvg/lib/index.es.js"))).catch(function(Xe){return Promise.reject(new Error("Could not load canvg: "+Xe))}).then(function(Xe){return Xe.default?Xe.default:Xe}).then(function(Xe){return Xe.fromString(Ce,N,Me)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Xe){return Xe.render(Me)}).then(function(){ze.addImage(ee.toDataURL("image/jpeg",1),v,S,I,P,ce,q)})},Ge.API.putTotalPages=function(N){var v,S=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(v=new RegExp(N,"g"),S=this.internal.getNumberOfPages()):(v=new RegExp(this.pdfEscape16(N,this.internal.getFont()),"g"),S=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var I=1;I<=this.internal.getNumberOfPages();I++)for(var P=0;P<this.internal.pages[I].length;P++)this.internal.pages[I][P]=this.internal.pages[I][P].replace(v,S);return this},Ge.API.viewerPreferences=function(N,v){var S;N=N||{},v=v||!1;var I,P,V,ce={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},q=Object.keys(ce),ee=[],Ce=0,Me=0,ze=0;function Xe(ct,it){var ut,We=!1;for(ut=0;ut<ct.length;ut+=1)ct[ut]===it&&(We=!0);return We}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(ce)),this.internal.viewerpreferences.isSubscribed=!1),S=this.internal.viewerpreferences.configuration,N==="reset"||v===!0){var xe=q.length;for(ze=0;ze<xe;ze+=1)S[q[ze]].value=S[q[ze]].defaultValue,S[q[ze]].explicitSet=!1}if((0,f.default)(N)==="object"){for(P in N)if(V=N[P],Xe(q,P)&&V!==void 0){if(S[P].type==="boolean"&&typeof V=="boolean")S[P].value=V;else if(S[P].type==="name"&&Xe(S[P].valueSet,V))S[P].value=V;else if(S[P].type==="integer"&&Number.isInteger(V))S[P].value=V;else if(S[P].type==="array"){for(Ce=0;Ce<V.length;Ce+=1)if(I=!0,V[Ce].length===1&&typeof V[Ce][0]=="number")ee.push(String(V[Ce]-1));else if(V[Ce].length>1){for(Me=0;Me<V[Ce].length;Me+=1)typeof V[Ce][Me]!="number"&&(I=!1);I===!0&&ee.push([V[Ce][0]-1,V[Ce][1]-1].join(" "))}S[P].value="["+ee.join(" ")+"]"}else S[P].value=S[P].defaultValue;S[P].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var ct,it=[];for(ct in S)S[ct].explicitSet===!0&&(S[ct].type==="name"?it.push("/"+ct+" /"+S[ct].value):it.push("/"+ct+" "+S[ct].value));it.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+it.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=S,this},(function(N){var v=function(){var I='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',P=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),V=unescape(encodeURIComponent(I)),ce=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),q=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),ee=unescape(encodeURIComponent("</x:xmpmeta>")),Ce=V.length+ce.length+q.length+P.length+ee.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Ce+" >>"),this.internal.write("stream"),this.internal.write(P+V+ce+q+ee),this.internal.write("endstream"),this.internal.write("endobj")},S=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};N.addMetadata=function(I,P){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:I,namespaceuri:P||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",S),this.internal.events.subscribe("postPutResources",v)),this}})(Ge.API),(function(N){var v=N.API,S=v.pdfEscape16=function(V,ce){for(var q,ee=ce.metadata.Unicode.widths,Ce=["","0","00","000","0000"],Me=[""],ze=0,Xe=V.length;ze<Xe;++ze){if(q=ce.metadata.characterToGlyph(V.charCodeAt(ze)),ce.metadata.glyIdsUsed.push(q),ce.metadata.toUnicode[q]=V.charCodeAt(ze),ee.indexOf(q)==-1&&(ee.push(q),ee.push([parseInt(ce.metadata.widthOfGlyph(q),10)])),q=="0")return Me.join("");q=q.toString(16),Me.push(Ce[4-q.length],q)}return Me.join("")},I=function(V){var ce,q,ee,Ce,Me,ze,Xe;for(Me=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,ee=[],ze=0,Xe=(q=Object.keys(V).sort(function(xe,ct){return xe-ct})).length;ze<Xe;ze++)ce=q[ze],ee.length>=100&&(Me+=`
`+ee.length+` beginbfchar
`+ee.join(`
`)+`
endbfchar`,ee=[]),V[ce]!==void 0&&V[ce]!==null&&typeof V[ce].toString=="function"&&(Ce=("0000"+V[ce].toString(16)).slice(-4),ce=("0000"+(+ce).toString(16)).slice(-4),ee.push("<"+ce+"><"+Ce+">"));return ee.length&&(Me+=`
`+ee.length+` beginbfchar
`+ee.join(`
`)+`
endbfchar
`),Me+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};v.events.push(["putFont",function(V){(function(ce){var q=ce.font,ee=ce.out,Ce=ce.newObject,Me=ce.putStream;if(q.metadata instanceof N.API.TTFFont&&q.encoding==="Identity-H"){for(var ze=q.metadata.Unicode.widths,Xe=q.metadata.subset.encode(q.metadata.glyIdsUsed,1),xe="",ct=0;ct<Xe.length;ct++)xe+=String.fromCharCode(Xe[ct]);var it=Ce();Me({data:xe,addLength1:!0,objectId:it}),ee("endobj");var ut=Ce();Me({data:I(q.metadata.toUnicode),addLength1:!0,objectId:ut}),ee("endobj");var We=Ce();ee("<<"),ee("/Type /FontDescriptor"),ee("/FontName /"+te(q.fontName)),ee("/FontFile2 "+it+" 0 R"),ee("/FontBBox "+N.API.PDFObject.convert(q.metadata.bbox)),ee("/Flags "+q.metadata.flags),ee("/StemV "+q.metadata.stemV),ee("/ItalicAngle "+q.metadata.italicAngle),ee("/Ascent "+q.metadata.ascender),ee("/Descent "+q.metadata.decender),ee("/CapHeight "+q.metadata.capHeight),ee(">>"),ee("endobj");var jt=Ce();ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+te(q.fontName)),ee("/FontDescriptor "+We+" 0 R"),ee("/W "+N.API.PDFObject.convert(ze)),ee("/CIDToGIDMap /Identity"),ee("/DW 1000"),ee("/Subtype /CIDFontType2"),ee("/CIDSystemInfo"),ee("<<"),ee("/Supplement 0"),ee("/Registry (Adobe)"),ee("/Ordering ("+q.encoding+")"),ee(">>"),ee(">>"),ee("endobj"),q.objectNumber=Ce(),ee("<<"),ee("/Type /Font"),ee("/Subtype /Type0"),ee("/ToUnicode "+ut+" 0 R"),ee("/BaseFont /"+te(q.fontName)),ee("/Encoding /"+q.encoding),ee("/DescendantFonts ["+jt+" 0 R]"),ee(">>"),ee("endobj"),q.isAlreadyPutted=!0}})(V)}]),v.events.push(["putFont",function(V){(function(ce){var q=ce.font,ee=ce.out,Ce=ce.newObject,Me=ce.putStream;if(q.metadata instanceof N.API.TTFFont&&q.encoding==="WinAnsiEncoding"){for(var ze=q.metadata.rawData,Xe="",xe=0;xe<ze.length;xe++)Xe+=String.fromCharCode(ze[xe]);var ct=Ce();Me({data:Xe,addLength1:!0,objectId:ct}),ee("endobj");var it=Ce();Me({data:I(q.metadata.toUnicode),addLength1:!0,objectId:it}),ee("endobj");var ut=Ce();ee("<<"),ee("/Descent "+q.metadata.decender),ee("/CapHeight "+q.metadata.capHeight),ee("/StemV "+q.metadata.stemV),ee("/Type /FontDescriptor"),ee("/FontFile2 "+ct+" 0 R"),ee("/Flags 96"),ee("/FontBBox "+N.API.PDFObject.convert(q.metadata.bbox)),ee("/FontName /"+te(q.fontName)),ee("/ItalicAngle "+q.metadata.italicAngle),ee("/Ascent "+q.metadata.ascender),ee(">>"),ee("endobj"),q.objectNumber=Ce();for(var We=0;We<q.metadata.hmtx.widths.length;We++)q.metadata.hmtx.widths[We]=parseInt(q.metadata.hmtx.widths[We]*(1e3/q.metadata.head.unitsPerEm));ee("<</Subtype/TrueType/Type/Font/ToUnicode "+it+" 0 R/BaseFont/"+te(q.fontName)+"/FontDescriptor "+ut+" 0 R/Encoding/"+q.encoding+" /FirstChar 29 /LastChar 255 /Widths "+N.API.PDFObject.convert(q.metadata.hmtx.widths)+">>"),ee("endobj"),q.isAlreadyPutted=!0}})(V)}]);var P=function(V){var ce,q=V.text||"",ee=V.x,Ce=V.y,Me=V.options||{},ze=V.mutex||{},Xe=ze.pdfEscape,xe=ze.activeFontKey,ct=ze.fonts,it=xe,ut="",We=0,jt="",Pt=ct[it].encoding;if(ct[it].encoding!=="Identity-H")return{text:q,x:ee,y:Ce,options:Me,mutex:ze};for(jt=q,it=xe,Array.isArray(q)&&(jt=q[0]),We=0;We<jt.length;We+=1)ct[it].metadata.hasOwnProperty("cmap")&&(ce=ct[it].metadata.cmap.unicode.codeMap[jt[We].charCodeAt(0)]),ce||jt[We].charCodeAt(0)<256&&ct[it].metadata.hasOwnProperty("Unicode")?ut+=jt[We]:ut+="";var gt="";return parseInt(it.slice(1))<14||Pt==="WinAnsiEncoding"?gt=Xe(ut,it).split("").map(function(Ke){return Ke.charCodeAt(0).toString(16)}).join(""):Pt==="Identity-H"&&(gt=S(ut,ct[it])),ze.isHex=!0,{text:gt,x:ee,y:Ce,options:Me,mutex:ze}};v.events.push(["postProcessText",function(V){var ce=V.text||"",q=[],ee={text:ce,x:V.x,y:V.y,options:V.options,mutex:V.mutex};if(Array.isArray(ce)){var Ce=0;for(Ce=0;Ce<ce.length;Ce+=1)Array.isArray(ce[Ce])&&ce[Ce].length===3?q.push([P(Object.assign({},ee,{text:ce[Ce][0]})).text,ce[Ce][1],ce[Ce][2]]):q.push(P(Object.assign({},ee,{text:ce[Ce]})).text);V.text=q}else V.text=P(Object.assign({},ee,{text:ce})).text}])})(Ge),(function(N){var v=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};N.existsFileInVFS=function(S){return v.call(this),this.internal.vFS[S]!==void 0},N.addFileToVFS=function(S,I){return v.call(this),this.internal.vFS[S]=I,this},N.getFileFromVFS=function(S){return v.call(this),this.internal.vFS[S]!==void 0?this.internal.vFS[S]:null}})(Ge.API),(function(N){N.__bidiEngine__=N.prototype.__bidiEngine__=function(I){var P,V,ce,q,ee,Ce,Me,ze=v,Xe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],xe=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ct={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},it={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},ut=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],We=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),jt=!1,Pt=0;this.__bidiEngine__={};var gt=function(Ye){var st=Ye.charCodeAt(),bt=st>>8,vt=it[bt];return vt!==void 0?ze[256*vt+(255&st)]:bt===252||bt===253?"AL":We.test(bt)?"L":bt===8?"R":"N"},Ke=function(Ye){for(var st,bt=0;bt<Ye.length;bt++){if((st=gt(Ye.charAt(bt)))==="L")return!1;if(st==="R")return!0}return!1},Ot=function(Ye,st,bt,vt){var ns,us,bs,Gt,ms=st[vt];switch(ms){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":jt=!1;break;case"N":case"AN":break;case"EN":jt&&(ms="AN");break;case"AL":jt=!0,ms="R";break;case"WS":case"BN":ms="N";break;case"CS":vt<1||vt+1>=st.length||(ns=bt[vt-1])!=="EN"&&ns!=="AN"||(us=st[vt+1])!=="EN"&&us!=="AN"?ms="N":jt&&(us="AN"),ms=us===ns?us:"N";break;case"ES":ms=(ns=vt>0?bt[vt-1]:"B")==="EN"&&vt+1<st.length&&st[vt+1]==="EN"?"EN":"N";break;case"ET":if(vt>0&&bt[vt-1]==="EN"){ms="EN";break}if(jt){ms="N";break}for(bs=vt+1,Gt=st.length;bs<Gt&&st[bs]==="ET";)bs++;ms=bs<Gt&&st[bs]==="EN"?"EN":"N";break;case"NSM":if(ce&&!q){for(Gt=st.length,bs=vt+1;bs<Gt&&st[bs]==="NSM";)bs++;if(bs<Gt){var Xs=Ye[vt],Qs=Xs>=1425&&Xs<=2303||Xs===64286;if(ns=st[bs],Qs&&(ns==="R"||ns==="AL")){ms="R";break}}}ms=vt<1||(ns=st[vt-1])==="B"?"N":bt[vt-1];break;case"B":jt=!1,P=!0,ms=Pt;break;case"S":V=!0,ms="N"}return ms},ls=function(Ye,st,bt){var vt=Ye.split("");return bt&&zt(vt,bt,{hiLevel:Pt}),vt.reverse(),st&&st.reverse(),vt.join("")},zt=function(Ye,st,bt){var vt,ns,us,bs,Gt,ms=-1,Xs=Ye.length,Qs=0,Qe=[],dt=Pt?xe:Xe,ht=[];for(jt=!1,P=!1,V=!1,ns=0;ns<Xs;ns++)ht[ns]=gt(Ye[ns]);for(us=0;us<Xs;us++){if(Gt=Qs,Qe[us]=Ot(Ye,ht,Qe,us),vt=240&(Qs=dt[Gt][ct[Qe[us]]]),Qs&=15,st[us]=bs=dt[Qs][5],vt>0)if(vt===16){for(ns=ms;ns<us;ns++)st[ns]=1;ms=-1}else ms=-1;if(dt[Qs][6])ms===-1&&(ms=us);else if(ms>-1){for(ns=ms;ns<us;ns++)st[ns]=bs;ms=-1}ht[us]==="B"&&(st[us]=0),bt.hiLevel|=bs}V&&(function(It,Qt,Xt){for(var ps=0;ps<Xt;ps++)if(It[ps]==="S"){Qt[ps]=Pt;for(var gs=ps-1;gs>=0&&It[gs]==="WS";gs--)Qt[gs]=Pt}})(ht,st,Xs)},yt=function(Ye,st,bt,vt,ns){if(!(ns.hiLevel<Ye)){if(Ye===1&&Pt===1&&!P)return st.reverse(),void(bt&&bt.reverse());for(var us,bs,Gt,ms,Xs=st.length,Qs=0;Qs<Xs;){if(vt[Qs]>=Ye){for(Gt=Qs+1;Gt<Xs&&vt[Gt]>=Ye;)Gt++;for(ms=Qs,bs=Gt-1;ms<bs;ms++,bs--)us=st[ms],st[ms]=st[bs],st[bs]=us,bt&&(us=bt[ms],bt[ms]=bt[bs],bt[bs]=us);Qs=Gt}Qs++}}},ss=function(Ye,st,bt){var vt=Ye.split(""),ns={hiLevel:Pt};return bt||(bt=[]),zt(vt,bt,ns),(function(us,bs,Gt){if(Gt.hiLevel!==0&&Me)for(var ms,Xs=0;Xs<us.length;Xs++)bs[Xs]===1&&(ms=ut.indexOf(us[Xs]))>=0&&(us[Xs]=ut[ms+1])})(vt,bt,ns),yt(2,vt,st,bt,ns),yt(1,vt,st,bt,ns),vt.join("")};return this.__bidiEngine__.doBidiReorder=function(Ye,st,bt){if((function(ns,us){if(us)for(var bs=0;bs<ns.length;bs++)us[bs]=bs;q===void 0&&(q=Ke(ns)),Ce===void 0&&(Ce=Ke(ns))})(Ye,st),ce||!ee||Ce)if(ce&&ee&&q^Ce)Pt=q?1:0,Ye=ls(Ye,st,bt);else if(!ce&&ee&&Ce)Pt=q?1:0,Ye=ss(Ye,st,bt),Ye=ls(Ye,st);else if(!ce||q||ee||Ce){if(ce&&!ee&&q^Ce)Ye=ls(Ye,st),q?(Pt=0,Ye=ss(Ye,st,bt)):(Pt=1,Ye=ss(Ye,st,bt),Ye=ls(Ye,st));else if(ce&&q&&!ee&&Ce)Pt=1,Ye=ss(Ye,st,bt),Ye=ls(Ye,st);else if(!ce&&!ee&&q^Ce){var vt=Me;q?(Pt=1,Ye=ss(Ye,st,bt),Pt=0,Me=!1,Ye=ss(Ye,st,bt),Me=vt):(Pt=0,Ye=ss(Ye,st,bt),Ye=ls(Ye,st),Pt=1,Me=!1,Ye=ss(Ye,st,bt),Me=vt,Ye=ls(Ye,st))}}else Pt=0,Ye=ss(Ye,st,bt);else Pt=q?1:0,Ye=ss(Ye,st,bt);return Ye},this.__bidiEngine__.setOptions=function(Ye){Ye&&(ce=Ye.isInputVisual,ee=Ye.isOutputVisual,q=Ye.isInputRtl,Ce=Ye.isOutputRtl,Me=Ye.isSymmetricSwapping)},this.__bidiEngine__.setOptions(I),this.__bidiEngine__};var v=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],S=new N.__bidiEngine__({isInputVisual:!0});N.API.events.push(["postProcessText",function(I){var P=I.text;I.x,I.y;var V=I.options||{};I.mutex,V.lang;var ce=[];if(V.isInputVisual=typeof V.isInputVisual!="boolean"||V.isInputVisual,S.setOptions(V),Object.prototype.toString.call(P)==="[object Array]"){var q=0;for(ce=[],q=0;q<P.length;q+=1)Object.prototype.toString.call(P[q])==="[object Array]"?ce.push([S.doBidiReorder(P[q][0]),P[q][1],P[q][2]]):ce.push([S.doBidiReorder(P[q])]);I.text=ce}else I.text=S.doBidiReorder(P);S.setOptions({isInputVisual:!0})}])})(Ge),Ge.API.TTFFont=(function(){function N(v){var S;if(this.rawData=v,S=this.contents=new Da(v),this.contents.pos=4,S.readString(4)==="ttcf")throw new Error("TTCF not supported.");S.pos=0,this.parse(),this.subset=new Je(this),this.registerTTF()}return N.open=function(v){return new N(v)},N.prototype.parse=function(){return this.directory=new fi(this.contents),this.head=new ba(this),this.name=new K(this),this.cmap=new eo(this),this.toUnicode={},this.hhea=new Si(this),this.maxp=new J(this),this.hmtx=new T(this),this.post=new Tt(this),this.os2=new oo(this),this.loca=new Re(this),this.glyf=new $(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},N.prototype.registerTTF=function(){var v,S,I,P,V;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var ce,q,ee,Ce;for(Ce=[],ce=0,q=(ee=this.bbox).length;ce<q;ce++)v=ee[ce],Ce.push(Math.round(v*this.scaleFactor));return Ce}).call(this),this.stemV=0,this.post.exists?(I=255&(P=this.post.italic_angle),32768&(S=P>>16)&&(S=-(1+(65535^S))),this.italicAngle=+(S+"."+I)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(V=this.familyClass)===1||V===2||V===3||V===4||V===5||V===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},N.prototype.characterToGlyph=function(v){var S;return((S=this.cmap.unicode)!=null?S.codeMap[v]:void 0)||0},N.prototype.widthOfGlyph=function(v){var S;return S=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(v).advance*S},N.prototype.widthOfString=function(v,S,I){var P,V,ce,q;for(ce=0,V=0,q=(v=""+v).length;0<=q?V<q:V>q;V=0<=q?++V:--V)P=v.charCodeAt(V),ce+=this.widthOfGlyph(this.characterToGlyph(P))+I*(1e3/S)||0;return ce*(S/1e3)},N.prototype.lineHeight=function(v,S){var I;return S==null&&(S=!1),I=S?this.lineGap:0,(this.ascender+I-this.decender)/1e3*v},N})();var Ga,Da=(function(){function N(v){this.data=v??[],this.pos=0,this.length=this.data.length}return N.prototype.readByte=function(){return this.data[this.pos++]},N.prototype.writeByte=function(v){return this.data[this.pos++]=v},N.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},N.prototype.writeUInt32=function(v){return this.writeByte(v>>>24&255),this.writeByte(v>>16&255),this.writeByte(v>>8&255),this.writeByte(255&v)},N.prototype.readInt32=function(){var v;return(v=this.readUInt32())>=2147483648?v-4294967296:v},N.prototype.writeInt32=function(v){return v<0&&(v+=4294967296),this.writeUInt32(v)},N.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},N.prototype.writeUInt16=function(v){return this.writeByte(v>>8&255),this.writeByte(255&v)},N.prototype.readInt16=function(){var v;return(v=this.readUInt16())>=32768?v-65536:v},N.prototype.writeInt16=function(v){return v<0&&(v+=65536),this.writeUInt16(v)},N.prototype.readString=function(v){var S,I;for(I=[],S=0;0<=v?S<v:S>v;S=0<=v?++S:--S)I[S]=String.fromCharCode(this.readByte());return I.join("")},N.prototype.writeString=function(v){var S,I,P;for(P=[],S=0,I=v.length;0<=I?S<I:S>I;S=0<=I?++S:--S)P.push(this.writeByte(v.charCodeAt(S)));return P},N.prototype.readShort=function(){return this.readInt16()},N.prototype.writeShort=function(v){return this.writeInt16(v)},N.prototype.readLongLong=function(){var v,S,I,P,V,ce,q,ee;return v=this.readByte(),S=this.readByte(),I=this.readByte(),P=this.readByte(),V=this.readByte(),ce=this.readByte(),q=this.readByte(),ee=this.readByte(),128&v?-1*(72057594037927940*(255^v)+281474976710656*(255^S)+1099511627776*(255^I)+4294967296*(255^P)+16777216*(255^V)+65536*(255^ce)+256*(255^q)+(255^ee)+1):72057594037927940*v+281474976710656*S+1099511627776*I+4294967296*P+16777216*V+65536*ce+256*q+ee},N.prototype.writeLongLong=function(v){var S,I;return S=Math.floor(v/4294967296),I=4294967295&v,this.writeByte(S>>24&255),this.writeByte(S>>16&255),this.writeByte(S>>8&255),this.writeByte(255&S),this.writeByte(I>>24&255),this.writeByte(I>>16&255),this.writeByte(I>>8&255),this.writeByte(255&I)},N.prototype.readInt=function(){return this.readInt32()},N.prototype.writeInt=function(v){return this.writeInt32(v)},N.prototype.read=function(v){var S,I;for(S=[],I=0;0<=v?I<v:I>v;I=0<=v?++I:--I)S.push(this.readByte());return S},N.prototype.write=function(v){var S,I,P,V;for(V=[],I=0,P=v.length;I<P;I++)S=v[I],V.push(this.writeByte(S));return V},N})(),fi=(function(){var N;function v(S){var I,P,V;for(this.scalarType=S.readInt(),this.tableCount=S.readShort(),this.searchRange=S.readShort(),this.entrySelector=S.readShort(),this.rangeShift=S.readShort(),this.tables={},P=0,V=this.tableCount;0<=V?P<V:P>V;P=0<=V?++P:--P)I={tag:S.readString(4),checksum:S.readInt(),offset:S.readInt(),length:S.readInt()},this.tables[I.tag]=I}return v.prototype.encode=function(S){var I,P,V,ce,q,ee,Ce,Me,ze,Xe,xe,ct,it;for(it in xe=Object.keys(S).length,ee=Math.log(2),ze=16*Math.floor(Math.log(xe)/ee),ce=Math.floor(ze/ee),Me=16*xe-ze,(P=new Da).writeInt(this.scalarType),P.writeShort(xe),P.writeShort(ze),P.writeShort(ce),P.writeShort(Me),V=16*xe,Ce=P.pos+V,q=null,ct=[],S)for(Xe=S[it],P.writeString(it),P.writeInt(N(Xe)),P.writeInt(Ce),P.writeInt(Xe.length),ct=ct.concat(Xe),it==="head"&&(q=Ce),Ce+=Xe.length;Ce%4;)ct.push(0),Ce++;return P.write(ct),I=2981146554-N(P.data),P.pos=q+8,P.writeUInt32(I),P.data},N=function(S){var I,P,V,ce;for(S=M.call(S);S.length%4;)S.push(0);for(V=new Da(S),P=0,I=0,ce=S.length;I<ce;I=I+=4)P+=V.readUInt32();return 4294967295&P},v})(),Uo={}.hasOwnProperty,Bi=function(N,v){for(var S in v)Uo.call(v,S)&&(N[S]=v[S]);function I(){this.constructor=N}return I.prototype=v.prototype,N.prototype=new I,N.__super__=v.prototype,N};Ga=(function(){function N(v){var S;this.file=v,S=this.file.directory.tables[this.tag],this.exists=!!S,S&&(this.offset=S.offset,this.length=S.length,this.parse(this.file.contents))}return N.prototype.parse=function(){},N.prototype.encode=function(){},N.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},N})();var ba=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="head",N.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.revision=v.readInt(),this.checkSumAdjustment=v.readInt(),this.magicNumber=v.readInt(),this.flags=v.readShort(),this.unitsPerEm=v.readShort(),this.created=v.readLongLong(),this.modified=v.readLongLong(),this.xMin=v.readShort(),this.yMin=v.readShort(),this.xMax=v.readShort(),this.yMax=v.readShort(),this.macStyle=v.readShort(),this.lowestRecPPEM=v.readShort(),this.fontDirectionHint=v.readShort(),this.indexToLocFormat=v.readShort(),this.glyphDataFormat=v.readShort()},N.prototype.encode=function(v){var S;return(S=new Da).writeInt(this.version),S.writeInt(this.revision),S.writeInt(this.checkSumAdjustment),S.writeInt(this.magicNumber),S.writeShort(this.flags),S.writeShort(this.unitsPerEm),S.writeLongLong(this.created),S.writeLongLong(this.modified),S.writeShort(this.xMin),S.writeShort(this.yMin),S.writeShort(this.xMax),S.writeShort(this.yMax),S.writeShort(this.macStyle),S.writeShort(this.lowestRecPPEM),S.writeShort(this.fontDirectionHint),S.writeShort(v),S.writeShort(this.glyphDataFormat),S.data},N})(),mi=(function(){function N(v,S){var I,P,V,ce,q,ee,Ce,Me,ze,Xe,xe,ct,it,ut,We,jt,Pt;switch(this.platformID=v.readUInt16(),this.encodingID=v.readShort(),this.offset=S+v.readInt(),ze=v.pos,v.pos=this.offset,this.format=v.readUInt16(),this.length=v.readUInt16(),this.language=v.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(ee=0;ee<256;++ee)this.codeMap[ee]=v.readByte();break;case 4:for(xe=v.readUInt16(),Xe=xe/2,v.pos+=6,V=(function(){var gt,Ke;for(Ke=[],ee=gt=0;0<=Xe?gt<Xe:gt>Xe;ee=0<=Xe?++gt:--gt)Ke.push(v.readUInt16());return Ke})(),v.pos+=2,it=(function(){var gt,Ke;for(Ke=[],ee=gt=0;0<=Xe?gt<Xe:gt>Xe;ee=0<=Xe?++gt:--gt)Ke.push(v.readUInt16());return Ke})(),Ce=(function(){var gt,Ke;for(Ke=[],ee=gt=0;0<=Xe?gt<Xe:gt>Xe;ee=0<=Xe?++gt:--gt)Ke.push(v.readUInt16());return Ke})(),Me=(function(){var gt,Ke;for(Ke=[],ee=gt=0;0<=Xe?gt<Xe:gt>Xe;ee=0<=Xe?++gt:--gt)Ke.push(v.readUInt16());return Ke})(),P=(this.length-v.pos+this.offset)/2,q=(function(){var gt,Ke;for(Ke=[],ee=gt=0;0<=P?gt<P:gt>P;ee=0<=P?++gt:--gt)Ke.push(v.readUInt16());return Ke})(),ee=We=0,Pt=V.length;We<Pt;ee=++We)for(ut=V[ee],I=jt=ct=it[ee];ct<=ut?jt<=ut:jt>=ut;I=ct<=ut?++jt:--jt)Me[ee]===0?ce=I+Ce[ee]:(ce=q[Me[ee]/2+(I-ct)-(Xe-ee)]||0)!==0&&(ce+=Ce[ee]),this.codeMap[I]=65535&ce}v.pos=ze}return N.encode=function(v,S){var I,P,V,ce,q,ee,Ce,Me,ze,Xe,xe,ct,it,ut,We,jt,Pt,gt,Ke,Ot,ls,zt,yt,ss,Ye,st,bt,vt,ns,us,bs,Gt,ms,Xs,Qs,Qe,dt,ht,It,Qt,Xt,ps,gs,Ls,Js,br;switch(vt=new Da,ce=Object.keys(v).sort(function(gr,Yr){return gr-Yr}),S){case"macroman":for(it=0,ut=(function(){var gr=[];for(ct=0;ct<256;++ct)gr.push(0);return gr})(),jt={0:0},V={},ns=0,ms=ce.length;ns<ms;ns++)jt[gs=v[P=ce[ns]]]==null&&(jt[gs]=++it),V[P]={old:v[P],new:jt[v[P]]},ut[P]=jt[v[P]];return vt.writeUInt16(1),vt.writeUInt16(0),vt.writeUInt32(12),vt.writeUInt16(0),vt.writeUInt16(262),vt.writeUInt16(0),vt.write(ut),{charMap:V,subtable:vt.data,maxGlyphID:it+1};case"unicode":for(st=[],ze=[],Pt=0,jt={},I={},We=Ce=null,us=0,Xs=ce.length;us<Xs;us++)jt[Ke=v[P=ce[us]]]==null&&(jt[Ke]=++Pt),I[P]={old:Ke,new:jt[Ke]},q=jt[Ke]-P,We!=null&&q===Ce||(We&&ze.push(We),st.push(P),Ce=q),We=P;for(We&&ze.push(We),ze.push(65535),st.push(65535),ss=2*(yt=st.length),zt=2*Math.pow(Math.log(yt)/Math.LN2,2),Xe=Math.log(zt/2)/Math.LN2,ls=2*yt-zt,ee=[],Ot=[],xe=[],ct=bs=0,Qs=st.length;bs<Qs;ct=++bs){if(Ye=st[ct],Me=ze[ct],Ye===65535){ee.push(0),Ot.push(0);break}if(Ye-(bt=I[Ye].new)>=32768)for(ee.push(0),Ot.push(2*(xe.length+yt-ct)),P=Gt=Ye;Ye<=Me?Gt<=Me:Gt>=Me;P=Ye<=Me?++Gt:--Gt)xe.push(I[P].new);else ee.push(bt-Ye),Ot.push(0)}for(vt.writeUInt16(3),vt.writeUInt16(1),vt.writeUInt32(12),vt.writeUInt16(4),vt.writeUInt16(16+8*yt+2*xe.length),vt.writeUInt16(0),vt.writeUInt16(ss),vt.writeUInt16(zt),vt.writeUInt16(Xe),vt.writeUInt16(ls),Xt=0,Qe=ze.length;Xt<Qe;Xt++)P=ze[Xt],vt.writeUInt16(P);for(vt.writeUInt16(0),ps=0,dt=st.length;ps<dt;ps++)P=st[ps],vt.writeUInt16(P);for(Ls=0,ht=ee.length;Ls<ht;Ls++)q=ee[Ls],vt.writeUInt16(q);for(Js=0,It=Ot.length;Js<It;Js++)gt=Ot[Js],vt.writeUInt16(gt);for(br=0,Qt=xe.length;br<Qt;br++)it=xe[br],vt.writeUInt16(it);return{charMap:I,subtable:vt.data,maxGlyphID:Pt+1}}},N})(),eo=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="cmap",N.prototype.parse=function(v){var S,I,P;for(v.pos=this.offset,this.version=v.readUInt16(),P=v.readUInt16(),this.tables=[],this.unicode=null,I=0;0<=P?I<P:I>P;I=0<=P?++I:--I)S=new mi(v,this.offset),this.tables.push(S),S.isUnicode&&this.unicode==null&&(this.unicode=S);return!0},N.encode=function(v,S){var I,P;return S==null&&(S="macroman"),I=mi.encode(v,S),(P=new Da).writeUInt16(0),P.writeUInt16(1),I.table=P.data.concat(I.subtable),I},N})(),Si=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="hhea",N.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.ascender=v.readShort(),this.decender=v.readShort(),this.lineGap=v.readShort(),this.advanceWidthMax=v.readShort(),this.minLeftSideBearing=v.readShort(),this.minRightSideBearing=v.readShort(),this.xMaxExtent=v.readShort(),this.caretSlopeRise=v.readShort(),this.caretSlopeRun=v.readShort(),this.caretOffset=v.readShort(),v.pos+=8,this.metricDataFormat=v.readShort(),this.numberOfMetrics=v.readUInt16()},N})(),oo=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="OS/2",N.prototype.parse=function(v){if(v.pos=this.offset,this.version=v.readUInt16(),this.averageCharWidth=v.readShort(),this.weightClass=v.readUInt16(),this.widthClass=v.readUInt16(),this.type=v.readShort(),this.ySubscriptXSize=v.readShort(),this.ySubscriptYSize=v.readShort(),this.ySubscriptXOffset=v.readShort(),this.ySubscriptYOffset=v.readShort(),this.ySuperscriptXSize=v.readShort(),this.ySuperscriptYSize=v.readShort(),this.ySuperscriptXOffset=v.readShort(),this.ySuperscriptYOffset=v.readShort(),this.yStrikeoutSize=v.readShort(),this.yStrikeoutPosition=v.readShort(),this.familyClass=v.readShort(),this.panose=(function(){var S,I;for(I=[],S=0;S<10;++S)I.push(v.readByte());return I})(),this.charRange=(function(){var S,I;for(I=[],S=0;S<4;++S)I.push(v.readInt());return I})(),this.vendorID=v.readString(4),this.selection=v.readShort(),this.firstCharIndex=v.readShort(),this.lastCharIndex=v.readShort(),this.version>0&&(this.ascent=v.readShort(),this.descent=v.readShort(),this.lineGap=v.readShort(),this.winAscent=v.readShort(),this.winDescent=v.readShort(),this.codePageRange=(function(){var S,I;for(I=[],S=0;S<2;S=++S)I.push(v.readInt());return I})(),this.version>1))return this.xHeight=v.readShort(),this.capHeight=v.readShort(),this.defaultChar=v.readShort(),this.breakChar=v.readShort(),this.maxContext=v.readShort()},N})(),Tt=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="post",N.prototype.parse=function(v){var S,I,P;switch(v.pos=this.offset,this.format=v.readInt(),this.italicAngle=v.readInt(),this.underlinePosition=v.readShort(),this.underlineThickness=v.readShort(),this.isFixedPitch=v.readInt(),this.minMemType42=v.readInt(),this.maxMemType42=v.readInt(),this.minMemType1=v.readInt(),this.maxMemType1=v.readInt(),this.format){case 65536:case 196608:break;case 131072:var V;for(I=v.readUInt16(),this.glyphNameIndex=[],V=0;0<=I?V<I:V>I;V=0<=I?++V:--V)this.glyphNameIndex.push(v.readUInt16());for(this.names=[],P=[];v.pos<this.offset+this.length;)S=v.readByte(),P.push(this.names.push(v.readString(S)));return P;case 151552:return I=v.readUInt16(),this.offsets=v.read(I);case 262144:return this.map=(function(){var ce,q,ee;for(ee=[],V=ce=0,q=this.file.maxp.numGlyphs;0<=q?ce<q:ce>q;V=0<=q?++ce:--ce)ee.push(v.readUInt32());return ee}).call(this)}},N})(),F=function(N,v){this.raw=N,this.length=N.length,this.platformID=v.platformID,this.encodingID=v.encodingID,this.languageID=v.languageID},K=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="name",N.prototype.parse=function(v){var S,I,P,V,ce,q,ee,Ce,Me,ze,Xe;for(v.pos=this.offset,v.readShort(),S=v.readShort(),q=v.readShort(),I=[],V=0;0<=S?V<S:V>S;V=0<=S?++V:--V)I.push({platformID:v.readShort(),encodingID:v.readShort(),languageID:v.readShort(),nameID:v.readShort(),length:v.readShort(),offset:this.offset+q+v.readShort()});for(ee={},V=Me=0,ze=I.length;Me<ze;V=++Me)P=I[V],v.pos=P.offset,Ce=v.readString(P.length),ce=new F(Ce,P),ee[Xe=P.nameID]==null&&(ee[Xe]=[]),ee[P.nameID].push(ce);this.strings=ee,this.copyright=ee[0],this.fontFamily=ee[1],this.fontSubfamily=ee[2],this.uniqueSubfamily=ee[3],this.fontName=ee[4],this.version=ee[5];try{this.postscriptName=ee[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=ee[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=ee[7],this.manufacturer=ee[8],this.designer=ee[9],this.description=ee[10],this.vendorUrl=ee[11],this.designerUrl=ee[12],this.license=ee[13],this.licenseUrl=ee[14],this.preferredFamily=ee[15],this.preferredSubfamily=ee[17],this.compatibleFull=ee[18],this.sampleText=ee[19]},N})(),J=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="maxp",N.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.numGlyphs=v.readUInt16(),this.maxPoints=v.readUInt16(),this.maxContours=v.readUInt16(),this.maxCompositePoints=v.readUInt16(),this.maxComponentContours=v.readUInt16(),this.maxZones=v.readUInt16(),this.maxTwilightPoints=v.readUInt16(),this.maxStorage=v.readUInt16(),this.maxFunctionDefs=v.readUInt16(),this.maxInstructionDefs=v.readUInt16(),this.maxStackElements=v.readUInt16(),this.maxSizeOfInstructions=v.readUInt16(),this.maxComponentElements=v.readUInt16(),this.maxComponentDepth=v.readUInt16()},N})(),T=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="hmtx",N.prototype.parse=function(v){var S,I,P,V,ce,q,ee;for(v.pos=this.offset,this.metrics=[],S=0,q=this.file.hhea.numberOfMetrics;0<=q?S<q:S>q;S=0<=q?++S:--S)this.metrics.push({advance:v.readUInt16(),lsb:v.readInt16()});for(P=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var Ce,Me;for(Me=[],S=Ce=0;0<=P?Ce<P:Ce>P;S=0<=P?++Ce:--Ce)Me.push(v.readInt16());return Me})(),this.widths=(function(){var Ce,Me,ze,Xe;for(Xe=[],Ce=0,Me=(ze=this.metrics).length;Ce<Me;Ce++)V=ze[Ce],Xe.push(V.advance);return Xe}).call(this),I=this.widths[this.widths.length-1],ee=[],S=ce=0;0<=P?ce<P:ce>P;S=0<=P?++ce:--ce)ee.push(this.widths.push(I));return ee},N.prototype.forGlyph=function(v){return v in this.metrics?this.metrics[v]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[v-this.metrics.length]}},N})(),M=[].slice,$=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="glyf",N.prototype.parse=function(){return this.cache={}},N.prototype.glyphFor=function(v){var S,I,P,V,ce,q,ee,Ce,Me,ze;return v in this.cache?this.cache[v]:(V=this.file.loca,S=this.file.contents,I=V.indexOf(v),(P=V.lengthOf(v))===0?this.cache[v]=null:(S.pos=this.offset+I,ce=(q=new Da(S.read(P))).readShort(),Ce=q.readShort(),ze=q.readShort(),ee=q.readShort(),Me=q.readShort(),this.cache[v]=ce===-1?new ve(q,Ce,ze,ee,Me):new ie(q,ce,Ce,ze,ee,Me),this.cache[v]))},N.prototype.encode=function(v,S,I){var P,V,ce,q,ee;for(ce=[],V=[],q=0,ee=S.length;q<ee;q++)P=v[S[q]],V.push(ce.length),P&&(ce=ce.concat(P.encode(I)));return V.push(ce.length),{table:ce,offsets:V}},N})(),ie=(function(){function N(v,S,I,P,V,ce){this.raw=v,this.numberOfContours=S,this.xMin=I,this.yMin=P,this.xMax=V,this.yMax=ce,this.compound=!1}return N.prototype.encode=function(){return this.raw.data},N})(),ve=(function(){function N(v,S,I,P,V){var ce,q;for(this.raw=v,this.xMin=S,this.yMin=I,this.xMax=P,this.yMax=V,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],ce=this.raw;q=ce.readShort(),this.glyphOffsets.push(ce.pos),this.glyphIDs.push(ce.readUInt16()),32&q;)ce.pos+=1&q?4:2,128&q?ce.pos+=8:64&q?ce.pos+=4:8&q&&(ce.pos+=2)}return N.prototype.encode=function(){var v,S,I;for(S=new Da(M.call(this.raw.data)),v=0,I=this.glyphIDs.length;v<I;++v)S.pos=this.glyphOffsets[v];return S.data},N})(),Re=(function(){function N(){return N.__super__.constructor.apply(this,arguments)}return Bi(N,Ga),N.prototype.tag="loca",N.prototype.parse=function(v){var S,I;return v.pos=this.offset,S=this.file.head.indexToLocFormat,this.offsets=S===0?(function(){var P,V;for(V=[],I=0,P=this.length;I<P;I+=2)V.push(2*v.readUInt16());return V}).call(this):(function(){var P,V;for(V=[],I=0,P=this.length;I<P;I+=4)V.push(v.readUInt32());return V}).call(this)},N.prototype.indexOf=function(v){return this.offsets[v]},N.prototype.lengthOf=function(v){return this.offsets[v+1]-this.offsets[v]},N.prototype.encode=function(v,S){for(var I=new Uint32Array(this.offsets.length),P=0,V=0,ce=0;ce<I.length;++ce)if(I[ce]=P,V<S.length&&S[V]==ce){++V,I[ce]=P;var q=this.offsets[ce],ee=this.offsets[ce+1]-q;ee>0&&(P+=ee)}for(var Ce=new Array(4*I.length),Me=0;Me<I.length;++Me)Ce[4*Me+3]=255&I[Me],Ce[4*Me+2]=(65280&I[Me])>>8,Ce[4*Me+1]=(16711680&I[Me])>>16,Ce[4*Me]=(4278190080&I[Me])>>24;return Ce},N})(),Je=(function(){function N(v){this.font=v,this.subset={},this.unicodes={},this.next=33}return N.prototype.generateCmap=function(){var v,S,I,P,V;for(S in P=this.font.cmap.tables[0].codeMap,v={},V=this.subset)I=V[S],v[S]=P[I];return v},N.prototype.glyphsFor=function(v){var S,I,P,V,ce,q,ee;for(P={},ce=0,q=v.length;ce<q;ce++)P[V=v[ce]]=this.font.glyf.glyphFor(V);for(V in S=[],P)(I=P[V])!=null&&I.compound&&S.push.apply(S,I.glyphIDs);if(S.length>0)for(V in ee=this.glyphsFor(S))I=ee[V],P[V]=I;return P},N.prototype.encode=function(v,S){var I,P,V,ce,q,ee,Ce,Me,ze,Xe,xe,ct,it,ut,We;for(P in I=eo.encode(this.generateCmap(),"unicode"),ce=this.glyphsFor(v),xe={0:0},We=I.charMap)xe[(ee=We[P]).old]=ee.new;for(ct in Xe=I.maxGlyphID,ce)ct in xe||(xe[ct]=Xe++);return Me=(function(jt){var Pt,gt;for(Pt in gt={},jt)gt[jt[Pt]]=Pt;return gt})(xe),ze=Object.keys(Me).sort(function(jt,Pt){return jt-Pt}),it=(function(){var jt,Pt,gt;for(gt=[],jt=0,Pt=ze.length;jt<Pt;jt++)q=ze[jt],gt.push(Me[q]);return gt})(),V=this.font.glyf.encode(ce,it,xe),Ce=this.font.loca.encode(V.offsets,it),ut={cmap:this.font.cmap.raw(),glyf:V.table,loca:Ce,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(S)},this.font.os2.exists&&(ut["OS/2"]=this.font.os2.raw()),this.font.directory.encode(ut)},N})();Ge.API.PDFObject=(function(){var N;function v(){}return N=function(S,I){return(Array(I+1).join("0")+S).slice(-I)},v.convert=function(S){var I,P,V,ce;if(Array.isArray(S))return"["+(function(){var q,ee,Ce;for(Ce=[],q=0,ee=S.length;q<ee;q++)I=S[q],Ce.push(v.convert(I));return Ce})().join(" ")+"]";if(typeof S=="string")return"/"+S;if(S!=null&&S.isString)return"("+S+")";if(S instanceof Date)return"(D:"+N(S.getUTCFullYear(),4)+N(S.getUTCMonth(),2)+N(S.getUTCDate(),2)+N(S.getUTCHours(),2)+N(S.getUTCMinutes(),2)+N(S.getUTCSeconds(),2)+"Z)";if({}.toString.call(S)==="[object Object]"){for(P in V=["<<"],S)ce=S[P],V.push("/"+P+" "+v.convert(ce));return V.push(">>"),V.join(`
`)}return""+S},v})()}),"./node_modules/pako/dist/pako.esm.mjs":(function(d,A,o){o.r(A),o.d(A,{Deflate:function(){return Ds},Inflate:function(){return Nn},constants:function(){return Ba},default:function(){return Ei},deflate:function(){return Sr},deflateRaw:function(){return Er},gzip:function(){return pn},inflate:function(){return ra},inflateRaw:function(){return La},ungzip:function(){return bi}});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const f=4,m=0,p=1,x=2;function b(C){let Be=C.length;for(;--Be>=0;)C[Be]=0}const y=0,w=1,E=2,R=3,z=258,X=29,Y=256,Q=Y+1+X,G=30,le=19,Ae=2*Q+1,je=15,ue=16,Se=7,ae=256,Ne=16,he=17,se=18,de=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),oe=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Ee=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),De=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ke=512,pe=new Array((Q+2)*2);b(pe);const ye=new Array(G*2);b(ye);const fe=new Array(ke);b(fe);const te=new Array(z-R+1);b(te);const ge=new Array(X);b(ge);const Fe=new Array(G);b(Fe);function $e(C,Be,H,Pe,lt){this.static_tree=C,this.extra_bits=Be,this.extra_base=H,this.elems=Pe,this.max_length=lt,this.has_stree=C&&C.length}let kt,St,Ge;function Mt(C,Be){this.dyn_tree=C,this.max_code=0,this.stat_desc=Be}const Vt=C=>C<256?fe[C]:fe[256+(C>>>7)],cs=(C,Be)=>{C.pending_buf[C.pending++]=Be&255,C.pending_buf[C.pending++]=Be>>>8&255},xt=(C,Be,H)=>{C.bi_valid>ue-H?(C.bi_buf|=Be<<C.bi_valid&65535,cs(C,C.bi_buf),C.bi_buf=Be>>ue-C.bi_valid,C.bi_valid+=H-ue):(C.bi_buf|=Be<<C.bi_valid&65535,C.bi_valid+=H)},ot=(C,Be,H)=>{xt(C,H[Be*2],H[Be*2+1])},At=(C,Be)=>{let H=0;do H|=C&1,C>>>=1,H<<=1;while(--Be>0);return H>>>1},Lt=C=>{C.bi_valid===16?(cs(C,C.bi_buf),C.bi_buf=0,C.bi_valid=0):C.bi_valid>=8&&(C.pending_buf[C.pending++]=C.bi_buf&255,C.bi_buf>>=8,C.bi_valid-=8)},$s=(C,Be)=>{const H=Be.dyn_tree,Pe=Be.max_code,lt=Be.stat_desc.static_tree,at=Be.stat_desc.has_stree,Jt=Be.stat_desc.extra_bits,Ut=Be.stat_desc.extra_base,pr=Be.stat_desc.max_length;let Nt,Zt,gn,nr,Ps,xs,Fa=0;for(nr=0;nr<=je;nr++)C.bl_count[nr]=0;for(H[C.heap[C.heap_max]*2+1]=0,Nt=C.heap_max+1;Nt<Ae;Nt++)Zt=C.heap[Nt],nr=H[H[Zt*2+1]*2+1]+1,nr>pr&&(nr=pr,Fa++),H[Zt*2+1]=nr,!(Zt>Pe)&&(C.bl_count[nr]++,Ps=0,Zt>=Ut&&(Ps=Jt[Zt-Ut]),xs=H[Zt*2],C.opt_len+=xs*(nr+Ps),at&&(C.static_len+=xs*(lt[Zt*2+1]+Ps)));if(Fa!==0){do{for(nr=pr-1;C.bl_count[nr]===0;)nr--;C.bl_count[nr]--,C.bl_count[nr+1]+=2,C.bl_count[pr]--,Fa-=2}while(Fa>0);for(nr=pr;nr!==0;nr--)for(Zt=C.bl_count[nr];Zt!==0;)gn=C.heap[--Nt],!(gn>Pe)&&(H[gn*2+1]!==nr&&(C.opt_len+=(nr-H[gn*2+1])*H[gn*2],H[gn*2+1]=nr),Zt--)}},vs=(C,Be,H)=>{const Pe=new Array(je+1);let lt=0,at,Jt;for(at=1;at<=je;at++)lt=lt+H[at-1]<<1,Pe[at]=lt;for(Jt=0;Jt<=Be;Jt++){let Ut=C[Jt*2+1];Ut!==0&&(C[Jt*2]=At(Pe[Ut]++,Ut))}},fr=()=>{let C,Be,H,Pe,lt;const at=new Array(je+1);for(H=0,Pe=0;Pe<X-1;Pe++)for(ge[Pe]=H,C=0;C<1<<de[Pe];C++)te[H++]=Pe;for(te[H-1]=Pe,lt=0,Pe=0;Pe<16;Pe++)for(Fe[Pe]=lt,C=0;C<1<<oe[Pe];C++)fe[lt++]=Pe;for(lt>>=7;Pe<G;Pe++)for(Fe[Pe]=lt<<7,C=0;C<1<<oe[Pe]-7;C++)fe[256+lt++]=Pe;for(Be=0;Be<=je;Be++)at[Be]=0;for(C=0;C<=143;)pe[C*2+1]=8,C++,at[8]++;for(;C<=255;)pe[C*2+1]=9,C++,at[9]++;for(;C<=279;)pe[C*2+1]=7,C++,at[7]++;for(;C<=287;)pe[C*2+1]=8,C++,at[8]++;for(vs(pe,Q+1,at),C=0;C<G;C++)ye[C*2+1]=5,ye[C*2]=At(C,5);kt=new $e(pe,de,Y+1,Q,je),St=new $e(ye,oe,0,G,je),Ge=new $e(new Array(0),Ee,0,le,Se)},Ar=C=>{let Be;for(Be=0;Be<Q;Be++)C.dyn_ltree[Be*2]=0;for(Be=0;Be<G;Be++)C.dyn_dtree[Be*2]=0;for(Be=0;Be<le;Be++)C.bl_tree[Be*2]=0;C.dyn_ltree[ae*2]=1,C.opt_len=C.static_len=0,C.sym_next=C.matches=0},hr=C=>{C.bi_valid>8?cs(C,C.bi_buf):C.bi_valid>0&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0},Ms=(C,Be,H,Pe)=>{const lt=Be*2,at=H*2;return C[lt]<C[at]||C[lt]===C[at]&&Pe[Be]<=Pe[H]},ys=(C,Be,H)=>{const Pe=C.heap[H];let lt=H<<1;for(;lt<=C.heap_len&&(lt<C.heap_len&&Ms(Be,C.heap[lt+1],C.heap[lt],C.depth)&&lt++,!Ms(Be,Pe,C.heap[lt],C.depth));)C.heap[H]=C.heap[lt],H=lt,lt<<=1;C.heap[H]=Pe},Us=(C,Be,H)=>{let Pe,lt,at=0,Jt,Ut;if(C.sym_next!==0)do Pe=C.pending_buf[C.sym_buf+at++]&255,Pe+=(C.pending_buf[C.sym_buf+at++]&255)<<8,lt=C.pending_buf[C.sym_buf+at++],Pe===0?ot(C,lt,Be):(Jt=te[lt],ot(C,Jt+Y+1,Be),Ut=de[Jt],Ut!==0&&(lt-=ge[Jt],xt(C,lt,Ut)),Pe--,Jt=Vt(Pe),ot(C,Jt,H),Ut=oe[Jt],Ut!==0&&(Pe-=Fe[Jt],xt(C,Pe,Ut)));while(at<C.sym_next);ot(C,ae,Be)},xr=(C,Be)=>{const H=Be.dyn_tree,Pe=Be.stat_desc.static_tree,lt=Be.stat_desc.has_stree,at=Be.stat_desc.elems;let Jt,Ut,pr=-1,Nt;for(C.heap_len=0,C.heap_max=Ae,Jt=0;Jt<at;Jt++)H[Jt*2]!==0?(C.heap[++C.heap_len]=pr=Jt,C.depth[Jt]=0):H[Jt*2+1]=0;for(;C.heap_len<2;)Nt=C.heap[++C.heap_len]=pr<2?++pr:0,H[Nt*2]=1,C.depth[Nt]=0,C.opt_len--,lt&&(C.static_len-=Pe[Nt*2+1]);for(Be.max_code=pr,Jt=C.heap_len>>1;Jt>=1;Jt--)ys(C,H,Jt);Nt=at;do Jt=C.heap[1],C.heap[1]=C.heap[C.heap_len--],ys(C,H,1),Ut=C.heap[1],C.heap[--C.heap_max]=Jt,C.heap[--C.heap_max]=Ut,H[Nt*2]=H[Jt*2]+H[Ut*2],C.depth[Nt]=(C.depth[Jt]>=C.depth[Ut]?C.depth[Jt]:C.depth[Ut])+1,H[Jt*2+1]=H[Ut*2+1]=Nt,C.heap[1]=Nt++,ys(C,H,1);while(C.heap_len>=2);C.heap[--C.heap_max]=C.heap[1],$s(C,Be),vs(H,pr,C.bl_count)},yr=(C,Be,H)=>{let Pe,lt=-1,at,Jt=Be[1],Ut=0,pr=7,Nt=4;for(Jt===0&&(pr=138,Nt=3),Be[(H+1)*2+1]=65535,Pe=0;Pe<=H;Pe++)at=Jt,Jt=Be[(Pe+1)*2+1],!(++Ut<pr&&at===Jt)&&(Ut<Nt?C.bl_tree[at*2]+=Ut:at!==0?(at!==lt&&C.bl_tree[at*2]++,C.bl_tree[Ne*2]++):Ut<=10?C.bl_tree[he*2]++:C.bl_tree[se*2]++,Ut=0,lt=at,Jt===0?(pr=138,Nt=3):at===Jt?(pr=6,Nt=3):(pr=7,Nt=4))},nn=(C,Be,H)=>{let Pe,lt=-1,at,Jt=Be[1],Ut=0,pr=7,Nt=4;for(Jt===0&&(pr=138,Nt=3),Pe=0;Pe<=H;Pe++)if(at=Jt,Jt=Be[(Pe+1)*2+1],!(++Ut<pr&&at===Jt)){if(Ut<Nt)do ot(C,at,C.bl_tree);while(--Ut!==0);else at!==0?(at!==lt&&(ot(C,at,C.bl_tree),Ut--),ot(C,Ne,C.bl_tree),xt(C,Ut-3,2)):Ut<=10?(ot(C,he,C.bl_tree),xt(C,Ut-3,3)):(ot(C,se,C.bl_tree),xt(C,Ut-11,7));Ut=0,lt=at,Jt===0?(pr=138,Nt=3):at===Jt?(pr=6,Nt=3):(pr=7,Nt=4)}},Nr=C=>{let Be;for(yr(C,C.dyn_ltree,C.l_desc.max_code),yr(C,C.dyn_dtree,C.d_desc.max_code),xr(C,C.bl_desc),Be=le-1;Be>=3&&C.bl_tree[De[Be]*2+1]===0;Be--);return C.opt_len+=3*(Be+1)+5+5+4,Be},er=(C,Be,H,Pe)=>{let lt;for(xt(C,Be-257,5),xt(C,H-1,5),xt(C,Pe-4,4),lt=0;lt<Pe;lt++)xt(C,C.bl_tree[De[lt]*2+1],3);nn(C,C.dyn_ltree,Be-1),nn(C,C.dyn_dtree,H-1)},Ys=C=>{let Be=4093624447,H;for(H=0;H<=31;H++,Be>>>=1)if(Be&1&&C.dyn_ltree[H*2]!==0)return m;if(C.dyn_ltree[18]!==0||C.dyn_ltree[20]!==0||C.dyn_ltree[26]!==0)return p;for(H=32;H<Y;H++)if(C.dyn_ltree[H*2]!==0)return p;return m};let Ts=!1;const ft=C=>{Ts||(fr(),Ts=!0),C.l_desc=new Mt(C.dyn_ltree,kt),C.d_desc=new Mt(C.dyn_dtree,St),C.bl_desc=new Mt(C.bl_tree,Ge),C.bi_buf=0,C.bi_valid=0,Ar(C)},Kt=(C,Be,H,Pe)=>{xt(C,(y<<1)+(Pe?1:0),3),hr(C),cs(C,H),cs(C,~H),H&&C.pending_buf.set(C.window.subarray(Be,Be+H),C.pending),C.pending+=H},Cs=C=>{xt(C,w<<1,3),ot(C,ae,pe),Lt(C)},Vs=(C,Be,H,Pe)=>{let lt,at,Jt=0;C.level>0?(C.strm.data_type===x&&(C.strm.data_type=Ys(C)),xr(C,C.l_desc),xr(C,C.d_desc),Jt=Nr(C),lt=C.opt_len+3+7>>>3,at=C.static_len+3+7>>>3,at<=lt&&(lt=at)):lt=at=H+5,H+4<=lt&&Be!==-1?Kt(C,Be,H,Pe):C.strategy===f||at===lt?(xt(C,(w<<1)+(Pe?1:0),3),Us(C,pe,ye)):(xt(C,(E<<1)+(Pe?1:0),3),er(C,C.l_desc.max_code+1,C.d_desc.max_code+1,Jt+1),Us(C,C.dyn_ltree,C.dyn_dtree)),Ar(C),Pe&&hr(C)},ir=(C,Be,H)=>(C.pending_buf[C.sym_buf+C.sym_next++]=Be,C.pending_buf[C.sym_buf+C.sym_next++]=Be>>8,C.pending_buf[C.sym_buf+C.sym_next++]=H,Be===0?C.dyn_ltree[H*2]++:(C.matches++,Be--,C.dyn_ltree[(te[H]+Y+1)*2]++,C.dyn_dtree[Vt(Be)*2]++),C.sym_next===C.sym_end);var wt=ft,es=Kt,As=Vs,hs=ir,Ks=Cs,zs={_tr_init:wt,_tr_stored_block:es,_tr_flush_block:As,_tr_tally:hs,_tr_align:Ks},en=(C,Be,H,Pe)=>{let lt=C&65535|0,at=C>>>16&65535|0,Jt=0;for(;H!==0;){Jt=H>2e3?2e3:H,H-=Jt;do lt=lt+Be[Pe++]|0,at=at+lt|0;while(--Jt);lt%=65521,at%=65521}return lt|at<<16|0};const wa=()=>{let C,Be=[];for(var H=0;H<256;H++){C=H;for(var Pe=0;Pe<8;Pe++)C=C&1?3988292384^C>>>1:C>>>1;Be[H]=C}return Be},Ss=new Uint32Array(wa());var sr=(C,Be,H,Pe)=>{const lt=Ss,at=Pe+H;C^=-1;for(let Jt=Pe;Jt<at;Jt++)C=C>>>8^lt[(C^Be[Jt])&255];return C^-1},fs={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Pr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Gr,_tr_stored_block:ur,_tr_flush_block:Va,_tr_tally:ha,_tr_align:fn}=zs,{Z_NO_FLUSH:Bn,Z_PARTIAL_FLUSH:ln,Z_FULL_FLUSH:fa,Z_FINISH:Zn,Z_BLOCK:Ii,Z_OK:Dn,Z_STREAM_END:mc,Z_STREAM_ERROR:oi,Z_DATA_ERROR:To,Z_BUF_ERROR:Vl,Z_DEFAULT_COMPRESSION:ho,Z_FILTERED:ma,Z_HUFFMAN_ONLY:Ni,Z_RLE:sa,Z_FIXED:Ua,Z_DEFAULT_STRATEGY:qn,Z_UNKNOWN:fo,Z_DEFLATED:Ai}=Pr,Ci=9,Al=15,qo=8,ja=256+1+29,mo=30,ti=19,Di=2*ja+1,hi=15,Wr=3,Ka=258,ki=Ka+Wr+1,Pa=32,po=42,Gn=57,Ki=69,Ga=73,Da=91,fi=103,Uo=113,Bi=666,ba=1,mi=2,eo=3,Si=4,oo=3,Tt=(C,Be)=>(C.msg=fs[Be],Be),F=C=>C*2-(C>4?9:0),K=C=>{let Be=C.length;for(;--Be>=0;)C[Be]=0},J=C=>{let Be,H,Pe,lt=C.w_size;Be=C.hash_size,Pe=Be;do H=C.head[--Pe],C.head[Pe]=H>=lt?H-lt:0;while(--Be);Be=lt,Pe=Be;do H=C.prev[--Pe],C.prev[Pe]=H>=lt?H-lt:0;while(--Be)};let M=(C,Be,H)=>(Be<<C.hash_shift^H)&C.hash_mask;const $=C=>{const Be=C.state;let H=Be.pending;H>C.avail_out&&(H=C.avail_out),H!==0&&(C.output.set(Be.pending_buf.subarray(Be.pending_out,Be.pending_out+H),C.next_out),C.next_out+=H,Be.pending_out+=H,C.total_out+=H,C.avail_out-=H,Be.pending-=H,Be.pending===0&&(Be.pending_out=0))},ie=(C,Be)=>{Va(C,C.block_start>=0?C.block_start:-1,C.strstart-C.block_start,Be),C.block_start=C.strstart,$(C.strm)},ve=(C,Be)=>{C.pending_buf[C.pending++]=Be},Re=(C,Be)=>{C.pending_buf[C.pending++]=Be>>>8&255,C.pending_buf[C.pending++]=Be&255},Je=(C,Be,H,Pe)=>{let lt=C.avail_in;return lt>Pe&&(lt=Pe),lt===0?0:(C.avail_in-=lt,Be.set(C.input.subarray(C.next_in,C.next_in+lt),H),C.state.wrap===1?C.adler=en(C.adler,Be,lt,H):C.state.wrap===2&&(C.adler=sr(C.adler,Be,lt,H)),C.next_in+=lt,C.total_in+=lt,lt)},N=(C,Be)=>{let H=C.max_chain_length,Pe=C.strstart,lt,at,Jt=C.prev_length,Ut=C.nice_match;const pr=C.strstart>C.w_size-ki?C.strstart-(C.w_size-ki):0,Nt=C.window,Zt=C.w_mask,gn=C.prev,nr=C.strstart+Ka;let Ps=Nt[Pe+Jt-1],xs=Nt[Pe+Jt];C.prev_length>=C.good_match&&(H>>=2),Ut>C.lookahead&&(Ut=C.lookahead);do if(lt=Be,!(Nt[lt+Jt]!==xs||Nt[lt+Jt-1]!==Ps||Nt[lt]!==Nt[Pe]||Nt[++lt]!==Nt[Pe+1])){Pe+=2,lt++;do;while(Nt[++Pe]===Nt[++lt]&&Nt[++Pe]===Nt[++lt]&&Nt[++Pe]===Nt[++lt]&&Nt[++Pe]===Nt[++lt]&&Nt[++Pe]===Nt[++lt]&&Nt[++Pe]===Nt[++lt]&&Nt[++Pe]===Nt[++lt]&&Nt[++Pe]===Nt[++lt]&&Pe<nr);if(at=Ka-(nr-Pe),Pe=nr-Ka,at>Jt){if(C.match_start=Be,Jt=at,at>=Ut)break;Ps=Nt[Pe+Jt-1],xs=Nt[Pe+Jt]}}while((Be=gn[Be&Zt])>pr&&--H!==0);return Jt<=C.lookahead?Jt:C.lookahead},v=C=>{const Be=C.w_size;let H,Pe,lt;do{if(Pe=C.window_size-C.lookahead-C.strstart,C.strstart>=Be+(Be-ki)&&(C.window.set(C.window.subarray(Be,Be+Be-Pe),0),C.match_start-=Be,C.strstart-=Be,C.block_start-=Be,C.insert>C.strstart&&(C.insert=C.strstart),J(C),Pe+=Be),C.strm.avail_in===0)break;if(H=Je(C.strm,C.window,C.strstart+C.lookahead,Pe),C.lookahead+=H,C.lookahead+C.insert>=Wr)for(lt=C.strstart-C.insert,C.ins_h=C.window[lt],C.ins_h=M(C,C.ins_h,C.window[lt+1]);C.insert&&(C.ins_h=M(C,C.ins_h,C.window[lt+Wr-1]),C.prev[lt&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=lt,lt++,C.insert--,!(C.lookahead+C.insert<Wr)););}while(C.lookahead<ki&&C.strm.avail_in!==0)},S=(C,Be)=>{let H=C.pending_buf_size-5>C.w_size?C.w_size:C.pending_buf_size-5,Pe,lt,at,Jt=0,Ut=C.strm.avail_in;do{if(Pe=65535,at=C.bi_valid+42>>3,C.strm.avail_out<at||(at=C.strm.avail_out-at,lt=C.strstart-C.block_start,Pe>lt+C.strm.avail_in&&(Pe=lt+C.strm.avail_in),Pe>at&&(Pe=at),Pe<H&&(Pe===0&&Be!==Zn||Be===Bn||Pe!==lt+C.strm.avail_in)))break;Jt=Be===Zn&&Pe===lt+C.strm.avail_in?1:0,ur(C,0,0,Jt),C.pending_buf[C.pending-4]=Pe,C.pending_buf[C.pending-3]=Pe>>8,C.pending_buf[C.pending-2]=~Pe,C.pending_buf[C.pending-1]=~Pe>>8,$(C.strm),lt&&(lt>Pe&&(lt=Pe),C.strm.output.set(C.window.subarray(C.block_start,C.block_start+lt),C.strm.next_out),C.strm.next_out+=lt,C.strm.avail_out-=lt,C.strm.total_out+=lt,C.block_start+=lt,Pe-=lt),Pe&&(Je(C.strm,C.strm.output,C.strm.next_out,Pe),C.strm.next_out+=Pe,C.strm.avail_out-=Pe,C.strm.total_out+=Pe)}while(Jt===0);return Ut-=C.strm.avail_in,Ut&&(Ut>=C.w_size?(C.matches=2,C.window.set(C.strm.input.subarray(C.strm.next_in-C.w_size,C.strm.next_in),0),C.strstart=C.w_size,C.insert=C.strstart):(C.window_size-C.strstart<=Ut&&(C.strstart-=C.w_size,C.window.set(C.window.subarray(C.w_size,C.w_size+C.strstart),0),C.matches<2&&C.matches++,C.insert>C.strstart&&(C.insert=C.strstart)),C.window.set(C.strm.input.subarray(C.strm.next_in-Ut,C.strm.next_in),C.strstart),C.strstart+=Ut,C.insert+=Ut>C.w_size-C.insert?C.w_size-C.insert:Ut),C.block_start=C.strstart),C.high_water<C.strstart&&(C.high_water=C.strstart),Jt?Si:Be!==Bn&&Be!==Zn&&C.strm.avail_in===0&&C.strstart===C.block_start?mi:(at=C.window_size-C.strstart,C.strm.avail_in>at&&C.block_start>=C.w_size&&(C.block_start-=C.w_size,C.strstart-=C.w_size,C.window.set(C.window.subarray(C.w_size,C.w_size+C.strstart),0),C.matches<2&&C.matches++,at+=C.w_size,C.insert>C.strstart&&(C.insert=C.strstart)),at>C.strm.avail_in&&(at=C.strm.avail_in),at&&(Je(C.strm,C.window,C.strstart,at),C.strstart+=at,C.insert+=at>C.w_size-C.insert?C.w_size-C.insert:at),C.high_water<C.strstart&&(C.high_water=C.strstart),at=C.bi_valid+42>>3,at=C.pending_buf_size-at>65535?65535:C.pending_buf_size-at,H=at>C.w_size?C.w_size:at,lt=C.strstart-C.block_start,(lt>=H||(lt||Be===Zn)&&Be!==Bn&&C.strm.avail_in===0&&lt<=at)&&(Pe=lt>at?at:lt,Jt=Be===Zn&&C.strm.avail_in===0&&Pe===lt?1:0,ur(C,C.block_start,Pe,Jt),C.block_start+=Pe,$(C.strm)),Jt?eo:ba)},I=(C,Be)=>{let H,Pe;for(;;){if(C.lookahead<ki){if(v(C),C.lookahead<ki&&Be===Bn)return ba;if(C.lookahead===0)break}if(H=0,C.lookahead>=Wr&&(C.ins_h=M(C,C.ins_h,C.window[C.strstart+Wr-1]),H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),H!==0&&C.strstart-H<=C.w_size-ki&&(C.match_length=N(C,H)),C.match_length>=Wr)if(Pe=ha(C,C.strstart-C.match_start,C.match_length-Wr),C.lookahead-=C.match_length,C.match_length<=C.max_lazy_match&&C.lookahead>=Wr){C.match_length--;do C.strstart++,C.ins_h=M(C,C.ins_h,C.window[C.strstart+Wr-1]),H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart;while(--C.match_length!==0);C.strstart++}else C.strstart+=C.match_length,C.match_length=0,C.ins_h=C.window[C.strstart],C.ins_h=M(C,C.ins_h,C.window[C.strstart+1]);else Pe=ha(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++;if(Pe&&(ie(C,!1),C.strm.avail_out===0))return ba}return C.insert=C.strstart<Wr-1?C.strstart:Wr-1,Be===Zn?(ie(C,!0),C.strm.avail_out===0?eo:Si):C.sym_next&&(ie(C,!1),C.strm.avail_out===0)?ba:mi},P=(C,Be)=>{let H,Pe,lt;for(;;){if(C.lookahead<ki){if(v(C),C.lookahead<ki&&Be===Bn)return ba;if(C.lookahead===0)break}if(H=0,C.lookahead>=Wr&&(C.ins_h=M(C,C.ins_h,C.window[C.strstart+Wr-1]),H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart),C.prev_length=C.match_length,C.prev_match=C.match_start,C.match_length=Wr-1,H!==0&&C.prev_length<C.max_lazy_match&&C.strstart-H<=C.w_size-ki&&(C.match_length=N(C,H),C.match_length<=5&&(C.strategy===ma||C.match_length===Wr&&C.strstart-C.match_start>4096)&&(C.match_length=Wr-1)),C.prev_length>=Wr&&C.match_length<=C.prev_length){lt=C.strstart+C.lookahead-Wr,Pe=ha(C,C.strstart-1-C.prev_match,C.prev_length-Wr),C.lookahead-=C.prev_length-1,C.prev_length-=2;do++C.strstart<=lt&&(C.ins_h=M(C,C.ins_h,C.window[C.strstart+Wr-1]),H=C.prev[C.strstart&C.w_mask]=C.head[C.ins_h],C.head[C.ins_h]=C.strstart);while(--C.prev_length!==0);if(C.match_available=0,C.match_length=Wr-1,C.strstart++,Pe&&(ie(C,!1),C.strm.avail_out===0))return ba}else if(C.match_available){if(Pe=ha(C,0,C.window[C.strstart-1]),Pe&&ie(C,!1),C.strstart++,C.lookahead--,C.strm.avail_out===0)return ba}else C.match_available=1,C.strstart++,C.lookahead--}return C.match_available&&(Pe=ha(C,0,C.window[C.strstart-1]),C.match_available=0),C.insert=C.strstart<Wr-1?C.strstart:Wr-1,Be===Zn?(ie(C,!0),C.strm.avail_out===0?eo:Si):C.sym_next&&(ie(C,!1),C.strm.avail_out===0)?ba:mi},V=(C,Be)=>{let H,Pe,lt,at;const Jt=C.window;for(;;){if(C.lookahead<=Ka){if(v(C),C.lookahead<=Ka&&Be===Bn)return ba;if(C.lookahead===0)break}if(C.match_length=0,C.lookahead>=Wr&&C.strstart>0&&(lt=C.strstart-1,Pe=Jt[lt],Pe===Jt[++lt]&&Pe===Jt[++lt]&&Pe===Jt[++lt])){at=C.strstart+Ka;do;while(Pe===Jt[++lt]&&Pe===Jt[++lt]&&Pe===Jt[++lt]&&Pe===Jt[++lt]&&Pe===Jt[++lt]&&Pe===Jt[++lt]&&Pe===Jt[++lt]&&Pe===Jt[++lt]&&lt<at);C.match_length=Ka-(at-lt),C.match_length>C.lookahead&&(C.match_length=C.lookahead)}if(C.match_length>=Wr?(H=ha(C,1,C.match_length-Wr),C.lookahead-=C.match_length,C.strstart+=C.match_length,C.match_length=0):(H=ha(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++),H&&(ie(C,!1),C.strm.avail_out===0))return ba}return C.insert=0,Be===Zn?(ie(C,!0),C.strm.avail_out===0?eo:Si):C.sym_next&&(ie(C,!1),C.strm.avail_out===0)?ba:mi},ce=(C,Be)=>{let H;for(;;){if(C.lookahead===0&&(v(C),C.lookahead===0)){if(Be===Bn)return ba;break}if(C.match_length=0,H=ha(C,0,C.window[C.strstart]),C.lookahead--,C.strstart++,H&&(ie(C,!1),C.strm.avail_out===0))return ba}return C.insert=0,Be===Zn?(ie(C,!0),C.strm.avail_out===0?eo:Si):C.sym_next&&(ie(C,!1),C.strm.avail_out===0)?ba:mi};function q(C,Be,H,Pe,lt){this.good_length=C,this.max_lazy=Be,this.nice_length=H,this.max_chain=Pe,this.func=lt}const ee=[new q(0,0,0,0,S),new q(4,4,8,4,I),new q(4,5,16,8,I),new q(4,6,32,32,I),new q(4,4,16,16,P),new q(8,16,32,32,P),new q(8,16,128,128,P),new q(8,32,128,256,P),new q(32,128,258,1024,P),new q(32,258,258,4096,P)],Ce=C=>{C.window_size=2*C.w_size,K(C.head),C.max_lazy_match=ee[C.level].max_lazy,C.good_match=ee[C.level].good_length,C.nice_match=ee[C.level].nice_length,C.max_chain_length=ee[C.level].max_chain,C.strstart=0,C.block_start=0,C.lookahead=0,C.insert=0,C.match_length=C.prev_length=Wr-1,C.match_available=0,C.ins_h=0};function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ai,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Di*2),this.dyn_dtree=new Uint16Array((2*mo+1)*2),this.bl_tree=new Uint16Array((2*ti+1)*2),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(hi+1),this.heap=new Uint16Array(2*ja+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ja+1),K(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const ze=C=>{if(!C)return 1;const Be=C.state;return!Be||Be.strm!==C||Be.status!==po&&Be.status!==Gn&&Be.status!==Ki&&Be.status!==Ga&&Be.status!==Da&&Be.status!==fi&&Be.status!==Uo&&Be.status!==Bi?1:0},Xe=C=>{if(ze(C))return Tt(C,oi);C.total_in=C.total_out=0,C.data_type=fo;const Be=C.state;return Be.pending=0,Be.pending_out=0,Be.wrap<0&&(Be.wrap=-Be.wrap),Be.status=Be.wrap===2?Gn:Be.wrap?po:Uo,C.adler=Be.wrap===2?0:1,Be.last_flush=-2,Gr(Be),Dn},xe=C=>{const Be=Xe(C);return Be===Dn&&Ce(C.state),Be},ct=(C,Be)=>ze(C)||C.state.wrap!==2?oi:(C.state.gzhead=Be,Dn),it=(C,Be,H,Pe,lt,at)=>{if(!C)return oi;let Jt=1;if(Be===ho&&(Be=6),Pe<0?(Jt=0,Pe=-Pe):Pe>15&&(Jt=2,Pe-=16),lt<1||lt>Ci||H!==Ai||Pe<8||Pe>15||Be<0||Be>9||at<0||at>Ua||Pe===8&&Jt!==1)return Tt(C,oi);Pe===8&&(Pe=9);const Ut=new Me;return C.state=Ut,Ut.strm=C,Ut.status=po,Ut.wrap=Jt,Ut.gzhead=null,Ut.w_bits=Pe,Ut.w_size=1<<Ut.w_bits,Ut.w_mask=Ut.w_size-1,Ut.hash_bits=lt+7,Ut.hash_size=1<<Ut.hash_bits,Ut.hash_mask=Ut.hash_size-1,Ut.hash_shift=~~((Ut.hash_bits+Wr-1)/Wr),Ut.window=new Uint8Array(Ut.w_size*2),Ut.head=new Uint16Array(Ut.hash_size),Ut.prev=new Uint16Array(Ut.w_size),Ut.lit_bufsize=1<<lt+6,Ut.pending_buf_size=Ut.lit_bufsize*4,Ut.pending_buf=new Uint8Array(Ut.pending_buf_size),Ut.sym_buf=Ut.lit_bufsize,Ut.sym_end=(Ut.lit_bufsize-1)*3,Ut.level=Be,Ut.strategy=at,Ut.method=H,xe(C)},ut=(C,Be)=>it(C,Be,Ai,Al,qo,qn),We=(C,Be)=>{if(ze(C)||Be>Ii||Be<0)return C?Tt(C,oi):oi;const H=C.state;if(!C.output||C.avail_in!==0&&!C.input||H.status===Bi&&Be!==Zn)return Tt(C,C.avail_out===0?Vl:oi);const Pe=H.last_flush;if(H.last_flush=Be,H.pending!==0){if($(C),C.avail_out===0)return H.last_flush=-1,Dn}else if(C.avail_in===0&&F(Be)<=F(Pe)&&Be!==Zn)return Tt(C,Vl);if(H.status===Bi&&C.avail_in!==0)return Tt(C,Vl);if(H.status===po&&H.wrap===0&&(H.status=Uo),H.status===po){let lt=Ai+(H.w_bits-8<<4)<<8,at=-1;if(H.strategy>=Ni||H.level<2?at=0:H.level<6?at=1:H.level===6?at=2:at=3,lt|=at<<6,H.strstart!==0&&(lt|=Pa),lt+=31-lt%31,Re(H,lt),H.strstart!==0&&(Re(H,C.adler>>>16),Re(H,C.adler&65535)),C.adler=1,H.status=Uo,$(C),H.pending!==0)return H.last_flush=-1,Dn}if(H.status===Gn){if(C.adler=0,ve(H,31),ve(H,139),ve(H,8),H.gzhead)ve(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),ve(H,H.gzhead.time&255),ve(H,H.gzhead.time>>8&255),ve(H,H.gzhead.time>>16&255),ve(H,H.gzhead.time>>24&255),ve(H,H.level===9?2:H.strategy>=Ni||H.level<2?4:0),ve(H,H.gzhead.os&255),H.gzhead.extra&&H.gzhead.extra.length&&(ve(H,H.gzhead.extra.length&255),ve(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(C.adler=sr(C.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=Ki;else if(ve(H,0),ve(H,0),ve(H,0),ve(H,0),ve(H,0),ve(H,H.level===9?2:H.strategy>=Ni||H.level<2?4:0),ve(H,oo),H.status=Uo,$(C),H.pending!==0)return H.last_flush=-1,Dn}if(H.status===Ki){if(H.gzhead.extra){let lt=H.pending,at=(H.gzhead.extra.length&65535)-H.gzindex;for(;H.pending+at>H.pending_buf_size;){let Ut=H.pending_buf_size-H.pending;if(H.pending_buf.set(H.gzhead.extra.subarray(H.gzindex,H.gzindex+Ut),H.pending),H.pending=H.pending_buf_size,H.gzhead.hcrc&&H.pending>lt&&(C.adler=sr(C.adler,H.pending_buf,H.pending-lt,lt)),H.gzindex+=Ut,$(C),H.pending!==0)return H.last_flush=-1,Dn;lt=0,at-=Ut}let Jt=new Uint8Array(H.gzhead.extra);H.pending_buf.set(Jt.subarray(H.gzindex,H.gzindex+at),H.pending),H.pending+=at,H.gzhead.hcrc&&H.pending>lt&&(C.adler=sr(C.adler,H.pending_buf,H.pending-lt,lt)),H.gzindex=0}H.status=Ga}if(H.status===Ga){if(H.gzhead.name){let lt=H.pending,at;do{if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>lt&&(C.adler=sr(C.adler,H.pending_buf,H.pending-lt,lt)),$(C),H.pending!==0)return H.last_flush=-1,Dn;lt=0}H.gzindex<H.gzhead.name.length?at=H.gzhead.name.charCodeAt(H.gzindex++)&255:at=0,ve(H,at)}while(at!==0);H.gzhead.hcrc&&H.pending>lt&&(C.adler=sr(C.adler,H.pending_buf,H.pending-lt,lt)),H.gzindex=0}H.status=Da}if(H.status===Da){if(H.gzhead.comment){let lt=H.pending,at;do{if(H.pending===H.pending_buf_size){if(H.gzhead.hcrc&&H.pending>lt&&(C.adler=sr(C.adler,H.pending_buf,H.pending-lt,lt)),$(C),H.pending!==0)return H.last_flush=-1,Dn;lt=0}H.gzindex<H.gzhead.comment.length?at=H.gzhead.comment.charCodeAt(H.gzindex++)&255:at=0,ve(H,at)}while(at!==0);H.gzhead.hcrc&&H.pending>lt&&(C.adler=sr(C.adler,H.pending_buf,H.pending-lt,lt))}H.status=fi}if(H.status===fi){if(H.gzhead.hcrc){if(H.pending+2>H.pending_buf_size&&($(C),H.pending!==0))return H.last_flush=-1,Dn;ve(H,C.adler&255),ve(H,C.adler>>8&255),C.adler=0}if(H.status=Uo,$(C),H.pending!==0)return H.last_flush=-1,Dn}if(C.avail_in!==0||H.lookahead!==0||Be!==Bn&&H.status!==Bi){let lt=H.level===0?S(H,Be):H.strategy===Ni?ce(H,Be):H.strategy===sa?V(H,Be):ee[H.level].func(H,Be);if((lt===eo||lt===Si)&&(H.status=Bi),lt===ba||lt===eo)return C.avail_out===0&&(H.last_flush=-1),Dn;if(lt===mi&&(Be===ln?fn(H):Be!==Ii&&(ur(H,0,0,!1),Be===fa&&(K(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),$(C),C.avail_out===0))return H.last_flush=-1,Dn}return Be!==Zn?Dn:H.wrap<=0?mc:(H.wrap===2?(ve(H,C.adler&255),ve(H,C.adler>>8&255),ve(H,C.adler>>16&255),ve(H,C.adler>>24&255),ve(H,C.total_in&255),ve(H,C.total_in>>8&255),ve(H,C.total_in>>16&255),ve(H,C.total_in>>24&255)):(Re(H,C.adler>>>16),Re(H,C.adler&65535)),$(C),H.wrap>0&&(H.wrap=-H.wrap),H.pending!==0?Dn:mc)},jt=C=>{if(ze(C))return oi;const Be=C.state.status;return C.state=null,Be===Uo?Tt(C,To):Dn},Pt=(C,Be)=>{let H=Be.length;if(ze(C))return oi;const Pe=C.state,lt=Pe.wrap;if(lt===2||lt===1&&Pe.status!==po||Pe.lookahead)return oi;if(lt===1&&(C.adler=en(C.adler,Be,H,0)),Pe.wrap=0,H>=Pe.w_size){lt===0&&(K(Pe.head),Pe.strstart=0,Pe.block_start=0,Pe.insert=0);let pr=new Uint8Array(Pe.w_size);pr.set(Be.subarray(H-Pe.w_size,H),0),Be=pr,H=Pe.w_size}const at=C.avail_in,Jt=C.next_in,Ut=C.input;for(C.avail_in=H,C.next_in=0,C.input=Be,v(Pe);Pe.lookahead>=Wr;){let pr=Pe.strstart,Nt=Pe.lookahead-(Wr-1);do Pe.ins_h=M(Pe,Pe.ins_h,Pe.window[pr+Wr-1]),Pe.prev[pr&Pe.w_mask]=Pe.head[Pe.ins_h],Pe.head[Pe.ins_h]=pr,pr++;while(--Nt);Pe.strstart=pr,Pe.lookahead=Wr-1,v(Pe)}return Pe.strstart+=Pe.lookahead,Pe.block_start=Pe.strstart,Pe.insert=Pe.lookahead,Pe.lookahead=0,Pe.match_length=Pe.prev_length=Wr-1,Pe.match_available=0,C.next_in=Jt,C.input=Ut,C.avail_in=at,Pe.wrap=lt,Dn};var gt=ut,Ke=it,Ot=xe,ls=Xe,zt=ct,yt=We,ss=jt,Ye=Pt,st="pako deflate (from Nodeca project)",bt={deflateInit:gt,deflateInit2:Ke,deflateReset:Ot,deflateResetKeep:ls,deflateSetHeader:zt,deflate:yt,deflateEnd:ss,deflateSetDictionary:Ye,deflateInfo:st};const vt=(C,Be)=>Object.prototype.hasOwnProperty.call(C,Be);var ns=function(C){const Be=Array.prototype.slice.call(arguments,1);for(;Be.length;){const H=Be.shift();if(H){if(typeof H!="object")throw new TypeError(H+"must be non-object");for(const Pe in H)vt(H,Pe)&&(C[Pe]=H[Pe])}}return C},us=C=>{let Be=0;for(let Pe=0,lt=C.length;Pe<lt;Pe++)Be+=C[Pe].length;const H=new Uint8Array(Be);for(let Pe=0,lt=0,at=C.length;Pe<at;Pe++){let Jt=C[Pe];H.set(Jt,lt),lt+=Jt.length}return H},bs={assign:ns,flattenChunks:us};let Gt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Gt=!1}const ms=new Uint8Array(256);for(let C=0;C<256;C++)ms[C]=C>=252?6:C>=248?5:C>=240?4:C>=224?3:C>=192?2:1;ms[254]=ms[254]=1;var Xs=C=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(C);let Be,H,Pe,lt,at,Jt=C.length,Ut=0;for(lt=0;lt<Jt;lt++)H=C.charCodeAt(lt),(H&64512)===55296&&lt+1<Jt&&(Pe=C.charCodeAt(lt+1),(Pe&64512)===56320&&(H=65536+(H-55296<<10)+(Pe-56320),lt++)),Ut+=H<128?1:H<2048?2:H<65536?3:4;for(Be=new Uint8Array(Ut),at=0,lt=0;at<Ut;lt++)H=C.charCodeAt(lt),(H&64512)===55296&&lt+1<Jt&&(Pe=C.charCodeAt(lt+1),(Pe&64512)===56320&&(H=65536+(H-55296<<10)+(Pe-56320),lt++)),H<128?Be[at++]=H:H<2048?(Be[at++]=192|H>>>6,Be[at++]=128|H&63):H<65536?(Be[at++]=224|H>>>12,Be[at++]=128|H>>>6&63,Be[at++]=128|H&63):(Be[at++]=240|H>>>18,Be[at++]=128|H>>>12&63,Be[at++]=128|H>>>6&63,Be[at++]=128|H&63);return Be};const Qs=(C,Be)=>{if(Be<65534&&C.subarray&&Gt)return String.fromCharCode.apply(null,C.length===Be?C:C.subarray(0,Be));let H="";for(let Pe=0;Pe<Be;Pe++)H+=String.fromCharCode(C[Pe]);return H};var Qe=(C,Be)=>{const H=Be||C.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(C.subarray(0,Be));let Pe,lt;const at=new Array(H*2);for(lt=0,Pe=0;Pe<H;){let Jt=C[Pe++];if(Jt<128){at[lt++]=Jt;continue}let Ut=ms[Jt];if(Ut>4){at[lt++]=65533,Pe+=Ut-1;continue}for(Jt&=Ut===2?31:Ut===3?15:7;Ut>1&&Pe<H;)Jt=Jt<<6|C[Pe++]&63,Ut--;if(Ut>1){at[lt++]=65533;continue}Jt<65536?at[lt++]=Jt:(Jt-=65536,at[lt++]=55296|Jt>>10&1023,at[lt++]=56320|Jt&1023)}return Qs(at,lt)},dt=(C,Be)=>{Be=Be||C.length,Be>C.length&&(Be=C.length);let H=Be-1;for(;H>=0&&(C[H]&192)===128;)H--;return H<0||H===0?Be:H+ms[C[H]]>Be?H:Be},ht={string2buf:Xs,buf2string:Qe,utf8border:dt};function It(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Qt=It;const Xt=Object.prototype.toString,{Z_NO_FLUSH:ps,Z_SYNC_FLUSH:gs,Z_FULL_FLUSH:Ls,Z_FINISH:Js,Z_OK:br,Z_STREAM_END:gr,Z_DEFAULT_COMPRESSION:Yr,Z_DEFAULT_STRATEGY:et,Z_DEFLATED:or}=Pr;function un(C){this.options=bs.assign({level:Yr,method:or,chunkSize:16384,windowBits:15,memLevel:8,strategy:et},C||{});let Be=this.options;Be.raw&&Be.windowBits>0?Be.windowBits=-Be.windowBits:Be.gzip&&Be.windowBits>0&&Be.windowBits<16&&(Be.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0;let H=bt.deflateInit2(this.strm,Be.level,Be.method,Be.windowBits,Be.memLevel,Be.strategy);if(H!==br)throw new Error(fs[H]);if(Be.header&&bt.deflateSetHeader(this.strm,Be.header),Be.dictionary){let Pe;if(typeof Be.dictionary=="string"?Pe=ht.string2buf(Be.dictionary):Xt.call(Be.dictionary)==="[object ArrayBuffer]"?Pe=new Uint8Array(Be.dictionary):Pe=Be.dictionary,H=bt.deflateSetDictionary(this.strm,Pe),H!==br)throw new Error(fs[H]);this._dict_set=!0}}un.prototype.push=function(C,Be){const H=this.strm,Pe=this.options.chunkSize;let lt,at;if(this.ended)return!1;for(Be===~~Be?at=Be:at=Be===!0?Js:ps,typeof C=="string"?H.input=ht.string2buf(C):Xt.call(C)==="[object ArrayBuffer]"?H.input=new Uint8Array(C):H.input=C,H.next_in=0,H.avail_in=H.input.length;;){if(H.avail_out===0&&(H.output=new Uint8Array(Pe),H.next_out=0,H.avail_out=Pe),(at===gs||at===Ls)&&H.avail_out<=6){this.onData(H.output.subarray(0,H.next_out)),H.avail_out=0;continue}if(lt=bt.deflate(H,at),lt===gr)return H.next_out>0&&this.onData(H.output.subarray(0,H.next_out)),lt=bt.deflateEnd(this.strm),this.onEnd(lt),this.ended=!0,lt===br;if(H.avail_out===0){this.onData(H.output);continue}if(at>0&&H.next_out>0){this.onData(H.output.subarray(0,H.next_out)),H.avail_out=0;continue}if(H.avail_in===0)break}return!0},un.prototype.onData=function(C){this.chunks.push(C)},un.prototype.onEnd=function(C){C===br&&(this.result=bs.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function rr(C,Be){const H=new un(Be);if(H.push(C,!0),H.err)throw H.msg||fs[H.err];return H.result}function _s(C,Be){return Be=Be||{},Be.raw=!0,rr(C,Be)}function tn(C,Be){return Be=Be||{},Be.gzip=!0,rr(C,Be)}var vr=un,$r=rr,Or=_s,ka=tn,Sn={Deflate:vr,deflate:$r,deflateRaw:Or,gzip:ka};const kr=16209,zn=16191;var Xr=function(Be,H){let Pe,lt,at,Jt,Ut,pr,Nt,Zt,gn,nr,Ps,xs,Fa,hn,Kr,cn,Tn,tr,Un,Ma,Hr,na,Pn,Tr;const on=Be.state;Pe=Be.next_in,Pn=Be.input,lt=Pe+(Be.avail_in-5),at=Be.next_out,Tr=Be.output,Jt=at-(H-Be.avail_out),Ut=at+(Be.avail_out-257),pr=on.dmax,Nt=on.wsize,Zt=on.whave,gn=on.wnext,nr=on.window,Ps=on.hold,xs=on.bits,Fa=on.lencode,hn=on.distcode,Kr=(1<<on.lenbits)-1,cn=(1<<on.distbits)-1;e:do{xs<15&&(Ps+=Pn[Pe++]<<xs,xs+=8,Ps+=Pn[Pe++]<<xs,xs+=8),Tn=Fa[Ps&Kr];t:for(;;){if(tr=Tn>>>24,Ps>>>=tr,xs-=tr,tr=Tn>>>16&255,tr===0)Tr[at++]=Tn&65535;else if(tr&16){Un=Tn&65535,tr&=15,tr&&(xs<tr&&(Ps+=Pn[Pe++]<<xs,xs+=8),Un+=Ps&(1<<tr)-1,Ps>>>=tr,xs-=tr),xs<15&&(Ps+=Pn[Pe++]<<xs,xs+=8,Ps+=Pn[Pe++]<<xs,xs+=8),Tn=hn[Ps&cn];s:for(;;){if(tr=Tn>>>24,Ps>>>=tr,xs-=tr,tr=Tn>>>16&255,tr&16){if(Ma=Tn&65535,tr&=15,xs<tr&&(Ps+=Pn[Pe++]<<xs,xs+=8,xs<tr&&(Ps+=Pn[Pe++]<<xs,xs+=8)),Ma+=Ps&(1<<tr)-1,Ma>pr){Be.msg="invalid distance too far back",on.mode=kr;break e}if(Ps>>>=tr,xs-=tr,tr=at-Jt,Ma>tr){if(tr=Ma-tr,tr>Zt&&on.sane){Be.msg="invalid distance too far back",on.mode=kr;break e}if(Hr=0,na=nr,gn===0){if(Hr+=Nt-tr,tr<Un){Un-=tr;do Tr[at++]=nr[Hr++];while(--tr);Hr=at-Ma,na=Tr}}else if(gn<tr){if(Hr+=Nt+gn-tr,tr-=gn,tr<Un){Un-=tr;do Tr[at++]=nr[Hr++];while(--tr);if(Hr=0,gn<Un){tr=gn,Un-=tr;do Tr[at++]=nr[Hr++];while(--tr);Hr=at-Ma,na=Tr}}}else if(Hr+=gn-tr,tr<Un){Un-=tr;do Tr[at++]=nr[Hr++];while(--tr);Hr=at-Ma,na=Tr}for(;Un>2;)Tr[at++]=na[Hr++],Tr[at++]=na[Hr++],Tr[at++]=na[Hr++],Un-=3;Un&&(Tr[at++]=na[Hr++],Un>1&&(Tr[at++]=na[Hr++]))}else{Hr=at-Ma;do Tr[at++]=Tr[Hr++],Tr[at++]=Tr[Hr++],Tr[at++]=Tr[Hr++],Un-=3;while(Un>2);Un&&(Tr[at++]=Tr[Hr++],Un>1&&(Tr[at++]=Tr[Hr++]))}}else if((tr&64)===0){Tn=hn[(Tn&65535)+(Ps&(1<<tr)-1)];continue s}else{Be.msg="invalid distance code",on.mode=kr;break e}break}}else if((tr&64)===0){Tn=Fa[(Tn&65535)+(Ps&(1<<tr)-1)];continue t}else if(tr&32){on.mode=zn;break e}else{Be.msg="invalid literal/length code",on.mode=kr;break e}break}}while(Pe<lt&&at<Ut);Un=xs>>3,Pe-=Un,xs-=Un<<3,Ps&=(1<<xs)-1,Be.next_in=Pe,Be.next_out=at,Be.avail_in=Pe<lt?5+(lt-Pe):5-(Pe-lt),Be.avail_out=at<Ut?257+(Ut-at):257-(at-Ut),on.hold=Ps,on.bits=xs};const Br=15,rn=852,Ir=592,vn=0,Wn=1,En=2,Rn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Wa=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Vr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Qa=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var _r=(C,Be,H,Pe,lt,at,Jt,Ut)=>{const pr=Ut.bits;let Nt=0,Zt=0,gn=0,nr=0,Ps=0,xs=0,Fa=0,hn=0,Kr=0,cn=0,Tn,tr,Un,Ma,Hr,na=null,Pn;const Tr=new Uint16Array(Br+1),on=new Uint16Array(Br+1);let yo=null,ql,yl,Xi;for(Nt=0;Nt<=Br;Nt++)Tr[Nt]=0;for(Zt=0;Zt<Pe;Zt++)Tr[Be[H+Zt]]++;for(Ps=pr,nr=Br;nr>=1&&Tr[nr]===0;nr--);if(Ps>nr&&(Ps=nr),nr===0)return lt[at++]=1<<24|64<<16|0,lt[at++]=1<<24|64<<16|0,Ut.bits=1,0;for(gn=1;gn<nr&&Tr[gn]===0;gn++);for(Ps<gn&&(Ps=gn),hn=1,Nt=1;Nt<=Br;Nt++)if(hn<<=1,hn-=Tr[Nt],hn<0)return-1;if(hn>0&&(C===vn||nr!==1))return-1;for(on[1]=0,Nt=1;Nt<Br;Nt++)on[Nt+1]=on[Nt]+Tr[Nt];for(Zt=0;Zt<Pe;Zt++)Be[H+Zt]!==0&&(Jt[on[Be[H+Zt]]++]=Zt);if(C===vn?(na=yo=Jt,Pn=20):C===Wn?(na=Rn,yo=Wa,Pn=257):(na=Vr,yo=Qa,Pn=0),cn=0,Zt=0,Nt=gn,Hr=at,xs=Ps,Fa=0,Un=-1,Kr=1<<Ps,Ma=Kr-1,C===Wn&&Kr>rn||C===En&&Kr>Ir)return 1;for(;;){ql=Nt-Fa,Jt[Zt]+1<Pn?(yl=0,Xi=Jt[Zt]):Jt[Zt]>=Pn?(yl=yo[Jt[Zt]-Pn],Xi=na[Jt[Zt]-Pn]):(yl=96,Xi=0),Tn=1<<Nt-Fa,tr=1<<xs,gn=tr;do tr-=Tn,lt[Hr+(cn>>Fa)+tr]=ql<<24|yl<<16|Xi|0;while(tr!==0);for(Tn=1<<Nt-1;cn&Tn;)Tn>>=1;if(Tn!==0?(cn&=Tn-1,cn+=Tn):cn=0,Zt++,--Tr[Nt]===0){if(Nt===nr)break;Nt=Be[H+Jt[Zt]]}if(Nt>Ps&&(cn&Ma)!==Un){for(Fa===0&&(Fa=Ps),Hr+=gn,xs=Nt-Fa,hn=1<<xs;xs+Fa<nr&&(hn-=Tr[xs+Fa],!(hn<=0));)xs++,hn<<=1;if(Kr+=1<<xs,C===Wn&&Kr>rn||C===En&&Kr>Ir)return 1;Un=cn&Ma,lt[Un]=Ps<<24|xs<<16|Hr-at|0}}return cn!==0&&(lt[Hr+cn]=Nt-Fa<<24|64<<16|0),Ut.bits=Ps,0};const Na=0,jn=1,ar=2,{Z_FINISH:Fn,Z_BLOCK:Wc,Z_TREES:Ri,Z_OK:lo,Z_STREAM_END:Kl,Z_NEED_DICT:an,Z_STREAM_ERROR:li,Z_DATA_ERROR:pi,Z_MEM_ERROR:el,Z_BUF_ERROR:Lo,Z_DEFLATED:Ra}=Pr,gi=16180,ci=16181,Ul=16182,Pi=16183,hl=16184,go=16185,Ll=16186,Fo=16187,fl=16188,Yc=16189,ml=16190,Mo=16191,Uc=16192,Xc=16193,pc=16194,tl=16195,Lc=16196,Oo=16197,Fl=16198,xo=16199,gc=16200,Fc=16201,ud=16202,Gl=16203,Jd=16204,Ad=16205,bo=16206,Md=16207,Io=16208,An=16209,Ml=16210,Wl=16211,Yl=852,Mc=592,Gi=15,Xl=C=>(C>>>24&255)+(C>>>8&65280)+((C&65280)<<8)+((C&255)<<24);function hd(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Wi=C=>{if(!C)return 1;const Be=C.state;return!Be||Be.strm!==C||Be.mode<gi||Be.mode>Wl?1:0},Jc=C=>{if(Wi(C))return li;const Be=C.state;return C.total_in=C.total_out=Be.total=0,C.msg="",Be.wrap&&(C.adler=Be.wrap&1),Be.mode=gi,Be.last=0,Be.havedict=0,Be.flags=-1,Be.dmax=32768,Be.head=null,Be.hold=0,Be.bits=0,Be.lencode=Be.lendyn=new Int32Array(Yl),Be.distcode=Be.distdyn=new Int32Array(Mc),Be.sane=1,Be.back=-1,lo},Do=C=>{if(Wi(C))return li;const Be=C.state;return Be.wsize=0,Be.whave=0,Be.wnext=0,Jc(C)},fd=(C,Be)=>{let H;if(Wi(C))return li;const Pe=C.state;return Be<0?(H=0,Be=-Be):(H=(Be>>4)+5,Be<48&&(Be&=15)),Be&&(Be<8||Be>15)?li:(Pe.window!==null&&Pe.wbits!==Be&&(Pe.window=null),Pe.wrap=H,Pe.wbits=Be,Do(C))},Jl=(C,Be)=>{if(!C)return li;const H=new hd;C.state=H,H.strm=C,H.window=null,H.mode=gi;const Pe=fd(C,Be);return Pe!==lo&&(C.state=null),Pe},vo=C=>Jl(C,Gi);let to=!0,Zl,pl;const sl=C=>{if(to){Zl=new Int32Array(512),pl=new Int32Array(32);let Be=0;for(;Be<144;)C.lens[Be++]=8;for(;Be<256;)C.lens[Be++]=9;for(;Be<280;)C.lens[Be++]=7;for(;Be<288;)C.lens[Be++]=8;for(_r(jn,C.lens,0,288,Zl,0,C.work,{bits:9}),Be=0;Be<32;)C.lens[Be++]=5;_r(ar,C.lens,0,32,pl,0,C.work,{bits:5}),to=!1}C.lencode=Zl,C.lenbits=9,C.distcode=pl,C.distbits=5},gl=(C,Be,H,Pe)=>{let lt;const at=C.state;return at.window===null&&(at.wsize=1<<at.wbits,at.wnext=0,at.whave=0,at.window=new Uint8Array(at.wsize)),Pe>=at.wsize?(at.window.set(Be.subarray(H-at.wsize,H),0),at.wnext=0,at.whave=at.wsize):(lt=at.wsize-at.wnext,lt>Pe&&(lt=Pe),at.window.set(Be.subarray(H-Pe,H-Pe+lt),at.wnext),Pe-=lt,Pe?(at.window.set(Be.subarray(H-Pe,H),0),at.wnext=Pe,at.whave=at.wsize):(at.wnext+=lt,at.wnext===at.wsize&&(at.wnext=0),at.whave<at.wsize&&(at.whave+=lt))),0},gu=(C,Be)=>{let H,Pe,lt,at,Jt,Ut,pr,Nt,Zt,gn,nr,Ps,xs,Fa,hn=0,Kr,cn,Tn,tr,Un,Ma,Hr,na;const Pn=new Uint8Array(4);let Tr,on;const yo=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Wi(C)||!C.output||!C.input&&C.avail_in!==0)return li;H=C.state,H.mode===Mo&&(H.mode=Uc),Jt=C.next_out,lt=C.output,pr=C.avail_out,at=C.next_in,Pe=C.input,Ut=C.avail_in,Nt=H.hold,Zt=H.bits,gn=Ut,nr=pr,na=lo;e:for(;;)switch(H.mode){case gi:if(H.wrap===0){H.mode=Uc;break}for(;Zt<16;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}if(H.wrap&2&&Nt===35615){H.wbits===0&&(H.wbits=15),H.check=0,Pn[0]=Nt&255,Pn[1]=Nt>>>8&255,H.check=sr(H.check,Pn,2,0),Nt=0,Zt=0,H.mode=ci;break}if(H.head&&(H.head.done=!1),!(H.wrap&1)||(((Nt&255)<<8)+(Nt>>8))%31){C.msg="incorrect header check",H.mode=An;break}if((Nt&15)!==Ra){C.msg="unknown compression method",H.mode=An;break}if(Nt>>>=4,Zt-=4,Hr=(Nt&15)+8,H.wbits===0&&(H.wbits=Hr),Hr>15||Hr>H.wbits){C.msg="invalid window size",H.mode=An;break}H.dmax=1<<H.wbits,H.flags=0,C.adler=H.check=1,H.mode=Nt&512?Yc:Mo,Nt=0,Zt=0;break;case ci:for(;Zt<16;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}if(H.flags=Nt,(H.flags&255)!==Ra){C.msg="unknown compression method",H.mode=An;break}if(H.flags&57344){C.msg="unknown header flags set",H.mode=An;break}H.head&&(H.head.text=Nt>>8&1),H.flags&512&&H.wrap&4&&(Pn[0]=Nt&255,Pn[1]=Nt>>>8&255,H.check=sr(H.check,Pn,2,0)),Nt=0,Zt=0,H.mode=Ul;case Ul:for(;Zt<32;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}H.head&&(H.head.time=Nt),H.flags&512&&H.wrap&4&&(Pn[0]=Nt&255,Pn[1]=Nt>>>8&255,Pn[2]=Nt>>>16&255,Pn[3]=Nt>>>24&255,H.check=sr(H.check,Pn,4,0)),Nt=0,Zt=0,H.mode=Pi;case Pi:for(;Zt<16;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}H.head&&(H.head.xflags=Nt&255,H.head.os=Nt>>8),H.flags&512&&H.wrap&4&&(Pn[0]=Nt&255,Pn[1]=Nt>>>8&255,H.check=sr(H.check,Pn,2,0)),Nt=0,Zt=0,H.mode=hl;case hl:if(H.flags&1024){for(;Zt<16;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}H.length=Nt,H.head&&(H.head.extra_len=Nt),H.flags&512&&H.wrap&4&&(Pn[0]=Nt&255,Pn[1]=Nt>>>8&255,H.check=sr(H.check,Pn,2,0)),Nt=0,Zt=0}else H.head&&(H.head.extra=null);H.mode=go;case go:if(H.flags&1024&&(Ps=H.length,Ps>Ut&&(Ps=Ut),Ps&&(H.head&&(Hr=H.head.extra_len-H.length,H.head.extra||(H.head.extra=new Uint8Array(H.head.extra_len)),H.head.extra.set(Pe.subarray(at,at+Ps),Hr)),H.flags&512&&H.wrap&4&&(H.check=sr(H.check,Pe,Ps,at)),Ut-=Ps,at+=Ps,H.length-=Ps),H.length))break e;H.length=0,H.mode=Ll;case Ll:if(H.flags&2048){if(Ut===0)break e;Ps=0;do Hr=Pe[at+Ps++],H.head&&Hr&&H.length<65536&&(H.head.name+=String.fromCharCode(Hr));while(Hr&&Ps<Ut);if(H.flags&512&&H.wrap&4&&(H.check=sr(H.check,Pe,Ps,at)),Ut-=Ps,at+=Ps,Hr)break e}else H.head&&(H.head.name=null);H.length=0,H.mode=Fo;case Fo:if(H.flags&4096){if(Ut===0)break e;Ps=0;do Hr=Pe[at+Ps++],H.head&&Hr&&H.length<65536&&(H.head.comment+=String.fromCharCode(Hr));while(Hr&&Ps<Ut);if(H.flags&512&&H.wrap&4&&(H.check=sr(H.check,Pe,Ps,at)),Ut-=Ps,at+=Ps,Hr)break e}else H.head&&(H.head.comment=null);H.mode=fl;case fl:if(H.flags&512){for(;Zt<16;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}if(H.wrap&4&&Nt!==(H.check&65535)){C.msg="header crc mismatch",H.mode=An;break}Nt=0,Zt=0}H.head&&(H.head.hcrc=H.flags>>9&1,H.head.done=!0),C.adler=H.check=0,H.mode=Mo;break;case Yc:for(;Zt<32;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}C.adler=H.check=Xl(Nt),Nt=0,Zt=0,H.mode=ml;case ml:if(H.havedict===0)return C.next_out=Jt,C.avail_out=pr,C.next_in=at,C.avail_in=Ut,H.hold=Nt,H.bits=Zt,an;C.adler=H.check=1,H.mode=Mo;case Mo:if(Be===Wc||Be===Ri)break e;case Uc:if(H.last){Nt>>>=Zt&7,Zt-=Zt&7,H.mode=bo;break}for(;Zt<3;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}switch(H.last=Nt&1,Nt>>>=1,Zt-=1,Nt&3){case 0:H.mode=Xc;break;case 1:if(sl(H),H.mode=xo,Be===Ri){Nt>>>=2,Zt-=2;break e}break;case 2:H.mode=Lc;break;case 3:C.msg="invalid block type",H.mode=An}Nt>>>=2,Zt-=2;break;case Xc:for(Nt>>>=Zt&7,Zt-=Zt&7;Zt<32;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}if((Nt&65535)!==(Nt>>>16^65535)){C.msg="invalid stored block lengths",H.mode=An;break}if(H.length=Nt&65535,Nt=0,Zt=0,H.mode=pc,Be===Ri)break e;case pc:H.mode=tl;case tl:if(Ps=H.length,Ps){if(Ps>Ut&&(Ps=Ut),Ps>pr&&(Ps=pr),Ps===0)break e;lt.set(Pe.subarray(at,at+Ps),Jt),Ut-=Ps,at+=Ps,pr-=Ps,Jt+=Ps,H.length-=Ps;break}H.mode=Mo;break;case Lc:for(;Zt<14;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}if(H.nlen=(Nt&31)+257,Nt>>>=5,Zt-=5,H.ndist=(Nt&31)+1,Nt>>>=5,Zt-=5,H.ncode=(Nt&15)+4,Nt>>>=4,Zt-=4,H.nlen>286||H.ndist>30){C.msg="too many length or distance symbols",H.mode=An;break}H.have=0,H.mode=Oo;case Oo:for(;H.have<H.ncode;){for(;Zt<3;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}H.lens[yo[H.have++]]=Nt&7,Nt>>>=3,Zt-=3}for(;H.have<19;)H.lens[yo[H.have++]]=0;if(H.lencode=H.lendyn,H.lenbits=7,Tr={bits:H.lenbits},na=_r(Na,H.lens,0,19,H.lencode,0,H.work,Tr),H.lenbits=Tr.bits,na){C.msg="invalid code lengths set",H.mode=An;break}H.have=0,H.mode=Fl;case Fl:for(;H.have<H.nlen+H.ndist;){for(;hn=H.lencode[Nt&(1<<H.lenbits)-1],Kr=hn>>>24,cn=hn>>>16&255,Tn=hn&65535,!(Kr<=Zt);){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}if(Tn<16)Nt>>>=Kr,Zt-=Kr,H.lens[H.have++]=Tn;else{if(Tn===16){for(on=Kr+2;Zt<on;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}if(Nt>>>=Kr,Zt-=Kr,H.have===0){C.msg="invalid bit length repeat",H.mode=An;break}Hr=H.lens[H.have-1],Ps=3+(Nt&3),Nt>>>=2,Zt-=2}else if(Tn===17){for(on=Kr+3;Zt<on;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}Nt>>>=Kr,Zt-=Kr,Hr=0,Ps=3+(Nt&7),Nt>>>=3,Zt-=3}else{for(on=Kr+7;Zt<on;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}Nt>>>=Kr,Zt-=Kr,Hr=0,Ps=11+(Nt&127),Nt>>>=7,Zt-=7}if(H.have+Ps>H.nlen+H.ndist){C.msg="invalid bit length repeat",H.mode=An;break}for(;Ps--;)H.lens[H.have++]=Hr}}if(H.mode===An)break;if(H.lens[256]===0){C.msg="invalid code -- missing end-of-block",H.mode=An;break}if(H.lenbits=9,Tr={bits:H.lenbits},na=_r(jn,H.lens,0,H.nlen,H.lencode,0,H.work,Tr),H.lenbits=Tr.bits,na){C.msg="invalid literal/lengths set",H.mode=An;break}if(H.distbits=6,H.distcode=H.distdyn,Tr={bits:H.distbits},na=_r(ar,H.lens,H.nlen,H.ndist,H.distcode,0,H.work,Tr),H.distbits=Tr.bits,na){C.msg="invalid distances set",H.mode=An;break}if(H.mode=xo,Be===Ri)break e;case xo:H.mode=gc;case gc:if(Ut>=6&&pr>=258){C.next_out=Jt,C.avail_out=pr,C.next_in=at,C.avail_in=Ut,H.hold=Nt,H.bits=Zt,Xr(C,nr),Jt=C.next_out,lt=C.output,pr=C.avail_out,at=C.next_in,Pe=C.input,Ut=C.avail_in,Nt=H.hold,Zt=H.bits,H.mode===Mo&&(H.back=-1);break}for(H.back=0;hn=H.lencode[Nt&(1<<H.lenbits)-1],Kr=hn>>>24,cn=hn>>>16&255,Tn=hn&65535,!(Kr<=Zt);){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}if(cn&&(cn&240)===0){for(tr=Kr,Un=cn,Ma=Tn;hn=H.lencode[Ma+((Nt&(1<<tr+Un)-1)>>tr)],Kr=hn>>>24,cn=hn>>>16&255,Tn=hn&65535,!(tr+Kr<=Zt);){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}Nt>>>=tr,Zt-=tr,H.back+=tr}if(Nt>>>=Kr,Zt-=Kr,H.back+=Kr,H.length=Tn,cn===0){H.mode=Ad;break}if(cn&32){H.back=-1,H.mode=Mo;break}if(cn&64){C.msg="invalid literal/length code",H.mode=An;break}H.extra=cn&15,H.mode=Fc;case Fc:if(H.extra){for(on=H.extra;Zt<on;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}H.length+=Nt&(1<<H.extra)-1,Nt>>>=H.extra,Zt-=H.extra,H.back+=H.extra}H.was=H.length,H.mode=ud;case ud:for(;hn=H.distcode[Nt&(1<<H.distbits)-1],Kr=hn>>>24,cn=hn>>>16&255,Tn=hn&65535,!(Kr<=Zt);){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}if((cn&240)===0){for(tr=Kr,Un=cn,Ma=Tn;hn=H.distcode[Ma+((Nt&(1<<tr+Un)-1)>>tr)],Kr=hn>>>24,cn=hn>>>16&255,Tn=hn&65535,!(tr+Kr<=Zt);){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}Nt>>>=tr,Zt-=tr,H.back+=tr}if(Nt>>>=Kr,Zt-=Kr,H.back+=Kr,cn&64){C.msg="invalid distance code",H.mode=An;break}H.offset=Tn,H.extra=cn&15,H.mode=Gl;case Gl:if(H.extra){for(on=H.extra;Zt<on;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}H.offset+=Nt&(1<<H.extra)-1,Nt>>>=H.extra,Zt-=H.extra,H.back+=H.extra}if(H.offset>H.dmax){C.msg="invalid distance too far back",H.mode=An;break}H.mode=Jd;case Jd:if(pr===0)break e;if(Ps=nr-pr,H.offset>Ps){if(Ps=H.offset-Ps,Ps>H.whave&&H.sane){C.msg="invalid distance too far back",H.mode=An;break}Ps>H.wnext?(Ps-=H.wnext,xs=H.wsize-Ps):xs=H.wnext-Ps,Ps>H.length&&(Ps=H.length),Fa=H.window}else Fa=lt,xs=Jt-H.offset,Ps=H.length;Ps>pr&&(Ps=pr),pr-=Ps,H.length-=Ps;do lt[Jt++]=Fa[xs++];while(--Ps);H.length===0&&(H.mode=gc);break;case Ad:if(pr===0)break e;lt[Jt++]=H.length,pr--,H.mode=gc;break;case bo:if(H.wrap){for(;Zt<32;){if(Ut===0)break e;Ut--,Nt|=Pe[at++]<<Zt,Zt+=8}if(nr-=pr,C.total_out+=nr,H.total+=nr,H.wrap&4&&nr&&(C.adler=H.check=H.flags?sr(H.check,lt,nr,Jt-nr):en(H.check,lt,nr,Jt-nr)),nr=pr,H.wrap&4&&(H.flags?Nt:Xl(Nt))!==H.check){C.msg="incorrect data check",H.mode=An;break}Nt=0,Zt=0}H.mode=Md;case Md:if(H.wrap&&H.flags){for(;Zt<32;){if(Ut===0)break e;Ut--,Nt+=Pe[at++]<<Zt,Zt+=8}if(H.wrap&4&&Nt!==(H.total&4294967295)){C.msg="incorrect length check",H.mode=An;break}Nt=0,Zt=0}H.mode=Io;case Io:na=Kl;break e;case An:na=pi;break e;case Ml:return el;case Wl:default:return li}return C.next_out=Jt,C.avail_out=pr,C.next_in=at,C.avail_in=Ut,H.hold=Nt,H.bits=Zt,(H.wsize||nr!==C.avail_out&&H.mode<An&&(H.mode<bo||Be!==Fn))&&gl(C,C.output,C.next_out,nr-C.avail_out),gn-=C.avail_in,nr-=C.avail_out,C.total_in+=gn,C.total_out+=nr,H.total+=nr,H.wrap&4&&nr&&(C.adler=H.check=H.flags?sr(H.check,lt,nr,C.next_out-nr):en(H.check,lt,nr,C.next_out-nr)),C.data_type=H.bits+(H.last?64:0)+(H.mode===Mo?128:0)+(H.mode===xo||H.mode===pc?256:0),(gn===0&&nr===0||Be===Fn)&&na===lo&&(na=Lo),na},Il=C=>{if(Wi(C))return li;let Be=C.state;return Be.window&&(Be.window=null),C.state=null,lo},xu=(C,Be)=>{if(Wi(C))return li;const H=C.state;return(H.wrap&2)===0?li:(H.head=Be,Be.done=!1,lo)},md=(C,Be)=>{const H=Be.length;let Pe,lt,at;return Wi(C)||(Pe=C.state,Pe.wrap!==0&&Pe.mode!==ml)?li:Pe.mode===ml&&(lt=1,lt=en(lt,Be,H,0),lt!==Pe.check)?pi:(at=gl(C,Be,H,H),at?(Pe.mode=Ml,el):(Pe.havedict=1,lo))};var Qi=Do,_a=fd,lr=Jc,Oc=vo,xl=Jl,pd=gu,Ro=Il,Ic=xu,bu=md,gd="pako inflate (from Nodeca project)",Yi={inflateReset:Qi,inflateReset2:_a,inflateResetKeep:lr,inflateInit:Oc,inflateInit2:xl,inflate:pd,inflateEnd:Ro,inflateGetHeader:Ic,inflateSetDictionary:bu,inflateInfo:gd};function Zc(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var bl=Zc;const Zd=Object.prototype.toString,{Z_NO_FLUSH:rl,Z_FINISH:xc,Z_OK:Po,Z_STREAM_END:nl,Z_NEED_DICT:xd,Z_STREAM_ERROR:vl,Z_DATA_ERROR:bc,Z_MEM_ERROR:qc}=Pr;function al(C){this.options=bs.assign({chunkSize:65536,windowBits:15,to:""},C||{});const Be=this.options;Be.raw&&Be.windowBits>=0&&Be.windowBits<16&&(Be.windowBits=-Be.windowBits,Be.windowBits===0&&(Be.windowBits=-15)),Be.windowBits>=0&&Be.windowBits<16&&!(C&&C.windowBits)&&(Be.windowBits+=32),Be.windowBits>15&&Be.windowBits<48&&(Be.windowBits&15)===0&&(Be.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Qt,this.strm.avail_out=0;let H=Yi.inflateInit2(this.strm,Be.windowBits);if(H!==Po)throw new Error(fs[H]);if(this.header=new bl,Yi.inflateGetHeader(this.strm,this.header),Be.dictionary&&(typeof Be.dictionary=="string"?Be.dictionary=ht.string2buf(Be.dictionary):Zd.call(Be.dictionary)==="[object ArrayBuffer]"&&(Be.dictionary=new Uint8Array(Be.dictionary)),Be.raw&&(H=Yi.inflateSetDictionary(this.strm,Be.dictionary),H!==Po)))throw new Error(fs[H])}al.prototype.push=function(C,Be){const H=this.strm,Pe=this.options.chunkSize,lt=this.options.dictionary;let at,Jt,Ut;if(this.ended)return!1;for(Be===~~Be?Jt=Be:Jt=Be===!0?xc:rl,Zd.call(C)==="[object ArrayBuffer]"?H.input=new Uint8Array(C):H.input=C,H.next_in=0,H.avail_in=H.input.length;;){for(H.avail_out===0&&(H.output=new Uint8Array(Pe),H.next_out=0,H.avail_out=Pe),at=Yi.inflate(H,Jt),at===xd&&lt&&(at=Yi.inflateSetDictionary(H,lt),at===Po?at=Yi.inflate(H,Jt):at===bc&&(at=xd));H.avail_in>0&&at===nl&&H.state.wrap>0&&C[H.next_in]!==0;)Yi.inflateReset(H),at=Yi.inflate(H,Jt);switch(at){case vl:case bc:case xd:case qc:return this.onEnd(at),this.ended=!0,!1}if(Ut=H.avail_out,H.next_out&&(H.avail_out===0||at===nl))if(this.options.to==="string"){let pr=ht.utf8border(H.output,H.next_out),Nt=H.next_out-pr,Zt=ht.buf2string(H.output,pr);H.next_out=Nt,H.avail_out=Pe-Nt,Nt&&H.output.set(H.output.subarray(pr,pr+Nt),0),this.onData(Zt)}else this.onData(H.output.length===H.next_out?H.output:H.output.subarray(0,H.next_out));if(!(at===Po&&Ut===0)){if(at===nl)return at=Yi.inflateEnd(this.strm),this.onEnd(at),this.ended=!0,!0;if(H.avail_in===0)break}}return!0},al.prototype.onData=function(C){this.chunks.push(C)},al.prototype.onEnd=function(C){C===Po&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bs.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg};function si(C,Be){const H=new al(Be);if(H.push(C),H.err)throw H.msg||fs[H.err];return H.result}function bd(C,Be){return Be=Be||{},Be.raw=!0,si(C,Be)}var vu=al,Fu=si,ed=bd,td=si,xi={Inflate:vu,inflate:Fu,inflateRaw:ed,ungzip:td};const{Deflate:sd,deflate:vd,deflateRaw:Z,gzip:Te}=Sn,{Inflate:nt,inflate:mt,inflateRaw:_t,ungzip:ks}=xi;var Ds=sd,Sr=vd,Er=Z,pn=Te,Nn=nt,ra=mt,La=_t,bi=ks,Ba=Pr,Ei={Deflate:Ds,deflate:Sr,deflateRaw:Er,gzip:pn,Inflate:Nn,inflate:ra,inflateRaw:La,ungzip:bi,constants:Ba}}),"./node_modules/performance-now/lib/performance-now.js":(function(d){(function(){var A,o,f,m,p,x;typeof performance<"u"&&performance!==null&&performance.now?d.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(d.exports=function(){return(A()-p)/1e6},o=process.hrtime,A=function(){var b;return b=o(),b[0]*1e9+b[1]},m=A(),x=process.uptime()*1e9,p=m-x):Date.now?(d.exports=function(){return Date.now()-f},f=Date.now()):(d.exports=function(){return new Date().getTime()-f},f=new Date().getTime())}).call(this)}),"./node_modules/raf/index.js":(function(d,A,o){for(var f=o("./node_modules/performance-now/lib/performance-now.js"),m=typeof window>"u"?O0:window,p=["moz","webkit"],x="AnimationFrame",b=m["request"+x],y=m["cancel"+x]||m["cancelRequest"+x],w=0;!b&&w<p.length;w++)b=m[p[w]+"Request"+x],y=m[p[w]+"Cancel"+x]||m[p[w]+"CancelRequest"+x];if(!b||!y){var E=0,R=0,z=[],X=1e3/60;b=function(Y){if(z.length===0){var Q=f(),G=Math.max(0,X-(Q-E));E=G+Q,setTimeout(function(){var le=z.slice(0);z.length=0;for(var Ae=0;Ae<le.length;Ae++)if(!le[Ae].cancelled)try{le[Ae].callback(E)}catch(je){setTimeout(function(){throw je},0)}},Math.round(G))}return z.push({handle:++R,callback:Y,cancelled:!1}),R},y=function(Y){for(var Q=0;Q<z.length;Q++)z[Q].handle===Y&&(z[Q].cancelled=!0)}}d.exports=function(Y){return b.call(m,Y)},d.exports.cancel=function(){y.apply(m,arguments)},d.exports.polyfill=function(Y){Y||(Y=m),Y.requestAnimationFrame=b,Y.cancelAnimationFrame=y}}),"./node_modules/rgbcolor/index.js":(function(d){d.exports=function(A){this.ok=!1,this.alpha=1,A.charAt(0)=="#"&&(A=A.substr(1,6)),A=A.replace(/ /g,""),A=A.toLowerCase();var o={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};A=o[A]||A;for(var f=[{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*((?:\d?\.)?\d)\)$/,example:["rgba(123, 234, 45, 0.8)","rgba(255,234,245,1.0)"],process:function(w){return[parseInt(w[1]),parseInt(w[2]),parseInt(w[3]),parseFloat(w[4])]}},{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(w){return[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])]}},{re:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,example:["#00ff00","336699"],process:function(w){return[parseInt(w[1],16),parseInt(w[2],16),parseInt(w[3],16)]}},{re:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,example:["#fb0","f0f"],process:function(w){return[parseInt(w[1]+w[1],16),parseInt(w[2]+w[2],16),parseInt(w[3]+w[3],16)]}}],m=0;m<f.length;m++){var p=f[m].re,x=f[m].process,b=p.exec(A);if(b){var y=x(b);this.r=y[0],this.g=y[1],this.b=y[2],y.length>3&&(this.alpha=y[3]),this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.alpha=this.alpha<0?0:this.alpha>1||isNaN(this.alpha)?1:this.alpha,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+this.alpha+")"},this.toHex=function(){var w=this.r.toString(16),E=this.g.toString(16),R=this.b.toString(16);return w.length==1&&(w="0"+w),E.length==1&&(E="0"+E),R.length==1&&(R="0"+R),"#"+w+E+R},this.getHelpXML=function(){for(var w=new Array,E=0;E<f.length;E++)for(var R=f[E].example,z=0;z<R.length;z++)w[w.length]=R[z];for(var X in o)w[w.length]=X;var Y=document.createElement("ul");Y.setAttribute("id","rgbcolor-examples");for(var E=0;E<w.length;E++)try{var Q=document.createElement("li"),G=new RGBColor(w[E]),le=document.createElement("div");le.style.cssText="margin: 3px; border: 1px solid black; background:"+G.toHex()+"; color:"+G.toHex(),le.appendChild(document.createTextNode("test"));var Ae=document.createTextNode(" "+w[E]+" -> "+G.toRGB()+" -> "+G.toHex());Q.appendChild(le),Q.appendChild(Ae),Y.appendChild(Q)}catch{}return Y}}}),"./node_modules/stackblur-canvas/dist/stackblur-es.js":(function(d,A,o){o.r(A),o.d(A,{BlurStack:function(){return X},canvasRGB:function(){return R},canvasRGBA:function(){return w},image:function(){return b},imageDataRGB:function(){return z},imageDataRGBA:function(){return E}});function f(Y){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(Q){return typeof Q}:f=function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},f(Y)}function m(Y,Q){if(!(Y instanceof Q))throw new TypeError("Cannot call a class as a function")}var p=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],x=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function b(Y,Q,G,le,Ae,je){if(typeof Y=="string"&&(Y=document.getElementById(Y)),!(!Y||Object.prototype.toString.call(Y).slice(8,-1)==="HTMLImageElement"&&!("naturalWidth"in Y))){var ue=Ae?"offset":"natural",Se=Y[ue+"Width"],ae=Y[ue+"Height"];if(Object.prototype.toString.call(Y).slice(8,-1)==="ImageBitmap"&&(Se=Y.width,ae=Y.height),typeof Q=="string"&&(Q=document.getElementById(Q)),!(!Q||!("getContext"in Q))){je||(Q.style.width=Se+"px",Q.style.height=ae+"px"),Q.width=Se,Q.height=ae;var Ne=Q.getContext("2d");Ne.clearRect(0,0,Se,ae),Ne.drawImage(Y,0,0,Y.naturalWidth,Y.naturalHeight,0,0,Se,ae),!(isNaN(G)||G<1)&&(le?w(Q,0,0,Se,ae,G):R(Q,0,0,Se,ae,G))}}}function y(Y,Q,G,le,Ae){if(typeof Y=="string"&&(Y=document.getElementById(Y)),!Y||f(Y)!=="object"||!("getContext"in Y))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var je=Y.getContext("2d");try{return je.getImageData(Q,G,le,Ae)}catch(ue){throw new Error("unable to access image data: "+ue)}}function w(Y,Q,G,le,Ae,je){if(!(isNaN(je)||je<1)){je|=0;var ue=y(Y,Q,G,le,Ae);ue=E(ue,Q,G,le,Ae,je),Y.getContext("2d").putImageData(ue,Q,G)}}function E(Y,Q,G,le,Ae,je){for(var ue=Y.data,Se=2*je+1,ae=le-1,Ne=Ae-1,he=je+1,se=he*(he+1)/2,de=new X,oe=de,Ee,De=1;De<Se;De++)oe=oe.next=new X,De===he&&(Ee=oe);oe.next=de;for(var ke=null,pe=null,ye=0,fe=0,te=p[je],ge=x[je],Fe=0;Fe<Ae;Fe++){oe=de;for(var $e=ue[fe],kt=ue[fe+1],St=ue[fe+2],Ge=ue[fe+3],Mt=0;Mt<he;Mt++)oe.r=$e,oe.g=kt,oe.b=St,oe.a=Ge,oe=oe.next;for(var Vt=0,cs=0,xt=0,ot=0,At=he*$e,Lt=he*kt,$s=he*St,vs=he*Ge,fr=se*$e,Ar=se*kt,hr=se*St,Ms=se*Ge,ys=1;ys<he;ys++){var Us=fe+((ae<ys?ae:ys)<<2),xr=ue[Us],yr=ue[Us+1],nn=ue[Us+2],Nr=ue[Us+3],er=he-ys;fr+=(oe.r=xr)*er,Ar+=(oe.g=yr)*er,hr+=(oe.b=nn)*er,Ms+=(oe.a=Nr)*er,Vt+=xr,cs+=yr,xt+=nn,ot+=Nr,oe=oe.next}ke=de,pe=Ee;for(var Ys=0;Ys<le;Ys++){var Ts=Ms*te>>>ge;if(ue[fe+3]=Ts,Ts!==0){var ft=255/Ts;ue[fe]=(fr*te>>>ge)*ft,ue[fe+1]=(Ar*te>>>ge)*ft,ue[fe+2]=(hr*te>>>ge)*ft}else ue[fe]=ue[fe+1]=ue[fe+2]=0;fr-=At,Ar-=Lt,hr-=$s,Ms-=vs,At-=ke.r,Lt-=ke.g,$s-=ke.b,vs-=ke.a;var Kt=Ys+je+1;Kt=ye+(Kt<ae?Kt:ae)<<2,Vt+=ke.r=ue[Kt],cs+=ke.g=ue[Kt+1],xt+=ke.b=ue[Kt+2],ot+=ke.a=ue[Kt+3],fr+=Vt,Ar+=cs,hr+=xt,Ms+=ot,ke=ke.next;var Cs=pe,Vs=Cs.r,ir=Cs.g,wt=Cs.b,es=Cs.a;At+=Vs,Lt+=ir,$s+=wt,vs+=es,Vt-=Vs,cs-=ir,xt-=wt,ot-=es,pe=pe.next,fe+=4}ye+=le}for(var As=0;As<le;As++){fe=As<<2;var hs=ue[fe],Ks=ue[fe+1],zs=ue[fe+2],mr=ue[fe+3],en=he*hs,wa=he*Ks,Ss=he*zs,Os=he*mr,sr=se*hs,fs=se*Ks,Pr=se*zs,Gr=se*mr;oe=de;for(var ur=0;ur<he;ur++)oe.r=hs,oe.g=Ks,oe.b=zs,oe.a=mr,oe=oe.next;for(var Va=le,ha=0,fn=0,Bn=0,ln=0,fa=1;fa<=je;fa++){fe=Va+As<<2;var Zn=he-fa;sr+=(oe.r=hs=ue[fe])*Zn,fs+=(oe.g=Ks=ue[fe+1])*Zn,Pr+=(oe.b=zs=ue[fe+2])*Zn,Gr+=(oe.a=mr=ue[fe+3])*Zn,ln+=hs,ha+=Ks,fn+=zs,Bn+=mr,oe=oe.next,fa<Ne&&(Va+=le)}fe=As,ke=de,pe=Ee;for(var Ii=0;Ii<Ae;Ii++){var Dn=fe<<2;ue[Dn+3]=mr=Gr*te>>>ge,mr>0?(mr=255/mr,ue[Dn]=(sr*te>>>ge)*mr,ue[Dn+1]=(fs*te>>>ge)*mr,ue[Dn+2]=(Pr*te>>>ge)*mr):ue[Dn]=ue[Dn+1]=ue[Dn+2]=0,sr-=en,fs-=wa,Pr-=Ss,Gr-=Os,en-=ke.r,wa-=ke.g,Ss-=ke.b,Os-=ke.a,Dn=As+((Dn=Ii+he)<Ne?Dn:Ne)*le<<2,sr+=ln+=ke.r=ue[Dn],fs+=ha+=ke.g=ue[Dn+1],Pr+=fn+=ke.b=ue[Dn+2],Gr+=Bn+=ke.a=ue[Dn+3],ke=ke.next,en+=hs=pe.r,wa+=Ks=pe.g,Ss+=zs=pe.b,Os+=mr=pe.a,ln-=hs,ha-=Ks,fn-=zs,Bn-=mr,pe=pe.next,fe+=le}}return Y}function R(Y,Q,G,le,Ae,je){if(!(isNaN(je)||je<1)){je|=0;var ue=y(Y,Q,G,le,Ae);ue=z(ue,Q,G,le,Ae,je),Y.getContext("2d").putImageData(ue,Q,G)}}function z(Y,Q,G,le,Ae,je){for(var ue=Y.data,Se=2*je+1,ae=le-1,Ne=Ae-1,he=je+1,se=he*(he+1)/2,de=new X,oe=de,Ee,De=1;De<Se;De++)oe=oe.next=new X,De===he&&(Ee=oe);oe.next=de;for(var ke=null,pe=null,ye=p[je],fe=x[je],te,ge,Fe=0,$e=0,kt=0;kt<Ae;kt++){var St=ue[$e],Ge=ue[$e+1],Mt=ue[$e+2],Vt=he*St,cs=he*Ge,xt=he*Mt,ot=se*St,At=se*Ge,Lt=se*Mt;oe=de;for(var $s=0;$s<he;$s++)oe.r=St,oe.g=Ge,oe.b=Mt,oe=oe.next;for(var vs=0,fr=0,Ar=0,hr=1;hr<he;hr++)te=$e+((ae<hr?ae:hr)<<2),ot+=(oe.r=St=ue[te])*(ge=he-hr),At+=(oe.g=Ge=ue[te+1])*ge,Lt+=(oe.b=Mt=ue[te+2])*ge,vs+=St,fr+=Ge,Ar+=Mt,oe=oe.next;ke=de,pe=Ee;for(var Ms=0;Ms<le;Ms++)ue[$e]=ot*ye>>>fe,ue[$e+1]=At*ye>>>fe,ue[$e+2]=Lt*ye>>>fe,ot-=Vt,At-=cs,Lt-=xt,Vt-=ke.r,cs-=ke.g,xt-=ke.b,te=Fe+((te=Ms+je+1)<ae?te:ae)<<2,vs+=ke.r=ue[te],fr+=ke.g=ue[te+1],Ar+=ke.b=ue[te+2],ot+=vs,At+=fr,Lt+=Ar,ke=ke.next,Vt+=St=pe.r,cs+=Ge=pe.g,xt+=Mt=pe.b,vs-=St,fr-=Ge,Ar-=Mt,pe=pe.next,$e+=4;Fe+=le}for(var ys=0;ys<le;ys++){$e=ys<<2;var Us=ue[$e],xr=ue[$e+1],yr=ue[$e+2],nn=he*Us,Nr=he*xr,er=he*yr,Ys=se*Us,Ts=se*xr,ft=se*yr;oe=de;for(var Kt=0;Kt<he;Kt++)oe.r=Us,oe.g=xr,oe.b=yr,oe=oe.next;for(var Cs=0,Vs=0,ir=0,wt=1,es=le;wt<=je;wt++)$e=es+ys<<2,Ys+=(oe.r=Us=ue[$e])*(ge=he-wt),Ts+=(oe.g=xr=ue[$e+1])*ge,ft+=(oe.b=yr=ue[$e+2])*ge,Cs+=Us,Vs+=xr,ir+=yr,oe=oe.next,wt<Ne&&(es+=le);$e=ys,ke=de,pe=Ee;for(var As=0;As<Ae;As++)te=$e<<2,ue[te]=Ys*ye>>>fe,ue[te+1]=Ts*ye>>>fe,ue[te+2]=ft*ye>>>fe,Ys-=nn,Ts-=Nr,ft-=er,nn-=ke.r,Nr-=ke.g,er-=ke.b,te=ys+((te=As+he)<Ne?te:Ne)*le<<2,Ys+=Cs+=ke.r=ue[te],Ts+=Vs+=ke.g=ue[te+1],ft+=ir+=ke.b=ue[te+2],ke=ke.next,nn+=Us=pe.r,Nr+=xr=pe.g,er+=yr=pe.b,Cs-=Us,Vs-=xr,ir-=yr,pe=pe.next,$e+=le}return Y}var X=function Y(){m(this,Y),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}}),"./node_modules/svg-pathdata/lib/SVGPathData.module.js":(function(d,A,o){o.r(A),o.d(A,{COMMAND_ARG_COUNTS:function(){return Ne},SVGPathData:function(){return ae},SVGPathDataParser:function(){return Se},SVGPathDataTransformer:function(){return R},encodeSVGPath:function(){return p}});/*! *****************************************************************************
		Copyright (c) Microsoft Corporation.

		Permission to use, copy, modify, and/or distribute this software for any
		purpose with or without fee is hereby granted.

		THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		PERFORMANCE OF THIS SOFTWARE.
		***************************************************************************** */var f=function(he,se){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(de,oe){de.__proto__=oe}||function(de,oe){for(var Ee in oe)Object.prototype.hasOwnProperty.call(oe,Ee)&&(de[Ee]=oe[Ee])})(he,se)};function m(he,se){if(typeof se!="function"&&se!==null)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function de(){this.constructor=he}f(he,se),he.prototype=se===null?Object.create(se):(de.prototype=se.prototype,new de)}function p(he){var se="";Array.isArray(he)||(he=[he]);for(var de=0;de<he.length;de++){var oe=he[de];if(oe.type===ae.CLOSE_PATH)se+="z";else if(oe.type===ae.HORIZ_LINE_TO)se+=(oe.relative?"h":"H")+oe.x;else if(oe.type===ae.VERT_LINE_TO)se+=(oe.relative?"v":"V")+oe.y;else if(oe.type===ae.MOVE_TO)se+=(oe.relative?"m":"M")+oe.x+" "+oe.y;else if(oe.type===ae.LINE_TO)se+=(oe.relative?"l":"L")+oe.x+" "+oe.y;else if(oe.type===ae.CURVE_TO)se+=(oe.relative?"c":"C")+oe.x1+" "+oe.y1+" "+oe.x2+" "+oe.y2+" "+oe.x+" "+oe.y;else if(oe.type===ae.SMOOTH_CURVE_TO)se+=(oe.relative?"s":"S")+oe.x2+" "+oe.y2+" "+oe.x+" "+oe.y;else if(oe.type===ae.QUAD_TO)se+=(oe.relative?"q":"Q")+oe.x1+" "+oe.y1+" "+oe.x+" "+oe.y;else if(oe.type===ae.SMOOTH_QUAD_TO)se+=(oe.relative?"t":"T")+oe.x+" "+oe.y;else{if(oe.type!==ae.ARC)throw new Error('Unexpected command type "'+oe.type+'" at index '+de+".");se+=(oe.relative?"a":"A")+oe.rX+" "+oe.rY+" "+oe.xRot+" "+ +oe.lArcFlag+" "+ +oe.sweepFlag+" "+oe.x+" "+oe.y}}return se}function x(he,se){var de=he[0],oe=he[1];return[de*Math.cos(se)-oe*Math.sin(se),de*Math.sin(se)+oe*Math.cos(se)]}function b(){for(var he=[],se=0;se<arguments.length;se++)he[se]=arguments[se];for(var de=0;de<he.length;de++)if(typeof he[de]!="number")throw new Error("assertNumbers arguments["+de+"] is not a number. "+typeof he[de]+" == typeof "+he[de]);return!0}var y=Math.PI;function w(he,se,de){he.lArcFlag=he.lArcFlag===0?0:1,he.sweepFlag=he.sweepFlag===0?0:1;var oe=he.rX,Ee=he.rY,De=he.x,ke=he.y;oe=Math.abs(he.rX),Ee=Math.abs(he.rY);var pe=x([(se-De)/2,(de-ke)/2],-he.xRot/180*y),ye=pe[0],fe=pe[1],te=Math.pow(ye,2)/Math.pow(oe,2)+Math.pow(fe,2)/Math.pow(Ee,2);1<te&&(oe*=Math.sqrt(te),Ee*=Math.sqrt(te)),he.rX=oe,he.rY=Ee;var ge=Math.pow(oe,2)*Math.pow(fe,2)+Math.pow(Ee,2)*Math.pow(ye,2),Fe=(he.lArcFlag!==he.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(oe,2)*Math.pow(Ee,2)-ge)/ge)),$e=oe*fe/Ee*Fe,kt=-Ee*ye/oe*Fe,St=x([$e,kt],he.xRot/180*y);he.cX=St[0]+(se+De)/2,he.cY=St[1]+(de+ke)/2,he.phi1=Math.atan2((fe-kt)/Ee,(ye-$e)/oe),he.phi2=Math.atan2((-fe-kt)/Ee,(-ye-$e)/oe),he.sweepFlag===0&&he.phi2>he.phi1&&(he.phi2-=2*y),he.sweepFlag===1&&he.phi2<he.phi1&&(he.phi2+=2*y),he.phi1*=180/y,he.phi2*=180/y}function E(he,se,de){b(he,se,de);var oe=he*he+se*se-de*de;if(0>oe)return[];if(oe===0)return[[he*de/(he*he+se*se),se*de/(he*he+se*se)]];var Ee=Math.sqrt(oe);return[[(he*de+se*Ee)/(he*he+se*se),(se*de-he*Ee)/(he*he+se*se)],[(he*de-se*Ee)/(he*he+se*se),(se*de+he*Ee)/(he*he+se*se)]]}var R,z=Math.PI/180;function X(he,se,de){return(1-de)*he+de*se}function Y(he,se,de,oe){return he+Math.cos(oe/180*y)*se+Math.sin(oe/180*y)*de}function Q(he,se,de,oe){var Ee=1e-6,De=se-he,ke=de-se,pe=3*De+3*(oe-de)-6*ke,ye=6*(ke-De),fe=3*De;return Math.abs(pe)<Ee?[-fe/ye]:(function(te,ge,Fe){var $e=te*te/4-ge;if($e<-Fe)return[];if($e<=Fe)return[-te/2];var kt=Math.sqrt($e);return[-te/2-kt,-te/2+kt]})(ye/pe,fe/pe,Ee)}function G(he,se,de,oe,Ee){var De=1-Ee;return he*(De*De*De)+se*(3*De*De*Ee)+de*(3*De*Ee*Ee)+oe*(Ee*Ee*Ee)}(function(he){function se(){return Ee((function(pe,ye,fe){return pe.relative&&(pe.x1!==void 0&&(pe.x1+=ye),pe.y1!==void 0&&(pe.y1+=fe),pe.x2!==void 0&&(pe.x2+=ye),pe.y2!==void 0&&(pe.y2+=fe),pe.x!==void 0&&(pe.x+=ye),pe.y!==void 0&&(pe.y+=fe),pe.relative=!1),pe}))}function de(){var pe=NaN,ye=NaN,fe=NaN,te=NaN;return Ee((function(ge,Fe,$e){return ge.type&ae.SMOOTH_CURVE_TO&&(ge.type=ae.CURVE_TO,pe=isNaN(pe)?Fe:pe,ye=isNaN(ye)?$e:ye,ge.x1=ge.relative?Fe-pe:2*Fe-pe,ge.y1=ge.relative?$e-ye:2*$e-ye),ge.type&ae.CURVE_TO?(pe=ge.relative?Fe+ge.x2:ge.x2,ye=ge.relative?$e+ge.y2:ge.y2):(pe=NaN,ye=NaN),ge.type&ae.SMOOTH_QUAD_TO&&(ge.type=ae.QUAD_TO,fe=isNaN(fe)?Fe:fe,te=isNaN(te)?$e:te,ge.x1=ge.relative?Fe-fe:2*Fe-fe,ge.y1=ge.relative?$e-te:2*$e-te),ge.type&ae.QUAD_TO?(fe=ge.relative?Fe+ge.x1:ge.x1,te=ge.relative?$e+ge.y1:ge.y1):(fe=NaN,te=NaN),ge}))}function oe(){var pe=NaN,ye=NaN;return Ee((function(fe,te,ge){if(fe.type&ae.SMOOTH_QUAD_TO&&(fe.type=ae.QUAD_TO,pe=isNaN(pe)?te:pe,ye=isNaN(ye)?ge:ye,fe.x1=fe.relative?te-pe:2*te-pe,fe.y1=fe.relative?ge-ye:2*ge-ye),fe.type&ae.QUAD_TO){pe=fe.relative?te+fe.x1:fe.x1,ye=fe.relative?ge+fe.y1:fe.y1;var Fe=fe.x1,$e=fe.y1;fe.type=ae.CURVE_TO,fe.x1=((fe.relative?0:te)+2*Fe)/3,fe.y1=((fe.relative?0:ge)+2*$e)/3,fe.x2=(fe.x+2*Fe)/3,fe.y2=(fe.y+2*$e)/3}else pe=NaN,ye=NaN;return fe}))}function Ee(pe){var ye=0,fe=0,te=NaN,ge=NaN;return function(Fe){if(isNaN(te)&&!(Fe.type&ae.MOVE_TO))throw new Error("path must start with moveto");var $e=pe(Fe,ye,fe,te,ge);return Fe.type&ae.CLOSE_PATH&&(ye=te,fe=ge),Fe.x!==void 0&&(ye=Fe.relative?ye+Fe.x:Fe.x),Fe.y!==void 0&&(fe=Fe.relative?fe+Fe.y:Fe.y),Fe.type&ae.MOVE_TO&&(te=ye,ge=fe),$e}}function De(pe,ye,fe,te,ge,Fe){return b(pe,ye,fe,te,ge,Fe),Ee((function($e,kt,St,Ge){var Mt=$e.x1,Vt=$e.x2,cs=$e.relative&&!isNaN(Ge),xt=$e.x!==void 0?$e.x:cs?0:kt,ot=$e.y!==void 0?$e.y:cs?0:St;function At(Ts){return Ts*Ts}$e.type&ae.HORIZ_LINE_TO&&ye!==0&&($e.type=ae.LINE_TO,$e.y=$e.relative?0:St),$e.type&ae.VERT_LINE_TO&&fe!==0&&($e.type=ae.LINE_TO,$e.x=$e.relative?0:kt),$e.x!==void 0&&($e.x=$e.x*pe+ot*fe+(cs?0:ge)),$e.y!==void 0&&($e.y=xt*ye+$e.y*te+(cs?0:Fe)),$e.x1!==void 0&&($e.x1=$e.x1*pe+$e.y1*fe+(cs?0:ge)),$e.y1!==void 0&&($e.y1=Mt*ye+$e.y1*te+(cs?0:Fe)),$e.x2!==void 0&&($e.x2=$e.x2*pe+$e.y2*fe+(cs?0:ge)),$e.y2!==void 0&&($e.y2=Vt*ye+$e.y2*te+(cs?0:Fe));var Lt=pe*te-ye*fe;if($e.xRot!==void 0&&(pe!==1||ye!==0||fe!==0||te!==1))if(Lt===0)delete $e.rX,delete $e.rY,delete $e.xRot,delete $e.lArcFlag,delete $e.sweepFlag,$e.type=ae.LINE_TO;else{var $s=$e.xRot*Math.PI/180,vs=Math.sin($s),fr=Math.cos($s),Ar=1/At($e.rX),hr=1/At($e.rY),Ms=At(fr)*Ar+At(vs)*hr,ys=2*vs*fr*(Ar-hr),Us=At(vs)*Ar+At(fr)*hr,xr=Ms*te*te-ys*ye*te+Us*ye*ye,yr=ys*(pe*te+ye*fe)-2*(Ms*fe*te+Us*pe*ye),nn=Ms*fe*fe-ys*pe*fe+Us*pe*pe,Nr=(Math.atan2(yr,xr-nn)+Math.PI)%Math.PI/2,er=Math.sin(Nr),Ys=Math.cos(Nr);$e.rX=Math.abs(Lt)/Math.sqrt(xr*At(Ys)+yr*er*Ys+nn*At(er)),$e.rY=Math.abs(Lt)/Math.sqrt(xr*At(er)-yr*er*Ys+nn*At(Ys)),$e.xRot=180*Nr/Math.PI}return $e.sweepFlag!==void 0&&0>Lt&&($e.sweepFlag=+!$e.sweepFlag),$e}))}function ke(){return function(pe){var ye={};for(var fe in pe)ye[fe]=pe[fe];return ye}}he.ROUND=function(pe){function ye(fe){return Math.round(fe*pe)/pe}return pe===void 0&&(pe=1e13),b(pe),function(fe){return fe.x1!==void 0&&(fe.x1=ye(fe.x1)),fe.y1!==void 0&&(fe.y1=ye(fe.y1)),fe.x2!==void 0&&(fe.x2=ye(fe.x2)),fe.y2!==void 0&&(fe.y2=ye(fe.y2)),fe.x!==void 0&&(fe.x=ye(fe.x)),fe.y!==void 0&&(fe.y=ye(fe.y)),fe.rX!==void 0&&(fe.rX=ye(fe.rX)),fe.rY!==void 0&&(fe.rY=ye(fe.rY)),fe}},he.TO_ABS=se,he.TO_REL=function(){return Ee((function(pe,ye,fe){return pe.relative||(pe.x1!==void 0&&(pe.x1-=ye),pe.y1!==void 0&&(pe.y1-=fe),pe.x2!==void 0&&(pe.x2-=ye),pe.y2!==void 0&&(pe.y2-=fe),pe.x!==void 0&&(pe.x-=ye),pe.y!==void 0&&(pe.y-=fe),pe.relative=!0),pe}))},he.NORMALIZE_HVZ=function(pe,ye,fe){return pe===void 0&&(pe=!0),ye===void 0&&(ye=!0),fe===void 0&&(fe=!0),Ee((function(te,ge,Fe,$e,kt){if(isNaN($e)&&!(te.type&ae.MOVE_TO))throw new Error("path must start with moveto");return ye&&te.type&ae.HORIZ_LINE_TO&&(te.type=ae.LINE_TO,te.y=te.relative?0:Fe),fe&&te.type&ae.VERT_LINE_TO&&(te.type=ae.LINE_TO,te.x=te.relative?0:ge),pe&&te.type&ae.CLOSE_PATH&&(te.type=ae.LINE_TO,te.x=te.relative?$e-ge:$e,te.y=te.relative?kt-Fe:kt),te.type&ae.ARC&&(te.rX===0||te.rY===0)&&(te.type=ae.LINE_TO,delete te.rX,delete te.rY,delete te.xRot,delete te.lArcFlag,delete te.sweepFlag),te}))},he.NORMALIZE_ST=de,he.QT_TO_C=oe,he.INFO=Ee,he.SANITIZE=function(pe){pe===void 0&&(pe=0),b(pe);var ye=NaN,fe=NaN,te=NaN,ge=NaN;return Ee((function(Fe,$e,kt,St,Ge){var Mt=Math.abs,Vt=!1,cs=0,xt=0;if(Fe.type&ae.SMOOTH_CURVE_TO&&(cs=isNaN(ye)?0:$e-ye,xt=isNaN(fe)?0:kt-fe),Fe.type&(ae.CURVE_TO|ae.SMOOTH_CURVE_TO)?(ye=Fe.relative?$e+Fe.x2:Fe.x2,fe=Fe.relative?kt+Fe.y2:Fe.y2):(ye=NaN,fe=NaN),Fe.type&ae.SMOOTH_QUAD_TO?(te=isNaN(te)?$e:2*$e-te,ge=isNaN(ge)?kt:2*kt-ge):Fe.type&ae.QUAD_TO?(te=Fe.relative?$e+Fe.x1:Fe.x1,ge=Fe.relative?kt+Fe.y1:Fe.y2):(te=NaN,ge=NaN),Fe.type&ae.LINE_COMMANDS||Fe.type&ae.ARC&&(Fe.rX===0||Fe.rY===0||!Fe.lArcFlag)||Fe.type&ae.CURVE_TO||Fe.type&ae.SMOOTH_CURVE_TO||Fe.type&ae.QUAD_TO||Fe.type&ae.SMOOTH_QUAD_TO){var ot=Fe.x===void 0?0:Fe.relative?Fe.x:Fe.x-$e,At=Fe.y===void 0?0:Fe.relative?Fe.y:Fe.y-kt;cs=isNaN(te)?Fe.x1===void 0?cs:Fe.relative?Fe.x:Fe.x1-$e:te-$e,xt=isNaN(ge)?Fe.y1===void 0?xt:Fe.relative?Fe.y:Fe.y1-kt:ge-kt;var Lt=Fe.x2===void 0?0:Fe.relative?Fe.x:Fe.x2-$e,$s=Fe.y2===void 0?0:Fe.relative?Fe.y:Fe.y2-kt;Mt(ot)<=pe&&Mt(At)<=pe&&Mt(cs)<=pe&&Mt(xt)<=pe&&Mt(Lt)<=pe&&Mt($s)<=pe&&(Vt=!0)}return Fe.type&ae.CLOSE_PATH&&Mt($e-St)<=pe&&Mt(kt-Ge)<=pe&&(Vt=!0),Vt?[]:Fe}))},he.MATRIX=De,he.ROTATE=function(pe,ye,fe){ye===void 0&&(ye=0),fe===void 0&&(fe=0),b(pe,ye,fe);var te=Math.sin(pe),ge=Math.cos(pe);return De(ge,te,-te,ge,ye-ye*ge+fe*te,fe-ye*te-fe*ge)},he.TRANSLATE=function(pe,ye){return ye===void 0&&(ye=0),b(pe,ye),De(1,0,0,1,pe,ye)},he.SCALE=function(pe,ye){return ye===void 0&&(ye=pe),b(pe,ye),De(pe,0,0,ye,0,0)},he.SKEW_X=function(pe){return b(pe),De(1,0,Math.atan(pe),1,0,0)},he.SKEW_Y=function(pe){return b(pe),De(1,Math.atan(pe),0,1,0,0)},he.X_AXIS_SYMMETRY=function(pe){return pe===void 0&&(pe=0),b(pe),De(-1,0,0,1,pe,0)},he.Y_AXIS_SYMMETRY=function(pe){return pe===void 0&&(pe=0),b(pe),De(1,0,0,-1,0,pe)},he.A_TO_C=function(){return Ee((function(pe,ye,fe){return ae.ARC===pe.type?(function(te,ge,Fe){var $e,kt,St,Ge;te.cX||w(te,ge,Fe);for(var Mt=Math.min(te.phi1,te.phi2),Vt=Math.max(te.phi1,te.phi2)-Mt,cs=Math.ceil(Vt/90),xt=new Array(cs),ot=ge,At=Fe,Lt=0;Lt<cs;Lt++){var $s=X(te.phi1,te.phi2,Lt/cs),vs=X(te.phi1,te.phi2,(Lt+1)/cs),fr=vs-$s,Ar=4/3*Math.tan(fr*z/4),hr=[Math.cos($s*z)-Ar*Math.sin($s*z),Math.sin($s*z)+Ar*Math.cos($s*z)],Ms=hr[0],ys=hr[1],Us=[Math.cos(vs*z),Math.sin(vs*z)],xr=Us[0],yr=Us[1],nn=[xr+Ar*Math.sin(vs*z),yr-Ar*Math.cos(vs*z)],Nr=nn[0],er=nn[1];xt[Lt]={relative:te.relative,type:ae.CURVE_TO};var Ys=function(Ts,ft){var Kt=x([Ts*te.rX,ft*te.rY],te.xRot),Cs=Kt[0],Vs=Kt[1];return[te.cX+Cs,te.cY+Vs]};$e=Ys(Ms,ys),xt[Lt].x1=$e[0],xt[Lt].y1=$e[1],kt=Ys(Nr,er),xt[Lt].x2=kt[0],xt[Lt].y2=kt[1],St=Ys(xr,yr),xt[Lt].x=St[0],xt[Lt].y=St[1],te.relative&&(xt[Lt].x1-=ot,xt[Lt].y1-=At,xt[Lt].x2-=ot,xt[Lt].y2-=At,xt[Lt].x-=ot,xt[Lt].y-=At),ot=(Ge=[xt[Lt].x,xt[Lt].y])[0],At=Ge[1]}return xt})(pe,pe.relative?0:ye,pe.relative?0:fe):pe}))},he.ANNOTATE_ARCS=function(){return Ee((function(pe,ye,fe){return pe.relative&&(ye=0,fe=0),ae.ARC===pe.type&&w(pe,ye,fe),pe}))},he.CLONE=ke,he.CALCULATE_BOUNDS=function(){var pe=function(Fe){var $e={};for(var kt in Fe)$e[kt]=Fe[kt];return $e},ye=se(),fe=oe(),te=de(),ge=Ee((function(Fe,$e,kt){var St=te(fe(ye(pe(Fe))));function Ge(er){er>ge.maxX&&(ge.maxX=er),er<ge.minX&&(ge.minX=er)}function Mt(er){er>ge.maxY&&(ge.maxY=er),er<ge.minY&&(ge.minY=er)}if(St.type&ae.DRAWING_COMMANDS&&(Ge($e),Mt(kt)),St.type&ae.HORIZ_LINE_TO&&Ge(St.x),St.type&ae.VERT_LINE_TO&&Mt(St.y),St.type&ae.LINE_TO&&(Ge(St.x),Mt(St.y)),St.type&ae.CURVE_TO){Ge(St.x),Mt(St.y);for(var Vt=0,cs=Q($e,St.x1,St.x2,St.x);Vt<cs.length;Vt++)0<(Nr=cs[Vt])&&1>Nr&&Ge(G($e,St.x1,St.x2,St.x,Nr));for(var xt=0,ot=Q(kt,St.y1,St.y2,St.y);xt<ot.length;xt++)0<(Nr=ot[xt])&&1>Nr&&Mt(G(kt,St.y1,St.y2,St.y,Nr))}if(St.type&ae.ARC){Ge(St.x),Mt(St.y),w(St,$e,kt);for(var At=St.xRot/180*Math.PI,Lt=Math.cos(At)*St.rX,$s=Math.sin(At)*St.rX,vs=-Math.sin(At)*St.rY,fr=Math.cos(At)*St.rY,Ar=St.phi1<St.phi2?[St.phi1,St.phi2]:-180>St.phi2?[St.phi2+360,St.phi1+360]:[St.phi2,St.phi1],hr=Ar[0],Ms=Ar[1],ys=function(er){var Ys=er[0],Ts=er[1],ft=180*Math.atan2(Ts,Ys)/Math.PI;return ft<hr?ft+360:ft},Us=0,xr=E(vs,-Lt,0).map(ys);Us<xr.length;Us++)(Nr=xr[Us])>hr&&Nr<Ms&&Ge(Y(St.cX,Lt,vs,Nr));for(var yr=0,nn=E(fr,-$s,0).map(ys);yr<nn.length;yr++){var Nr;(Nr=nn[yr])>hr&&Nr<Ms&&Mt(Y(St.cY,$s,fr,Nr))}}return Fe}));return ge.minX=1/0,ge.maxX=-1/0,ge.minY=1/0,ge.maxY=-1/0,ge}})(R||(R={}));var le,Ae=(function(){function he(){}return he.prototype.round=function(se){return this.transform(R.ROUND(se))},he.prototype.toAbs=function(){return this.transform(R.TO_ABS())},he.prototype.toRel=function(){return this.transform(R.TO_REL())},he.prototype.normalizeHVZ=function(se,de,oe){return this.transform(R.NORMALIZE_HVZ(se,de,oe))},he.prototype.normalizeST=function(){return this.transform(R.NORMALIZE_ST())},he.prototype.qtToC=function(){return this.transform(R.QT_TO_C())},he.prototype.aToC=function(){return this.transform(R.A_TO_C())},he.prototype.sanitize=function(se){return this.transform(R.SANITIZE(se))},he.prototype.translate=function(se,de){return this.transform(R.TRANSLATE(se,de))},he.prototype.scale=function(se,de){return this.transform(R.SCALE(se,de))},he.prototype.rotate=function(se,de,oe){return this.transform(R.ROTATE(se,de,oe))},he.prototype.matrix=function(se,de,oe,Ee,De,ke){return this.transform(R.MATRIX(se,de,oe,Ee,De,ke))},he.prototype.skewX=function(se){return this.transform(R.SKEW_X(se))},he.prototype.skewY=function(se){return this.transform(R.SKEW_Y(se))},he.prototype.xSymmetry=function(se){return this.transform(R.X_AXIS_SYMMETRY(se))},he.prototype.ySymmetry=function(se){return this.transform(R.Y_AXIS_SYMMETRY(se))},he.prototype.annotateArcs=function(){return this.transform(R.ANNOTATE_ARCS())},he})(),je=function(he){return he===" "||he==="	"||he==="\r"||he===`
`},ue=function(he){return 48<=he.charCodeAt(0)&&he.charCodeAt(0)<=57},Se=(function(he){function se(){var de=he.call(this)||this;return de.curNumber="",de.curCommandType=-1,de.curCommandRelative=!1,de.canParseCommandOrComma=!0,de.curNumberHasExp=!1,de.curNumberHasExpDigits=!1,de.curNumberHasDecimal=!1,de.curArgs=[],de}return m(se,he),se.prototype.finish=function(de){if(de===void 0&&(de=[]),this.parse(" ",de),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return de},se.prototype.parse=function(de,oe){var Ee=this;oe===void 0&&(oe=[]);for(var De=function(ge){oe.push(ge),Ee.curArgs.length=0,Ee.canParseCommandOrComma=!0},ke=0;ke<de.length;ke++){var pe=de[ke],ye=!(this.curCommandType!==ae.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),fe=ue(pe)&&(this.curNumber==="0"&&pe==="0"||ye);if(!ue(pe)||fe)if(pe!=="e"&&pe!=="E")if(pe!=="-"&&pe!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(pe!=="."||this.curNumberHasExp||this.curNumberHasDecimal||ye){if(this.curNumber&&this.curCommandType!==-1){var te=Number(this.curNumber);if(isNaN(te))throw new SyntaxError("Invalid number ending at "+ke);if(this.curCommandType===ae.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>te)throw new SyntaxError('Expected positive number, got "'+te+'" at index "'+ke+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+ke+'"')}this.curArgs.push(te),this.curArgs.length===Ne[this.curCommandType]&&(ae.HORIZ_LINE_TO===this.curCommandType?De({type:ae.HORIZ_LINE_TO,relative:this.curCommandRelative,x:te}):ae.VERT_LINE_TO===this.curCommandType?De({type:ae.VERT_LINE_TO,relative:this.curCommandRelative,y:te}):this.curCommandType===ae.MOVE_TO||this.curCommandType===ae.LINE_TO||this.curCommandType===ae.SMOOTH_QUAD_TO?(De({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),ae.MOVE_TO===this.curCommandType&&(this.curCommandType=ae.LINE_TO)):this.curCommandType===ae.CURVE_TO?De({type:ae.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===ae.SMOOTH_CURVE_TO?De({type:ae.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ae.QUAD_TO?De({type:ae.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===ae.ARC&&De({type:ae.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!je(pe))if(pe===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(pe!=="+"&&pe!=="-"&&pe!==".")if(fe)this.curNumber=pe,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+ke+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+pe+'" at index '+ke+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,pe!=="z"&&pe!=="Z")if(pe==="h"||pe==="H")this.curCommandType=ae.HORIZ_LINE_TO,this.curCommandRelative=pe==="h";else if(pe==="v"||pe==="V")this.curCommandType=ae.VERT_LINE_TO,this.curCommandRelative=pe==="v";else if(pe==="m"||pe==="M")this.curCommandType=ae.MOVE_TO,this.curCommandRelative=pe==="m";else if(pe==="l"||pe==="L")this.curCommandType=ae.LINE_TO,this.curCommandRelative=pe==="l";else if(pe==="c"||pe==="C")this.curCommandType=ae.CURVE_TO,this.curCommandRelative=pe==="c";else if(pe==="s"||pe==="S")this.curCommandType=ae.SMOOTH_CURVE_TO,this.curCommandRelative=pe==="s";else if(pe==="q"||pe==="Q")this.curCommandType=ae.QUAD_TO,this.curCommandRelative=pe==="q";else if(pe==="t"||pe==="T")this.curCommandType=ae.SMOOTH_QUAD_TO,this.curCommandRelative=pe==="t";else{if(pe!=="a"&&pe!=="A")throw new SyntaxError('Unexpected character "'+pe+'" at index '+ke+".");this.curCommandType=ae.ARC,this.curCommandRelative=pe==="a"}else oe.push({type:ae.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=pe,this.curNumberHasDecimal=pe==="."}else this.curNumber+=pe,this.curNumberHasDecimal=!0;else this.curNumber+=pe;else this.curNumber+=pe,this.curNumberHasExp=!0;else this.curNumber+=pe,this.curNumberHasExpDigits=this.curNumberHasExp}return oe},se.prototype.transform=function(de){return Object.create(this,{parse:{value:function(oe,Ee){Ee===void 0&&(Ee=[]);for(var De=0,ke=Object.getPrototypeOf(this).parse.call(this,oe);De<ke.length;De++){var pe=ke[De],ye=de(pe);Array.isArray(ye)?Ee.push.apply(Ee,ye):Ee.push(ye)}return Ee}}})},se})(Ae),ae=(function(he){function se(de){var oe=he.call(this)||this;return oe.commands=typeof de=="string"?se.parse(de):de,oe}return m(se,he),se.prototype.encode=function(){return se.encode(this.commands)},se.prototype.getBounds=function(){var de=R.CALCULATE_BOUNDS();return this.transform(de),de},se.prototype.transform=function(de){for(var oe=[],Ee=0,De=this.commands;Ee<De.length;Ee++){var ke=de(De[Ee]);Array.isArray(ke)?oe.push.apply(oe,ke):oe.push(ke)}return this.commands=oe,this},se.encode=function(de){return p(de)},se.parse=function(de){var oe=new Se,Ee=[];return oe.parse(de,Ee),oe.finish(Ee),Ee},se.CLOSE_PATH=1,se.MOVE_TO=2,se.HORIZ_LINE_TO=4,se.VERT_LINE_TO=8,se.LINE_TO=16,se.CURVE_TO=32,se.SMOOTH_CURVE_TO=64,se.QUAD_TO=128,se.SMOOTH_QUAD_TO=256,se.ARC=512,se.LINE_COMMANDS=se.LINE_TO|se.HORIZ_LINE_TO|se.VERT_LINE_TO,se.DRAWING_COMMANDS=se.HORIZ_LINE_TO|se.VERT_LINE_TO|se.LINE_TO|se.CURVE_TO|se.SMOOTH_CURVE_TO|se.QUAD_TO|se.SMOOTH_QUAD_TO|se.ARC,se})(Ae),Ne=((le={})[ae.MOVE_TO]=2,le[ae.LINE_TO]=2,le[ae.HORIZ_LINE_TO]=1,le[ae.VERT_LINE_TO]=1,le[ae.CLOSE_PATH]=0,le[ae.QUAD_TO]=4,le[ae.SMOOTH_QUAD_TO]=2,le[ae.CURVE_TO]=6,le[ae.SMOOTH_CURVE_TO]=4,le[ae.ARC]=7,le)}),"./src/plugin/hyperlinks.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.link.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var f=o("./src/worker.js"),m=o("./src/utils.js"),p=[],x={toContainer:f.default.prototype.toContainer,toPdf:f.default.prototype.toPdf};f.default.prototype.toContainer=function(){return x.toContainer.call(this).then(function(){if(this.opt.enableLinks){var w=this.prop.container,E=w.querySelectorAll("a"),R=(0,m.unitConvert)(w.getBoundingClientRect(),this.prop.pageSize.k);p=[],Array.prototype.forEach.call(E,function(z){for(var X=z.getClientRects(),Y=0;Y<X.length;Y++){var Q=(0,m.unitConvert)(X[Y],this.prop.pageSize.k);Q.left-=R.left,Q.top-=R.top;var G=Math.floor(Q.top/this.prop.pageSize.inner.height)+1,le=this.opt.margin[0]+Q.top%this.prop.pageSize.inner.height,Ae=this.opt.margin[1]+Q.left;p.push({page:G,top:le,left:Ae,clientRect:Q,link:z})}},this)}})},f.default.prototype.toPdf=function(){return x.toPdf.call(this).then(function(){if(this.opt.enableLinks){p.forEach(function(E){this.prop.pdf.setPage(E.page),this.prop.pdf.link(E.left,E.top,E.clientRect.width,E.clientRect.height,{url:E.link.href})},this);var w=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(w)}})}}),"./src/plugin/jspdf-plugin.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var f=o("./node_modules/jspdf/dist/jspdf.es.min.js");function m(p){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},m(p)}f.jsPDF.getPageSize=function(p,x,b){if(m(p)==="object"){var y=p;p=y.orientation,x=y.unit||x,b=y.format||b}x=x||"mm",b=b||"a4",p=(""+(p||"P")).toLowerCase();var w=(""+b).toLowerCase(),E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(x){case"pt":var R=1;break;case"mm":var R=72/25.4;break;case"cm":var R=72/2.54;break;case"in":var R=72;break;case"px":var R=72/96;break;case"pc":var R=12;break;case"em":var R=12;break;case"ex":var R=6;break;default:throw"Invalid unit: "+x}if(E.hasOwnProperty(w))var z=E[w][1]/R,X=E[w][0]/R;else try{var z=b[1],X=b[0]}catch{throw new Error("Invalid format: "+b)}if(p==="p"||p==="portrait"){if(p="p",X>z){var Y=X;X=z,z=Y}}else if(p==="l"||p==="landscape"){if(p="l",z>X){var Y=X;X=z,z=Y}}else throw"Invalid orientation: "+p;var Q={width:X,height:z,unit:x,k:R};return Q},A.default=f.jsPDF}),"./src/plugin/pagebreaks.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var f=o("./src/worker.js"),m=o("./src/utils.js"),p={toContainer:f.default.prototype.toContainer};f.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},f.default.prototype.toContainer=function(){return p.toContainer.call(this).then(function(){var y=this.prop.container,w=this.prop.pageSize.inner.px.height,E=[].concat(this.opt.pagebreak.mode),R={avoidAll:E.indexOf("avoid-all")!==-1,css:E.indexOf("css")!==-1,legacy:E.indexOf("legacy")!==-1},z={},X=this;["before","after","avoid"].forEach(function(G){var le=R.avoidAll&&G==="avoid";z[G]=le?[]:[].concat(X.opt.pagebreak[G]||[]),z[G].length>0&&(z[G]=Array.prototype.slice.call(y.querySelectorAll(z[G].join(", "))))});var Y=y.querySelectorAll(".html2pdf__page-break");Y=Array.prototype.slice.call(Y);var Q=y.querySelectorAll("*");Array.prototype.forEach.call(Q,function(le){var Ae={before:!1,after:R.legacy&&Y.indexOf(le)!==-1,avoid:R.avoidAll};if(R.css){var je=window.getComputedStyle(le),ue=["always","page","left","right"],Se=["avoid","avoid-page"];Ae={before:Ae.before||ue.indexOf(je.breakBefore||je.pageBreakBefore)!==-1,after:Ae.after||ue.indexOf(je.breakAfter||je.pageBreakAfter)!==-1,avoid:Ae.avoid||Se.indexOf(je.breakInside||je.pageBreakInside)!==-1}}Object.keys(Ae).forEach(function(oe){Ae[oe]=Ae[oe]||z[oe].indexOf(le)!==-1});var ae=le.getBoundingClientRect();if(Ae.avoid&&!Ae.before){var Ne=Math.floor(ae.top/w),he=Math.floor(ae.bottom/w),se=Math.abs(ae.bottom-ae.top)/w;he!==Ne&&se<=1&&(Ae.before=!0)}if(Ae.before){var de=(0,m.createElement)("div",{style:{display:"block",height:w-ae.top%w+"px"}});le.parentNode.insertBefore(de,le)}if(Ae.after){var de=(0,m.createElement)("div",{style:{display:"block",height:w-ae.bottom%w+"px"}});le.parentNode.insertBefore(de,le.nextSibling)}})})}}),"./src/snapdom/clone.js":(function(d,A,o){o.r(A),o.d(A,{deepCloneBasic:function(){return b}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.from.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.regexp.exec.js"),o("./node_modules/core-js/modules/es.regexp.test.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.set.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/esnext.set.add-all.js"),o("./node_modules/core-js/modules/esnext.set.delete-all.js"),o("./node_modules/core-js/modules/esnext.set.difference.js"),o("./node_modules/core-js/modules/esnext.set.every.js"),o("./node_modules/core-js/modules/esnext.set.filter.js"),o("./node_modules/core-js/modules/esnext.set.find.js"),o("./node_modules/core-js/modules/esnext.set.intersection.js"),o("./node_modules/core-js/modules/esnext.set.is-disjoint-from.js"),o("./node_modules/core-js/modules/esnext.set.is-subset-of.js"),o("./node_modules/core-js/modules/esnext.set.is-superset-of.js"),o("./node_modules/core-js/modules/esnext.set.join.js"),o("./node_modules/core-js/modules/esnext.set.map.js"),o("./node_modules/core-js/modules/esnext.set.reduce.js"),o("./node_modules/core-js/modules/esnext.set.some.js"),o("./node_modules/core-js/modules/esnext.set.symmetric-difference.js"),o("./node_modules/core-js/modules/esnext.set.union.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function f(y,w){var E=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!E){if(Array.isArray(y)||(E=m(y))||w){E&&(y=E);var R=0,z=function(){};return{s:z,n:function(){return R>=y.length?{done:!0}:{done:!1,value:y[R++]}},e:function(le){throw le},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var X,Y=!0,Q=!1;return{s:function(){E=E.call(y)},n:function(){var le=E.next();return Y=le.done,le},e:function(le){Q=!0,X=le},f:function(){try{Y||E.return==null||E.return()}finally{if(Q)throw X}}}}function m(y,w){if(y){if(typeof y=="string")return p(y,w);var E={}.toString.call(y).slice(8,-1);return E==="Object"&&y.constructor&&(E=y.constructor.name),E==="Map"||E==="Set"?Array.from(y):E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E)?p(y,w):void 0}}function p(y,w){(w==null||w>y.length)&&(w=y.length);for(var E=0,R=Array(w);E<w;E++)R[E]=y[E];return R}function x(y,w){try{var E=y.currentSrc||y.src||"";if(!E)return;w.setAttribute("src",E),w.removeAttribute("srcset"),w.removeAttribute("sizes"),w.loading="eager",w.decoding="sync"}catch{}}function b(y){if(!y)throw new Error("Invalid node");var w=new Set,E=null;if(y.nodeType===Node.TEXT_NODE||y.nodeType!==Node.ELEMENT_NODE)return y.cloneNode(!0);if(y.tagName==="IFRAME"){var R=document.createElement("div");return R.style.cssText="width:".concat(y.offsetWidth,"px;height:").concat(y.offsetHeight,"px;background-image:repeating-linear-gradient(45deg,#ddd,#ddd 5px,#f9f9f9 5px,#f9f9f9 10px);display:flex;align-items:center;justify-content:center;font-size:12px;color:#555;border:1px solid #aaa;"),R}if(y.tagName==="CANVAS"){var z=y.toDataURL(),X=document.createElement("img");return X.src=z,X.width=y.width,X.height=y.height,X}var Y;try{Y=y.cloneNode(!1),y.tagName==="IMG"&&x(y,Y)}catch(Mt){throw console.error("[Snapdom] Failed to clone node:",y,Mt),Mt}if(y instanceof HTMLTextAreaElement){Y.textContent=y.value,Y.value=y.value;var Q=y.getBoundingClientRect();return Y.style.boxSizing="border-box",Y.style.width="".concat(Q.width,"px"),Y.style.height="".concat(Q.height,"px"),Y}if(y instanceof HTMLInputElement&&(y.hasAttribute("value")&&(Y.value=y.value,Y.setAttribute("value",y.value)),y.checked!==void 0&&(Y.checked=y.checked,y.checked&&Y.setAttribute("checked",""),y.indeterminate&&(Y.indeterminate=y.indeterminate))),y instanceof HTMLSelectElement&&(E=y.value),y.shadowRoot){var G=Array.from(y.shadowRoot.querySelectorAll("slot")).length>0;if(!G){var le=document.createDocumentFragment(),Ae=f(y.shadowRoot.childNodes),je;try{for(Ae.s();!(je=Ae.n()).done;){var ue=je.value;if(!(ue.nodeType===Node.ELEMENT_NODE&&ue.tagName==="STYLE")){var Se=b(ue);Se&&le.appendChild(Se)}}}catch(Mt){Ae.e(Mt)}finally{Ae.f()}Y.appendChild(le)}}if(y.tagName==="SLOT"){var ae,Ne=((ae=y.assignedNodes)===null||ae===void 0?void 0:ae.call(y,{flatten:!0}))||[],he=Ne.length>0?Ne:Array.from(y.childNodes),se=document.createDocumentFragment(),de=f(he),oe;try{for(de.s();!(oe=de.n()).done;){var Ee=oe.value,De=b(Ee);De&&se.appendChild(De)}}catch(Mt){de.e(Mt)}finally{de.f()}return se}var ke=f(y.childNodes),pe;try{for(ke.s();!(pe=ke.n()).done;){var ye=pe.value;if(!w.has(ye)){var fe=b(ye);fe&&Y.appendChild(fe)}}}catch(Mt){ke.e(Mt)}finally{ke.f()}if(E!==null&&Y instanceof HTMLSelectElement){Y.value=E;var te=f(Y.options),ge;try{for(te.s();!(ge=te.n()).done;){var Fe=ge.value;Fe.value===E?Fe.setAttribute("selected",""):Fe.removeAttribute("selected")}}catch(Mt){te.e(Mt)}finally{te.f()}}var $e=y.scrollLeft,kt=y.scrollTop,St=$e||kt;if(St&&Y instanceof HTMLElement){Y.style.overflow="hidden",Y.style.scrollbarWidth="none",Y.style.msOverflowStyle="none";var Ge=document.createElement("div");for(Ge.style.transform="translate(".concat(-$e,"px, ").concat(-kt,"px)"),Ge.style.willChange="transform",Ge.style.display="inline-block",Ge.style.width="100%";Y.firstChild;)Ge.appendChild(Y.firstChild);Y.appendChild(Ge)}return Y}}),"./src/utils.js":(function(d,A,o){o.r(A),o.d(A,{createElement:function(){return x},objType:function(){return p},toPx:function(){return y},unitConvert:function(){return b}}),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var f=o("./node_modules/dompurify/dist/purify.es.mjs");function m(w){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},m(w)}var p=function(E){var R=m(E);return R==="undefined"?"undefined":R==="string"||E instanceof String?"string":R==="number"||E instanceof Number?"number":R==="function"||E instanceof Function?"function":E&&E.constructor===Array?"array":E&&E.nodeType===1?"element":R==="object"?"object":"unknown"},x=function(E,R){var z=document.createElement(E);R.className&&(z.className=R.className),R.innerHTML&&(z.innerHTML=f.default.sanitize(R.innerHTML));for(var X in R.style)z.style[X]=R.style[X];return z},b=function(E,R){if(p(E)==="number")return E*72/96/R;var z={};for(var X in E)z[X]=E[X]*72/96/R;return z},y=function(E,R){return Math.floor(E*R/72*96)}}),"./src/worker.js":(function(d,A,o){o.r(A),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/es.json.stringify.js"),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.promise.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/esnext.iterator.constructor.js"),o("./node_modules/core-js/modules/esnext.iterator.for-each.js"),o("./node_modules/core-js/modules/esnext.iterator.map.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/web.timers.js");var f=o("./node_modules/jspdf/dist/jspdf.es.min.js"),m=o("html2canvas"),p=o.n(m),x=o("./src/snapdom/clone.js"),b=o("./src/utils.js"),y=function w(E){var R=Object.assign(w.convert(Promise.resolve()),JSON.parse(JSON.stringify(w.template))),z=w.convert(Promise.resolve(),R);return z=z.setProgress(1,w,1,[w]),z=z.set(E),z};y.prototype=Object.create(Promise.prototype),y.prototype.constructor=y,y.convert=function(E,R){return E.__proto__=R||y.prototype,E},y.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},y.prototype.from=function(E,R){function z(X){switch((0,b.objType)(X)){case"string":return"string";case"element":return X.nodeName.toLowerCase&&X.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(R=R||z(E),R){case"string":return this.set({src:(0,b.createElement)("div",{innerHTML:E})});case"element":return this.set({src:E});case"canvas":return this.set({canvas:E});case"img":return this.set({img:E});default:return this.error("Unknown source type.")}})},y.prototype.to=function(E){switch(E){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},y.prototype.toContainer=function(){var E=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var z={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},X={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};z.opacity=0;var Y=(0,x.deepCloneBasic)(this.prop.src);return this.prop.overlay=(0,b.createElement)("div",{className:"html2pdf__overlay",style:z}),this.prop.container=(0,b.createElement)("div",{className:"html2pdf__container",style:X}),this.prop.container.appendChild(Y),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),new Promise(function(Q){return setTimeout(Q,10)})})},y.prototype.toCanvas=function(){var E=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(E).then(function(){var z=Object.assign({},this.opt.html2canvas);return delete z.onrendered,p()(this.prop.container,z)}).then(function(z){var X=this.opt.html2canvas.onrendered||function(){};X(z),this.prop.canvas=z,document.body.removeChild(this.prop.overlay)})},y.prototype.toImg=function(){var E=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(E).then(function(){var z=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=z})},y.prototype.toPdf=function(){var E=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(E).then(function(){var z=this.prop.canvas,X=this.opt,Y=z.height,Q=Math.floor(z.width*this.prop.pageSize.inner.ratio),G=Math.ceil(Y/Q),le=this.prop.pageSize.inner.height,Ae=document.createElement("canvas"),je=Ae.getContext("2d");Ae.width=z.width,Ae.height=Q,this.prop.pdf=this.prop.pdf||new f.jsPDF(X.jsPDF);for(var ue=0;ue<G;ue++){ue===G-1&&Y%Q!==0&&(Ae.height=Y%Q,le=Ae.height*this.prop.pageSize.inner.width/Ae.width);var Se=Ae.width,ae=Ae.height;je.fillStyle="white",je.fillRect(0,0,Se,ae),je.drawImage(z,0,ue*Q,Se,ae,0,0,Se,ae),ue&&this.prop.pdf.addPage();var Ne=Ae.toDataURL("image/"+X.image.type,X.image.quality);this.prop.pdf.addImage(Ne,X.image.type,X.margin[1],X.margin[0],this.prop.pageSize.inner.width,le)}})},y.prototype.output=function(E,R,z){return z=z||"pdf",z.toLowerCase()==="img"||z.toLowerCase()==="image"?this.outputImg(E,R):this.outputPdf(E,R)},y.prototype.outputPdf=function(E,R){var z=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(z).then(function(){return this.prop.pdf.output(E,R)})},y.prototype.outputImg=function(E,R){var z=[function(){return this.prop.img||this.toImg()}];return this.thenList(z).then(function(){switch(E){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+E+'" is not supported.'}})},y.prototype.save=function(E){var R=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(R).set(E?{filename:E}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},y.prototype.set=function(E){if((0,b.objType)(E)!=="object")return this;var R=Object.keys(E||{}).map(function(z){switch(z){case"margin":return this.setMargin.bind(this,E.margin);case"jsPDF":return function(){return this.opt.jsPDF=E.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,E.pageSize);default:return z in y.template.prop?function(){this.prop[z]=E[z]}:function(){this.opt[z]=E[z]}}},this);return this.then(function(){return this.thenList(R)})},y.prototype.get=function(E,R){return this.then(function(){var X=E in y.template.prop?this.prop[E]:this.opt[E];return R?R(X):X})},y.prototype.setMargin=function(E){return this.then(function(){switch((0,b.objType)(E)){case"number":E=[E,E,E,E];case"array":if(E.length===2&&(E=[E[0],E[1],E[0],E[1]]),E.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=E}).then(this.setPageSize)},y.prototype.setPageSize=function(E){return this.then(function(){E=E||f.jsPDF.getPageSize(this.opt.jsPDF),E.hasOwnProperty("inner")||(E.inner={width:E.width-this.opt.margin[1]-this.opt.margin[3],height:E.height-this.opt.margin[0]-this.opt.margin[2]},E.inner.px={width:(0,b.toPx)(E.inner.width,E.k),height:(0,b.toPx)(E.inner.height,E.k)},E.inner.ratio=E.inner.height/E.inner.width),this.prop.pageSize=E})},y.prototype.setProgress=function(E,R,z,X){return E!=null&&(this.progress.val=E),R!=null&&(this.progress.state=R),z!=null&&(this.progress.n=z),X!=null&&(this.progress.stack=X),this.progress.ratio=this.progress.val/this.progress.state,this},y.prototype.updateProgress=function(E,R,z,X){return this.setProgress(E?this.progress.val+E:null,R||null,z?this.progress.n+z:null,X?this.progress.stack.concat(X):null)},y.prototype.then=function(E,R){var z=this;return this.thenCore(E,R,function(Y,Q){return z.updateProgress(null,null,1,[Y]),Promise.prototype.then.call(this,function(le){return z.updateProgress(null,Y),le}).then(Y,Q).then(function(le){return z.updateProgress(1),le})})},y.prototype.thenCore=function(E,R,z){z=z||Promise.prototype.then;var X=this;E&&(E=E.bind(X)),R&&(R=R.bind(X));var Y=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise",Q=Y?X:y.convert(Object.assign({},X),Promise.prototype),G=z.call(Q,E,R);return y.convert(G,X.__proto__)},y.prototype.thenExternal=function(E,R){return Promise.prototype.then.call(this,E,R)},y.prototype.thenList=function(E){var R=this;return E.forEach(function(X){R=R.thenCore(X)}),R},y.prototype.catch=function(w){w&&(w=w.bind(this));var E=Promise.prototype.catch.call(this,w);return y.convert(E,this)},y.prototype.catchExternal=function(E){return Promise.prototype.catch.call(this,E)},y.prototype.error=function(E){return this.then(function(){throw new Error(E)})},y.prototype.using=y.prototype.set,y.prototype.saveAs=y.prototype.save,y.prototype.export=y.prototype.output,y.prototype.run=y.prototype.then,A.default=y}),html2canvas:(function(d){d.exports=r})},a={};function l(d){var A=a[d];if(A!==void 0)return A.exports;if(n[d]===void 0){var o=new Error("Cannot find module '"+d+"'");throw o.code="MODULE_NOT_FOUND",o}var f=a[d]={exports:{}};return n[d].call(f.exports,f,f.exports,l),f.exports}(function(){l.n=function(d){var A=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(A,{a:A}),A}})(),(function(){var d=Object.getPrototypeOf?function(o){return Object.getPrototypeOf(o)}:function(o){return o.__proto__},A;l.t=function(o,f){if(f&1&&(o=this(o)),f&8||typeof o=="object"&&o&&(f&4&&o.__esModule||f&16&&typeof o.then=="function"))return o;var m=Object.create(null);l.r(m);var p={};A=A||[null,d({}),d([]),d(d)];for(var x=f&2&&o;(typeof x=="object"||typeof x=="function")&&!~A.indexOf(x);x=d(x))Object.getOwnPropertyNames(x).forEach(function(b){p[b]=function(){return o[b]}});return p.default=function(){return o},l.d(m,p),m}})(),(function(){l.d=function(d,A){for(var o in A)l.o(A,o)&&!l.o(d,o)&&Object.defineProperty(d,o,{enumerable:!0,get:A[o]})}})(),(function(){l.o=function(d,A){return Object.prototype.hasOwnProperty.call(d,A)}})(),(function(){l.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})}})();var u={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/l.r(u);var d=l("./src/worker.js");l("./src/plugin/jspdf-plugin.js"),l("./src/plugin/pagebreaks.js"),l("./src/plugin/hyperlinks.js");var A=function o(f,m){var p=new o.Worker(m);return f?p.from(f).save():p};A.Worker=d.default,u.default=A})(),u=u.default,u})()})})(pb)),pb.exports}var QD=PD();const _D=Vg(QD),HD=()=>{const s=zl(),e=W.useRef(null),[r]=W.useState(()=>new URLSearchParams(window.location.search).get("order_id")),[n,a]=W.useState(null),[l,u]=W.useState(!0),[d,A]=W.useState(!1),[o,f]=W.useState(null),[m,p]=W.useState(!1),[x,b]=W.useState(null),y=(Ae,je="success")=>{b({message:Ae,type:je}),setTimeout(()=>b(null),3e3)};W.useEffect(()=>{if(!r){f("Order ID not found"),u(!1);return}w(),setTimeout(()=>E(),2e3)},[r]);const w=async()=>{try{const Ae=await fetch(`${Dt}/api/payment/order/${r}`,{credentials:"include"});if(Ae.ok)a(await Ae.json());else{const je=await Ae.json();f(je.error||"Failed to load order")}}catch{f("Network error occurred")}finally{u(!1)}},E=async()=>{var Ae;if(r){A(!0);try{const ue=await(await fetch(`${Dt}/api/payment/verify-order/${r}`,{method:"POST",credentials:"include"})).json();ue.success&&["paid","active"].includes((Ae=ue.order)==null?void 0:Ae.status)&&await w()}catch{console.error("Verification failed")}finally{A(!1)}}},R=()=>{s("/billing")},z=()=>{window.print()},X=()=>{const Ae=document.getElementById("receipt-container");if(!Ae)return;p(!0),Ae.classList.add("download-mode");const je={margin:.3,filename:`GogoTrip_Receipt_${(n==null?void 0:n.order.orderReference)||"download"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,scrollY:0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"},pagebreak:{mode:"avoid-all"}};_D().set(je).from(Ae).save().then(()=>{Ae.classList.remove("download-mode"),p(!1),y("Receipt downloaded successfully!")}).catch(ue=>{console.error("PDF generation failed:",ue),Ae.classList.remove("download-mode"),p(!1),y("Failed to download PDF","error")})},Y=({status:Ae})=>{const je={paid:{icon:t.jsx(Bo,{className:"w-5 h-5"}),text:"Payment Successful",bgColor:"bg-emerald-50 dark:bg-emerald-900/20",textColor:"text-emerald-700 dark:text-emerald-400"},active:{icon:t.jsx(Bo,{className:"w-5 h-5"}),text:"Payment Successful",bgColor:"bg-emerald-50",textColor:"text-emerald-700"},pending:{icon:t.jsx(Vi,{className:"w-5 h-5"}),text:"Payment Pending",bgColor:"bg-amber-50 dark:bg-amber-900/20",textColor:"text-amber-700 dark:text-amber-400"},failed:{icon:t.jsx(hu,{className:"w-5 h-5"}),text:"Payment Failed",bgColor:"bg-red-50 dark:bg-red-900/20",textColor:"text-red-700 dark:text-red-400"},cancelled:{icon:t.jsx(hu,{className:"w-5 h-5"}),text:"Payment Cancelled",bgColor:"bg-slate-50 dark:bg-slate-900/20",textColor:"text-slate-700 dark:text-slate-400"}},ue=je[Ae]||je.pending;return t.jsxs("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded-full ${ue.bgColor} ${ue.textColor} font-medium`,children:[ue.icon,t.jsx("span",{children:ue.text})]})};if(l)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950",children:t.jsx(Lr,{className:"w-12 h-12 text-blue-600 animate-spin"})});if(o||!n)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-950 p-6",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-8 max-w-md w-full border border-slate-200 dark:border-slate-800 text-center",children:[t.jsx(Ia,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Error"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:o||"Order not found"}),t.jsxs("button",{onClick:R,className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 flex items-center gap-2 mx-auto",children:[t.jsx(rA,{className:"w-5 h-5"})," Back to Billing"]})]})});const{order:Q,plan:G,user:le}=n;return t.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 py-8 px-4 relative animate-fade-in-up",children:[x&&t.jsxs("div",{className:`fixed top-6 left-1/2 -translate-x-1/2 z-[100] flex items-center gap-3 px-5 py-3 rounded-full shadow-2xl animate-fade-in-down transition-all ${x.type==="error"?"bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/80 dark:text-red-100 dark:border-red-800 backdrop-blur-md":x.type==="success"?"bg-emerald-50 text-emerald-700 border border-emerald-200 dark:bg-emerald-900/80 dark:text-emerald-100 dark:border-emerald-800 backdrop-blur-md":"bg-white text-slate-700 border border-slate-200 dark:bg-slate-800/80 dark:text-white dark:border-slate-700 backdrop-blur-md"}`,children:[x.type==="error"?t.jsx(Ia,{className:"w-5 h-5"}):x.type==="success"?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(Sl,{className:"w-5 h-5 text-sky-500"}),t.jsx("span",{className:"font-bold text-sm",children:x.message}),t.jsx("button",{onClick:()=>b(null),className:"ml-2 hover:opacity-70 p-1 bg-black/5 rounded-full",children:t.jsx(qr,{className:"w-3 h-3"})})]}),d&&t.jsxs("div",{className:"fixed top-4 right-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-xl p-4 shadow-lg z-50 flex items-center gap-3",children:[t.jsx(Lr,{className:"w-5 h-5 text-blue-600 animate-spin"}),t.jsx("p",{className:"text-blue-700 dark:text-blue-400 font-medium",children:"Verifying..."})]}),t.jsxs("div",{className:"max-w-4xl mx-auto mb-6 flex flex-wrap gap-4 print:hidden",children:[t.jsxs("button",{onClick:R,className:"px-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-50 transition-colors flex items-center gap-2",children:[t.jsx(rA,{className:"w-5 h-5"})," Back to Billing"]}),Q.status==="pending"&&t.jsxs("button",{onClick:E,disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[t.jsx(ld,{className:`w-5 h-5 ${d?"animate-spin":""}`})," Refresh Status"]}),t.jsx("div",{className:"flex-1"}),t.jsxs("button",{onClick:z,className:"px-4 py-2 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 text-slate-700 dark:text-slate-300 rounded-xl hover:bg-slate-50 transition-colors flex items-center gap-2",children:[t.jsx(SE,{className:"w-5 h-5"})," Print"]}),t.jsxs("button",{onClick:X,disabled:m,className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-70",children:[m?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsx(X0,{className:"w-5 h-5"})," Download PDF"]})]}),t.jsxs("div",{id:"receipt-container",ref:e,className:"max-w-4xl mx-auto bg-white dark:bg-slate-900 rounded-2xl shadow-lg border border-slate-200 dark:border-slate-800 overflow-hidden print:shadow-none print:border-slate-400",children:[t.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-8 header-section",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold mb-2",children:"GogoTrip"}),t.jsx("p",{className:"text-blue-100",children:"Premium Subscription"})]})}),t.jsx("div",{className:"flex justify-center",children:t.jsx(Y,{status:Q.status})})]}),t.jsxs("div",{className:"p-8 content-section",children:[t.jsxs("div",{className:"mb-8 info-group",children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(x5,{className:"w-5 h-5"})," Order Information"]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 grid-section",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Customer Name"}),t.jsx("div",{className:"font-medium dark:text-white",children:le.name})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Email"}),t.jsx("div",{className:"font-medium dark:text-white",children:le.email})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Order Reference"}),t.jsx("div",{className:"font-mono text-sm font-medium dark:text-white",children:Q.orderReference})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Order Date"}),t.jsx("div",{className:"font-medium dark:text-white",children:new Date(Q.createdAt).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-8 mb-8 info-group",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Subscription Details"}),t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-6 sub-card",children:[t.jsxs("div",{className:"flex justify-between items-start mb-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-xl font-bold text-slate-900 dark:text-white mb-1",children:G.name}),t.jsx("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:G.description})]}),t.jsx("div",{className:"text-right",children:t.jsxs("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["RM ",Q.amount.toFixed(2)]})})]}),Q.status==="active"&&Q.startDate&&t.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-4 mt-4",children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Valid From"}),t.jsx("div",{className:"font-medium dark:text-white",children:new Date(Q.startDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"})})]}),t.jsxs("div",{children:[t.jsx("div",{className:"text-sm text-slate-500 mb-1",children:"Valid Until"}),t.jsx("div",{className:"font-medium dark:text-white",children:Q.endDate?new Date(Q.endDate).toLocaleDateString("en-MY",{year:"numeric",month:"long",day:"numeric"}):t.jsx("span",{className:"text-amber-600 font-bold",children:"Lifetime"})})]})]})})]})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-8 info-group",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Subtotal"}),t.jsxs("span",{className:"font-medium dark:text-white",children:["RM ",Q.amount.toFixed(2)]})]}),t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Tax (0%)"}),t.jsx("span",{className:"font-medium dark:text-white",children:"RM 0.00"})]}),t.jsxs("div",{className:"border-t border-slate-200 dark:border-slate-800 pt-4 flex justify-between items-center",children:[t.jsx("span",{className:"text-xl font-bold dark:text-white",children:"Total"}),t.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["RM ",Q.amount.toFixed(2)]})]})]}),t.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-200 dark:border-slate-800 text-center footer-section",children:[t.jsx("p",{className:"text-sm text-slate-500 mb-2",children:"Thank you for choosing GogoTrip Premium!"}),t.jsx("p",{className:"text-xs text-slate-400",children:"For questions or support, please contact us at support@gogotrip.com"})]})]})]}),t.jsx("style",{children:`
        /* DOWNLOAD MODE */
        .download-mode .header-section { padding: 1.5rem !important; }
        .download-mode .content-section { padding: 1.5rem !important; }
        .download-mode .info-group { margin-bottom: 1rem !important; padding-top: 1rem !important; }
        .download-mode .sub-card { padding: 1rem !important; }
        .download-mode .grid-section { gap: 0.5rem !important; }
        .download-mode h1 { font-size: 1.5rem !important; margin-bottom: 0.25rem !important; }
        .download-mode h2 { font-size: 1.1rem !important; margin-bottom: 0.5rem !important; }
        .download-mode .text-3xl { font-size: 1.5rem !important; }
        .download-mode .text-2xl { font-size: 1.25rem !important; }
        .download-mode .text-xl { font-size: 1.125rem !important; }
        .download-mode .text-lg { font-size: 1rem !important; }
        .download-mode .text-base { font-size: 0.875rem !important; }
        .download-mode .footer-section { margin-top: 1.5rem !important; padding-top: 1rem !important; }

        /* PRINT MODE */
        @media print {
          body { 
            -webkit-print-color-adjust: exact !important; 
            print-color-adjust: exact !important; 
            background-color: white !important; 
            height: 100vh;
            overflow: hidden;
          }
          
          body * { visibility: hidden; }
          #receipt-container, #receipt-container * { visibility: visible; }
          
          #receipt-container {
            position: absolute !important;
            left: 50% !important;
            top: 20px !important; 
            transform: translateX(-50%) scale(0.85) !important;
            transform-origin: top center !important;
            
            width: 800px !important;
            max-width: 100% !important;
            
            margin: 0 !important;
            padding: 0 !important;
            border: 1px solid #e2e8f0 !important;
            box-shadow: none !important;
          }

          #receipt-container .header-section { padding: 1.5rem !important; }
          #receipt-container .content-section { padding: 1.5rem !important; }
          #receipt-container .info-group { margin-bottom: 0.5rem !important; padding-top: 0.5rem !important; }
          #receipt-container .sub-card { padding: 0.8rem !important; }
          #receipt-container h1 { font-size: 1.8rem !important; margin-bottom: 5px !important; }
          #receipt-container h2 { font-size: 1.2rem !important; margin-bottom: 5px !important; }
          
          @page { size: auto; margin: 0mm; } 
        }
      `})]})},J5=({category:s="announcement"})=>{const e={announcement:{icon:t.jsx(eA,{className:"w-3 h-3"}),color:"blue",label:"Announcement"},promotion:{icon:t.jsx(xf,{className:"w-3 h-3"}),color:"purple",label:"Promotion"},update:{icon:t.jsx(Ao,{className:"w-3 h-3"}),color:"green",label:"Update"},alert:{icon:t.jsx(Zo,{className:"w-3 h-3"}),color:"red",label:"Alert"}},{icon:r,color:n,label:a}=e[s]||e.announcement,l={blue:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",purple:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",green:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",red:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"};return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium ${l[n]}`,children:[r,a]})},zD=({audience:s="all"})=>{const e={all:{icon:t.jsx(Ld,{className:"w-3 h-3"}),label:"All Users"},premium:{icon:t.jsx(Vd,{className:"w-3 h-3"}),label:"Premium"},free:{icon:t.jsx(Ld,{className:"w-3 h-3"}),label:"Free Users"},new_users:{icon:t.jsx(Ao,{className:"w-3 h-3"}),label:"New Users"}},{icon:r,label:n}=e[s]||e.all;return t.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-xs text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800",children:[r,n]})},$D=({content:s})=>{const e=(r,n)=>{if(r.startsWith("### "))return t.jsx("h3",{className:"text-lg font-semibold text-slate-800 dark:text-white mt-6 mb-2",children:r.slice(4)},n);if(r.startsWith("## "))return t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mt-8 mb-3",children:r.slice(3)},n);if(r.startsWith("# "))return t.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mt-8 mb-4",children:r.slice(2)},n);if(r.startsWith("- ")||r.startsWith("* "))return t.jsx("li",{className:"ml-4 text-slate-700 dark:text-slate-300 mb-1 list-disc",children:r.slice(2)},n);if(r.trim()==="")return t.jsx("div",{className:"h-4"},n);let a=r.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/__(.*?)__/g,"<strong>$1</strong>").replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 dark:text-blue-400 hover:underline" target="_blank" rel="noopener noreferrer">$1</a>');return t.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-3 leading-relaxed",dangerouslySetInnerHTML:{__html:a}},n)};return t.jsx("div",{className:"prose-custom",children:s.split(`
`).map((r,n)=>e(r,n))})},VD=()=>{const s=zl(),[e,r]=W.useState([]),[n,a]=W.useState(!0),[l,u]=W.useState(null);W.useEffect(()=>{d()},[]);const d=async()=>{try{const A=await fetch(`${Dt}/api/announcements`,{credentials:"include"});if(!A.ok)throw new Error("Failed to fetch announcements");const o=await A.json();r(o.announcements||[])}catch{u("Unable to load announcements")}finally{a(!1)}};return n?t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-sky-600"})}):t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto space-y-6 animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("button",{onClick:()=>s(-1),className:"md:hidden",children:t.jsx(rA,{className:"w-5 h-5 text-slate-500"})}),t.jsxs("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-3",children:[t.jsx(eA,{className:"w-6 h-6 md:w-8 md:h-8 text-sky-600"}),"Announcements"]})]}),l?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-red-500 gap-2",children:[t.jsx(Ia,{className:"w-8 h-8"}),t.jsx("p",{children:l})]}):e.length===0?t.jsxs("div",{className:"text-center py-16 bg-white dark:bg-slate-900 rounded-2xl border border-slate-200 dark:border-slate-800",children:[t.jsx(Au,{className:"w-16 h-16 text-slate-200 dark:text-slate-700 mx-auto mb-4"}),t.jsx("p",{className:"text-slate-500",children:"No announcements available at the moment."})]}):t.jsx("div",{className:"space-y-4",children:e.map(A=>t.jsx("div",{onClick:()=>s(`/announcements/${A.id}`),className:"bg-white dark:bg-slate-900 rounded-2xl p-5 border border-slate-200 dark:border-slate-800 hover:shadow-lg hover:border-sky-300 dark:hover:border-sky-700 hover:-translate-y-0.5 transition-all cursor-pointer group",children:t.jsxs("div",{className:"flex gap-4",children:[A.coverImage?t.jsx("img",{src:A.coverImage,alt:"",className:"w-24 h-24 rounded-xl object-cover shrink-0"}):t.jsx("div",{className:"w-24 h-24 rounded-xl bg-gradient-to-br from-sky-100 to-sky-50 dark:from-sky-900/30 dark:to-slate-800 flex items-center justify-center shrink-0",children:t.jsx(eA,{className:"w-8 h-8 text-sky-500"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"flex items-center gap-2 mb-2",children:t.jsx(J5,{category:A.category})}),t.jsx("h3",{className:"font-semibold text-lg text-slate-900 dark:text-white group-hover:text-sky-600 dark:group-hover:text-sky-400 transition-colors truncate",children:A.title}),A.subtitle&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 truncate mt-1",children:A.subtitle}),t.jsxs("div",{className:"flex items-center gap-3 mt-3 text-xs text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(co,{className:"w-3 h-3"}),new Date(A.createdAt).toLocaleDateString()]}),A.views!==void 0&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(io,{className:"w-3 h-3"}),A.views," views"]})]})]}),t.jsx(Ac,{className:"w-5 h-5 text-slate-300 dark:text-slate-600 group-hover:text-sky-500 group-hover:translate-x-1 transition-all self-center"})]})},A.id))})]})},KD=()=>{var p;const{id:s}=Gg(),e=zl(),[r,n]=W.useState(null),[a,l]=W.useState(!0),[u,d]=W.useState(null);W.useEffect(()=>{A()},[s]);const A=async()=>{try{const x=await fetch(`${Dt}/api/announcements/${s}`,{credentials:"include"});if(!x.ok)throw new Error("Not found");const b=await x.json();n(b.announcement)}catch{d("Announcement not found or has expired.")}finally{l(!1)}},o=async()=>{if(!r)return;const x=window.location.href;if(navigator.share)try{await navigator.share({title:r.title,url:x})}catch{}else await navigator.clipboard.writeText(x),alert("Link copied to clipboard!")},f=()=>{r!=null&&r.ctaLink&&(r.ctaLink.startsWith("http")?window.open(r.ctaLink,"_blank"):e(r.ctaLink))};if(a)return t.jsx("div",{className:"flex items-center justify-center h-[60vh]",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-sky-600"})});if(u||!r)return t.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] gap-4",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center",children:t.jsx(Au,{className:"w-8 h-8 text-slate-400"})}),t.jsx("p",{className:"text-slate-500",children:u||"Announcement not found"}),t.jsx("button",{onClick:()=>e("/announcements"),className:"text-sky-600 font-medium hover:underline",children:"Back to list"})]});const m=()=>{switch(r.ctaStyle){case"secondary":return"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200";case"danger":return"bg-red-500 text-white hover:bg-red-600";default:return"bg-gradient-to-r from-sky-500 to-sky-600 text-white hover:from-sky-600 hover:to-sky-700"}};return t.jsxs("div",{className:"p-6 md:p-8 max-w-4xl mx-auto space-y-6 animate-fade-in-up",children:[t.jsxs("button",{onClick:()=>e("/announcements"),className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-sky-600 dark:hover:text-white transition-colors",children:[t.jsx(rA,{className:"w-4 h-4"}),"Back to announcements"]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:[(r.bannerImage||r.coverImage)&&t.jsx("div",{className:"h-48 md:h-64 overflow-hidden",children:t.jsx("img",{src:r.bannerImage||r.coverImage,alt:r.title,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"p-6 md:p-8",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[t.jsx(J5,{category:r.category}),t.jsx(zD,{audience:r.targetAudience}),r.priority===2&&t.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-xs font-medium rounded",children:" Urgent"})]}),t.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-slate-900 dark:text-white mb-2",children:r.title}),r.subtitle&&t.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-400 mb-4",children:r.subtitle}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx(co,{className:"w-4 h-4"}),new Date(r.createdAt).toLocaleDateString()]}),r.views!==void 0&&t.jsxs("span",{className:"flex items-center gap-1.5",children:[t.jsx(io,{className:"w-4 h-4"}),r.views.toLocaleString()," views"]}),r.endAt&&t.jsxs("span",{className:"flex items-center gap-1.5 text-orange-500",children:[t.jsx(Vi,{className:"w-4 h-4"}),"Expires: ",new Date(r.endAt).toLocaleDateString()]})]})]})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-800 p-6 md:p-8",children:r.contentType==="html"?t.jsx("div",{className:"prose prose-slate dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:r.content}}):r.contentType==="markdown"?t.jsx($D,{content:r.content}):t.jsx("div",{className:"whitespace-pre-wrap text-slate-700 dark:text-slate-300 leading-relaxed",children:r.content})}),(r.ctaText||r.ctaLink)&&t.jsx("div",{className:"bg-gradient-to-r from-slate-100 to-slate-50 dark:from-slate-800/50 dark:to-slate-900/50 rounded-3xl p-6 md:p-8 border border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Ready to take action?"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:r.category==="promotion"?"Don't miss this opportunity!":"Click the button to proceed"})]}),t.jsxs("button",{onClick:f,className:`px-8 py-4 rounded-2xl font-semibold transition-all flex items-center gap-2 shadow-lg hover:shadow-xl hover:-translate-y-0.5 ${m()}`,children:[r.ctaText||"Learn More",(p=r.ctaLink)!=null&&p.startsWith("http")?t.jsx(o0,{className:"w-4 h-4"}):t.jsx(Ac,{className:"w-4 h-4"})]})]})}),t.jsx("div",{className:"flex items-center justify-center pb-8",children:t.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-6 py-3 text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:[t.jsx(Kp,{className:"w-4 h-4"})," Share this announcement"]})})]})},GD=({blog:s,onClick:e})=>t.jsxs("div",{onClick:e,className:"group cursor-pointer bg-white dark:bg-slate-800 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 border border-slate-100 dark:border-slate-700",children:[t.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.coverImage?t.jsx("img",{src:s.coverImage,alt:s.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500"}),t.jsx("div",{className:"absolute top-4 left-4",children:t.jsx("span",{className:"px-3 py-1 bg-black/50 backdrop-blur-md text-white text-xs font-bold rounded-full uppercase tracking-wider",children:s.category})})]}),t.jsxs("div",{className:"p-5",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden flex items-center justify-center",children:s.authorAvatar?t.jsx("img",{src:s.authorAvatar,alt:s.authorName,className:"w-full h-full object-cover"}):t.jsx(Yo,{className:"w-4 h-4 text-slate-500"})}),t.jsx("span",{className:"text-sm font-medium text-slate-600 dark:text-slate-300",children:s.authorName}),t.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:""}),t.jsx("span",{className:"text-xs text-slate-400",children:s.publishedAt?new Date(s.publishedAt).toLocaleDateString():"Draft"})]}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2 line-clamp-2 group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors",children:s.title}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm line-clamp-2 mb-4",children:s.excerpt}),t.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-4 text-slate-400 text-xs font-medium",children:[t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(io,{className:"w-4 h-4"}),s.views]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(bf,{className:`w-4 h-4 ${s.isLiked?"fill-rose-500 text-rose-500":""}`}),s.likesCount]}),t.jsxs("div",{className:"flex items-center gap-1.5",children:[t.jsx(pu,{className:"w-4 h-4"}),s.commentsCount]})]})})]})]}),Jn=({className:s="",variant:e="text",width:r,height:n,animation:a="pulse"})=>{const l={text:"rounded",circular:"rounded-full",rectangular:"rounded-none",rounded:"rounded-xl"},u={pulse:"animate-pulse",wave:"animate-shimmer bg-gradient-to-r from-slate-200 via-slate-100 to-slate-200 dark:from-slate-700 dark:via-slate-600 dark:to-slate-700 bg-[length:200%_100%]",none:""},d={};return r&&(d.width=typeof r=="number"?`${r}px`:r),n&&(d.height=typeof n=="number"?`${n}px`:n),t.jsx("div",{className:`
        bg-slate-200 dark:bg-slate-700
        ${l[e]}
        ${u[a]}
        ${s}
      `,style:d})},WD=({className:s=""})=>t.jsxs("div",{className:`max-w-4xl mx-auto p-6 md:p-8 space-y-8 ${s}`,children:[t.jsx(Jn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Jn,{variant:"rounded",className:"w-full h-64 md:h-96"}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(Jn,{variant:"rounded",className:"w-20 h-6"}),t.jsx(Jn,{variant:"text",className:"w-32 h-4"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx(Jn,{variant:"text",className:"w-full h-10"}),t.jsx(Jn,{variant:"text",className:"w-3/4 h-10"})]}),t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(Jn,{variant:"circular",className:"w-14 h-14"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(Jn,{variant:"text",className:"w-32 h-5"}),t.jsx(Jn,{variant:"text",className:"w-48 h-4"})]}),t.jsx(Jn,{variant:"rounded",className:"w-24 h-10"})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-11/12 h-5"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-4/5 h-5"}),t.jsx("div",{className:"py-4"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-3/4 h-5"}),t.jsx("div",{className:"py-4"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-5/6 h-5"}),t.jsx(Jn,{variant:"text",className:"w-full h-5"}),t.jsx(Jn,{variant:"text",className:"w-2/3 h-5"})]}),t.jsxs("div",{className:"flex items-center gap-4 pt-6 border-t border-slate-200 dark:border-slate-700",children:[t.jsx(Jn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Jn,{variant:"rounded",className:"w-24 h-10"}),t.jsx(Jn,{variant:"rounded",className:"w-24 h-10"})]}),t.jsxs("div",{className:"space-y-6 pt-8",children:[t.jsx(Jn,{variant:"text",className:"w-40 h-8"}),t.jsx(Jn,{variant:"rounded",className:"w-full h-24"}),[1,2,3].map(e=>t.jsxs("div",{className:"flex gap-4 p-4 bg-slate-50 dark:bg-slate-800/30 rounded-xl",children:[t.jsx(Jn,{variant:"circular",className:"w-10 h-10 flex-shrink-0"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Jn,{variant:"text",className:"w-24 h-4"}),t.jsx(Jn,{variant:"text",className:"w-20 h-3"})]}),t.jsx(Jn,{variant:"text",className:"w-full h-4"}),t.jsx(Jn,{variant:"text",className:"w-4/5 h-4"})]})]},e))]})]});function Bc(s){this.content=s}Bc.prototype={constructor:Bc,find:function(s){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===s)return e;return-1},get:function(s){var e=this.find(s);return e==-1?void 0:this.content[e+1]},update:function(s,e,r){var n=r&&r!=s?this.remove(r):this,a=n.find(s),l=n.content.slice();return a==-1?l.push(r||s,e):(l[a+1]=e,r&&(l[a]=r)),new Bc(l)},remove:function(s){var e=this.find(s);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Bc(r)},addToStart:function(s,e){return new Bc([s,e].concat(this.remove(s).content))},addToEnd:function(s,e){var r=this.remove(s).content.slice();return r.push(s,e),new Bc(r)},addBefore:function(s,e,r){var n=this.remove(e),a=n.content.slice(),l=n.find(s);return a.splice(l==-1?a.length:l,0,e,r),new Bc(a)},forEach:function(s){for(var e=0;e<this.content.length;e+=2)s(this.content[e],this.content[e+1])},prepend:function(s){return s=Bc.from(s),s.size?new Bc(s.content.concat(this.subtract(s).content)):this},append:function(s){return s=Bc.from(s),s.size?new Bc(this.subtract(s).content.concat(s.content)):this},subtract:function(s){var e=this;s=Bc.from(s);for(var r=0;r<s.content.length;r+=2)e=e.remove(s.content[r]);return e},toObject:function(){var s={};return this.forEach(function(e,r){s[e]=r}),s},get size(){return this.content.length>>1}};Bc.from=function(s){if(s instanceof Bc)return s;var e=[];if(s)for(var r in s)e.push(r,s[r]);return new Bc(e)};function Z5(s,e,r){for(let n=0;;n++){if(n==s.childCount||n==e.childCount)return s.childCount==e.childCount?null:r;let a=s.child(n),l=e.child(n);if(a==l){r+=a.nodeSize;continue}if(!a.sameMarkup(l))return r;if(a.isText&&a.text!=l.text){for(let u=0;a.text[u]==l.text[u];u++)r++;return r}if(a.content.size||l.content.size){let u=Z5(a.content,l.content,r+1);if(u!=null)return u}r+=a.nodeSize}}function q5(s,e,r,n){for(let a=s.childCount,l=e.childCount;;){if(a==0||l==0)return a==l?null:{a:r,b:n};let u=s.child(--a),d=e.child(--l),A=u.nodeSize;if(u==d){r-=A,n-=A;continue}if(!u.sameMarkup(d))return{a:r,b:n};if(u.isText&&u.text!=d.text){let o=0,f=Math.min(u.text.length,d.text.length);for(;o<f&&u.text[u.text.length-o-1]==d.text[d.text.length-o-1];)o++,r--,n--;return{a:r,b:n}}if(u.content.size||d.content.size){let o=q5(u.content,d.content,r-1,n-1);if(o)return o}r-=A,n-=A}}class Gs{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,a=0,l){for(let u=0,d=0;d<r;u++){let A=this.content[u],o=d+A.nodeSize;if(o>e&&n(A,a+d,l||null,u)!==!1&&A.content.size){let f=d+1;A.nodesBetween(Math.max(0,e-f),Math.min(A.content.size,r-f),n,a+f)}d=o}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,a){let l="",u=!0;return this.nodesBetween(e,r,(d,A)=>{let o=d.isText?d.text.slice(Math.max(e,A)-A,r-A):d.isLeaf?a?typeof a=="function"?a(d):a:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&o||d.isTextblock)&&n&&(u?u=!1:l+=n),l+=o},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,a=this.content.slice(),l=0;for(r.isText&&r.sameMarkup(n)&&(a[a.length-1]=r.withText(r.text+n.text),l=1);l<e.content.length;l++)a.push(e.content[l]);return new Gs(a,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],a=0;if(r>e)for(let l=0,u=0;u<r;l++){let d=this.content[l],A=u+d.nodeSize;A>e&&((u<e||A>r)&&(d.isText?d=d.cut(Math.max(0,e-u),Math.min(d.text.length,r-u)):d=d.cut(Math.max(0,e-u-1),Math.min(d.content.size,r-u-1))),n.push(d),a+=d.nodeSize),u=A}return new Gs(n,a)}cutByIndex(e,r){return e==r?Gs.empty:e==0&&r==this.content.length?this:new Gs(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let a=this.content.slice(),l=this.size+r.nodeSize-n.nodeSize;return a[e]=r,new Gs(a,l)}addToStart(e){return new Gs([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Gs(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let a=this.content[r];e(a,n,r),n+=a.nodeSize}}findDiffStart(e,r=0){return Z5(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return q5(this,e,r,n)}findIndex(e){if(e==0)return op(0,e);if(e==this.size)return op(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let a=this.child(r),l=n+a.nodeSize;if(l>=e)return l==e?op(r+1,l):op(r,n);n=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Gs.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Gs(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Gs.empty;let r,n=0;for(let a=0;a<e.length;a++){let l=e[a];n+=l.nodeSize,a&&l.isText&&e[a-1].sameMarkup(l)?(r||(r=e.slice(0,a)),r[r.length-1]=l.withText(r[r.length-1].text+l.text)):r&&r.push(l)}return new Gs(r||e,n)}static from(e){if(!e)return Gs.empty;if(e instanceof Gs)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Gs([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Gs.empty=new Gs([],0);const gb={index:0,offset:0};function op(s,e){return gb.index=s,gb.offset=e,gb}function eg(s,e){if(s===e)return!0;if(!(s&&typeof s=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(s);if(Array.isArray(e)!=r)return!1;if(r){if(s.length!=e.length)return!1;for(let n=0;n<s.length;n++)if(!eg(s[n],e[n]))return!1}else{for(let n in s)if(!(n in e)||!eg(s[n],e[n]))return!1;for(let n in e)if(!(n in s))return!1}return!0}let zi=class fv{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let a=0;a<e.length;a++){let l=e[a];if(this.eq(l))return e;if(this.type.excludes(l.type))r||(r=e.slice(0,a));else{if(l.type.excludes(this.type))return e;!n&&l.type.rank>this.type.rank&&(r||(r=e.slice(0,a)),r.push(this),n=!0),r&&r.push(l)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&eg(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let a=n.create(r.attrs);return n.checkAttrs(a.attrs),a}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return fv.none;if(e instanceof fv)return[e];let r=e.slice();return r.sort((n,a)=>n.type.rank-a.type.rank),r}};zi.none=[];class tg extends Error{}class Mr{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=tN(this.content,e+this.openStart,r);return n&&new Mr(n,this.openStart,this.openEnd)}removeBetween(e,r){return new Mr(eN(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return Mr.empty;let n=r.openStart||0,a=r.openEnd||0;if(typeof n!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Mr(Gs.fromJSON(e,r.content),n,a)}static maxOpen(e,r=!0){let n=0,a=0;for(let l=e.firstChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.firstChild)n++;for(let l=e.lastChild;l&&!l.isLeaf&&(r||!l.type.spec.isolating);l=l.lastChild)a++;return new Mr(e,n,a)}}Mr.empty=new Mr(Gs.empty,0,0);function eN(s,e,r){let{index:n,offset:a}=s.findIndex(e),l=s.maybeChild(n),{index:u,offset:d}=s.findIndex(r);if(a==e||l.isText){if(d!=r&&!s.child(u).isText)throw new RangeError("Removing non-flat range");return s.cut(0,e).append(s.cut(r))}if(n!=u)throw new RangeError("Removing non-flat range");return s.replaceChild(n,l.copy(eN(l.content,e-a-1,r-a-1)))}function tN(s,e,r,n){let{index:a,offset:l}=s.findIndex(e),u=s.maybeChild(a);if(l==e||u.isText)return n&&!n.canReplace(a,a,r)?null:s.cut(0,e).append(r).append(s.cut(e));let d=tN(u.content,e-l-1,r,u);return d&&s.replaceChild(a,u.copy(d))}function YD(s,e,r){if(r.openStart>s.depth)throw new tg("Inserted content deeper than insertion position");if(s.depth-r.openStart!=e.depth-r.openEnd)throw new tg("Inconsistent open depths");return sN(s,e,r,0)}function sN(s,e,r,n){let a=s.index(n),l=s.node(n);if(a==e.index(n)&&n<s.depth-r.openStart){let u=sN(s,e,r,n+1);return l.copy(l.content.replaceChild(a,u))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&s.depth==n&&e.depth==n){let u=s.parent,d=u.content;return ff(u,d.cut(0,s.parentOffset).append(r.content).append(d.cut(e.parentOffset)))}else{let{start:u,end:d}=XD(r,s);return ff(l,nN(s,u,d,e,n))}else return ff(l,sg(s,e,n))}function rN(s,e){if(!e.type.compatibleContent(s.type))throw new tg("Cannot join "+e.type.name+" onto "+s.type.name)}function mv(s,e,r){let n=s.node(r);return rN(n,e.node(r)),n}function hf(s,e){let r=e.length-1;r>=0&&s.isText&&s.sameMarkup(e[r])?e[r]=s.withText(e[r].text+s.text):e.push(s)}function em(s,e,r,n){let a=(e||s).node(r),l=0,u=e?e.index(r):a.childCount;s&&(l=s.index(r),s.depth>r?l++:s.textOffset&&(hf(s.nodeAfter,n),l++));for(let d=l;d<u;d++)hf(a.child(d),n);e&&e.depth==r&&e.textOffset&&hf(e.nodeBefore,n)}function ff(s,e){return s.type.checkContent(e),s.copy(e)}function nN(s,e,r,n,a){let l=s.depth>a&&mv(s,e,a+1),u=n.depth>a&&mv(r,n,a+1),d=[];return em(null,s,a,d),l&&u&&e.index(a)==r.index(a)?(rN(l,u),hf(ff(l,nN(s,e,r,n,a+1)),d)):(l&&hf(ff(l,sg(s,e,a+1)),d),em(e,r,a,d),u&&hf(ff(u,sg(r,n,a+1)),d)),em(n,null,a,d),new Gs(d)}function sg(s,e,r){let n=[];if(em(null,s,r,n),s.depth>r){let a=mv(s,e,r+1);hf(ff(a,sg(s,e,r+1)),n)}return em(e,null,r,n),new Gs(n)}function XD(s,e){let r=e.depth-s.openStart,a=e.node(r).copy(s.content);for(let l=r-1;l>=0;l--)a=e.node(l).copy(Gs.from(a));return{start:a.resolveNoCache(s.openStart+r),end:a.resolveNoCache(a.content.size-s.openEnd-r)}}class pm{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],a=e.child(r);return n?e.child(r).cut(n):a}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],a=r==0?0:this.path[r*3-1]+1;for(let l=0;l<e;l++)a+=n.child(l).nodeSize;return a}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return zi.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),a=e.maybeChild(r);if(!n){let d=n;n=a,a=d}let l=n.marks;for(var u=0;u<l.length;u++)l[u].type.spec.inclusive===!1&&(!a||!l[u].isInSet(a.marks))&&(l=l[u--].removeFromSet(l));return l}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,a=e.parent.maybeChild(e.index());for(var l=0;l<n.length;l++)n[l].type.spec.inclusive===!1&&(!a||!n[l].isInSet(a.marks))&&(n=n[l--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new rg(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],a=0,l=r;for(let u=e;;){let{index:d,offset:A}=u.content.findIndex(l),o=l-A;if(n.push(u,d,a+A),!o||(u=u.child(d),u.isText))break;l=o-1,a+=A+1}return new pm(r,n,l)}static resolveCached(e,r){let n=iw.get(e);if(n)for(let l=0;l<n.elts.length;l++){let u=n.elts[l];if(u.pos==r)return u}else iw.set(e,n=new JD);let a=n.elts[n.i]=pm.resolve(e,r);return n.i=(n.i+1)%ZD,a}}class JD{constructor(){this.elts=[],this.i=0}}const ZD=12,iw=new WeakMap;class rg{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const qD=Object.create(null);let Th=class pv{constructor(e,r,n,a=zi.none){this.type=e,this.attrs=r,this.marks=a,this.content=n||Gs.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,a=0){this.content.nodesBetween(e,r,n,a,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,a){return this.content.textBetween(e,r,n,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&eg(this.attrs,r||e.defaultAttrs||qD)&&zi.sameSet(this.marks,n||zi.none)}copy(e=null){return e==this.content?this:new pv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new pv(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return Mr.empty;let a=this.resolve(e),l=this.resolve(r),u=n?0:a.sharedDepth(r),d=a.start(u),o=a.node(u).content.cut(a.pos-d,l.pos-d);return new Mr(o,a.depth-u,l.depth-u)}replace(e,r,n){return YD(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:a}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(a==e||r.isText)return r;e-=a+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let a=this.content.child(r-1);return{node:a,index:r-1,offset:n-a.nodeSize}}resolve(e){return pm.resolveCached(this,e)}resolveNoCache(e){return pm.resolve(this,e)}rangeHasMark(e,r,n){let a=!1;return r>e&&this.nodesBetween(e,r,l=>(n.isInSet(l.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),aN(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Gs.empty,a=0,l=n.childCount){let u=this.contentMatchAt(e).matchFragment(n,a,l),d=u&&u.matchFragment(this.content,r);if(!d||!d.validEnd)return!1;for(let A=a;A<l;A++)if(!this.type.allowsMarks(n.child(A).marks))return!1;return!0}canReplaceWith(e,r,n,a){if(a&&!this.type.allowsMarks(a))return!1;let l=this.contentMatchAt(e).matchType(n),u=l&&l.matchFragment(this.content,r);return u?u.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=zi.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!zi.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let a=Gs.fromJSON(e,r.content),l=e.nodeType(r.type).create(r.attrs,a,n);return l.type.checkAttrs(l.attrs),l}};Th.prototype.text=void 0;class ng extends Th{constructor(e,r,n,a){if(super(e,r,null,a),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):aN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new ng(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new ng(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function aN(s,e){for(let r=s.length-1;r>=0;r--)e=s[r].type.name+"("+e+")";return e}class yf{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new eR(e,r);if(n.next==null)return yf.empty;let a=iN(n);n.next&&n.err("Unexpected trailing text");let l=oR(iR(a));return lR(l,n),l}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let a=this;for(let l=r;a&&l<n;l++)a=a.matchType(e.child(l).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let a=[this];function l(u,d){let A=u.matchFragment(e,n);if(A&&(!r||A.validEnd))return Gs.from(d.map(o=>o.createAndFill()));for(let o=0;o<u.next.length;o++){let{type:f,next:m}=u.next[o];if(!(f.isText||f.hasRequiredAttrs())&&a.indexOf(m)==-1){a.push(m);let p=l(m,d.concat(f));if(p)return p}}return null}return l(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let a=n.shift(),l=a.match;if(l.matchType(e)){let u=[];for(let d=a;d.type;d=d.via)u.push(d.type);return u.reverse()}for(let u=0;u<l.next.length;u++){let{type:d,next:A}=l.next[u];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in r)&&(!a.type||A.validEnd)&&(n.push({match:d.contentMatch,type:d,via:a}),r[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let a=0;a<n.next.length;a++)e.indexOf(n.next[a].next)==-1&&r(n.next[a].next)}return r(this),e.map((n,a)=>{let l=a+(n.validEnd?"*":" ")+" ";for(let u=0;u<n.next.length;u++)l+=(u?", ":"")+n.next[u].type.name+"->"+e.indexOf(n.next[u].next);return l}).join(`
`)}}yf.empty=new yf(!0);class eR{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function iN(s){let e=[];do e.push(tR(s));while(s.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function tR(s){let e=[];do e.push(sR(s));while(s.next&&s.next!=")"&&s.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function sR(s){let e=aR(s);for(;;)if(s.eat("+"))e={type:"plus",expr:e};else if(s.eat("*"))e={type:"star",expr:e};else if(s.eat("?"))e={type:"opt",expr:e};else if(s.eat("{"))e=rR(s,e);else break;return e}function ow(s){/\D/.test(s.next)&&s.err("Expected number, got '"+s.next+"'");let e=Number(s.next);return s.pos++,e}function rR(s,e){let r=ow(s),n=r;return s.eat(",")&&(s.next!="}"?n=ow(s):n=-1),s.eat("}")||s.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function nR(s,e){let r=s.nodeTypes,n=r[e];if(n)return[n];let a=[];for(let l in r){let u=r[l];u.isInGroup(e)&&a.push(u)}return a.length==0&&s.err("No node type or group '"+e+"' found"),a}function aR(s){if(s.eat("(")){let e=iN(s);return s.eat(")")||s.err("Missing closing paren"),e}else if(/\W/.test(s.next))s.err("Unexpected token '"+s.next+"'");else{let e=nR(s,s.next).map(r=>(s.inline==null?s.inline=r.isInline:s.inline!=r.isInline&&s.err("Mixing inline and block content"),{type:"name",value:r}));return s.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function iR(s){let e=[[]];return a(l(s,0),r()),e;function r(){return e.push([])-1}function n(u,d,A){let o={term:A,to:d};return e[u].push(o),o}function a(u,d){u.forEach(A=>A.to=d)}function l(u,d){if(u.type=="choice")return u.exprs.reduce((A,o)=>A.concat(l(o,d)),[]);if(u.type=="seq")for(let A=0;;A++){let o=l(u.exprs[A],d);if(A==u.exprs.length-1)return o;a(o,d=r())}else if(u.type=="star"){let A=r();return n(d,A),a(l(u.expr,A),A),[n(A)]}else if(u.type=="plus"){let A=r();return a(l(u.expr,d),A),a(l(u.expr,A),A),[n(A)]}else{if(u.type=="opt")return[n(d)].concat(l(u.expr,d));if(u.type=="range"){let A=d;for(let o=0;o<u.min;o++){let f=r();a(l(u.expr,A),f),A=f}if(u.max==-1)a(l(u.expr,A),A);else for(let o=u.min;o<u.max;o++){let f=r();n(A,f),a(l(u.expr,A),f),A=f}return[n(A)]}else{if(u.type=="name")return[n(d,void 0,u.value)];throw new Error("Unknown expr type")}}}}function oN(s,e){return e-s}function lw(s,e){let r=[];return n(e),r.sort(oN);function n(a){let l=s[a];if(l.length==1&&!l[0].term)return n(l[0].to);r.push(a);for(let u=0;u<l.length;u++){let{term:d,to:A}=l[u];!d&&r.indexOf(A)==-1&&n(A)}}}function oR(s){let e=Object.create(null);return r(lw(s,0));function r(n){let a=[];n.forEach(u=>{s[u].forEach(({term:d,to:A})=>{if(!d)return;let o;for(let f=0;f<a.length;f++)a[f][0]==d&&(o=a[f][1]);lw(s,A).forEach(f=>{o||a.push([d,o=[]]),o.indexOf(f)==-1&&o.push(f)})})});let l=e[n.join(",")]=new yf(n.indexOf(s.length-1)>-1);for(let u=0;u<a.length;u++){let d=a[u][1].sort(oN);l.next.push({type:a[u][0],next:e[d.join(",")]||r(d)})}return l}}function lR(s,e){for(let r=0,n=[s];r<n.length;r++){let a=n[r],l=!a.validEnd,u=[];for(let d=0;d<a.next.length;d++){let{type:A,next:o}=a.next[d];u.push(A.name),l&&!(A.isText||A.hasRequiredAttrs())&&(l=!1),n.indexOf(o)==-1&&n.push(o)}l&&e.err("Only non-generatable nodes ("+u.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function lN(s){let e=Object.create(null);for(let r in s){let n=s[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function cN(s,e){let r=Object.create(null);for(let n in s){let a=e&&e[n];if(a===void 0){let l=s[n];if(l.hasDefault)a=l.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=a}return r}function dN(s,e,r,n){for(let a in e)if(!(a in s))throw new RangeError(`Unsupported attribute ${a} for ${r} of type ${a}`);for(let a in s){let l=s[a];l.validate&&l.validate(e[a])}}function uN(s,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new dR(s,n,e[n]);return r}let cw=class AN{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=uN(e,n.attrs),this.defaultAttrs=lN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yf.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:cN(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Th(this,this.computeAttrs(e),Gs.from(r),zi.setFrom(n))}createChecked(e=null,r,n){return r=Gs.from(r),this.checkContent(r),new Th(this,this.computeAttrs(e),r,zi.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Gs.from(r),r.size){let u=this.contentMatch.fillBefore(r);if(!u)return null;r=u.append(r)}let a=this.contentMatch.matchFragment(r),l=a&&a.fillBefore(Gs.empty,!0);return l?new Th(this,e,r.append(l),zi.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){dN(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:zi.none:e}static compile(e,r){let n=Object.create(null);e.forEach((l,u)=>n[l]=new AN(l,r,u));let a=r.spec.topNode||"doc";if(!n[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let l in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function cR(s,e,r){let n=r.split("|");return a=>{let l=a===null?"null":typeof a;if(n.indexOf(l)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${s}, got ${l}`)}}class dR{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?cR(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class lx{constructor(e,r,n,a){this.name=e,this.rank=r,this.schema=n,this.spec=a,this.attrs=uN(e,a.attrs),this.excluded=null;let l=lN(this.attrs);this.instance=l?new zi(this,l):null}create(e=null){return!e&&this.instance?this.instance:new zi(this,cN(this.attrs,e))}static compile(e,r){let n=Object.create(null),a=0;return e.forEach((l,u)=>n[l]=new lx(l,a++,r,u)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){dN(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class hN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let a in e)r[a]=e[a];r.nodes=Bc.from(e.nodes),r.marks=Bc.from(e.marks||{}),this.nodes=cw.compile(this.spec.nodes,this),this.marks=lx.compile(this.spec.marks,this);let n=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let l=this.nodes[a],u=l.spec.content||"",d=l.spec.marks;if(l.contentMatch=n[u]||(n[u]=yf.parse(u,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=d=="_"?null:d?dw(this,d.split(" ")):d==""||!l.inlineContent?[]:null}for(let a in this.marks){let l=this.marks[a],u=l.spec.excludes;l.excluded=u==null?[l]:u==""?[]:dw(this,u.split(" "))}this.nodeFromJSON=a=>Th.fromJSON(this,a),this.markFromJSON=a=>zi.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,a){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof cw){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,a)}text(e,r){let n=this.nodes.text;return new ng(n,n.defaultAttrs,e,zi.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function dw(s,e){let r=[];for(let n=0;n<e.length;n++){let a=e[n],l=s.marks[a],u=l;if(l)r.push(l);else for(let d in s.marks){let A=s.marks[d];(a=="_"||A.spec.group&&A.spec.group.split(" ").indexOf(a)>-1)&&r.push(u=A)}if(!u)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function uR(s){return s.tag!=null}function AR(s){return s.style!=null}let tm=class gv{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(a=>{if(uR(a))this.tags.push(a);else if(AR(a)){let l=/[^=]*/.exec(a.style)[0];n.indexOf(l)<0&&n.push(l),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let l=e.nodes[a.node];return l.contentMatch.matchType(l)})}parse(e,r={}){let n=new Aw(this,r,!1);return n.addAll(e,zi.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new Aw(this,r,!0);return n.addAll(e,zi.none,r.from,r.to),Mr.maxOpen(n.finish())}matchTag(e,r,n){for(let a=n?this.tags.indexOf(n)+1:0;a<this.tags.length;a++){let l=this.tags[a];if(mR(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||r.matchesContext(l.context))){if(l.getAttrs){let u=l.getAttrs(e);if(u===!1)continue;l.attrs=u||void 0}return l}}}matchStyle(e,r,n,a){for(let l=a?this.styles.indexOf(a)+1:0;l<this.styles.length;l++){let u=this.styles[l],d=u.style;if(!(d.indexOf(e)!=0||u.context&&!n.matchesContext(u.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=r))){if(u.getAttrs){let A=u.getAttrs(r);if(A===!1)continue;u.attrs=A||void 0}return u}}}static schemaRules(e){let r=[];function n(a){let l=a.priority==null?50:a.priority,u=0;for(;u<r.length;u++){let d=r[u];if((d.priority==null?50:d.priority)<l)break}r.splice(u,0,a)}for(let a in e.marks){let l=e.marks[a].spec.parseDOM;l&&l.forEach(u=>{n(u=hw(u)),u.mark||u.ignore||u.clearMark||(u.mark=a)})}for(let a in e.nodes){let l=e.nodes[a].spec.parseDOM;l&&l.forEach(u=>{n(u=hw(u)),u.node||u.ignore||u.mark||(u.node=a)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new gv(e,gv.schemaRules(e)))}};const fN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},hR={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},mN={ol:!0,ul:!0},gm=1,xv=2,sm=4;function uw(s,e,r){return e!=null?(e?gm:0)|(e==="full"?xv:0):s&&s.whitespace=="pre"?gm|xv:r&~sm}class lp{constructor(e,r,n,a,l,u){this.type=e,this.attrs=r,this.marks=n,this.solid=a,this.options=u,this.content=[],this.activeMarks=zi.none,this.match=l||(u&sm?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Gs.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,a;return(a=n.findWrapping(e.type))?(this.match=n,a):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&gm)){let n=this.content[this.content.length-1],a;if(n&&n.isText&&(a=/[ \t\r\n\u000c]+$/.exec(n.text))){let l=n;n.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-a[0].length))}}let r=Gs.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Gs.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!fN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Aw{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let a=r.topNode,l,u=uw(null,r.preserveWhitespace,0)|(n?sm:0);a?l=new lp(a.type,a.attrs,zi.none,!0,r.topMatch||a.type.contentMatch,u):n?l=new lp(null,null,zi.none,!0,null,u):l=new lp(e.schema.topNodeType,null,zi.none,!0,null,u),this.nodes=[l],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,a=this.top,l=a.options&xv?"full":this.localPreserveWS||(a.options&gm)>0,{schema:u}=this.parser;if(l==="full"||a.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(l)if(l==="full")n=n.replace(/\r\n?/g,`
`);else if(u.linebreakReplacement&&/[\r\n]/.test(n)&&this.top.findWrapping(u.linebreakReplacement.create())){let d=n.split(/\r?\n|\r/);for(let A=0;A<d.length;A++)A&&this.insertNode(u.linebreakReplacement.create(),r,!0),d[A]&&this.insertNode(u.text(d[A]),r,!/\S/.test(d[A]));n=""}else n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let d=a.content[a.content.length-1],A=e.previousSibling;(!d||A&&A.nodeName=="BR"||d.isText&&/[ \t\r\n\u000c]$/.test(d.text))&&(n=n.slice(1))}n&&this.insertNode(u.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let a=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let u=e.nodeName.toLowerCase(),d;mN.hasOwnProperty(u)&&this.parser.normalizeLists&&fR(e);let A=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,n));e:if(A?A.ignore:hR.hasOwnProperty(u))this.findInside(e),this.ignoreFallback(e,r);else if(!A||A.skip||A.closeParent){A&&A.closeParent?this.open=Math.max(0,this.open-1):A&&A.skip.nodeType&&(e=A.skip);let o,f=this.needsBlock;if(fN.hasOwnProperty(u))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),o=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let m=A&&A.skip?r:this.readStyles(e,r);m&&this.addAll(e,m),o&&this.sync(l),this.needsBlock=f}else{let o=this.readStyles(e,r);o&&this.addElementByRule(e,A,o,A.consuming===!1?d:void 0)}this.localPreserveWS=a}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let l=this.parser.matchedStyles[a],u=n.getPropertyValue(l);if(u)for(let d=void 0;;){let A=this.parser.matchStyle(l,u,this,d);if(!A)break;if(A.ignore)return null;if(A.clearMark?r=r.filter(o=>!A.clearMark(o)):r=r.concat(this.parser.schema.marks[A.mark].create(A.attrs)),A.consuming===!1)d=A;else break}}return r}addElementByRule(e,r,n,a){let l,u;if(r.node)if(u=this.parser.schema.nodes[r.node],u.isLeaf)this.insertNode(u.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let A=this.enter(u,r.attrs||null,n,r.preserveWhitespace);A&&(l=!0,n=A)}else{let A=this.parser.schema.marks[r.mark];n=n.concat(A.create(r.attrs))}let d=this.top;if(u&&u.isLeaf)this.findInside(e);else if(a)this.addElement(e,n,a);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(A=>this.insertNode(A,n,!1));else{let A=e;typeof r.contentElement=="string"?A=e.querySelector(r.contentElement):typeof r.contentElement=="function"?A=r.contentElement(e):r.contentElement&&(A=r.contentElement),this.findAround(e,A,!0),this.addAll(A,n),this.findAround(e,A,!1)}l&&this.sync(d)&&this.open--}addAll(e,r,n,a){let l=n||0;for(let u=n?e.childNodes[n]:e.firstChild,d=a==null?null:e.childNodes[a];u!=d;u=u.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(u,r);this.findAtPoint(e,l)}findPlace(e,r,n){let a,l;for(let u=this.open,d=0;u>=0;u--){let A=this.nodes[u],o=A.findWrapping(e);if(o&&(!a||a.length>o.length+d)&&(a=o,l=A,!o.length))break;if(A.solid){if(n)break;d+=2}}if(!a)return null;this.sync(l);for(let u=0;u<a.length;u++)r=this.enterInner(a[u],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(r=this.enterInner(l,null,r))}let a=this.findPlace(e,r,n);if(a){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let u=zi.none;for(let d of a.concat(e.marks))(l.type?l.type.allowsMarkType(d.type):fw(d.type,e.type))&&(u=d.addToSet(u));return l.content.push(e.mark(u)),!0}return!1}enter(e,r,n,a){let l=this.findPlace(e.create(r),n,!1);return l&&(l=this.enterInner(e,r,n,!0,a)),l}enterInner(e,r,n,a=!1,l){this.closeExtra();let u=this.top;u.match=u.match&&u.match.matchType(e);let d=uw(e,l,u.options);u.options&sm&&u.content.length==0&&(d|=sm);let A=zi.none;return n=n.filter(o=>(u.type?u.type.allowsMarkType(o.type):fw(o.type,e))?(A=o.addToSet(A),!1):!0),this.nodes.push(new lp(e,r,A,a,null,d)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=gm)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let a=n.length-1;a>=0;a--)e+=n[a].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&r.compareDocumentPosition(this.find[a].node)&(n?2:4)&&(this.find[a].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,a=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),l=-(n?n.depth+1:0)+(a?0:1),u=(d,A)=>{for(;d>=0;d--){let o=r[d];if(o==""){if(d==r.length-1||d==0)continue;for(;A>=l;A--)if(u(d-1,A))return!0;return!1}else{let f=A>0||A==0&&a?this.nodes[A].type:n&&A>=l?n.node(A-l).type:null;if(!f||f.name!=o&&!f.isInGroup(o))return!1;A--}}return!0};return u(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function fR(s){for(let e=s.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&mN.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function mR(s,e){return(s.matches||s.msMatchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector).call(s,e)}function hw(s){let e={};for(let r in s)e[r]=s[r];return e}function fw(s,e){let r=e.schema.nodes;for(let n in r){let a=r[n];if(!a.allowsMarkType(s))continue;let l=[],u=d=>{l.push(d);for(let A=0;A<d.edgeCount;A++){let{type:o,next:f}=d.edge(A);if(o==e||l.indexOf(f)<0&&u(f))return!0}};if(u(a.contentMatch))return!0}}class Bf{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=xb(r).createDocumentFragment());let a=n,l=[];return e.forEach(u=>{if(l.length||u.marks.length){let d=0,A=0;for(;d<l.length&&A<u.marks.length;){let o=u.marks[A];if(!this.marks[o.type.name]){A++;continue}if(!o.eq(l[d][0])||o.type.spec.spanning===!1)break;d++,A++}for(;d<l.length;)a=l.pop()[1];for(;A<u.marks.length;){let o=u.marks[A++],f=this.serializeMark(o,u.isInline,r);f&&(l.push([o,a]),a.appendChild(f.dom),a=f.contentDOM||f.dom)}}a.appendChild(this.serializeNodeInner(u,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:a}=Sp(xb(r),this.nodes[e.type.name](e),null,e.attrs);if(a){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,a)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let a=e.marks.length-1;a>=0;a--){let l=this.serializeMark(e.marks[a],e.isInline,r);l&&((l.contentDOM||l.dom).appendChild(n),n=l.dom)}return n}serializeMark(e,r,n={}){let a=this.marks[e.type.name];return a&&Sp(xb(n),a(e,r),null,e.attrs)}static renderSpec(e,r,n=null,a){return Sp(e,r,n,a)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Bf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=mw(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return mw(e.marks)}}function mw(s){let e={};for(let r in s){let n=s[r].spec.toDOM;n&&(e[r]=n)}return e}function xb(s){return s.document||window.document}const pw=new WeakMap;function pR(s){let e=pw.get(s);return e===void 0&&pw.set(s,e=gR(s)),e}function gR(s){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let a=0;a<n.length;a++)r(n[a]);else for(let a in n)r(n[a])}return r(s),e}function Sp(s,e,r,n){if(typeof e=="string")return{dom:s.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let a=e[0],l;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(l=pR(n))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let u=a.indexOf(" ");u>0&&(r=a.slice(0,u),a=a.slice(u+1));let d,A=r?s.createElementNS(r,a):s.createElement(a),o=e[1],f=1;if(o&&typeof o=="object"&&o.nodeType==null&&!Array.isArray(o)){f=2;for(let m in o)if(o[m]!=null){let p=m.indexOf(" ");p>0?A.setAttributeNS(m.slice(0,p),m.slice(p+1),o[m]):m=="style"&&A.style?A.style.cssText=o[m]:A.setAttribute(m,o[m])}}for(let m=f;m<e.length;m++){let p=e[m];if(p===0){if(m<e.length-1||m>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:A,contentDOM:A}}else{let{dom:x,contentDOM:b}=Sp(s,p,r,n);if(A.appendChild(x),b){if(d)throw new RangeError("Multiple content holes");d=b}}}return{dom:A,contentDOM:d}}const pN=65535,gN=Math.pow(2,16);function xR(s,e){return s+e*gN}function gw(s){return s&pN}function bR(s){return(s-(s&pN))/gN}const xN=1,bN=2,Ep=4,vN=8;class bv{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&vN)>0}get deletedBefore(){return(this.delInfo&(xN|Ep))>0}get deletedAfter(){return(this.delInfo&(bN|Ep))>0}get deletedAcross(){return(this.delInfo&Ep)>0}}class $d{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&$d.empty)return $d.empty}recover(e){let r=0,n=gw(e);if(!this.inverted)for(let a=0;a<n;a++)r+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[n*3]+r+bR(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let a=0,l=this.inverted?2:1,u=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let A=this.ranges[d]-(this.inverted?a:0);if(A>e)break;let o=this.ranges[d+l],f=this.ranges[d+u],m=A+o;if(e<=m){let p=o?e==A?-1:e==m?1:r:r,x=A+a+(p<0?0:f);if(n)return x;let b=e==(r<0?A:m)?null:xR(d/3,e-A),y=e==A?bN:e==m?xN:Ep;return(r<0?e!=A:e!=m)&&(y|=vN),new bv(x,y,b)}a+=f-o}return n?e+a:new bv(e+a,0,null)}touches(e,r){let n=0,a=gw(r),l=this.inverted?2:1,u=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let A=this.ranges[d]-(this.inverted?n:0);if(A>e)break;let o=this.ranges[d+l],f=A+o;if(e<=f&&d==a*3)return!0;n+=this.ranges[d+u]-o}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let a=0,l=0;a<this.ranges.length;a+=3){let u=this.ranges[a],d=u-(this.inverted?l:0),A=u+(this.inverted?0:l),o=this.ranges[a+r],f=this.ranges[a+n];e(d,d+o,A,A+f),l+=f-o}}invert(){return new $d(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?$d.empty:new $d(e<0?[0,-e,0]:[0,0,e])}}$d.empty=new $d([]);class xm{constructor(e,r,n=0,a=e?e.length:0){this.mirror=r,this.from=n,this.to=a,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new xm(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let a=e.getMirror(r);this.appendMap(e._maps[r],a!=null&&a<r?n+a:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let a=e.getMirror(r);this.appendMap(e._maps[r].invert(),a!=null&&a>r?n-a-1:void 0)}}invert(){let e=new xm;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let a=0;for(let l=this.from;l<this.to;l++){let u=this._maps[l],d=u.mapResult(e,r);if(d.recover!=null){let A=this.getMirror(l);if(A!=null&&A>l&&A<this.to){l=A,e=this._maps[A].recover(d.recover);continue}}a|=d.delInfo,e=d.pos}return n?e:new bv(e,a,null)}}const bb=Object.create(null);class Gc{getMap(){return $d.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=bb[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in bb)throw new RangeError("Duplicate use of step JSON ID "+e);return bb[e]=r,r.prototype.jsonID=e,r}}class kl{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new kl(e,null)}static fail(e){return new kl(null,e)}static fromReplace(e,r,n,a){try{return kl.ok(e.replace(r,n,a))}catch(l){if(l instanceof tg)return kl.fail(l.message);throw l}}}function uy(s,e,r){let n=[];for(let a=0;a<s.childCount;a++){let l=s.child(a);l.content.size&&(l=l.copy(uy(l.content,e,l))),l.isInline&&(l=e(l,r,a)),n.push(l)}return Gs.fromArray(n)}class Ch extends Gc{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),a=n.node(n.sharedDepth(this.to)),l=new Mr(uy(r.content,(u,d)=>!u.isAtom||!d.type.allowsMarkType(this.mark.type)?u:u.mark(this.mark.addToSet(u.marks)),a),r.openStart,r.openEnd);return kl.fromReplace(e,this.from,this.to,l)}invert(){return new Lu(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Ch(r.pos,n.pos,this.mark)}merge(e){return e instanceof Ch&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ch(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ch(r.from,r.to,e.markFromJSON(r.mark))}}Gc.jsonID("addMark",Ch);class Lu extends Gc{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new Mr(uy(r.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),r.openStart,r.openEnd);return kl.fromReplace(e,this.from,this.to,n)}invert(){return new Ch(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new Lu(r.pos,n.pos,this.mark)}merge(e){return e instanceof Lu&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Lu(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Lu(r.from,r.to,e.markFromJSON(r.mark))}}Gc.jsonID("removeMark",Lu);class kh extends Gc{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return kl.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return kl.fromReplace(e,this.pos,this.pos+1,new Mr(Gs.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let a=0;a<r.marks.length;a++)if(!r.marks[a].isInSet(n))return new kh(this.pos,r.marks[a]);return new kh(this.pos,this.mark)}}return new wf(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new kh(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new kh(r.pos,e.markFromJSON(r.mark))}}Gc.jsonID("addNodeMark",kh);class wf extends Gc{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return kl.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return kl.fromReplace(e,this.pos,this.pos+1,new Mr(Gs.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new kh(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new wf(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new wf(r.pos,e.markFromJSON(r.mark))}}Gc.jsonID("removeNodeMark",wf);class lc extends Gc{constructor(e,r,n,a=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=a}apply(e){return this.structure&&vv(e,this.from,this.to)?kl.fail("Structure replace would overwrite content"):kl.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new $d([this.from,this.to-this.from,this.slice.size])}invert(e){return new lc(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new lc(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof lc)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?Mr.empty:new Mr(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new lc(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?Mr.empty:new Mr(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new lc(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new lc(r.from,r.to,Mr.fromJSON(e,r.slice),!!r.structure)}}Gc.jsonID("replace",lc);class dc extends Gc{constructor(e,r,n,a,l,u,d=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=a,this.slice=l,this.insert=u,this.structure=d}apply(e){if(this.structure&&(vv(e,this.from,this.gapFrom)||vv(e,this.gapTo,this.to)))return kl.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return kl.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?kl.fromReplace(e,this.from,this.to,n):kl.fail("Content does not fit in gap")}getMap(){return new $d([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new dc(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),a=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||a<r.pos||l>n.pos?null:new dc(r.pos,n.pos,a,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new dc(r.from,r.to,r.gapFrom,r.gapTo,Mr.fromJSON(e,r.slice),r.insert,!!r.structure)}}Gc.jsonID("replaceAround",dc);function vv(s,e,r){let n=s.resolve(e),a=r-e,l=n.depth;for(;a>0&&l>0&&n.indexAfter(l)==n.node(l).childCount;)l--,a--;if(a>0){let u=n.node(l).maybeChild(n.indexAfter(l));for(;a>0;){if(!u||u.isLeaf)return!0;u=u.firstChild,a--}}return!1}function vR(s,e,r,n){let a=[],l=[],u,d;s.doc.nodesBetween(e,r,(A,o,f)=>{if(!A.isInline)return;let m=A.marks;if(!n.isInSet(m)&&f.type.allowsMarkType(n.type)){let p=Math.max(o,e),x=Math.min(o+A.nodeSize,r),b=n.addToSet(m);for(let y=0;y<m.length;y++)m[y].isInSet(b)||(u&&u.to==p&&u.mark.eq(m[y])?u.to=x:a.push(u=new Lu(p,x,m[y])));d&&d.to==p?d.to=x:l.push(d=new Ch(p,x,n))}}),a.forEach(A=>s.step(A)),l.forEach(A=>s.step(A))}function yR(s,e,r,n){let a=[],l=0;s.doc.nodesBetween(e,r,(u,d)=>{if(!u.isInline)return;l++;let A=null;if(n instanceof lx){let o=u.marks,f;for(;f=n.isInSet(o);)(A||(A=[])).push(f),o=f.removeFromSet(o)}else n?n.isInSet(u.marks)&&(A=[n]):A=u.marks;if(A&&A.length){let o=Math.min(d+u.nodeSize,r);for(let f=0;f<A.length;f++){let m=A[f],p;for(let x=0;x<a.length;x++){let b=a[x];b.step==l-1&&m.eq(a[x].style)&&(p=b)}p?(p.to=o,p.step=l):a.push({style:m,from:Math.max(d,e),to:o,step:l})}}}),a.forEach(u=>s.step(new Lu(u.from,u.to,u.style)))}function Ay(s,e,r,n=r.contentMatch,a=!0){let l=s.doc.nodeAt(e),u=[],d=e+1;for(let A=0;A<l.childCount;A++){let o=l.child(A),f=d+o.nodeSize,m=n.matchType(o.type);if(!m)u.push(new lc(d,f,Mr.empty));else{n=m;for(let p=0;p<o.marks.length;p++)r.allowsMarkType(o.marks[p].type)||s.step(new Lu(d,f,o.marks[p]));if(a&&o.isText&&r.whitespace!="pre"){let p,x=/\r?\n|\r/g,b;for(;p=x.exec(o.text);)b||(b=new Mr(Gs.from(r.schema.text(" ",r.allowedMarks(o.marks))),0,0)),u.push(new lc(d+p.index,d+p.index+p[0].length,b))}}d=f}if(!n.validEnd){let A=n.fillBefore(Gs.empty,!0);s.replace(d,d,new Mr(A,0,0))}for(let A=u.length-1;A>=0;A--)s.step(u[A])}function wR(s,e,r){return(e==0||s.canReplace(e,s.childCount))&&(r==s.childCount||s.canReplace(0,r))}function j0(s){let r=s.parent.content.cutByIndex(s.startIndex,s.endIndex);for(let n=s.depth,a=0,l=0;;--n){let u=s.$from.node(n),d=s.$from.index(n)+a,A=s.$to.indexAfter(n)-l;if(n<s.depth&&u.canReplace(d,A,r))return n;if(n==0||u.type.spec.isolating||!wR(u,d,A))break;d&&(a=1),A<u.childCount&&(l=1)}return null}function jR(s,e,r){let{$from:n,$to:a,depth:l}=e,u=n.before(l+1),d=a.after(l+1),A=u,o=d,f=Gs.empty,m=0;for(let b=l,y=!1;b>r;b--)y||n.index(b)>0?(y=!0,f=Gs.from(n.node(b).copy(f)),m++):A--;let p=Gs.empty,x=0;for(let b=l,y=!1;b>r;b--)y||a.after(b+1)<a.end(b)?(y=!0,p=Gs.from(a.node(b).copy(p)),x++):o++;s.step(new dc(A,o,u,d,new Mr(f.append(p),m,x),f.size-m,!0))}function hy(s,e,r=null,n=s){let a=NR(s,e),l=a&&CR(n,e);return l?a.map(xw).concat({type:e,attrs:r}).concat(l.map(xw)):null}function xw(s){return{type:s,attrs:null}}function NR(s,e){let{parent:r,startIndex:n,endIndex:a}=s,l=r.contentMatchAt(n).findWrapping(e);if(!l)return null;let u=l.length?l[0]:e;return r.canReplaceWith(n,a,u)?l:null}function CR(s,e){let{parent:r,startIndex:n,endIndex:a}=s,l=r.child(n),u=e.contentMatch.findWrapping(l.type);if(!u)return null;let A=(u.length?u[u.length-1]:e).contentMatch;for(let o=n;A&&o<a;o++)A=A.matchType(r.child(o).type);return!A||!A.validEnd?null:u}function kR(s,e,r){let n=Gs.empty;for(let u=r.length-1;u>=0;u--){if(n.size){let d=r[u].type.contentMatch.matchFragment(n);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Gs.from(r[u].type.create(r[u].attrs,n))}let a=e.start,l=e.end;s.step(new dc(a,l,a,l,new Mr(n,0,0),r.length,!0))}function BR(s,e,r,n,a){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=s.steps.length;s.doc.nodesBetween(e,r,(u,d)=>{let A=typeof a=="function"?a(u):a;if(u.isTextblock&&!u.hasMarkup(n,A)&&SR(s.doc,s.mapping.slice(l).map(d),n)){let o=null;if(n.schema.linebreakReplacement){let x=n.whitespace=="pre",b=!!n.contentMatch.matchType(n.schema.linebreakReplacement);x&&!b?o=!1:!x&&b&&(o=!0)}o===!1&&wN(s,u,d,l),Ay(s,s.mapping.slice(l).map(d,1),n,void 0,o===null);let f=s.mapping.slice(l),m=f.map(d,1),p=f.map(d+u.nodeSize,1);return s.step(new dc(m,p,m+1,p-1,new Mr(Gs.from(n.create(A,null,u.marks)),0,0),1,!0)),o===!0&&yN(s,u,d,l),!1}})}function yN(s,e,r,n){e.forEach((a,l)=>{if(a.isText){let u,d=/\r?\n|\r/g;for(;u=d.exec(a.text);){let A=s.mapping.slice(n).map(r+1+l+u.index);s.replaceWith(A,A+1,e.type.schema.linebreakReplacement.create())}}})}function wN(s,e,r,n){e.forEach((a,l)=>{if(a.type==a.type.schema.linebreakReplacement){let u=s.mapping.slice(n).map(r+1+l);s.replaceWith(u,u+1,e.type.schema.text(`
`))}})}function SR(s,e,r){let n=s.resolve(e),a=n.index();return n.parent.canReplaceWith(a,a+1,r)}function ER(s,e,r,n,a){let l=s.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");r||(r=l.type);let u=r.create(n,null,a||l.marks);if(l.isLeaf)return s.replaceWith(e,e+l.nodeSize,u);if(!r.validContent(l.content))throw new RangeError("Invalid content for node type "+r.name);s.step(new dc(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new Mr(Gs.from(u),0,0),1,!0))}function RA(s,e,r=1,n){let a=s.resolve(e),l=a.depth-r,u=n&&n[n.length-1]||a.parent;if(l<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!u.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let o=a.depth-1,f=r-2;o>l;o--,f--){let m=a.node(o),p=a.index(o);if(m.type.spec.isolating)return!1;let x=m.content.cutByIndex(p,m.childCount),b=n&&n[f+1];b&&(x=x.replaceChild(0,b.type.create(b.attrs)));let y=n&&n[f]||m;if(!m.canReplace(p+1,m.childCount)||!y.type.validContent(x))return!1}let d=a.indexAfter(l),A=n&&n[0];return a.node(l).canReplaceWith(d,d,A?A.type:a.node(l+1).type)}function TR(s,e,r=1,n){let a=s.doc.resolve(e),l=Gs.empty,u=Gs.empty;for(let d=a.depth,A=a.depth-r,o=r-1;d>A;d--,o--){l=Gs.from(a.node(d).copy(l));let f=n&&n[o];u=Gs.from(f?f.type.create(f.attrs,u):a.node(d).copy(u))}s.step(new lc(e,e,new Mr(l.append(u),r,r),!0))}function Qh(s,e){let r=s.resolve(e),n=r.index();return jN(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function UR(s,e){e.content.size||s.type.compatibleContent(e.type);let r=s.contentMatchAt(s.childCount),{linebreakReplacement:n}=s.type.schema;for(let a=0;a<e.childCount;a++){let l=e.child(a),u=l.type==n?s.type.schema.nodes.text:l.type;if(r=r.matchType(u),!r||!s.type.allowsMarks(l.marks))return!1}return r.validEnd}function jN(s,e){return!!(s&&e&&!s.isLeaf&&UR(s,e))}function cx(s,e,r=-1){let n=s.resolve(e);for(let a=n.depth;;a--){let l,u,d=n.index(a);if(a==n.depth?(l=n.nodeBefore,u=n.nodeAfter):r>0?(l=n.node(a+1),d++,u=n.node(a).maybeChild(d)):(l=n.node(a).maybeChild(d-1),u=n.node(a+1)),l&&!l.isTextblock&&jN(l,u)&&n.node(a).canReplace(d,d+1))return e;if(a==0)break;e=r<0?n.before(a):n.after(a)}}function LR(s,e,r){let n=null,{linebreakReplacement:a}=s.doc.type.schema,l=s.doc.resolve(e-r),u=l.node().type;if(a&&u.inlineContent){let f=u.whitespace=="pre",m=!!u.contentMatch.matchType(a);f&&!m?n=!1:!f&&m&&(n=!0)}let d=s.steps.length;if(n===!1){let f=s.doc.resolve(e+r);wN(s,f.node(),f.before(),d)}u.inlineContent&&Ay(s,e+r-1,u,l.node().contentMatchAt(l.index()),n==null);let A=s.mapping.slice(d),o=A.map(e-r);if(s.step(new lc(o,A.map(e+r,-1),Mr.empty,!0)),n===!0){let f=s.doc.resolve(o);yN(s,f.node(),f.before(),s.steps.length)}return s}function FR(s,e,r){let n=s.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let a=n.depth-1;a>=0;a--){let l=n.index(a);if(n.node(a).canReplaceWith(l,l,r))return n.before(a+1);if(l>0)return null}if(n.parentOffset==n.parent.content.size)for(let a=n.depth-1;a>=0;a--){let l=n.indexAfter(a);if(n.node(a).canReplaceWith(l,l,r))return n.after(a+1);if(l<n.node(a).childCount)return null}return null}function NN(s,e,r){let n=s.resolve(e);if(!r.content.size)return e;let a=r.content;for(let l=0;l<r.openStart;l++)a=a.firstChild.content;for(let l=1;l<=(r.openStart==0&&r.size?2:1);l++)for(let u=n.depth;u>=0;u--){let d=u==n.depth?0:n.pos<=(n.start(u+1)+n.end(u+1))/2?-1:1,A=n.index(u)+(d>0?1:0),o=n.node(u),f=!1;if(l==1)f=o.canReplace(A,A,a);else{let m=o.contentMatchAt(A).findWrapping(a.firstChild.type);f=m&&o.canReplaceWith(A,A,m[0])}if(f)return d==0?n.pos:d<0?n.before(u+1):n.after(u+1)}return null}function dx(s,e,r=e,n=Mr.empty){if(e==r&&!n.size)return null;let a=s.resolve(e),l=s.resolve(r);return CN(a,l,n)?new lc(e,r,n):new MR(a,l,n).fit()}function CN(s,e,r){return!r.openStart&&!r.openEnd&&s.start()==e.start()&&s.parent.canReplace(s.index(),e.index(),r.content)}class MR{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Gs.empty;for(let a=0;a<=e.depth;a++){let l=e.node(a);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=Gs.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let o=this.findFittable();o?this.placeNodes(o):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(e<0?this.$to:n.doc.resolve(e));if(!a)return null;let l=this.placed,u=n.depth,d=a.depth;for(;u&&d&&l.childCount==1;)l=l.firstChild.content,u--,d--;let A=new Mr(l,u,d);return e>-1?new dc(n.pos,e,this.$to.pos,this.$to.end(),A,r):A.size||n.pos!=this.$to.pos?new lc(n.pos,a.pos,A):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,a=this.unplaced.openEnd;n<e;n++){let l=r.firstChild;if(r.childCount>1&&(a=0),l.type.spec.isolating&&a<=n){e=n;break}r=l.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let a,l=null;n?(l=vb(this.unplaced.content,n-1).firstChild,a=l.content):a=this.unplaced.content;let u=a.firstChild;for(let d=this.depth;d>=0;d--){let{type:A,match:o}=this.frontier[d],f,m=null;if(r==1&&(u?o.matchType(u.type)||(m=o.fillBefore(Gs.from(u),!1)):l&&A.compatibleContent(l.type)))return{sliceDepth:n,frontierDepth:d,parent:l,inject:m};if(r==2&&u&&(f=o.findWrapping(u.type)))return{sliceDepth:n,frontierDepth:d,parent:l,wrap:f};if(l&&o.matchType(l.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=vb(e,r);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new Mr(e,r+1,Math.max(n,a.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=vb(e,r);if(a.childCount<=1&&r>0){let l=e.size-r<=r+a.size;this.unplaced=new Mr(K0(e,r-1,1),r-1,l?r-1:n)}else this.unplaced=new Mr(K0(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:a,wrap:l}){for(;this.depth>r;)this.closeFrontierNode();if(l)for(let y=0;y<l.length;y++)this.openFrontierNode(l[y]);let u=this.unplaced,d=n?n.content:u.content,A=u.openStart-e,o=0,f=[],{match:m,type:p}=this.frontier[r];if(a){for(let y=0;y<a.childCount;y++)f.push(a.child(y));m=m.matchFragment(a)}let x=d.size+e-(u.content.size-u.openEnd);for(;o<d.childCount;){let y=d.child(o),w=m.matchType(y.type);if(!w)break;o++,(o>1||A==0||y.content.size)&&(m=w,f.push(kN(y.mark(p.allowedMarks(y.marks)),o==1?A:0,o==d.childCount?x:-1)))}let b=o==d.childCount;b||(x=-1),this.placed=G0(this.placed,r,Gs.from(f)),this.frontier[r].match=m,b&&x<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,w=d;y<x;y++){let E=w.lastChild;this.frontier.push({type:E.type,match:E.contentMatchAt(E.childCount)}),w=E.content}this.unplaced=b?e==0?Mr.empty:new Mr(K0(u.content,e-1,1),e-1,x<0?u.openEnd:e-1):new Mr(K0(u.content,e,o),u.openStart,u.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!yb(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,a=this.$to.after(n);for(;n>1&&a==this.$to.end(--n);)++a;return a}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:a}=this.frontier[r],l=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),u=yb(e,r,a,n,l);if(u){for(let d=r-1;d>=0;d--){let{match:A,type:o}=this.frontier[d],f=yb(e,d,o,A,!0);if(!f||f.childCount)continue e}return{depth:r,fit:u,move:l?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=G0(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let a=e.node(n),l=a.type.contentMatch.fillBefore(a.content,!0,e.index(n));this.openFrontierNode(a.type,a.attrs,l)}return e}openFrontierNode(e,r=null,n){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=G0(this.placed,this.depth,Gs.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Gs.empty,!0);r.childCount&&(this.placed=G0(this.placed,this.frontier.length,r))}}function K0(s,e,r){return e==0?s.cutByIndex(r,s.childCount):s.replaceChild(0,s.firstChild.copy(K0(s.firstChild.content,e-1,r)))}function G0(s,e,r){return e==0?s.append(r):s.replaceChild(s.childCount-1,s.lastChild.copy(G0(s.lastChild.content,e-1,r)))}function vb(s,e){for(let r=0;r<e;r++)s=s.firstChild.content;return s}function kN(s,e,r){if(e<=0)return s;let n=s.content;return e>1&&(n=n.replaceChild(0,kN(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=s.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(s.type.contentMatch.matchFragment(n).fillBefore(Gs.empty,!0)))),s.copy(n)}function yb(s,e,r,n,a){let l=s.node(e),u=a?s.indexAfter(e):s.index(e);if(u==l.childCount&&!r.compatibleContent(l.type))return null;let d=n.fillBefore(l.content,!0,u);return d&&!OR(r,l.content,u)?d:null}function OR(s,e,r){for(let n=r;n<e.childCount;n++)if(!s.allowsMarks(e.child(n).marks))return!0;return!1}function IR(s){return s.spec.defining||s.spec.definingForContent}function DR(s,e,r,n){if(!n.size)return s.deleteRange(e,r);let a=s.doc.resolve(e),l=s.doc.resolve(r);if(CN(a,l,n))return s.step(new lc(e,r,n));let u=SN(a,l);u[u.length-1]==0&&u.pop();let d=-(a.depth+1);u.unshift(d);for(let p=a.depth,x=a.pos-1;p>0;p--,x--){let b=a.node(p).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;u.indexOf(p)>-1?d=p:a.before(p)==x&&u.splice(1,0,-p)}let A=u.indexOf(d),o=[],f=n.openStart;for(let p=n.content,x=0;;x++){let b=p.firstChild;if(o.push(b),x==n.openStart)break;p=b.content}for(let p=f-1;p>=0;p--){let x=o[p],b=IR(x.type);if(b&&!x.sameMarkup(a.node(Math.abs(d)-1)))f=p;else if(b||!x.type.isTextblock)break}for(let p=n.openStart;p>=0;p--){let x=(p+f+1)%(n.openStart+1),b=o[x];if(b)for(let y=0;y<u.length;y++){let w=u[(y+A)%u.length],E=!0;w<0&&(E=!1,w=-w);let R=a.node(w-1),z=a.index(w-1);if(R.canReplaceWith(z,z,b.type,b.marks))return s.replace(a.before(w),E?l.after(w):r,new Mr(BN(n.content,0,n.openStart,x),x,n.openEnd))}}let m=s.steps.length;for(let p=u.length-1;p>=0&&(s.replace(e,r,n),!(s.steps.length>m));p--){let x=u[p];x<0||(e=a.before(x),r=l.after(x))}}function BN(s,e,r,n,a){if(e<r){let l=s.firstChild;s=s.replaceChild(0,l.copy(BN(l.content,e+1,r,n,l)))}if(e>n){let l=a.contentMatchAt(0),u=l.fillBefore(s).append(s);s=u.append(l.matchFragment(u).fillBefore(Gs.empty,!0))}return s}function RR(s,e,r,n){if(!n.isInline&&e==r&&s.doc.resolve(e).parent.content.size){let a=FR(s.doc,e,n.type);a!=null&&(e=r=a)}s.replaceRange(e,r,new Mr(Gs.from(n),0,0))}function PR(s,e,r){let n=s.doc.resolve(e),a=s.doc.resolve(r),l=SN(n,a);for(let u=0;u<l.length;u++){let d=l[u],A=u==l.length-1;if(A&&d==0||n.node(d).type.contentMatch.validEnd)return s.delete(n.start(d),a.end(d));if(d>0&&(A||n.node(d-1).canReplace(n.index(d-1),a.indexAfter(d-1))))return s.delete(n.before(d),a.after(d))}for(let u=1;u<=n.depth&&u<=a.depth;u++)if(e-n.start(u)==n.depth-u&&r>n.end(u)&&a.end(u)-r!=a.depth-u&&n.start(u-1)==a.start(u-1)&&n.node(u-1).canReplace(n.index(u-1),a.index(u-1)))return s.delete(n.before(u),r);s.delete(e,r)}function SN(s,e){let r=[],n=Math.min(s.depth,e.depth);for(let a=n;a>=0;a--){let l=s.start(a);if(l<s.pos-(s.depth-a)||e.end(a)>e.pos+(e.depth-a)||s.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(l==e.start(a)||a==s.depth&&a==e.depth&&s.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==l-1)&&r.push(a)}return r}class s0 extends Gc{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return kl.fail("No node at attribute step's position");let n=Object.create(null);for(let l in r.attrs)n[l]=r.attrs[l];n[this.attr]=this.value;let a=r.type.create(n,null,r.marks);return kl.fromReplace(e,this.pos,this.pos+1,new Mr(Gs.from(a),0,r.isLeaf?0:1))}getMap(){return $d.empty}invert(e){return new s0(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new s0(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new s0(r.pos,r.attr,r.value)}}Gc.jsonID("attr",s0);class bm extends Gc{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let a in e.attrs)r[a]=e.attrs[a];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return kl.ok(n)}getMap(){return $d.empty}invert(e){return new bm(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new bm(r.attr,r.value)}}Gc.jsonID("docAttr",bm);let u0=class extends Error{};u0=function s(e){let r=Error.call(this,e);return r.__proto__=s.prototype,r};u0.prototype=Object.create(Error.prototype);u0.prototype.constructor=u0;u0.prototype.name="TransformError";class EN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new xm}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new u0(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=Mr.empty){let a=dx(this.doc,e,r,n);return a&&this.step(a),this}replaceWith(e,r,n){return this.replace(e,r,new Mr(Gs.from(n),0,0))}delete(e,r){return this.replace(e,r,Mr.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return DR(this,e,r,n),this}replaceRangeWith(e,r,n){return RR(this,e,r,n),this}deleteRange(e,r){return PR(this,e,r),this}lift(e,r){return jR(this,e,r),this}join(e,r=1){return LR(this,e,r),this}wrap(e,r){return kR(this,e,r),this}setBlockType(e,r=e,n,a=null){return BR(this,e,r,n,a),this}setNodeMarkup(e,r,n=null,a){return ER(this,e,r,n,a),this}setNodeAttribute(e,r,n){return this.step(new s0(e,r,n)),this}setDocAttribute(e,r){return this.step(new bm(e,r)),this}addNodeMark(e,r){return this.step(new kh(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof zi)r.isInSet(n.marks)&&this.step(new wf(e,r));else{let a=n.marks,l,u=[];for(;l=r.isInSet(a);)u.push(new wf(e,l)),a=l.removeFromSet(a);for(let d=u.length-1;d>=0;d--)this.step(u[d])}return this}split(e,r=1,n){return TR(this,e,r,n),this}addMark(e,r,n){return vR(this,e,r,n),this}removeMark(e,r,n){return yR(this,e,r,n),this}clearIncompatible(e,r,n){return Ay(this,e,r,n),this}}const wb=Object.create(null);class Aa{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new QR(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=Mr.empty){let n=r.content.lastChild,a=null;for(let d=0;d<r.openEnd;d++)a=n,n=n.lastChild;let l=e.steps.length,u=this.ranges;for(let d=0;d<u.length;d++){let{$from:A,$to:o}=u[d],f=e.mapping.slice(l);e.replaceRange(f.map(A.pos),f.map(o.pos),d?Mr.empty:r),d==0&&yw(e,l,(n?n.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:u,$to:d}=a[l],A=e.mapping.slice(n),o=A.map(u.pos),f=A.map(d.pos);l?e.deleteRange(o,f):(e.replaceRangeWith(o,f,r),yw(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let a=e.parent.inlineContent?new Kn(e):Jf(e.node(0),e.parent,e.pos,e.index(),r,n);if(a)return a;for(let l=e.depth-1;l>=0;l--){let u=r<0?Jf(e.node(0),e.node(l),e.before(l+1),e.index(l),r,n):Jf(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,r,n);if(u)return u}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Wd(e.node(0))}static atStart(e){return Jf(e,e,0,0,1)||new Wd(e)}static atEnd(e){return Jf(e,e,e.content.size,e.childCount,-1)||new Wd(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=wb[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in wb)throw new RangeError("Duplicate use of selection JSON ID "+e);return wb[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Kn.between(this.$anchor,this.$head).getBookmark()}}Aa.prototype.visible=!0;class QR{constructor(e,r){this.$from=e,this.$to=r}}let bw=!1;function vw(s){!bw&&!s.parent.inlineContent&&(bw=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+s.parent.type.name+")"))}class Kn extends Aa{constructor(e,r=e){vw(e),vw(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return Aa.near(n);let a=e.resolve(r.map(this.anchor));return new Kn(a.parent.inlineContent?a:n,n)}replace(e,r=Mr.empty){if(super.replace(e,r),r==Mr.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Kn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ux(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Kn(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let a=e.resolve(r);return new this(a,n==r?a:e.resolve(n))}static between(e,r,n){let a=e.pos-r.pos;if((!n||a)&&(n=a>=0?1:-1),!r.parent.inlineContent){let l=Aa.findFrom(r,n,!0)||Aa.findFrom(r,-n,!0);if(l)r=l.$head;else return Aa.near(r,n)}return e.parent.inlineContent||(a==0?e=r:(e=(Aa.findFrom(e,-n,!0)||Aa.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=a<0&&(e=r))),new Kn(e,r)}}Aa.jsonID("text",Kn);class ux{constructor(e,r){this.anchor=e,this.head=r}map(e){return new ux(e.map(this.anchor),e.map(this.head))}resolve(e){return Kn.between(e.resolve(this.anchor),e.resolve(this.head))}}class wn extends Aa{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:a}=r.mapResult(this.anchor),l=e.resolve(a);return n?Aa.near(l):new wn(l)}content(){return new Mr(Gs.from(this.node),0,0)}eq(e){return e instanceof wn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new fy(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new wn(e.resolve(r.anchor))}static create(e,r){return new wn(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}wn.prototype.visible=!1;Aa.jsonID("node",wn);class fy{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new ux(n,n):new fy(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&wn.isSelectable(n)?new wn(r):Aa.near(r)}}class Wd extends Aa{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=Mr.empty){if(r==Mr.empty){e.delete(0,e.doc.content.size);let n=Aa.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Wd(e)}map(e){return new Wd(e)}eq(e){return e instanceof Wd}getBookmark(){return _R}}Aa.jsonID("all",Wd);const _R={map(){return this},resolve(s){return new Wd(s)}};function Jf(s,e,r,n,a,l=!1){if(e.inlineContent)return Kn.create(s,r);for(let u=n-(a>0?0:1);a>0?u<e.childCount:u>=0;u+=a){let d=e.child(u);if(d.isAtom){if(!l&&wn.isSelectable(d))return wn.create(s,r-(a<0?d.nodeSize:0))}else{let A=Jf(s,d,r+a,a<0?d.childCount:0,a,l);if(A)return A}r+=d.nodeSize*a}return null}function yw(s,e,r){let n=s.steps.length-1;if(n<e)return;let a=s.steps[n];if(!(a instanceof lc||a instanceof dc))return;let l=s.mapping.maps[n],u;l.forEach((d,A,o,f)=>{u==null&&(u=f)}),s.setSelection(Aa.near(s.doc.resolve(u),r))}const ww=1,cp=2,jw=4;class HR extends EN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ww)&~cp,this.storedMarks=null,this}get selectionSet(){return(this.updated&ww)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=cp,this}ensureMarks(e){return zi.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&cp)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~cp,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||zi.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let a=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(a.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),!e)return this.deleteRange(r,n);let l=this.storedMarks;if(!l){let u=this.doc.resolve(r);l=n==r?u.marks():u.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,a.text(e,l)),!this.selection.empty&&this.selection.to==r+e.length&&this.setSelection(Aa.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=jw,this}get scrolledIntoView(){return(this.updated&jw)>0}}function Nw(s,e){return!e||!s?s:s.bind(e)}class W0{constructor(e,r,n){this.name=e,this.init=Nw(r.init,n),this.apply=Nw(r.apply,n)}}const zR=[new W0("doc",{init(s){return s.doc||s.schema.topNodeType.createAndFill()},apply(s){return s.doc}}),new W0("selection",{init(s,e){return s.selection||Aa.atStart(e.doc)},apply(s){return s.selection}}),new W0("storedMarks",{init(s){return s.storedMarks||null},apply(s,e,r,n){return n.selection.$cursor?s.storedMarks:null}}),new W0("scrollToSelection",{init(){return 0},apply(s,e){return s.scrolledIntoView?e+1:e}})];class jb{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=zR.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new W0(n.key,n.spec.state,n))})}}class t0{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let a=this.config.plugins[n];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),a=null;for(;;){let l=!1;for(let u=0;u<this.config.plugins.length;u++){let d=this.config.plugins[u];if(d.spec.appendTransaction){let A=a?a[u].n:0,o=a?a[u].state:this,f=A<r.length&&d.spec.appendTransaction.call(d,A?r.slice(A):r,o,n);if(f&&n.filterTransaction(f,u)){if(f.setMeta("appendedTransaction",e),!a){a=[];for(let m=0;m<this.config.plugins.length;m++)a.push(m<u?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),l=!0}a&&(a[u]={state:n,n:r.length})}}if(!l)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new t0(this.config),n=this.config.fields;for(let a=0;a<n.length;a++){let l=n[a];r[l.name]=l.apply(e,this[l.name],this,r)}return r}get tr(){return new HR(this)}static create(e){let r=new jb(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new t0(r);for(let a=0;a<r.fields.length;a++)n[r.fields[a].name]=r.fields[a].init(e,n);return n}reconfigure(e){let r=new jb(this.schema,e.plugins),n=r.fields,a=new t0(r);for(let l=0;l<n.length;l++){let u=n[l].name;a[u]=this.hasOwnProperty(u)?this[u]:n[l].init(e,a)}return a}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=e[n],l=a.spec.state;l&&l.toJSON&&(r[n]=l.toJSON.call(a,this[a.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let a=new jb(e.schema,e.plugins),l=new t0(a);return a.fields.forEach(u=>{if(u.name=="doc")l.doc=Th.fromJSON(e.schema,r.doc);else if(u.name=="selection")l.selection=Aa.fromJSON(l.doc,r.selection);else if(u.name=="storedMarks")r.storedMarks&&(l.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let d in n){let A=n[d],o=A.spec.state;if(A.key==u.name&&o&&o.fromJSON&&Object.prototype.hasOwnProperty.call(r,d)){l[u.name]=o.fromJSON.call(A,e,r[d],l);return}}l[u.name]=u.init(e,l)}}),l}}function TN(s,e,r){for(let n in s){let a=s[n];a instanceof Function?a=a.bind(e):n=="handleDOMEvents"&&(a=TN(a,e,{})),r[n]=a}return r}class Eo{constructor(e){this.spec=e,this.props={},e.props&&TN(e.props,this,this.props),this.key=e.key?e.key.key:UN("plugin")}getState(e){return e[this.key]}}const Nb=Object.create(null);function UN(s){return s in Nb?s+"$"+ ++Nb[s]:(Nb[s]=0,s+"$")}class $l{constructor(e="key"){this.key=UN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const my=(s,e)=>s.selection.empty?!1:(e&&e(s.tr.deleteSelection().scrollIntoView()),!0);function LN(s,e){let{$cursor:r}=s.selection;return!r||(e?!e.endOfTextblock("backward",s):r.parentOffset>0)?null:r}const FN=(s,e,r)=>{let n=LN(s,r);if(!n)return!1;let a=py(n);if(!a){let u=n.blockRange(),d=u&&j0(u);return d==null?!1:(e&&e(s.tr.lift(u,d).scrollIntoView()),!0)}let l=a.nodeBefore;if(HN(s,a,e,-1))return!0;if(n.parent.content.size==0&&(A0(l,"end")||wn.isSelectable(l)))for(let u=n.depth;;u--){let d=dx(s.doc,n.before(u),n.after(u),Mr.empty);if(d&&d.slice.size<d.to-d.from){if(e){let A=s.tr.step(d);A.setSelection(A0(l,"end")?Aa.findFrom(A.doc.resolve(A.mapping.map(a.pos,-1)),-1):wn.create(A.doc,a.pos-l.nodeSize)),e(A.scrollIntoView())}return!0}if(u==1||n.node(u-1).childCount>1)break}return l.isAtom&&a.depth==n.depth-1?(e&&e(s.tr.delete(a.pos-l.nodeSize,a.pos).scrollIntoView()),!0):!1},$R=(s,e,r)=>{let n=LN(s,r);if(!n)return!1;let a=py(n);return a?MN(s,a,e):!1},VR=(s,e,r)=>{let n=IN(s,r);if(!n)return!1;let a=gy(n);return a?MN(s,a,e):!1};function MN(s,e,r){let n=e.nodeBefore,a=n,l=e.pos-1;for(;!a.isTextblock;l--){if(a.type.spec.isolating)return!1;let f=a.lastChild;if(!f)return!1;a=f}let u=e.nodeAfter,d=u,A=e.pos+1;for(;!d.isTextblock;A++){if(d.type.spec.isolating)return!1;let f=d.firstChild;if(!f)return!1;d=f}let o=dx(s.doc,l,A,Mr.empty);if(!o||o.from!=l||o instanceof lc&&o.slice.size>=A-l)return!1;if(r){let f=s.tr.step(o);f.setSelection(Kn.create(f.doc,l)),r(f.scrollIntoView())}return!0}function A0(s,e,r=!1){for(let n=s;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const ON=(s,e,r)=>{let{$head:n,empty:a}=s.selection,l=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",s):n.parentOffset>0)return!1;l=py(n)}let u=l&&l.nodeBefore;return!u||!wn.isSelectable(u)?!1:(e&&e(s.tr.setSelection(wn.create(s.doc,l.pos-u.nodeSize)).scrollIntoView()),!0)};function py(s){if(!s.parent.type.spec.isolating)for(let e=s.depth-1;e>=0;e--){if(s.index(e)>0)return s.doc.resolve(s.before(e+1));if(s.node(e).type.spec.isolating)break}return null}function IN(s,e){let{$cursor:r}=s.selection;return!r||(e?!e.endOfTextblock("forward",s):r.parentOffset<r.parent.content.size)?null:r}const DN=(s,e,r)=>{let n=IN(s,r);if(!n)return!1;let a=gy(n);if(!a)return!1;let l=a.nodeAfter;if(HN(s,a,e,1))return!0;if(n.parent.content.size==0&&(A0(l,"start")||wn.isSelectable(l))){let u=dx(s.doc,n.before(),n.after(),Mr.empty);if(u&&u.slice.size<u.to-u.from){if(e){let d=s.tr.step(u);d.setSelection(A0(l,"start")?Aa.findFrom(d.doc.resolve(d.mapping.map(a.pos)),1):wn.create(d.doc,d.mapping.map(a.pos))),e(d.scrollIntoView())}return!0}}return l.isAtom&&a.depth==n.depth-1?(e&&e(s.tr.delete(a.pos,a.pos+l.nodeSize).scrollIntoView()),!0):!1},RN=(s,e,r)=>{let{$head:n,empty:a}=s.selection,l=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",s):n.parentOffset<n.parent.content.size)return!1;l=gy(n)}let u=l&&l.nodeAfter;return!u||!wn.isSelectable(u)?!1:(e&&e(s.tr.setSelection(wn.create(s.doc,l.pos)).scrollIntoView()),!0)};function gy(s){if(!s.parent.type.spec.isolating)for(let e=s.depth-1;e>=0;e--){let r=s.node(e);if(s.index(e)+1<r.childCount)return s.doc.resolve(s.after(e+1));if(r.type.spec.isolating)break}return null}const KR=(s,e)=>{let r=s.selection,n=r instanceof wn,a;if(n){if(r.node.isTextblock||!Qh(s.doc,r.from))return!1;a=r.from}else if(a=cx(s.doc,r.from,-1),a==null)return!1;if(e){let l=s.tr.join(a);n&&l.setSelection(wn.create(l.doc,a-s.doc.resolve(a).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},GR=(s,e)=>{let r=s.selection,n;if(r instanceof wn){if(r.node.isTextblock||!Qh(s.doc,r.to))return!1;n=r.to}else if(n=cx(s.doc,r.to,1),n==null)return!1;return e&&e(s.tr.join(n).scrollIntoView()),!0},WR=(s,e)=>{let{$from:r,$to:n}=s.selection,a=r.blockRange(n),l=a&&j0(a);return l==null?!1:(e&&e(s.tr.lift(a,l).scrollIntoView()),!0)},PN=(s,e)=>{let{$head:r,$anchor:n}=s.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(s.tr.insertText(`
`).scrollIntoView()),!0)};function xy(s){for(let e=0;e<s.edgeCount;e++){let{type:r}=s.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const YR=(s,e)=>{let{$head:r,$anchor:n}=s.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let a=r.node(-1),l=r.indexAfter(-1),u=xy(a.contentMatchAt(l));if(!u||!a.canReplaceWith(l,l,u))return!1;if(e){let d=r.after(),A=s.tr.replaceWith(d,d,u.createAndFill());A.setSelection(Aa.near(A.doc.resolve(d),1)),e(A.scrollIntoView())}return!0},QN=(s,e)=>{let r=s.selection,{$from:n,$to:a}=r;if(r instanceof Wd||n.parent.inlineContent||a.parent.inlineContent)return!1;let l=xy(a.parent.contentMatchAt(a.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let u=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,d=s.tr.insert(u,l.createAndFill());d.setSelection(Kn.create(d.doc,u+1)),e(d.scrollIntoView())}return!0},_N=(s,e)=>{let{$cursor:r}=s.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let l=r.before();if(RA(s.doc,l))return e&&e(s.tr.split(l).scrollIntoView()),!0}let n=r.blockRange(),a=n&&j0(n);return a==null?!1:(e&&e(s.tr.lift(n,a).scrollIntoView()),!0)};function XR(s){return(e,r)=>{let{$from:n,$to:a}=e.selection;if(e.selection instanceof wn&&e.selection.node.isBlock)return!n.parentOffset||!RA(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let l=[],u,d,A=!1,o=!1;for(let x=n.depth;;x--)if(n.node(x).isBlock){A=n.end(x)==n.pos+(n.depth-x),o=n.start(x)==n.pos-(n.depth-x),d=xy(n.node(x-1).contentMatchAt(n.indexAfter(x-1))),l.unshift(A&&d?{type:d}:null),u=x;break}else{if(x==1)return!1;l.unshift(null)}let f=e.tr;(e.selection instanceof Kn||e.selection instanceof Wd)&&f.deleteSelection();let m=f.mapping.map(n.pos),p=RA(f.doc,m,l.length,l);if(p||(l[0]=d?{type:d}:null,p=RA(f.doc,m,l.length,l)),!p)return!1;if(f.split(m,l.length,l),!A&&o&&n.node(u).type!=d){let x=f.mapping.map(n.before(u)),b=f.doc.resolve(x);d&&n.node(u-1).canReplaceWith(b.index(),b.index()+1,d)&&f.setNodeMarkup(f.mapping.map(n.before(u)),d)}return r&&r(f.scrollIntoView()),!0}}const JR=XR(),ZR=(s,e)=>{let{$from:r,to:n}=s.selection,a,l=r.sharedDepth(n);return l==0?!1:(a=r.before(l),e&&e(s.tr.setSelection(wn.create(s.doc,a))),!0)};function qR(s,e,r){let n=e.nodeBefore,a=e.nodeAfter,l=e.index();return!n||!a||!n.type.compatibleContent(a.type)?!1:!n.content.size&&e.parent.canReplace(l-1,l)?(r&&r(s.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(a.isTextblock||Qh(s.doc,e.pos))?!1:(r&&r(s.tr.join(e.pos).scrollIntoView()),!0)}function HN(s,e,r,n){let a=e.nodeBefore,l=e.nodeAfter,u,d,A=a.type.spec.isolating||l.type.spec.isolating;if(!A&&qR(s,e,r))return!0;let o=!A&&e.parent.canReplace(e.index(),e.index()+1);if(o&&(u=(d=a.contentMatchAt(a.childCount)).findWrapping(l.type))&&d.matchType(u[0]||l.type).validEnd){if(r){let x=e.pos+l.nodeSize,b=Gs.empty;for(let E=u.length-1;E>=0;E--)b=Gs.from(u[E].create(null,b));b=Gs.from(a.copy(b));let y=s.tr.step(new dc(e.pos-1,x,e.pos,x,new Mr(b,1,0),u.length,!0)),w=y.doc.resolve(x+2*u.length);w.nodeAfter&&w.nodeAfter.type==a.type&&Qh(y.doc,w.pos)&&y.join(w.pos),r(y.scrollIntoView())}return!0}let f=l.type.spec.isolating||n>0&&A?null:Aa.findFrom(e,1),m=f&&f.$from.blockRange(f.$to),p=m&&j0(m);if(p!=null&&p>=e.depth)return r&&r(s.tr.lift(m,p).scrollIntoView()),!0;if(o&&A0(l,"start",!0)&&A0(a,"end")){let x=a,b=[];for(;b.push(x),!x.isTextblock;)x=x.lastChild;let y=l,w=1;for(;!y.isTextblock;y=y.firstChild)w++;if(x.canReplace(x.childCount,x.childCount,y.content)){if(r){let E=Gs.empty;for(let z=b.length-1;z>=0;z--)E=Gs.from(b[z].copy(E));let R=s.tr.step(new dc(e.pos-b.length,e.pos+l.nodeSize,e.pos+w,e.pos+l.nodeSize-w,new Mr(E,b.length,0),0,!0));r(R.scrollIntoView())}return!0}}return!1}function zN(s){return function(e,r){let n=e.selection,a=s<0?n.$from:n.$to,l=a.depth;for(;a.node(l).isInline;){if(!l)return!1;l--}return a.node(l).isTextblock?(r&&r(e.tr.setSelection(Kn.create(e.doc,s<0?a.start(l):a.end(l)))),!0):!1}}const eP=zN(-1),tP=zN(1);function sP(s,e=null){return function(r,n){let{$from:a,$to:l}=r.selection,u=a.blockRange(l),d=u&&hy(u,s,e);return d?(n&&n(r.tr.wrap(u,d).scrollIntoView()),!0):!1}}function Cw(s,e=null){return function(r,n){let a=!1;for(let l=0;l<r.selection.ranges.length&&!a;l++){let{$from:{pos:u},$to:{pos:d}}=r.selection.ranges[l];r.doc.nodesBetween(u,d,(A,o)=>{if(a)return!1;if(!(!A.isTextblock||A.hasMarkup(s,e)))if(A.type==s)a=!0;else{let f=r.doc.resolve(o),m=f.index();a=f.parent.canReplaceWith(m,m+1,s)}})}if(!a)return!1;if(n){let l=r.tr;for(let u=0;u<r.selection.ranges.length;u++){let{$from:{pos:d},$to:{pos:A}}=r.selection.ranges[u];l.setBlockType(d,A,s,e)}n(l.scrollIntoView())}return!0}}function by(...s){return function(e,r,n){for(let a=0;a<s.length;a++)if(s[a](e,r,n))return!0;return!1}}by(my,FN,ON);by(my,DN,RN);by(PN,QN,_N,JR);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function rP(s,e=null){return function(r,n){let{$from:a,$to:l}=r.selection,u=a.blockRange(l);if(!u)return!1;let d=n?r.tr:null;return nP(d,u,s,e)?(n&&n(d.scrollIntoView()),!0):!1}}function nP(s,e,r,n=null){let a=!1,l=e,u=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let A=u.resolve(e.start-2);l=new rg(A,A,e.depth),e.endIndex<e.parent.childCount&&(e=new rg(e.$from,u.resolve(e.$to.end(e.depth)),e.depth)),a=!0}let d=hy(l,r,n,e);return d?(s&&aP(s,e,d,a,r),!0):!1}function aP(s,e,r,n,a){let l=Gs.empty;for(let f=r.length-1;f>=0;f--)l=Gs.from(r[f].type.create(r[f].attrs,l));s.step(new dc(e.start-(n?2:0),e.end,e.start,e.end,new Mr(l,0,0),r.length,!0));let u=0;for(let f=0;f<r.length;f++)r[f].type==a&&(u=f+1);let d=r.length-u,A=e.start+r.length-(n?2:0),o=e.parent;for(let f=e.startIndex,m=e.endIndex,p=!0;f<m;f++,p=!1)!p&&RA(s.doc,A,d)&&(s.split(A,d),A+=2*d),A+=o.child(f).nodeSize;return s}function iP(s){return function(e,r){let{$from:n,$to:a}=e.selection,l=n.blockRange(a,u=>u.childCount>0&&u.firstChild.type==s);return l?r?n.node(l.depth-1).type==s?oP(e,r,s,l):lP(e,r,l):!0:!1}}function oP(s,e,r,n){let a=s.tr,l=n.end,u=n.$to.end(n.depth);l<u&&(a.step(new dc(l-1,u,l,u,new Mr(Gs.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new rg(a.doc.resolve(n.$from.pos),a.doc.resolve(u),n.depth));const d=j0(n);if(d==null)return!1;a.lift(n,d);let A=a.doc.resolve(a.mapping.map(l,-1)-1);return Qh(a.doc,A.pos)&&A.nodeBefore.type==A.nodeAfter.type&&a.join(A.pos),e(a.scrollIntoView()),!0}function lP(s,e,r){let n=s.tr,a=r.parent;for(let x=r.end,b=r.endIndex-1,y=r.startIndex;b>y;b--)x-=a.child(b).nodeSize,n.delete(x-1,x+1);let l=n.doc.resolve(r.start),u=l.nodeAfter;if(n.mapping.map(r.end)!=r.start+l.nodeAfter.nodeSize)return!1;let d=r.startIndex==0,A=r.endIndex==a.childCount,o=l.node(-1),f=l.index(-1);if(!o.canReplace(f+(d?0:1),f+1,u.content.append(A?Gs.empty:Gs.from(a))))return!1;let m=l.pos,p=m+u.nodeSize;return n.step(new dc(m-(d?1:0),p+(A?1:0),m+1,p-1,new Mr((d?Gs.empty:Gs.from(a.copy(Gs.empty))).append(A?Gs.empty:Gs.from(a.copy(Gs.empty))),d?0:1,A?0:1),d?0:1)),e(n.scrollIntoView()),!0}function cP(s){return function(e,r){let{$from:n,$to:a}=e.selection,l=n.blockRange(a,o=>o.childCount>0&&o.firstChild.type==s);if(!l)return!1;let u=l.startIndex;if(u==0)return!1;let d=l.parent,A=d.child(u-1);if(A.type!=s)return!1;if(r){let o=A.lastChild&&A.lastChild.type==d.type,f=Gs.from(o?s.create():null),m=new Mr(Gs.from(s.create(null,Gs.from(d.type.create(null,f)))),o?3:1,0),p=l.start,x=l.end;r(e.tr.step(new dc(p-(o?3:1),x,p,x,m,1,!0)).scrollIntoView())}return!0}}const Sc=function(s){for(var e=0;;e++)if(s=s.previousSibling,!s)return e},h0=function(s){let e=s.assignedSlot||s.parentNode;return e&&e.nodeType==11?e.host:e};let yv=null;const OA=function(s,e,r){let n=yv||(yv=document.createRange());return n.setEnd(s,r??s.nodeValue.length),n.setStart(s,e||0),n},dP=function(){yv=null},jf=function(s,e,r,n){return r&&(kw(s,e,r,n,-1)||kw(s,e,r,n,1))},uP=/^(img|br|input|textarea|hr)$/i;function kw(s,e,r,n,a){for(var l;;){if(s==r&&e==n)return!0;if(e==(a<0?0:uu(s))){let u=s.parentNode;if(!u||u.nodeType!=1||Lm(s)||uP.test(s.nodeName)||s.contentEditable=="false")return!1;e=Sc(s)+(a<0?0:1),s=u}else if(s.nodeType==1){let u=s.childNodes[e+(a<0?-1:0)];if(u.nodeType==1&&u.contentEditable=="false")if(!((l=u.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)e+=a;else return!1;else s=u,e=a<0?uu(s):0}else return!1}}function uu(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function AP(s,e){for(;;){if(s.nodeType==3&&e)return s;if(s.nodeType==1&&e>0){if(s.contentEditable=="false")return null;s=s.childNodes[e-1],e=uu(s)}else if(s.parentNode&&!Lm(s))e=Sc(s),s=s.parentNode;else return null}}function hP(s,e){for(;;){if(s.nodeType==3&&e<s.nodeValue.length)return s;if(s.nodeType==1&&e<s.childNodes.length){if(s.contentEditable=="false")return null;s=s.childNodes[e],e=0}else if(s.parentNode&&!Lm(s))e=Sc(s)+1,s=s.parentNode;else return null}}function fP(s,e,r){for(let n=e==0,a=e==uu(s);n||a;){if(s==r)return!0;let l=Sc(s);if(s=s.parentNode,!s)return!1;n=n&&l==0,a=a&&l==uu(s)}}function Lm(s){let e;for(let r=s;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==s||e.contentDOM==s)}const Ax=function(s){return s.focusNode&&jf(s.focusNode,s.focusOffset,s.anchorNode,s.anchorOffset)};function of(s,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=s,r.key=r.code=e,r}function mP(s){let e=s.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function pP(s,e,r){if(s.caretPositionFromPoint)try{let n=s.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(uu(n.offsetNode),n.offset)}}catch{}if(s.caretRangeFromPoint){let n=s.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(uu(n.startContainer),n.startOffset)}}}const iA=typeof navigator<"u"?navigator:null,Bw=typeof document<"u"?document:null,_h=iA&&iA.userAgent||"",wv=/Edge\/(\d+)/.exec(_h),$N=/MSIE \d/.exec(_h),jv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(_h),Ud=!!($N||jv||wv),Uh=$N?document.documentMode:jv?+jv[1]:wv?+wv[1]:0,fu=!Ud&&/gecko\/(\d+)/i.test(_h);fu&&+(/Firefox\/(\d+)/.exec(_h)||[0,0])[1];const Nv=!Ud&&/Chrome\/(\d+)/.exec(_h),cc=!!Nv,VN=Nv?+Nv[1]:0,Kc=!Ud&&!!iA&&/Apple Computer/.test(iA.vendor),f0=Kc&&(/Mobile\/\w+/.test(_h)||!!iA&&iA.maxTouchPoints>2),cu=f0||(iA?/Mac/.test(iA.platform):!1),KN=iA?/Win/.test(iA.platform):!1,IA=/Android \d/.test(_h),Fm=!!Bw&&"webkitFontSmoothing"in Bw.documentElement.style,gP=Fm?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function xP(s){let e=s.defaultView&&s.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:s.documentElement.clientWidth,top:0,bottom:s.documentElement.clientHeight}}function UA(s,e){return typeof s=="number"?s:s[e]}function bP(s){let e=s.getBoundingClientRect(),r=e.width/s.offsetWidth||1,n=e.height/s.offsetHeight||1;return{left:e.left,right:e.left+s.clientWidth*r,top:e.top,bottom:e.top+s.clientHeight*n}}function Sw(s,e,r){let n=s.someProp("scrollThreshold")||0,a=s.someProp("scrollMargin")||5,l=s.dom.ownerDocument;for(let u=r||s.dom;u;){if(u.nodeType!=1){u=h0(u);continue}let d=u,A=d==l.body,o=A?xP(l):bP(d),f=0,m=0;if(e.top<o.top+UA(n,"top")?m=-(o.top-e.top+UA(a,"top")):e.bottom>o.bottom-UA(n,"bottom")&&(m=e.bottom-e.top>o.bottom-o.top?e.top+UA(a,"top")-o.top:e.bottom-o.bottom+UA(a,"bottom")),e.left<o.left+UA(n,"left")?f=-(o.left-e.left+UA(a,"left")):e.right>o.right-UA(n,"right")&&(f=e.right-o.right+UA(a,"right")),f||m)if(A)l.defaultView.scrollBy(f,m);else{let x=d.scrollLeft,b=d.scrollTop;m&&(d.scrollTop+=m),f&&(d.scrollLeft+=f);let y=d.scrollLeft-x,w=d.scrollTop-b;e={left:e.left-y,top:e.top-w,right:e.right-y,bottom:e.bottom-w}}let p=A?"fixed":getComputedStyle(u).position;if(/^(fixed|sticky)$/.test(p))break;u=p=="absolute"?u.offsetParent:h0(u)}}function vP(s){let e=s.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,a;for(let l=(e.left+e.right)/2,u=r+1;u<Math.min(innerHeight,e.bottom);u+=5){let d=s.root.elementFromPoint(l,u);if(!d||d==s.dom||!s.dom.contains(d))continue;let A=d.getBoundingClientRect();if(A.top>=r-20){n=d,a=A.top;break}}return{refDOM:n,refTop:a,stack:GN(s.dom)}}function GN(s){let e=[],r=s.ownerDocument;for(let n=s;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),s!=r);n=h0(n));return e}function yP({refDOM:s,refTop:e,stack:r}){let n=s?s.getBoundingClientRect().top:0;WN(r,n==0?0:n-e)}function WN(s,e){for(let r=0;r<s.length;r++){let{dom:n,top:a,left:l}=s[r];n.scrollTop!=a+e&&(n.scrollTop=a+e),n.scrollLeft!=l&&(n.scrollLeft=l)}}let Yf=null;function wP(s){if(s.setActive)return s.setActive();if(Yf)return s.focus(Yf);let e=GN(s);s.focus(Yf==null?{get preventScroll(){return Yf={preventScroll:!0},!0}}:void 0),Yf||(Yf=!1,WN(e,0))}function YN(s,e){let r,n=2e8,a,l=0,u=e.top,d=e.top,A,o;for(let f=s.firstChild,m=0;f;f=f.nextSibling,m++){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=OA(f).getClientRects();else continue;for(let x=0;x<p.length;x++){let b=p[x];if(b.top<=u&&b.bottom>=d){u=Math.max(b.bottom,u),d=Math.min(b.top,d);let y=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(y<n){r=f,n=y,a=y&&r.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,f.nodeType==1&&y&&(l=m+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!A&&b.left<=e.left&&b.right>=e.left&&(A=f,o={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!r&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(l=m+1)}}return!r&&A&&(r=A,a=o,n=0),r&&r.nodeType==3?jP(r,a):!r||n&&r.nodeType==1?{node:s,offset:l}:YN(r,a)}function jP(s,e){let r=s.nodeValue.length,n=document.createRange(),a;for(let l=0;l<r;l++){n.setEnd(s,l+1),n.setStart(s,l);let u=xh(n,1);if(u.top!=u.bottom&&vy(e,u)){a={node:s,offset:l+(e.left>=(u.left+u.right)/2?1:0)};break}}return n.detach(),a||{node:s,offset:0}}function vy(s,e){return s.left>=e.left-1&&s.left<=e.right+1&&s.top>=e.top-1&&s.top<=e.bottom+1}function NP(s,e){let r=s.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<s.getBoundingClientRect().left?r:s}function CP(s,e,r){let{node:n,offset:a}=YN(e,r),l=-1;if(n.nodeType==1&&!n.firstChild){let u=n.getBoundingClientRect();l=u.left!=u.right&&r.left>(u.left+u.right)/2?1:-1}return s.docView.posFromDOM(n,a,l)}function kP(s,e,r,n){let a=-1;for(let l=e,u=!1;l!=s.dom;){let d=s.docView.nearestDesc(l,!0),A;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((A=d.dom.getBoundingClientRect()).width||A.height)&&(d.node.isBlock&&d.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(d.dom.nodeName)&&(!u&&A.left>n.left||A.top>n.top?a=d.posBefore:(!u&&A.right<n.left||A.bottom<n.top)&&(a=d.posAfter),u=!0),!d.contentDOM&&a<0&&!d.node.isText))return(d.node.isBlock?n.top<(A.top+A.bottom)/2:n.left<(A.left+A.right)/2)?d.posBefore:d.posAfter;l=d.dom.parentNode}return a>-1?a:s.docView.posFromDOM(e,r,-1)}function XN(s,e,r){let n=s.childNodes.length;if(n&&r.top<r.bottom)for(let a=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),l=a;;){let u=s.childNodes[l];if(u.nodeType==1){let d=u.getClientRects();for(let A=0;A<d.length;A++){let o=d[A];if(vy(e,o))return XN(u,e,o)}}if((l=(l+1)%n)==a)break}return s}function BP(s,e){let r=s.dom.ownerDocument,n,a=0,l=pP(r,e.left,e.top);l&&({node:n,offset:a}=l);let u=(s.root.elementFromPoint?s.root:r).elementFromPoint(e.left,e.top),d;if(!u||!s.dom.contains(u.nodeType!=1?u.parentNode:u)){let o=s.dom.getBoundingClientRect();if(!vy(e,o)||(u=XN(s.dom,e,o),!u))return null}if(Kc)for(let o=u;n&&o;o=h0(o))o.draggable&&(n=void 0);if(u=NP(u,e),n){if(fu&&n.nodeType==1&&(a=Math.min(a,n.childNodes.length),a<n.childNodes.length)){let f=n.childNodes[a],m;f.nodeName=="IMG"&&(m=f.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&a++}let o;Fm&&a&&n.nodeType==1&&(o=n.childNodes[a-1]).nodeType==1&&o.contentEditable=="false"&&o.getBoundingClientRect().top>=e.top&&a--,n==s.dom&&a==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?d=s.state.doc.content.size:(a==0||n.nodeType!=1||n.childNodes[a-1].nodeName!="BR")&&(d=kP(s,n,a,e))}d==null&&(d=CP(s,u,e));let A=s.docView.nearestDesc(u,!0);return{pos:d,inside:A?A.posAtStart-A.border:-1}}function Ew(s){return s.top<s.bottom||s.left<s.right}function xh(s,e){let r=s.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(Ew(n))return n}return Array.prototype.find.call(r,Ew)||s.getBoundingClientRect()}const SP=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function JN(s,e,r){let{node:n,offset:a,atom:l}=s.docView.domFromPos(e,r<0?-1:1),u=Fm||fu;if(n.nodeType==3)if(u&&(SP.test(n.nodeValue)||(r<0?!a:a==n.nodeValue.length))){let A=xh(OA(n,a,a),r);if(fu&&a&&/\s/.test(n.nodeValue[a-1])&&a<n.nodeValue.length){let o=xh(OA(n,a-1,a-1),-1);if(o.top==A.top){let f=xh(OA(n,a,a+1),-1);if(f.top!=A.top)return _0(f,f.left<o.left)}}return A}else{let A=a,o=a,f=r<0?1:-1;return r<0&&!a?(o++,f=-1):r>=0&&a==n.nodeValue.length?(A--,f=1):r<0?A--:o++,_0(xh(OA(n,A,o),f),f<0)}if(!s.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&a&&(r<0||a==uu(n))){let A=n.childNodes[a-1];if(A.nodeType==1)return Cb(A.getBoundingClientRect(),!1)}if(l==null&&a<uu(n)){let A=n.childNodes[a];if(A.nodeType==1)return Cb(A.getBoundingClientRect(),!0)}return Cb(n.getBoundingClientRect(),r>=0)}if(l==null&&a&&(r<0||a==uu(n))){let A=n.childNodes[a-1],o=A.nodeType==3?OA(A,uu(A)-(u?0:1)):A.nodeType==1&&(A.nodeName!="BR"||!A.nextSibling)?A:null;if(o)return _0(xh(o,1),!1)}if(l==null&&a<uu(n)){let A=n.childNodes[a];for(;A.pmViewDesc&&A.pmViewDesc.ignoreForCoords;)A=A.nextSibling;let o=A?A.nodeType==3?OA(A,0,u?0:1):A.nodeType==1?A:null:null;if(o)return _0(xh(o,-1),!0)}return _0(xh(n.nodeType==3?OA(n):n,-r),r>=0)}function _0(s,e){if(s.width==0)return s;let r=e?s.left:s.right;return{top:s.top,bottom:s.bottom,left:r,right:r}}function Cb(s,e){if(s.height==0)return s;let r=e?s.top:s.bottom;return{top:r,bottom:r,left:s.left,right:s.right}}function ZN(s,e,r){let n=s.state,a=s.root.activeElement;n!=e&&s.updateState(e),a!=s.dom&&s.focus();try{return r()}finally{n!=e&&s.updateState(n),a!=s.dom&&a&&a.focus()}}function EP(s,e,r){let n=e.selection,a=r=="up"?n.$from:n.$to;return ZN(s,e,()=>{let{node:l}=s.docView.domFromPos(a.pos,r=="up"?-1:1);for(;;){let d=s.docView.nearestDesc(l,!0);if(!d)break;if(d.node.isBlock){l=d.contentDOM||d.dom;break}l=d.dom.parentNode}let u=JN(s,a.pos,1);for(let d=l.firstChild;d;d=d.nextSibling){let A;if(d.nodeType==1)A=d.getClientRects();else if(d.nodeType==3)A=OA(d,0,d.nodeValue.length).getClientRects();else continue;for(let o=0;o<A.length;o++){let f=A[o];if(f.bottom>f.top+1&&(r=="up"?u.top-f.top>(f.bottom-u.top)*2:f.bottom-u.bottom>(u.bottom-f.top)*2))return!1}}return!0})}const TP=/[\u0590-\u08ac]/;function UP(s,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let a=n.parentOffset,l=!a,u=a==n.parent.content.size,d=s.domSelection();return d?!TP.test(n.parent.textContent)||!d.modify?r=="left"||r=="backward"?l:u:ZN(s,e,()=>{let{focusNode:A,focusOffset:o,anchorNode:f,anchorOffset:m}=s.domSelectionRange(),p=d.caretBidiLevel;d.modify("move",r,"character");let x=n.depth?s.docView.domAfterPos(n.before()):s.dom,{focusNode:b,focusOffset:y}=s.domSelectionRange(),w=b&&!x.contains(b.nodeType==1?b:b.parentNode)||A==b&&o==y;try{d.collapse(f,m),A&&(A!=f||o!=m)&&d.extend&&d.extend(A,o)}catch{}return p!=null&&(d.caretBidiLevel=p),w}):n.pos==n.start()||n.pos==n.end()}let Tw=null,Uw=null,Lw=!1;function LP(s,e,r){return Tw==e&&Uw==r?Lw:(Tw=e,Uw=r,Lw=r=="up"||r=="down"?EP(s,e,r):UP(s,e,r))}const mu=0,Fw=1,lf=2,oA=3;class Mm{constructor(e,r,n,a){this.parent=e,this.children=r,this.dom=n,this.contentDOM=a,this.dirty=mu,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let a=this.children[r];if(a==e)return n;n+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let l,u;if(e==this.contentDOM)l=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((u=l.pmViewDesc)&&u.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(u)+u.size:this.posAtStart}else{let l,u;if(e==this.contentDOM)l=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((u=l.pmViewDesc)&&u.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(u):this.posAtEnd}let a;if(e==this.dom&&this.contentDOM)a=r>Sc(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.previousSibling)break}if(a==null&&r==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.nextSibling)break}}return a??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,a=e;a;a=a.parentNode){let l=this.getDesc(a),u;if(l&&(!r||l.node))if(n&&(u=l.nodeDOM)&&!(u.nodeType==1?u.contains(e.nodeType==1?e:e.parentNode):u==e))n=!1;else return l}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let a=e;a;a=a.parentNode){let l=this.getDesc(a);if(l)return l.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let a=this.children[r],l=n+a.size;if(n==e&&l!=n){for(;!a.border&&a.children.length;)for(let u=0;u<a.children.length;u++){let d=a.children[u];if(d.size){a=d;break}}return a}if(e<l)return a.descAt(e-n-a.border);n=l}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,a=0;for(let l=0;n<this.children.length;n++){let u=this.children[n],d=l+u.size;if(d>e||u instanceof eC){a=e-l;break}l=d}if(a)return this.children[n].domFromPos(a-this.children[n].border,r);for(let l;n&&!(l=this.children[n-1]).size&&l instanceof qN&&l.side>=0;n--);if(r<=0){let l,u=!0;for(;l=n?this.children[n-1]:null,!(!l||l.dom.parentNode==this.contentDOM);n--,u=!1);return l&&r&&u&&!l.border&&!l.domAtom?l.domFromPos(l.size,r):{node:this.contentDOM,offset:l?Sc(l.dom)+1:0}}else{let l,u=!0;for(;l=n<this.children.length?this.children[n]:null,!(!l||l.dom.parentNode==this.contentDOM);n++,u=!1);return l&&u&&!l.border&&!l.domAtom?l.domFromPos(0,r):{node:this.contentDOM,offset:l?Sc(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,l=-1;for(let u=n,d=0;;d++){let A=this.children[d],o=u+A.size;if(a==-1&&e<=o){let f=u+A.border;if(e>=f&&r<=o-A.border&&A.node&&A.contentDOM&&this.contentDOM.contains(A.contentDOM))return A.parseRange(e,r,f);e=u;for(let m=d;m>0;m--){let p=this.children[m-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){a=Sc(p.dom)+1;break}e-=p.size}a==-1&&(a=0)}if(a>-1&&(o>r||d==this.children.length-1)){r=o;for(let f=d+1;f<this.children.length;f++){let m=this.children[f];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){l=Sc(m.dom);break}r+=m.size}l==-1&&(l=this.contentDOM.childNodes.length);break}u=o}return{node:this.contentDOM,from:e,to:r,fromOffset:a,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,a=!1){let l=Math.min(e,r),u=Math.max(e,r);for(let x=0,b=0;x<this.children.length;x++){let y=this.children[x],w=b+y.size;if(l>b&&u<w)return y.setSelection(e-b-y.border,r-b-y.border,n,a);b=w}let d=this.domFromPos(e,e?-1:1),A=r==e?d:this.domFromPos(r,r?-1:1),o=n.root.getSelection(),f=n.domSelectionRange(),m=!1;if((fu||Kc)&&e==r){let{node:x,offset:b}=d;if(x.nodeType==3){if(m=!!(b&&x.nodeValue[b-1]==`
`),m&&b==x.nodeValue.length)for(let y=x,w;y;y=y.parentNode){if(w=y.nextSibling){w.nodeName=="BR"&&(d=A={node:w.parentNode,offset:Sc(w)+1});break}let E=y.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let y=x.childNodes[b-1];m=y&&(y.nodeName=="BR"||y.contentEditable=="false")}}if(fu&&f.focusNode&&f.focusNode!=A.node&&f.focusNode.nodeType==1){let x=f.focusNode.childNodes[f.focusOffset];x&&x.contentEditable=="false"&&(a=!0)}if(!(a||m&&Kc)&&jf(d.node,d.offset,f.anchorNode,f.anchorOffset)&&jf(A.node,A.offset,f.focusNode,f.focusOffset))return;let p=!1;if((o.extend||e==r)&&!(m&&fu)){o.collapse(d.node,d.offset);try{e!=r&&o.extend(A.node,A.offset),p=!0}catch{}}if(!p){if(e>r){let b=d;d=A,A=b}let x=document.createRange();x.setEnd(A.node,A.offset),x.setStart(d.node,d.offset),o.removeAllRanges(),o.addRange(x)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,a=0;a<this.children.length;a++){let l=this.children[a],u=n+l.size;if(n==u?e<=u&&r>=n:e<u&&r>n){let d=n+l.border,A=u-l.border;if(e>=d&&r<=A){this.dirty=e==n||r==u?lf:Fw,e==d&&r==A&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=oA:l.markDirty(e-d,r-d);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?lf:oA}n=u}this.dirty=lf}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?lf:Fw;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class qN extends Mm{constructor(e,r,n,a){let l,u=r.type.toDOM;if(typeof u=="function"&&(u=u(n,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!r.type.spec.raw){if(u.nodeType!=1){let d=document.createElement("span");d.appendChild(u),u=d}u.contentEditable="false",u.classList.add("ProseMirror-widget")}super(e,[],u,null),this.widget=r,this.widget=r,l=this}matchesWidget(e){return this.dirty==mu&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class FP extends Mm{constructor(e,r,n,a){super(e,[],r,null),this.textDOM=n,this.text=a}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Nf extends Mm{constructor(e,r,n,a,l){super(e,[],n,a),this.mark=r,this.spec=l}static create(e,r,n,a){let l=a.nodeViews[r.type.name],u=l&&l(r,a,n);return(!u||!u.dom)&&(u=Bf.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Nf(e,r,u.dom,u.contentDOM||u.dom,u)}parseRule(){return this.dirty&oA||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=oA&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=mu){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=mu}}slice(e,r,n){let a=Nf.create(this.parent,this.mark,!0,n),l=this.children,u=this.size;r<u&&(l=kv(l,r,u,n)),e>0&&(l=kv(l,0,e,n));for(let d=0;d<l.length;d++)l[d].parent=a;return a.children=l,a}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Lh extends Mm{constructor(e,r,n,a,l,u,d,A,o){super(e,[],l,u),this.node=r,this.outerDeco=n,this.innerDeco=a,this.nodeDOM=d}static create(e,r,n,a,l,u){let d=l.nodeViews[r.type.name],A,o=d&&d(r,l,()=>{if(!A)return u;if(A.parent)return A.parent.posBeforeChild(A)},n,a),f=o&&o.dom,m=o&&o.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:m}=Bf.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!m&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let p=f;return f=rC(f,n,r),o?A=new MP(e,r,n,a,f,m||null,p,o,l,u+1):r.isText?new hx(e,r,n,a,f,p,l):new Lh(e,r,n,a,f,m||null,p,l,u+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Gs.empty)}return e}matchesNode(e,r,n){return this.dirty==mu&&e.eq(this.node)&&ag(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,a=r,l=e.composing?this.localCompositionInfo(e,r):null,u=l&&l.pos>-1?l:null,d=l&&l.pos<0,A=new IP(this,u&&u.node,e);PP(this.node,this.innerDeco,(o,f,m)=>{o.spec.marks?A.syncToMarks(o.spec.marks,n,e):o.type.side>=0&&!m&&A.syncToMarks(f==this.node.childCount?zi.none:this.node.child(f).marks,n,e),A.placeWidget(o,e,a)},(o,f,m,p)=>{A.syncToMarks(o.marks,n,e);let x;A.findNodeMatch(o,f,m,p)||d&&e.state.selection.from>a&&e.state.selection.to<a+o.nodeSize&&(x=A.findIndexWithChild(l.node))>-1&&A.updateNodeAt(o,f,m,x,e)||A.updateNextNode(o,f,m,e,p,a)||A.addNode(o,f,m,e,a),a+=o.nodeSize}),A.syncToMarks([],n,e),this.node.isTextblock&&A.addTextblockHacks(),A.destroyRest(),(A.changed||this.dirty==lf)&&(u&&this.protectLocalComposition(e,u),tC(this.contentDOM,this.children,e),f0&&QP(this.dom))}localCompositionInfo(e,r){let{from:n,to:a}=e.state.selection;if(!(e.state.selection instanceof Kn)||n<r||a>r+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let u=l.nodeValue,d=_P(this.node.content,u,n-r,a-r);return d<0?null:{node:l,pos:d,text:u}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:a}){if(this.getDesc(r))return;let l=r;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let u=new FP(this,l,r,a);e.input.compositionNodes.push(u),this.children=kv(this.children,n,n+a.length,e,u)}update(e,r,n,a){return this.dirty==oA||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,a),!0)}updateInner(e,r,n,a){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=mu}updateOuterDeco(e){if(ag(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=sC(this.dom,this.nodeDOM,Cv(this.outerDeco,this.node,r),Cv(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function Mw(s,e,r,n,a){rC(n,e,s);let l=new Lh(void 0,s,e,r,n,n,n,a,0);return l.contentDOM&&l.updateChildren(a,0),l}class hx extends Lh{constructor(e,r,n,a,l,u,d){super(e,r,n,a,l,null,u,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,a){return this.dirty==oA||this.dirty!=mu&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=mu||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=e,this.dirty=mu,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let a=this.node.cut(e,r),l=document.createTextNode(a.text);return new hx(this.parent,a,this.outerDeco,this.innerDeco,l,l,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=oA)}get domAtom(){return!1}isText(e){return this.node.text==e}}class eC extends Mm{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==mu&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class MP extends Lh{constructor(e,r,n,a,l,u,d,A,o,f){super(e,r,n,a,l,u,d,o,f),this.spec=A}update(e,r,n,a){if(this.dirty==oA)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,r,n);return l&&this.updateInner(e,r,n,a),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,a){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function tC(s,e,r){let n=s.firstChild,a=!1;for(let l=0;l<e.length;l++){let u=e[l],d=u.dom;if(d.parentNode==s){for(;d!=n;)n=Ow(n),a=!0;n=n.nextSibling}else a=!0,s.insertBefore(d,n);if(u instanceof Nf){let A=n?n.previousSibling:s.lastChild;tC(u.contentDOM,u.children,r),n=A?A.nextSibling:s.firstChild}}for(;n;)n=Ow(n),a=!0;a&&r.trackWrites==s&&(r.trackWrites=null)}const rm=function(s){s&&(this.nodeName=s)};rm.prototype=Object.create(null);const cf=[new rm];function Cv(s,e,r){if(s.length==0)return cf;let n=r?cf[0]:new rm,a=[n];for(let l=0;l<s.length;l++){let u=s[l].type.attrs;if(u){u.nodeName&&a.push(n=new rm(u.nodeName));for(let d in u){let A=u[d];A!=null&&(r&&a.length==1&&a.push(n=new rm(e.isInline?"span":"div")),d=="class"?n.class=(n.class?n.class+" ":"")+A:d=="style"?n.style=(n.style?n.style+";":"")+A:d!="nodeName"&&(n[d]=A))}}}return a}function sC(s,e,r,n){if(r==cf&&n==cf)return e;let a=e;for(let l=0;l<n.length;l++){let u=n[l],d=r[l];if(l){let A;d&&d.nodeName==u.nodeName&&a!=s&&(A=a.parentNode)&&A.nodeName.toLowerCase()==u.nodeName||(A=document.createElement(u.nodeName),A.pmIsDeco=!0,A.appendChild(a),d=cf[0]),a=A}OP(a,d||cf[0],u)}return a}function OP(s,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&s.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&s.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],a=r.class?r.class.split(" ").filter(Boolean):[];for(let l=0;l<n.length;l++)a.indexOf(n[l])==-1&&s.classList.remove(n[l]);for(let l=0;l<a.length;l++)n.indexOf(a[l])==-1&&s.classList.add(a[l]);s.classList.length==0&&s.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=n.exec(e.style);)s.style.removeProperty(a[1])}r.style&&(s.style.cssText+=r.style)}}function rC(s,e,r){return sC(s,s,cf,Cv(e,r,s.nodeType!=1))}function ag(s,e){if(s.length!=e.length)return!1;for(let r=0;r<s.length;r++)if(!s[r].type.eq(e[r].type))return!1;return!0}function Ow(s){let e=s.nextSibling;return s.parentNode.removeChild(s),e}class IP{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=DP(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let a=0,l=this.stack.length>>1,u=Math.min(l,e.length);for(;a<u&&(a==l-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<l;)this.destroyRest(),this.top.dirty=mu,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let A=this.index;A<Math.min(this.index+3,this.top.children.length);A++){let o=this.top.children[A];if(o.matchesMark(e[l])&&!this.isLocked(o.dom)){d=A;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let A=Nf.create(this.top,e[l],r,n);this.top.children.splice(this.index,0,A),this.top=A,this.changed=!0}this.index=0,l++}}findNodeMatch(e,r,n,a){let l=-1,u;if(a>=this.preMatch.index&&(u=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&u.matchesNode(e,r,n))l=this.top.children.indexOf(u,this.index);else for(let d=this.index,A=Math.min(this.top.children.length,d+5);d<A;d++){let o=this.top.children[d];if(o.matchesNode(e,r,n)&&!this.preMatch.matched.has(o)){l=d;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,r,n,a,l){let u=this.top.children[a];return u.dirty==oA&&u.dom==u.contentDOM&&(u.dirty=lf),u.update(e,r,n,l)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==n)return a}return-1}e=r}}updateNextNode(e,r,n,a,l,u){for(let d=this.index;d<this.top.children.length;d++){let A=this.top.children[d];if(A instanceof Lh){let o=this.preMatch.matched.get(A);if(o!=null&&o!=l)return!1;let f=A.dom,m,p=this.isLocked(f)&&!(e.isText&&A.node&&A.node.isText&&A.nodeDOM.nodeValue==e.text&&A.dirty!=oA&&ag(r,A.outerDeco));if(!p&&A.update(e,r,n,a))return this.destroyBetween(this.index,d),A.dom!=f&&(this.changed=!0),this.index++,!0;if(!p&&(m=this.recreateWrapper(A,e,r,n,a,u)))return this.destroyBetween(this.index,d),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=lf,m.updateChildren(a,u+1),m.dirty=mu),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,a,l,u){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!ag(n,e.outerDeco)||!a.eq(e.innerDeco))return null;let d=Lh.create(this.top,r,n,a,l,u);if(d.contentDOM){d.children=e.children,e.children=[];for(let A of d.children)A.parent=d}return e.destroy(),d}addNode(e,r,n,a,l){let u=Lh.create(this.top,e,r,n,a,l);u.contentDOM&&u.updateChildren(a,l+1),this.top.children.splice(this.index++,0,u),this.changed=!0}placeWidget(e,r,n){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(e)&&(e==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let l=new qN(this.top,e,r,n);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Nf;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof hx)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Kc||cc)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let a=new eC(this.top,[],n,null);r!=this.top?r.children.push(a):r.children.splice(this.index++,0,a),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function DP(s,e){let r=e,n=r.children.length,a=s.childCount,l=new Map,u=[];e:for(;a>0;){let d;for(;;)if(n){let o=r.children[n-1];if(o instanceof Nf)r=o,n=o.children.length;else{d=o,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let A=d.node;if(A){if(A!=s.child(a-1))break;--a,l.set(d,a),u.push(d)}}return{index:a,matched:l,matches:u.reverse()}}function RP(s,e){return s.type.side-e.type.side}function PP(s,e,r,n){let a=e.locals(s),l=0;if(a.length==0){for(let o=0;o<s.childCount;o++){let f=s.child(o);n(f,a,e.forChild(l,f),o),l+=f.nodeSize}return}let u=0,d=[],A=null;for(let o=0;;){let f,m;for(;u<a.length&&a[u].to==l;){let w=a[u++];w.widget&&(f?(m||(m=[f])).push(w):f=w)}if(f)if(m){m.sort(RP);for(let w=0;w<m.length;w++)r(m[w],o,!!A)}else r(f,o,!!A);let p,x;if(A)x=-1,p=A,A=null;else if(o<s.childCount)x=o,p=s.child(o++);else break;for(let w=0;w<d.length;w++)d[w].to<=l&&d.splice(w--,1);for(;u<a.length&&a[u].from<=l&&a[u].to>l;)d.push(a[u++]);let b=l+p.nodeSize;if(p.isText){let w=b;u<a.length&&a[u].from<w&&(w=a[u].from);for(let E=0;E<d.length;E++)d[E].to<w&&(w=d[E].to);w<b&&(A=p.cut(w-l),p=p.cut(0,w-l),b=w,x=-1)}else for(;u<a.length&&a[u].to<b;)u++;let y=p.isInline&&!p.isLeaf?d.filter(w=>!w.inline):d.slice();n(p,y,e.forChild(l,p),x),l=b}}function QP(s){if(s.nodeName=="UL"||s.nodeName=="OL"){let e=s.style.cssText;s.style.cssText=e+"; list-style: square !important",window.getComputedStyle(s).listStyle,s.style.cssText=e}}function _P(s,e,r,n){for(let a=0,l=0;a<s.childCount&&l<=n;){let u=s.child(a++),d=l;if(l+=u.nodeSize,!u.isText)continue;let A=u.text;for(;a<s.childCount;){let o=s.child(a++);if(l+=o.nodeSize,!o.isText)break;A+=o.text}if(l>=r){if(l>=n&&A.slice(n-e.length-d,n-d)==e)return n-e.length;let o=d<n?A.lastIndexOf(e,n-d-1):-1;if(o>=0&&o+e.length+d>=r)return d+o;if(r==n&&A.length>=n+e.length-d&&A.slice(n-d,n-d+e.length)==e)return n}}return-1}function kv(s,e,r,n,a){let l=[];for(let u=0,d=0;u<s.length;u++){let A=s[u],o=d,f=d+=A.size;o>=r||f<=e?l.push(A):(o<e&&l.push(A.slice(0,e-o,n)),a&&(l.push(a),a=void 0),f>r&&l.push(A.slice(r-o,A.size,n)))}return l}function yy(s,e=null){let r=s.domSelectionRange(),n=s.state.doc;if(!r.focusNode)return null;let a=s.docView.nearestDesc(r.focusNode),l=a&&a.size==0,u=s.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(u<0)return null;let d=n.resolve(u),A,o;if(Ax(r)){for(A=u;a&&!a.node;)a=a.parent;let m=a.node;if(a&&m.isAtom&&wn.isSelectable(m)&&a.parent&&!(m.isInline&&fP(r.focusNode,r.focusOffset,a.dom))){let p=a.posBefore;o=new wn(u==p?d:n.resolve(p))}}else{if(r instanceof s.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let m=u,p=u;for(let x=0;x<r.rangeCount;x++){let b=r.getRangeAt(x);m=Math.min(m,s.docView.posFromDOM(b.startContainer,b.startOffset,1)),p=Math.max(p,s.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(m<0)return null;[A,u]=p==s.state.selection.anchor?[p,m]:[m,p],d=n.resolve(u)}else A=s.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(A<0)return null}let f=n.resolve(A);if(!o){let m=e=="pointer"||s.state.selection.head<d.pos&&!l?1:-1;o=wy(s,f,d,m)}return o}function nC(s){return s.editable?s.hasFocus():iC(s)&&document.activeElement&&document.activeElement.contains(s.dom)}function PA(s,e=!1){let r=s.state.selection;if(aC(s,r),!!nC(s)){if(!e&&s.input.mouseDown&&s.input.mouseDown.allowDefault&&cc){let n=s.domSelectionRange(),a=s.domObserver.currentSelection;if(n.anchorNode&&a.anchorNode&&jf(n.anchorNode,n.anchorOffset,a.anchorNode,a.anchorOffset)){s.input.mouseDown.delayedSelectionSync=!0,s.domObserver.setCurSelection();return}}if(s.domObserver.disconnectSelection(),s.cursorWrapper)zP(s);else{let{anchor:n,head:a}=r,l,u;Iw&&!(r instanceof Kn)&&(r.$from.parent.inlineContent||(l=Dw(s,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(u=Dw(s,r.to))),s.docView.setSelection(n,a,s,e),Iw&&(l&&Rw(l),u&&Rw(u)),r.visible?s.dom.classList.remove("ProseMirror-hideselection"):(s.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&HP(s))}s.domObserver.setCurSelection(),s.domObserver.connectSelection()}}const Iw=Kc||cc&&VN<63;function Dw(s,e){let{node:r,offset:n}=s.docView.domFromPos(e,0),a=n<r.childNodes.length?r.childNodes[n]:null,l=n?r.childNodes[n-1]:null;if(Kc&&a&&a.contentEditable=="false")return kb(a);if((!a||a.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(a)return kb(a);if(l)return kb(l)}}function kb(s){return s.contentEditable="true",Kc&&s.draggable&&(s.draggable=!1,s.wasDraggable=!0),s}function Rw(s){s.contentEditable="false",s.wasDraggable&&(s.draggable=!0,s.wasDraggable=null)}function HP(s){let e=s.dom.ownerDocument;e.removeEventListener("selectionchange",s.input.hideSelectionGuard);let r=s.domSelectionRange(),n=r.anchorNode,a=r.anchorOffset;e.addEventListener("selectionchange",s.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=a)&&(e.removeEventListener("selectionchange",s.input.hideSelectionGuard),setTimeout(()=>{(!nC(s)||s.state.selection.visible)&&s.dom.classList.remove("ProseMirror-hideselection")},20))})}function zP(s){let e=s.domSelection();if(!e)return;let r=s.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Sc(r)+1):e.collapse(r,0),!n&&!s.state.selection.visible&&Ud&&Uh<=11&&(r.disabled=!0,r.disabled=!1)}function aC(s,e){if(e instanceof wn){let r=s.docView.descAt(e.from);r!=s.lastSelectedViewDesc&&(Pw(s),r&&r.selectNode(),s.lastSelectedViewDesc=r)}else Pw(s)}function Pw(s){s.lastSelectedViewDesc&&(s.lastSelectedViewDesc.parent&&s.lastSelectedViewDesc.deselectNode(),s.lastSelectedViewDesc=void 0)}function wy(s,e,r,n){return s.someProp("createSelectionBetween",a=>a(s,e,r))||Kn.between(e,r,n)}function Qw(s){return s.editable&&!s.hasFocus()?!1:iC(s)}function iC(s){let e=s.domSelectionRange();if(!e.anchorNode)return!1;try{return s.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(s.editable||s.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function $P(s){let e=s.docView.domFromPos(s.state.selection.anchor,0),r=s.domSelectionRange();return jf(e.node,e.offset,r.anchorNode,r.anchorOffset)}function Bv(s,e){let{$anchor:r,$head:n}=s.selection,a=e>0?r.max(n):r.min(n),l=a.parent.inlineContent?a.depth?s.doc.resolve(e>0?a.after():a.before()):null:a;return l&&Aa.findFrom(l,e)}function bh(s,e){return s.dispatch(s.state.tr.setSelection(e).scrollIntoView()),!0}function _w(s,e,r){let n=s.state.selection;if(n instanceof Kn)if(r.indexOf("s")>-1){let{$head:a}=n,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let u=s.state.doc.resolve(a.pos+l.nodeSize*(e<0?-1:1));return bh(s,new Kn(n.$anchor,u))}else if(n.empty){if(s.endOfTextblock(e>0?"forward":"backward")){let a=Bv(s.state,e);return a&&a instanceof wn?bh(s,a):!1}else if(!(cu&&r.indexOf("m")>-1)){let a=n.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter,u;if(!l||l.isText)return!1;let d=e<0?a.pos-l.nodeSize:a.pos;return l.isAtom||(u=s.docView.descAt(d))&&!u.contentDOM?wn.isSelectable(l)?bh(s,new wn(e<0?s.state.doc.resolve(a.pos-l.nodeSize):a)):Fm?bh(s,new Kn(s.state.doc.resolve(e<0?d:d+l.nodeSize))):!1:!1}}else return!1;else{if(n instanceof wn&&n.node.isInline)return bh(s,new Kn(e>0?n.$to:n.$from));{let a=Bv(s.state,e);return a?bh(s,a):!1}}}function ig(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function nm(s,e){let r=s.pmViewDesc;return r&&r.size==0&&(e<0||s.nextSibling||s.nodeName!="BR")}function Xf(s,e){return e<0?VP(s):KP(s)}function VP(s){let e=s.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a,l,u=!1;for(fu&&r.nodeType==1&&n<ig(r)&&nm(r.childNodes[n],-1)&&(u=!0);;)if(n>0){if(r.nodeType!=1)break;{let d=r.childNodes[n-1];if(nm(d,-1))a=r,l=--n;else if(d.nodeType==3)r=d,n=r.nodeValue.length;else break}}else{if(oC(r))break;{let d=r.previousSibling;for(;d&&nm(d,-1);)a=r.parentNode,l=Sc(d),d=d.previousSibling;if(d)r=d,n=ig(r);else{if(r=r.parentNode,r==s.dom)break;n=0}}}u?Sv(s,r,n):a&&Sv(s,a,l)}function KP(s){let e=s.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a=ig(r),l,u;for(;;)if(n<a){if(r.nodeType!=1)break;let d=r.childNodes[n];if(nm(d,1))l=r,u=++n;else break}else{if(oC(r))break;{let d=r.nextSibling;for(;d&&nm(d,1);)l=d.parentNode,u=Sc(d)+1,d=d.nextSibling;if(d)r=d,n=0,a=ig(r);else{if(r=r.parentNode,r==s.dom)break;n=a=0}}}l&&Sv(s,l,u)}function oC(s){let e=s.pmViewDesc;return e&&e.node&&e.node.isBlock}function GP(s,e){for(;s&&e==s.childNodes.length&&!Lm(s);)e=Sc(s)+1,s=s.parentNode;for(;s&&e<s.childNodes.length;){let r=s.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;s=r,e=0}}function WP(s,e){for(;s&&!e&&!Lm(s);)e=Sc(s),s=s.parentNode;for(;s&&e;){let r=s.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;s=r,e=s.childNodes.length}}function Sv(s,e,r){if(e.nodeType!=3){let l,u;(u=GP(e,r))?(e=u,r=0):(l=WP(e,r))&&(e=l,r=l.nodeValue.length)}let n=s.domSelection();if(!n)return;if(Ax(n)){let l=document.createRange();l.setEnd(e,r),l.setStart(e,r),n.removeAllRanges(),n.addRange(l)}else n.extend&&n.extend(e,r);s.domObserver.setCurSelection();let{state:a}=s;setTimeout(()=>{s.state==a&&PA(s)},50)}function Hw(s,e){let r=s.state.doc.resolve(e);if(!(cc||KN)&&r.parent.inlineContent){let a=s.coordsAtPos(e);if(e>r.start()){let l=s.coordsAtPos(e-1),u=(l.top+l.bottom)/2;if(u>a.top&&u<a.bottom&&Math.abs(l.left-a.left)>1)return l.left<a.left?"ltr":"rtl"}if(e<r.end()){let l=s.coordsAtPos(e+1),u=(l.top+l.bottom)/2;if(u>a.top&&u<a.bottom&&Math.abs(l.left-a.left)>1)return l.left>a.left?"ltr":"rtl"}}return getComputedStyle(s.dom).direction=="rtl"?"rtl":"ltr"}function zw(s,e,r){let n=s.state.selection;if(n instanceof Kn&&!n.empty||r.indexOf("s")>-1||cu&&r.indexOf("m")>-1)return!1;let{$from:a,$to:l}=n;if(!a.parent.inlineContent||s.endOfTextblock(e<0?"up":"down")){let u=Bv(s.state,e);if(u&&u instanceof wn)return bh(s,u)}if(!a.parent.inlineContent){let u=e<0?a:l,d=n instanceof Wd?Aa.near(u,e):Aa.findFrom(u,e);return d?bh(s,d):!1}return!1}function $w(s,e){if(!(s.state.selection instanceof Kn))return!0;let{$head:r,$anchor:n,empty:a}=s.state.selection;if(!r.sameParent(n))return!0;if(!a)return!1;if(s.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(l&&!l.isText){let u=s.state.tr;return e<0?u.delete(r.pos-l.nodeSize,r.pos):u.delete(r.pos,r.pos+l.nodeSize),s.dispatch(u),!0}return!1}function Vw(s,e,r){s.domObserver.stop(),e.contentEditable=r,s.domObserver.start()}function YP(s){if(!Kc||s.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=s.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;Vw(s,n,"true"),setTimeout(()=>Vw(s,n,"false"),20)}return!1}function XP(s){let e="";return s.ctrlKey&&(e+="c"),s.metaKey&&(e+="m"),s.altKey&&(e+="a"),s.shiftKey&&(e+="s"),e}function JP(s,e){let r=e.keyCode,n=XP(e);if(r==8||cu&&r==72&&n=="c")return $w(s,-1)||Xf(s,-1);if(r==46&&!e.shiftKey||cu&&r==68&&n=="c")return $w(s,1)||Xf(s,1);if(r==13||r==27)return!0;if(r==37||cu&&r==66&&n=="c"){let a=r==37?Hw(s,s.state.selection.from)=="ltr"?-1:1:-1;return _w(s,a,n)||Xf(s,a)}else if(r==39||cu&&r==70&&n=="c"){let a=r==39?Hw(s,s.state.selection.from)=="ltr"?1:-1:1;return _w(s,a,n)||Xf(s,a)}else{if(r==38||cu&&r==80&&n=="c")return zw(s,-1,n)||Xf(s,-1);if(r==40||cu&&r==78&&n=="c")return YP(s)||zw(s,1,n)||Xf(s,1);if(n==(cu?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function jy(s,e){s.someProp("transformCopied",x=>{e=x(e,s)});let r=[],{content:n,openStart:a,openEnd:l}=e;for(;a>1&&l>1&&n.childCount==1&&n.firstChild.childCount==1;){a--,l--;let x=n.firstChild;r.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),n=x.content}let u=s.someProp("clipboardSerializer")||Bf.fromSchema(s.state.schema),d=hC(),A=d.createElement("div");A.appendChild(u.serializeFragment(n,{document:d}));let o=A.firstChild,f,m=0;for(;o&&o.nodeType==1&&(f=AC[o.nodeName.toLowerCase()]);){for(let x=f.length-1;x>=0;x--){let b=d.createElement(f[x]);for(;A.firstChild;)b.appendChild(A.firstChild);A.appendChild(b),m++}o=A.firstChild}o&&o.nodeType==1&&o.setAttribute("data-pm-slice",`${a} ${l}${m?` -${m}`:""} ${JSON.stringify(r)}`);let p=s.someProp("clipboardTextSerializer",x=>x(e,s))||e.content.textBetween(0,e.content.size,`

`);return{dom:A,text:p,slice:e}}function lC(s,e,r,n,a){let l=a.parent.type.spec.code,u,d;if(!r&&!e)return null;let A=!!e&&(n||l||!r);if(A){if(s.someProp("transformPastedText",p=>{e=p(e,l||n,s)}),l)return d=new Mr(Gs.from(s.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),s.someProp("transformPasted",p=>{d=p(d,s,!0)}),d;let m=s.someProp("clipboardTextParser",p=>p(e,a,n,s));if(m)d=m;else{let p=a.marks(),{schema:x}=s.state,b=Bf.fromSchema(x);u=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let w=u.appendChild(document.createElement("p"));y&&w.appendChild(b.serializeNode(x.text(y,p)))})}}else s.someProp("transformPastedHTML",m=>{r=m(r,s)}),u=t7(r),Fm&&s7(u);let o=u&&u.querySelector("[data-pm-slice]"),f=o&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(o.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let m=+f[3];m>0;m--){let p=u.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;u=p}if(d||(d=(s.someProp("clipboardParser")||s.someProp("domParser")||tm.fromSchema(s.state.schema)).parseSlice(u,{preserveWhitespace:!!(A||f),context:a,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!ZP.test(p.parentNode.nodeName)?{ignore:!0}:null}})),f)d=r7(Kw(d,+f[1],+f[2]),f[4]);else if(d=Mr.maxOpen(qP(d.content,a),!0),d.openStart||d.openEnd){let m=0,p=0;for(let x=d.content.firstChild;m<d.openStart&&!x.type.spec.isolating;m++,x=x.firstChild);for(let x=d.content.lastChild;p<d.openEnd&&!x.type.spec.isolating;p++,x=x.lastChild);d=Kw(d,m,p)}return s.someProp("transformPasted",m=>{d=m(d,s,A)}),d}const ZP=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function qP(s,e){if(s.childCount<2)return s;for(let r=e.depth;r>=0;r--){let a=e.node(r).contentMatchAt(e.index(r)),l,u=[];if(s.forEach(d=>{if(!u)return;let A=a.findWrapping(d.type),o;if(!A)return u=null;if(o=u.length&&l.length&&dC(A,l,d,u[u.length-1],0))u[u.length-1]=o;else{u.length&&(u[u.length-1]=uC(u[u.length-1],l.length));let f=cC(d,A);u.push(f),a=a.matchType(f.type),l=A}}),u)return Gs.from(u)}return s}function cC(s,e,r=0){for(let n=e.length-1;n>=r;n--)s=e[n].create(null,Gs.from(s));return s}function dC(s,e,r,n,a){if(a<s.length&&a<e.length&&s[a]==e[a]){let l=dC(s,e,r,n.lastChild,a+1);if(l)return n.copy(n.content.replaceChild(n.childCount-1,l));if(n.contentMatchAt(n.childCount).matchType(a==s.length-1?r.type:s[a+1]))return n.copy(n.content.append(Gs.from(cC(r,s,a+1))))}}function uC(s,e){if(e==0)return s;let r=s.content.replaceChild(s.childCount-1,uC(s.lastChild,e-1)),n=s.contentMatchAt(s.childCount).fillBefore(Gs.empty,!0);return s.copy(r.append(n))}function Ev(s,e,r,n,a,l){let u=e<0?s.firstChild:s.lastChild,d=u.content;return s.childCount>1&&(l=0),a<n-1&&(d=Ev(d,e,r,n,a+1,l)),a>=r&&(d=e<0?u.contentMatchAt(0).fillBefore(d,l<=a).append(d):d.append(u.contentMatchAt(u.childCount).fillBefore(Gs.empty,!0))),s.replaceChild(e<0?0:s.childCount-1,u.copy(d))}function Kw(s,e,r){return e<s.openStart&&(s=new Mr(Ev(s.content,-1,e,s.openStart,0,s.openEnd),e,s.openEnd)),r<s.openEnd&&(s=new Mr(Ev(s.content,1,r,s.openEnd,0,0),s.openStart,r)),s}const AC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Gw=null;function hC(){return Gw||(Gw=document.implementation.createHTMLDocument("title"))}let Bb=null;function e7(s){let e=window.trustedTypes;return e?(Bb||(Bb=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),Bb.createHTML(s)):s}function t7(s){let e=/^(\s*<meta [^>]*>)*/.exec(s);e&&(s=s.slice(e[0].length));let r=hC().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(s),a;if((a=n&&AC[n[1].toLowerCase()])&&(s=a.map(l=>"<"+l+">").join("")+s+a.map(l=>"</"+l+">").reverse().join("")),r.innerHTML=e7(s),a)for(let l=0;l<a.length;l++)r=r.querySelector(a[l])||r;return r}function s7(s){let e=s.querySelectorAll(cc?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(s.ownerDocument.createTextNode(" "),n)}}function r7(s,e){if(!s.size)return s;let r=s.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return s}let{content:a,openStart:l,openEnd:u}=s;for(let d=n.length-2;d>=0;d-=2){let A=r.nodes[n[d]];if(!A||A.hasRequiredAttrs())break;a=Gs.from(A.create(n[d+1],a)),l++,u++}return new Mr(a,l,u)}const cd={},dd={},n7={touchstart:!0,touchmove:!0};class a7{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function i7(s){for(let e in cd){let r=cd[e];s.dom.addEventListener(e,s.input.eventHandlers[e]=n=>{l7(s,n)&&!Ny(s,n)&&(s.editable||!(n.type in dd))&&r(s,n)},n7[e]?{passive:!0}:void 0)}Kc&&s.dom.addEventListener("input",()=>null),Tv(s)}function Bh(s,e){s.input.lastSelectionOrigin=e,s.input.lastSelectionTime=Date.now()}function o7(s){s.domObserver.stop();for(let e in s.input.eventHandlers)s.dom.removeEventListener(e,s.input.eventHandlers[e]);clearTimeout(s.input.composingTimeout),clearTimeout(s.input.lastIOSEnterFallbackTimeout)}function Tv(s){s.someProp("handleDOMEvents",e=>{for(let r in e)s.input.eventHandlers[r]||s.dom.addEventListener(r,s.input.eventHandlers[r]=n=>Ny(s,n))})}function Ny(s,e){return s.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(s,e)||e.defaultPrevented:!1})}function l7(s,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=s.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function c7(s,e){!Ny(s,e)&&cd[e.type]&&(s.editable||!(e.type in dd))&&cd[e.type](s,e)}dd.keydown=(s,e)=>{let r=e;if(s.input.shiftKey=r.keyCode==16||r.shiftKey,!mC(s,r)&&(s.input.lastKeyCode=r.keyCode,s.input.lastKeyCodeTime=Date.now(),!(IA&&cc&&r.keyCode==13)))if(r.keyCode!=229&&s.domObserver.forceFlush(),f0&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();s.input.lastIOSEnter=n,s.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{s.input.lastIOSEnter==n&&(s.someProp("handleKeyDown",a=>a(s,of(13,"Enter"))),s.input.lastIOSEnter=0)},200)}else s.someProp("handleKeyDown",n=>n(s,r))||JP(s,r)?r.preventDefault():Bh(s,"key")};dd.keyup=(s,e)=>{e.keyCode==16&&(s.input.shiftKey=!1)};dd.keypress=(s,e)=>{let r=e;if(mC(s,r)||!r.charCode||r.ctrlKey&&!r.altKey||cu&&r.metaKey)return;if(s.someProp("handleKeyPress",a=>a(s,r))){r.preventDefault();return}let n=s.state.selection;if(!(n instanceof Kn)||!n.$from.sameParent(n.$to)){let a=String.fromCharCode(r.charCode),l=()=>s.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!s.someProp("handleTextInput",u=>u(s,n.$from.pos,n.$to.pos,a,l))&&s.dispatch(l()),r.preventDefault()}};function fx(s){return{left:s.clientX,top:s.clientY}}function d7(s,e){let r=e.x-s.clientX,n=e.y-s.clientY;return r*r+n*n<100}function Cy(s,e,r,n,a){if(n==-1)return!1;let l=s.state.doc.resolve(n);for(let u=l.depth+1;u>0;u--)if(s.someProp(e,d=>u>l.depth?d(s,r,l.nodeAfter,l.before(u),a,!0):d(s,r,l.node(u),l.before(u),a,!1)))return!0;return!1}function r0(s,e,r){if(s.focused||s.focus(),s.state.selection.eq(e))return;let n=s.state.tr.setSelection(e);n.setMeta("pointer",!0),s.dispatch(n)}function u7(s,e){if(e==-1)return!1;let r=s.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&wn.isSelectable(n)?(r0(s,new wn(r)),!0):!1}function A7(s,e){if(e==-1)return!1;let r=s.state.selection,n,a;r instanceof wn&&(n=r.node);let l=s.state.doc.resolve(e);for(let u=l.depth+1;u>0;u--){let d=u>l.depth?l.nodeAfter:l.node(u);if(wn.isSelectable(d)){n&&r.$from.depth>0&&u>=r.$from.depth&&l.before(r.$from.depth+1)==r.$from.pos?a=l.before(r.$from.depth):a=l.before(u);break}}return a!=null?(r0(s,wn.create(s.state.doc,a)),!0):!1}function h7(s,e,r,n,a){return Cy(s,"handleClickOn",e,r,n)||s.someProp("handleClick",l=>l(s,e,n))||(a?A7(s,r):u7(s,r))}function f7(s,e,r,n){return Cy(s,"handleDoubleClickOn",e,r,n)||s.someProp("handleDoubleClick",a=>a(s,e,n))}function m7(s,e,r,n){return Cy(s,"handleTripleClickOn",e,r,n)||s.someProp("handleTripleClick",a=>a(s,e,n))||p7(s,r,n)}function p7(s,e,r){if(r.button!=0)return!1;let n=s.state.doc;if(e==-1)return n.inlineContent?(r0(s,Kn.create(n,0,n.content.size)),!0):!1;let a=n.resolve(e);for(let l=a.depth+1;l>0;l--){let u=l>a.depth?a.nodeAfter:a.node(l),d=a.before(l);if(u.inlineContent)r0(s,Kn.create(n,d+1,d+1+u.content.size));else if(wn.isSelectable(u))r0(s,wn.create(n,d));else continue;return!0}}function ky(s){return og(s)}const fC=cu?"metaKey":"ctrlKey";cd.mousedown=(s,e)=>{let r=e;s.input.shiftKey=r.shiftKey;let n=ky(s),a=Date.now(),l="singleClick";a-s.input.lastClick.time<500&&d7(r,s.input.lastClick)&&!r[fC]&&s.input.lastClick.button==r.button&&(s.input.lastClick.type=="singleClick"?l="doubleClick":s.input.lastClick.type=="doubleClick"&&(l="tripleClick")),s.input.lastClick={time:a,x:r.clientX,y:r.clientY,type:l,button:r.button};let u=s.posAtCoords(fx(r));u&&(l=="singleClick"?(s.input.mouseDown&&s.input.mouseDown.done(),s.input.mouseDown=new g7(s,u,r,!!n)):(l=="doubleClick"?f7:m7)(s,u.pos,u.inside,r)?r.preventDefault():Bh(s,"pointer"))};class g7{constructor(e,r,n,a){this.view=e,this.pos=r,this.event=n,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[fC],this.allowDefault=n.shiftKey;let l,u;if(r.inside>-1)l=e.state.doc.nodeAt(r.inside),u=r.inside;else{let f=e.state.doc.resolve(r.pos);l=f.parent,u=f.depth?f.before():0}const d=a?null:n.target,A=d?e.docView.nearestDesc(d,!0):null;this.target=A&&A.nodeDOM.nodeType==1?A.nodeDOM:null;let{selection:o}=e.state;(n.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||o instanceof wn&&o.from<=u&&o.to>u)&&(this.mightDrag={node:l,pos:u,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fu&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Bh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>PA(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(fx(e))),this.updateAllowDefault(e),this.allowDefault||!r?Bh(this.view,"pointer"):h7(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Kc&&this.mightDrag&&!this.mightDrag.node.isAtom||cc&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(r0(this.view,Aa.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Bh(this.view,"pointer")}move(e){this.updateAllowDefault(e),Bh(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}cd.touchstart=s=>{s.input.lastTouch=Date.now(),ky(s),Bh(s,"pointer")};cd.touchmove=s=>{s.input.lastTouch=Date.now(),Bh(s,"pointer")};cd.contextmenu=s=>ky(s);function mC(s,e){return s.composing?!0:Kc&&Math.abs(e.timeStamp-s.input.compositionEndedAt)<500?(s.input.compositionEndedAt=-2e8,!0):!1}const x7=IA?5e3:-1;dd.compositionstart=dd.compositionupdate=s=>{if(!s.composing){s.domObserver.flush();let{state:e}=s,r=e.selection.$to;if(e.selection instanceof Kn&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)||cc&&KN&&b7(s)))s.markCursor=s.state.storedMarks||r.marks(),og(s,!0),s.markCursor=null;else if(og(s,!e.selection.empty),fu&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=s.domSelectionRange();for(let a=n.focusNode,l=n.focusOffset;a&&a.nodeType==1&&l!=0;){let u=l<0?a.lastChild:a.childNodes[l-1];if(!u)break;if(u.nodeType==3){let d=s.domSelection();d&&d.collapse(u,u.nodeValue.length);break}else a=u,l=-1}}s.input.composing=!0}pC(s,x7)};function b7(s){let{focusNode:e,focusOffset:r}=s.domSelectionRange();if(!e||e.nodeType!=1||r>=e.childNodes.length)return!1;let n=e.childNodes[r];return n.nodeType==1&&n.contentEditable=="false"}dd.compositionend=(s,e)=>{s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=e.timeStamp,s.input.compositionPendingChanges=s.domObserver.pendingRecords().length?s.input.compositionID:0,s.input.compositionNode=null,s.input.compositionPendingChanges&&Promise.resolve().then(()=>s.domObserver.flush()),s.input.compositionID++,pC(s,20))};function pC(s,e){clearTimeout(s.input.composingTimeout),e>-1&&(s.input.composingTimeout=setTimeout(()=>og(s),e))}function gC(s){for(s.composing&&(s.input.composing=!1,s.input.compositionEndedAt=y7());s.input.compositionNodes.length>0;)s.input.compositionNodes.pop().markParentsDirty()}function v7(s){let e=s.domSelectionRange();if(!e.focusNode)return null;let r=AP(e.focusNode,e.focusOffset),n=hP(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let a=n.pmViewDesc,l=s.domObserver.lastChangedTextNode;if(r==l||n==l)return l;if(!a||!a.isText(n.nodeValue))return n;if(s.input.compositionNode==n){let u=r.pmViewDesc;if(!(!u||!u.isText(r.nodeValue)))return n}}return r||n}function y7(){let s=document.createEvent("Event");return s.initEvent("event",!0,!0),s.timeStamp}function og(s,e=!1){if(!(IA&&s.domObserver.flushingSoon>=0)){if(s.domObserver.forceFlush(),gC(s),e||s.docView&&s.docView.dirty){let r=yy(s),n=s.state.selection;return r&&!r.eq(n)?s.dispatch(s.state.tr.setSelection(r)):(s.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?s.dispatch(s.state.tr.deleteSelection()):s.updateState(s.state),!0}return!1}}function w7(s,e){if(!s.dom.parentNode)return;let r=s.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),a=document.createRange();a.selectNodeContents(e),s.dom.blur(),n.removeAllRanges(),n.addRange(a),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),s.focus()},50)}const vm=Ud&&Uh<15||f0&&gP<604;cd.copy=dd.cut=(s,e)=>{let r=e,n=s.state.selection,a=r.type=="cut";if(n.empty)return;let l=vm?null:r.clipboardData,u=n.content(),{dom:d,text:A}=jy(s,u);l?(r.preventDefault(),l.clearData(),l.setData("text/html",d.innerHTML),l.setData("text/plain",A)):w7(s,d),a&&s.dispatch(s.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function j7(s){return s.openStart==0&&s.openEnd==0&&s.content.childCount==1?s.content.firstChild:null}function N7(s,e){if(!s.dom.parentNode)return;let r=s.input.shiftKey||s.state.selection.$from.parent.type.spec.code,n=s.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let a=s.input.shiftKey&&s.input.lastKeyCode!=45;setTimeout(()=>{s.focus(),n.parentNode&&n.parentNode.removeChild(n),r?ym(s,n.value,null,a,e):ym(s,n.textContent,n.innerHTML,a,e)},50)}function ym(s,e,r,n,a){let l=lC(s,e,r,n,s.state.selection.$from);if(s.someProp("handlePaste",A=>A(s,a,l||Mr.empty)))return!0;if(!l)return!1;let u=j7(l),d=u?s.state.tr.replaceSelectionWith(u,n):s.state.tr.replaceSelection(l);return s.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function xC(s){let e=s.getData("text/plain")||s.getData("Text");if(e)return e;let r=s.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}dd.paste=(s,e)=>{let r=e;if(s.composing&&!IA)return;let n=vm?null:r.clipboardData,a=s.input.shiftKey&&s.input.lastKeyCode!=45;n&&ym(s,xC(n),n.getData("text/html"),a,r)?r.preventDefault():N7(s,r)};class bC{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const C7=cu?"altKey":"ctrlKey";function vC(s,e){let r=s.someProp("dragCopies",n=>!n(e));return r??!e[C7]}cd.dragstart=(s,e)=>{let r=e,n=s.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let a=s.state.selection,l=a.empty?null:s.posAtCoords(fx(r)),u;if(!(l&&l.pos>=a.from&&l.pos<=(a instanceof wn?a.to-1:a.to))){if(n&&n.mightDrag)u=wn.create(s.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let m=s.docView.nearestDesc(r.target,!0);m&&m.node.type.spec.draggable&&m!=s.docView&&(u=wn.create(s.state.doc,m.posBefore))}}let d=(u||s.state.selection).content(),{dom:A,text:o,slice:f}=jy(s,d);(!r.dataTransfer.files.length||!cc||VN>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(vm?"Text":"text/html",A.innerHTML),r.dataTransfer.effectAllowed="copyMove",vm||r.dataTransfer.setData("text/plain",o),s.dragging=new bC(f,vC(s,r),u)};cd.dragend=s=>{let e=s.dragging;window.setTimeout(()=>{s.dragging==e&&(s.dragging=null)},50)};dd.dragover=dd.dragenter=(s,e)=>e.preventDefault();dd.drop=(s,e)=>{try{k7(s,e,s.dragging)}finally{s.dragging=null}};function k7(s,e,r){if(!e.dataTransfer)return;let n=s.posAtCoords(fx(e));if(!n)return;let a=s.state.doc.resolve(n.pos),l=r&&r.slice;l?s.someProp("transformPasted",x=>{l=x(l,s,!1)}):l=lC(s,xC(e.dataTransfer),vm?null:e.dataTransfer.getData("text/html"),!1,a);let u=!!(r&&vC(s,e));if(s.someProp("handleDrop",x=>x(s,e,l||Mr.empty,u))){e.preventDefault();return}if(!l)return;e.preventDefault();let d=l?NN(s.state.doc,a.pos,l):a.pos;d==null&&(d=a.pos);let A=s.state.tr;if(u){let{node:x}=r;x?x.replace(A):A.deleteSelection()}let o=A.mapping.map(d),f=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,m=A.doc;if(f?A.replaceRangeWith(o,o,l.content.firstChild):A.replaceRange(o,o,l),A.doc.eq(m))return;let p=A.doc.resolve(o);if(f&&wn.isSelectable(l.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(l.content.firstChild))A.setSelection(new wn(p));else{let x=A.mapping.map(d);A.mapping.maps[A.mapping.maps.length-1].forEach((b,y,w,E)=>x=E),A.setSelection(wy(s,p,A.doc.resolve(x)))}s.focus(),s.dispatch(A.setMeta("uiEvent","drop"))}cd.focus=s=>{s.input.lastFocus=Date.now(),s.focused||(s.domObserver.stop(),s.dom.classList.add("ProseMirror-focused"),s.domObserver.start(),s.focused=!0,setTimeout(()=>{s.docView&&s.hasFocus()&&!s.domObserver.currentSelection.eq(s.domSelectionRange())&&PA(s)},20))};cd.blur=(s,e)=>{let r=e;s.focused&&(s.domObserver.stop(),s.dom.classList.remove("ProseMirror-focused"),s.domObserver.start(),r.relatedTarget&&s.dom.contains(r.relatedTarget)&&s.domObserver.currentSelection.clear(),s.focused=!1)};cd.beforeinput=(s,e)=>{if(cc&&IA&&e.inputType=="deleteContentBackward"){s.domObserver.flushSoon();let{domChangeCount:n}=s.input;setTimeout(()=>{if(s.input.domChangeCount!=n||(s.dom.blur(),s.focus(),s.someProp("handleKeyDown",l=>l(s,of(8,"Backspace")))))return;let{$cursor:a}=s.state.selection;a&&a.pos>0&&s.dispatch(s.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let s in dd)cd[s]=dd[s];function wm(s,e){if(s==e)return!0;for(let r in s)if(s[r]!==e[r])return!1;for(let r in e)if(!(r in s))return!1;return!0}class lg{constructor(e,r){this.toDOM=e,this.spec=r||mf,this.side=this.spec.side||0}map(e,r,n,a){let{pos:l,deleted:u}=e.mapResult(r.from+a,this.side<0?-1:1);return u?null:new od(l-n,l-n,this)}valid(){return!0}eq(e){return this==e||e instanceof lg&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&wm(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Fh{constructor(e,r){this.attrs=e,this.spec=r||mf}map(e,r,n,a){let l=e.map(r.from+a,this.spec.inclusiveStart?-1:1)-n,u=e.map(r.to+a,this.spec.inclusiveEnd?1:-1)-n;return l>=u?null:new od(l,u,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Fh&&wm(this.attrs,e.attrs)&&wm(this.spec,e.spec)}static is(e){return e.type instanceof Fh}destroy(){}}class By{constructor(e,r){this.attrs=e,this.spec=r||mf}map(e,r,n,a){let l=e.mapResult(r.from+a,1);if(l.deleted)return null;let u=e.mapResult(r.to+a,-1);return u.deleted||u.pos<=l.pos?null:new od(l.pos-n,u.pos-n,this)}valid(e,r){let{index:n,offset:a}=e.content.findIndex(r.from),l;return a==r.from&&!(l=e.child(n)).isText&&a+l.nodeSize==r.to}eq(e){return this==e||e instanceof By&&wm(this.attrs,e.attrs)&&wm(this.spec,e.spec)}destroy(){}}class od{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new od(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new od(e,e,new lg(r,n))}static inline(e,r,n,a){return new od(e,r,new Fh(n,a))}static node(e,r,n,a){return new od(e,r,new By(n,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Fh}get widget(){return this.type instanceof lg}}const Zf=[],mf={};class ko{constructor(e,r){this.local=e.length?e:Zf,this.children=r.length?r:Zf}static create(e,r){return r.length?cg(r,e,0,mf):$c}find(e,r,n){let a=[];return this.findInner(e??0,r??1e9,a,0,n),a}findInner(e,r,n,a,l){for(let u=0;u<this.local.length;u++){let d=this.local[u];d.from<=r&&d.to>=e&&(!l||l(d.spec))&&n.push(d.copy(d.from+a,d.to+a))}for(let u=0;u<this.children.length;u+=3)if(this.children[u]<r&&this.children[u+1]>e){let d=this.children[u]+1;this.children[u+2].findInner(e-d,r-d,n,a+d,l)}}map(e,r,n){return this==$c||e.maps.length==0?this:this.mapInner(e,r,0,0,n||mf)}mapInner(e,r,n,a,l){let u;for(let d=0;d<this.local.length;d++){let A=this.local[d].map(e,n,a);A&&A.type.valid(r,A)?(u||(u=[])).push(A):l.onRemove&&l.onRemove(this.local[d].spec)}return this.children.length?B7(this.children,u||[],e,r,n,a,l):u?new ko(u.sort(pf),Zf):$c}add(e,r){return r.length?this==$c?ko.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let a,l=0;e.forEach((d,A)=>{let o=A+n,f;if(f=wC(r,d,o)){for(a||(a=this.children.slice());l<a.length&&a[l]<A;)l+=3;a[l]==A?a[l+2]=a[l+2].addInner(d,f,o+1):a.splice(l,0,A,A+d.nodeSize,cg(f,d,o+1,mf)),l+=3}});let u=yC(l?jC(r):r,-n);for(let d=0;d<u.length;d++)u[d].type.valid(e,u[d])||u.splice(d--,1);return new ko(u.length?this.local.concat(u).sort(pf):this.local,a||this.children)}remove(e){return e.length==0||this==$c?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,a=this.local;for(let l=0;l<n.length;l+=3){let u,d=n[l]+r,A=n[l+1]+r;for(let f=0,m;f<e.length;f++)(m=e[f])&&m.from>d&&m.to<A&&(e[f]=null,(u||(u=[])).push(m));if(!u)continue;n==this.children&&(n=this.children.slice());let o=n[l+2].removeInner(u,d+1);o!=$c?n[l+2]=o:(n.splice(l,3),l-=3)}if(a.length){for(let l=0,u;l<e.length;l++)if(u=e[l])for(let d=0;d<a.length;d++)a[d].eq(u,r)&&(a==this.local&&(a=this.local.slice()),a.splice(d--,1))}return n==this.children&&a==this.local?this:a.length||n.length?new ko(a,n):$c}forChild(e,r){if(this==$c)return this;if(r.isLeaf)return ko.empty;let n,a;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(n=this.children[d+2]);break}let l=e+1,u=l+r.content.size;for(let d=0;d<this.local.length;d++){let A=this.local[d];if(A.from<u&&A.to>l&&A.type instanceof Fh){let o=Math.max(l,A.from)-l,f=Math.min(u,A.to)-l;o<f&&(a||(a=[])).push(A.copy(o,f))}}if(a){let d=new ko(a.sort(pf),Zf);return n?new wh([d,n]):d}return n||$c}eq(e){if(this==e)return!0;if(!(e instanceof ko)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return Sy(this.localsInner(e))}localsInner(e){if(this==$c)return Zf;if(e.inlineContent||!this.local.some(Fh.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Fh||r.push(this.local[n]);return r}forEachSet(e){e(this)}}ko.empty=new ko([],[]);ko.removeOverlap=Sy;const $c=ko.empty;class wh{constructor(e){this.members=e}map(e,r){const n=this.members.map(a=>a.map(e,r,mf));return wh.from(n)}forChild(e,r){if(r.isLeaf)return ko.empty;let n=[];for(let a=0;a<this.members.length;a++){let l=this.members[a].forChild(e,r);l!=$c&&(l instanceof wh?n=n.concat(l.members):n.push(l))}return wh.from(n)}eq(e){if(!(e instanceof wh)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let a=0;a<this.members.length;a++){let l=this.members[a].localsInner(e);if(l.length)if(!r)r=l;else{n&&(r=r.slice(),n=!1);for(let u=0;u<l.length;u++)r.push(l[u])}}return r?Sy(n?r:r.sort(pf)):Zf}static from(e){switch(e.length){case 0:return $c;case 1:return e[0];default:return new wh(e.every(r=>r instanceof ko)?e:e.reduce((r,n)=>r.concat(n instanceof ko?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function B7(s,e,r,n,a,l,u){let d=s.slice();for(let o=0,f=l;o<r.maps.length;o++){let m=0;r.maps[o].forEach((p,x,b,y)=>{let w=y-b-(x-p);for(let E=0;E<d.length;E+=3){let R=d[E+1];if(R<0||p>R+f-m)continue;let z=d[E]+f-m;x>=z?d[E+1]=p<=z?-2:-1:p>=f&&w&&(d[E]+=w,d[E+1]+=w)}m+=w}),f=r.maps[o].map(f,-1)}let A=!1;for(let o=0;o<d.length;o+=3)if(d[o+1]<0){if(d[o+1]==-2){A=!0,d[o+1]=-1;continue}let f=r.map(s[o]+l),m=f-a;if(m<0||m>=n.content.size){A=!0;continue}let p=r.map(s[o+1]+l,-1),x=p-a,{index:b,offset:y}=n.content.findIndex(m),w=n.maybeChild(b);if(w&&y==m&&y+w.nodeSize==x){let E=d[o+2].mapInner(r,w,f+1,s[o]+l+1,u);E!=$c?(d[o]=m,d[o+1]=x,d[o+2]=E):(d[o+1]=-2,A=!0)}else A=!0}if(A){let o=S7(d,s,e,r,a,l,u),f=cg(o,n,0,u);e=f.local;for(let m=0;m<d.length;m+=3)d[m+1]<0&&(d.splice(m,3),m-=3);for(let m=0,p=0;m<f.children.length;m+=3){let x=f.children[m];for(;p<d.length&&d[p]<x;)p+=3;d.splice(p,0,f.children[m],f.children[m+1],f.children[m+2])}}return new ko(e.sort(pf),d)}function yC(s,e){if(!e||!s.length)return s;let r=[];for(let n=0;n<s.length;n++){let a=s[n];r.push(new od(a.from+e,a.to+e,a.type))}return r}function S7(s,e,r,n,a,l,u){function d(A,o){for(let f=0;f<A.local.length;f++){let m=A.local[f].map(n,a,o);m?r.push(m):u.onRemove&&u.onRemove(A.local[f].spec)}for(let f=0;f<A.children.length;f+=3)d(A.children[f+2],A.children[f]+o+1)}for(let A=0;A<s.length;A+=3)s[A+1]==-1&&d(s[A+2],e[A]+l+1);return r}function wC(s,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,a=null;for(let l=0,u;l<s.length;l++)(u=s[l])&&u.from>r&&u.to<n&&((a||(a=[])).push(u),s[l]=null);return a}function jC(s){let e=[];for(let r=0;r<s.length;r++)s[r]!=null&&e.push(s[r]);return e}function cg(s,e,r,n){let a=[],l=!1;e.forEach((d,A)=>{let o=wC(s,d,A+r);if(o){l=!0;let f=cg(o,d,r+A+1,n);f!=$c&&a.push(A,A+d.nodeSize,f)}});let u=yC(l?jC(s):s,-r).sort(pf);for(let d=0;d<u.length;d++)u[d].type.valid(e,u[d])||(n.onRemove&&n.onRemove(u[d].spec),u.splice(d--,1));return u.length||a.length?new ko(u,a):$c}function pf(s,e){return s.from-e.from||s.to-e.to}function Sy(s){let e=s;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let a=r+1;a<e.length;a++){let l=e[a];if(l.from==n.from){l.to!=n.to&&(e==s&&(e=s.slice()),e[a]=l.copy(l.from,n.to),Ww(e,a+1,l.copy(n.to,l.to)));continue}else{l.from<n.to&&(e==s&&(e=s.slice()),e[r]=n.copy(n.from,l.from),Ww(e,a,n.copy(l.from,n.to)));break}}}return e}function Ww(s,e,r){for(;e<s.length&&pf(r,s[e])>0;)e++;s.splice(e,0,r)}function Sb(s){let e=[];return s.someProp("decorations",r=>{let n=r(s.state);n&&n!=$c&&e.push(n)}),s.cursorWrapper&&e.push(ko.create(s.state.doc,[s.cursorWrapper.deco])),wh.from(e)}const E7={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},T7=Ud&&Uh<=11;class U7{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class L7{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new U7,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let a=0;a<n.length;a++)this.queue.push(n[a]);Ud&&Uh<=11&&n.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),T7&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,E7)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Qw(this.view)){if(this.suppressingSelectionUpdates)return PA(this.view);if(Ud&&Uh<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&jf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let l=e.focusNode;l;l=h0(l))r.add(l);for(let l=e.anchorNode;l;l=h0(l))if(r.has(l)){n=l;break}let a=n&&this.view.docView.nearestDesc(n);if(a&&a.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&Qw(e)&&!this.ignoreSelectionChange(n),l=-1,u=-1,d=!1,A=[];if(e.editable)for(let f=0;f<r.length;f++){let m=this.registerMutation(r[f],A);m&&(l=l<0?m.from:Math.min(m.from,l),u=u<0?m.to:Math.max(m.to,u),m.typeOver&&(d=!0))}if(fu&&A.length){let f=A.filter(m=>m.nodeName=="BR");if(f.length==2){let[m,p]=f;m.parentNode&&m.parentNode.parentNode==p.parentNode?p.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let p of f){let x=p.parentNode;x&&x.nodeName=="LI"&&(!m||O7(e,m)!=x)&&p.remove()}}}else if((cc||Kc)&&A.some(f=>f.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let f of A)if(f.nodeName=="BR"&&f.parentNode){let m=f.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&f.parentNode.removeChild(f)}}let o=null;l<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Ax(n)&&(o=yy(e))&&o.eq(Aa.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,PA(e),this.currentSelection.set(n),e.scrollToSelection()):(l>-1||a)&&(l>-1&&(e.docView.markDirty(l,u),F7(e)),this.handleDOMChange(l,u,d,A),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||PA(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let m=e.addedNodes[f];r.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let a=e.previousSibling,l=e.nextSibling;if(Ud&&Uh<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:m,nextSibling:p}=e.addedNodes[f];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(a=m),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(l=p)}let u=a&&a.parentNode==e.target?Sc(a)+1:0,d=n.localPosFromDOM(e.target,u,-1),A=l&&l.parentNode==e.target?Sc(l):e.target.childNodes.length,o=n.localPosFromDOM(e.target,A,1);return{from:d,to:o}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Yw=new WeakMap,Xw=!1;function F7(s){if(!Yw.has(s)&&(Yw.set(s,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(s.dom).whiteSpace)!==-1)){if(s.requiresGeckoHackNode=fu,Xw)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Xw=!0}}function Jw(s,e){let r=e.startContainer,n=e.startOffset,a=e.endContainer,l=e.endOffset,u=s.domAtPos(s.state.selection.anchor);return jf(u.node,u.offset,a,l)&&([r,n,a,l]=[a,l,r,n]),{anchorNode:r,anchorOffset:n,focusNode:a,focusOffset:l}}function M7(s,e){if(e.getComposedRanges){let a=e.getComposedRanges(s.root)[0];if(a)return Jw(s,a)}let r;function n(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return s.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),s.dom.removeEventListener("beforeinput",n,!0),r?Jw(s,r):null}function O7(s,e){for(let r=e.parentNode;r&&r!=s.dom;r=r.parentNode){let n=s.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function I7(s,e,r){let{node:n,fromOffset:a,toOffset:l,from:u,to:d}=s.docView.parseRange(e,r),A=s.domSelectionRange(),o,f=A.anchorNode;if(f&&s.dom.contains(f.nodeType==1?f:f.parentNode)&&(o=[{node:f,offset:A.anchorOffset}],Ax(A)||o.push({node:A.focusNode,offset:A.focusOffset})),cc&&s.input.lastKeyCode===8)for(let w=l;w>a;w--){let E=n.childNodes[w-1],R=E.pmViewDesc;if(E.nodeName=="BR"&&!R){l=w;break}if(!R||R.size)break}let m=s.state.doc,p=s.someProp("domParser")||tm.fromSchema(s.state.schema),x=m.resolve(u),b=null,y=p.parse(n,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:a,to:l,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:o,ruleFromNode:D7,context:x});if(o&&o[0].pos!=null){let w=o[0].pos,E=o[1]&&o[1].pos;E==null&&(E=w),b={anchor:w+u,head:E+u}}return{doc:y,sel:b,from:u,to:d}}function D7(s){let e=s.pmViewDesc;if(e)return e.parseRule();if(s.nodeName=="BR"&&s.parentNode){if(Kc&&/^(ul|ol)$/i.test(s.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(s.parentNode.lastChild==s||Kc&&/^(tr|table)$/i.test(s.parentNode.nodeName))return{ignore:!0}}else if(s.nodeName=="IMG"&&s.getAttribute("mark-placeholder"))return{ignore:!0};return null}const R7=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function P7(s,e,r,n,a){let l=s.input.compositionPendingChanges||(s.composing?s.input.compositionID:0);if(s.input.compositionPendingChanges=0,e<0){let G=s.input.lastSelectionTime>Date.now()-50?s.input.lastSelectionOrigin:null,le=yy(s,G);if(le&&!s.state.selection.eq(le)){if(cc&&IA&&s.input.lastKeyCode===13&&Date.now()-100<s.input.lastKeyCodeTime&&s.someProp("handleKeyDown",je=>je(s,of(13,"Enter"))))return;let Ae=s.state.tr.setSelection(le);G=="pointer"?Ae.setMeta("pointer",!0):G=="key"&&Ae.scrollIntoView(),l&&Ae.setMeta("composition",l),s.dispatch(Ae)}return}let u=s.state.doc.resolve(e),d=u.sharedDepth(r);e=u.before(d+1),r=s.state.doc.resolve(r).after(d+1);let A=s.state.selection,o=I7(s,e,r),f=s.state.doc,m=f.slice(o.from,o.to),p,x;s.input.lastKeyCode===8&&Date.now()-100<s.input.lastKeyCodeTime?(p=s.state.selection.to,x="end"):(p=s.state.selection.from,x="start"),s.input.lastKeyCode=null;let b=H7(m.content,o.doc.content,o.from,p,x);if(b&&s.input.domChangeCount++,(f0&&s.input.lastIOSEnter>Date.now()-225||IA)&&a.some(G=>G.nodeType==1&&!R7.test(G.nodeName))&&(!b||b.endA>=b.endB)&&s.someProp("handleKeyDown",G=>G(s,of(13,"Enter")))){s.input.lastIOSEnter=0;return}if(!b)if(n&&A instanceof Kn&&!A.empty&&A.$head.sameParent(A.$anchor)&&!s.composing&&!(o.sel&&o.sel.anchor!=o.sel.head))b={start:A.from,endA:A.to,endB:A.to};else{if(o.sel){let G=Zw(s,s.state.doc,o.sel);if(G&&!G.eq(s.state.selection)){let le=s.state.tr.setSelection(G);l&&le.setMeta("composition",l),s.dispatch(le)}}return}s.state.selection.from<s.state.selection.to&&b.start==b.endB&&s.state.selection instanceof Kn&&(b.start>s.state.selection.from&&b.start<=s.state.selection.from+2&&s.state.selection.from>=o.from?b.start=s.state.selection.from:b.endA<s.state.selection.to&&b.endA>=s.state.selection.to-2&&s.state.selection.to<=o.to&&(b.endB+=s.state.selection.to-b.endA,b.endA=s.state.selection.to)),Ud&&Uh<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>o.from&&o.doc.textBetween(b.start-o.from-1,b.start-o.from+1)==" "&&(b.start--,b.endA--,b.endB--);let y=o.doc.resolveNoCache(b.start-o.from),w=o.doc.resolveNoCache(b.endB-o.from),E=f.resolve(b.start),R=y.sameParent(w)&&y.parent.inlineContent&&E.end()>=b.endA;if((f0&&s.input.lastIOSEnter>Date.now()-225&&(!R||a.some(G=>G.nodeName=="DIV"||G.nodeName=="P"))||!R&&y.pos<o.doc.content.size&&(!y.sameParent(w)||!y.parent.inlineContent)&&y.pos<w.pos&&!/\S/.test(o.doc.textBetween(y.pos,w.pos,"","")))&&s.someProp("handleKeyDown",G=>G(s,of(13,"Enter")))){s.input.lastIOSEnter=0;return}if(s.state.selection.anchor>b.start&&_7(f,b.start,b.endA,y,w)&&s.someProp("handleKeyDown",G=>G(s,of(8,"Backspace")))){IA&&cc&&s.domObserver.suppressSelectionUpdates();return}cc&&b.endB==b.start&&(s.input.lastChromeDelete=Date.now()),IA&&!R&&y.start()!=w.start()&&w.parentOffset==0&&y.depth==w.depth&&o.sel&&o.sel.anchor==o.sel.head&&o.sel.head==b.endA&&(b.endB-=2,w=o.doc.resolveNoCache(b.endB-o.from),setTimeout(()=>{s.someProp("handleKeyDown",function(G){return G(s,of(13,"Enter"))})},20));let z=b.start,X=b.endA,Y=G=>{let le=G||s.state.tr.replace(z,X,o.doc.slice(b.start-o.from,b.endB-o.from));if(o.sel){let Ae=Zw(s,le.doc,o.sel);Ae&&!(cc&&s.composing&&Ae.empty&&(b.start!=b.endB||s.input.lastChromeDelete<Date.now()-100)&&(Ae.head==z||Ae.head==le.mapping.map(X)-1)||Ud&&Ae.empty&&Ae.head==z)&&le.setSelection(Ae)}return l&&le.setMeta("composition",l),le.scrollIntoView()},Q;if(R)if(y.pos==w.pos){Ud&&Uh<=11&&y.parentOffset==0&&(s.domObserver.suppressSelectionUpdates(),setTimeout(()=>PA(s),20));let G=Y(s.state.tr.delete(z,X)),le=f.resolve(b.start).marksAcross(f.resolve(b.endA));le&&G.ensureMarks(le),s.dispatch(G)}else if(b.endA==b.endB&&(Q=Q7(y.parent.content.cut(y.parentOffset,w.parentOffset),E.parent.content.cut(E.parentOffset,b.endA-E.start())))){let G=Y(s.state.tr);Q.type=="add"?G.addMark(z,X,Q.mark):G.removeMark(z,X,Q.mark),s.dispatch(G)}else if(y.parent.child(y.index()).isText&&y.index()==w.index()-(w.textOffset?0:1)){let G=y.parent.textBetween(y.parentOffset,w.parentOffset),le=()=>Y(s.state.tr.insertText(G,z,X));s.someProp("handleTextInput",Ae=>Ae(s,z,X,G,le))||s.dispatch(le())}else s.dispatch(Y());else s.dispatch(Y())}function Zw(s,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:wy(s,e.resolve(r.anchor),e.resolve(r.head))}function Q7(s,e){let r=s.firstChild.marks,n=e.firstChild.marks,a=r,l=n,u,d,A;for(let f=0;f<n.length;f++)a=n[f].removeFromSet(a);for(let f=0;f<r.length;f++)l=r[f].removeFromSet(l);if(a.length==1&&l.length==0)d=a[0],u="add",A=f=>f.mark(d.addToSet(f.marks));else if(a.length==0&&l.length==1)d=l[0],u="remove",A=f=>f.mark(d.removeFromSet(f.marks));else return null;let o=[];for(let f=0;f<e.childCount;f++)o.push(A(e.child(f)));if(Gs.from(o).eq(s))return{mark:d,type:u}}function _7(s,e,r,n,a){if(r-e<=a.pos-n.pos||Eb(n,!0,!1)<a.pos)return!1;let l=s.resolve(e);if(!n.parent.isTextblock){let d=l.nodeAfter;return d!=null&&r==e+d.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let u=s.resolve(Eb(l,!0,!0));return!u.parent.isTextblock||u.pos>r||Eb(u,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(u.parent.content)}function Eb(s,e,r){let n=s.depth,a=e?s.end():s.pos;for(;n>0&&(e||s.indexAfter(n)==s.node(n).childCount);)n--,a++,e=!1;if(r){let l=s.node(n).maybeChild(s.indexAfter(n));for(;l&&!l.isLeaf;)l=l.firstChild,a++}return a}function H7(s,e,r,n,a){let l=s.findDiffStart(e,r);if(l==null)return null;let{a:u,b:d}=s.findDiffEnd(e,r+s.size,r+e.size);if(a=="end"){let A=Math.max(0,l-Math.min(u,d));n-=u+A-l}if(u<l&&s.size<e.size){let A=n<=l&&n>=u?l-n:0;l-=A,l&&l<e.size&&qw(e.textBetween(l-1,l+1))&&(l+=A?1:-1),d=l+(d-u),u=l}else if(d<l){let A=n<=l&&n>=d?l-n:0;l-=A,l&&l<s.size&&qw(s.textBetween(l-1,l+1))&&(l+=A?1:-1),u=l+(u-d),d=l}return{start:l,endA:u,endB:d}}function qw(s){if(s.length!=2)return!1;let e=s.charCodeAt(0),r=s.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class NC{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new a7,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(nj),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=sj(this),tj(this),this.nodeViews=rj(this),this.docView=Mw(this.state.doc,ej(this),Sb(this),this.dom,this),this.domObserver=new L7(this,(n,a,l,u)=>P7(this,n,a,l,u)),this.domObserver.start(),i7(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Tv(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(nj),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let a=this.state,l=!1,u=!1;e.storedMarks&&this.composing&&(gC(this),u=!0),this.state=e;let d=a.plugins!=e.plugins||this._props.plugins!=r.plugins;if(d||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let x=rj(this);$7(x,this.nodeViews)&&(this.nodeViews=x,l=!0)}(d||r.handleDOMEvents!=this._props.handleDOMEvents)&&Tv(this),this.editable=sj(this),tj(this);let A=Sb(this),o=ej(this),f=a.plugins!=e.plugins&&!a.doc.eq(e.doc)?"reset":e.scrollToSelection>a.scrollToSelection?"to selection":"preserve",m=l||!this.docView.matchesNode(e.doc,o,A);(m||!e.selection.eq(a.selection))&&(u=!0);let p=f=="preserve"&&u&&this.dom.style.overflowAnchor==null&&vP(this);if(u){this.domObserver.stop();let x=m&&(Ud||cc)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&z7(a.selection,e.selection);if(m){let b=cc?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=v7(this)),(l||!this.docView.update(e.doc,o,A,this))&&(this.docView.updateOuterDeco(o),this.docView.destroy(),this.docView=Mw(e.doc,o,A,this.dom,this)),b&&!this.trackWrites&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&$P(this))?PA(this,x):(aC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((n=this.dragging)===null||n===void 0)&&n.node&&!a.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,a),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&yP(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof wn){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&Sw(this,r.getBoundingClientRect(),e)}else Sw(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,a=-1;if(this.state.doc.nodeAt(n.from)==n.node)a=n.from;else{let l=n.from+(this.state.doc.content.size-r.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==n.node&&(a=l)}this.dragging=new bC(e.slice,e.move,a<0?void 0:wn.create(this.state.doc,a))}someProp(e,r){let n=this._props&&this._props[e],a;if(n!=null&&(a=r?r(n):n))return a;for(let u=0;u<this.directPlugins.length;u++){let d=this.directPlugins[u].props[e];if(d!=null&&(a=r?r(d):d))return a}let l=this.state.plugins;if(l)for(let u=0;u<l.length;u++){let d=l[u].props[e];if(d!=null&&(a=r?r(d):d))return a}}hasFocus(){if(Ud){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&wP(this.dom),PA(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return BP(this,e)}coordsAtPos(e,r=1){return JN(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let a=this.docView.posFromDOM(e,r,n);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(e,r){return LP(this,r||this.state,e)}pasteHTML(e,r){return ym(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return ym(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return jy(this,e)}destroy(){this.docView&&(o7(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Sb(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,dP())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return c7(this,e)}domSelectionRange(){let e=this.domSelection();return e?Kc&&this.root.nodeType===11&&mP(this.dom.ownerDocument)==this.dom&&M7(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}NC.prototype.dispatch=function(s){let e=this._props.dispatchTransaction;e?e.call(this,s):this.updateState(this.state.apply(s))};function ej(s){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(s.editable),s.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(s.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[od.node(0,s.state.doc.content.size,e)]}function tj(s){if(s.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),s.cursorWrapper={dom:e,deco:od.widget(s.state.selection.from,e,{raw:!0,marks:s.markCursor})}}else s.cursorWrapper=null}function sj(s){return!s.someProp("editable",e=>e(s.state)===!1)}function z7(s,e){let r=Math.min(s.$anchor.sharedDepth(s.head),e.$anchor.sharedDepth(e.head));return s.$anchor.start(r)!=e.$anchor.start(r)}function rj(s){let e=Object.create(null);function r(n){for(let a in n)Object.prototype.hasOwnProperty.call(e,a)||(e[a]=n[a])}return s.someProp("nodeViews",r),s.someProp("markViews",r),e}function $7(s,e){let r=0,n=0;for(let a in s){if(s[a]!=e[a])return!0;r++}for(let a in e)n++;return r!=n}function nj(s){if(s.spec.state||s.spec.filterTransaction||s.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Oh={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},dg={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},V7=typeof navigator<"u"&&/Mac/.test(navigator.platform),K7=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ec=0;Ec<10;Ec++)Oh[48+Ec]=Oh[96+Ec]=String(Ec);for(var Ec=1;Ec<=24;Ec++)Oh[Ec+111]="F"+Ec;for(var Ec=65;Ec<=90;Ec++)Oh[Ec]=String.fromCharCode(Ec+32),dg[Ec]=String.fromCharCode(Ec);for(var Tb in Oh)dg.hasOwnProperty(Tb)||(dg[Tb]=Oh[Tb]);function G7(s){var e=V7&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||K7&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",r=!e&&s.key||(s.shiftKey?dg:Oh)[s.keyCode]||s.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const W7=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),Y7=typeof navigator<"u"&&/Win/.test(navigator.platform);function X7(s){let e=s.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,a,l,u;for(let d=0;d<e.length-1;d++){let A=e[d];if(/^(cmd|meta|m)$/i.test(A))u=!0;else if(/^a(lt)?$/i.test(A))n=!0;else if(/^(c|ctrl|control)$/i.test(A))a=!0;else if(/^s(hift)?$/i.test(A))l=!0;else if(/^mod$/i.test(A))W7?u=!0:a=!0;else throw new Error("Unrecognized modifier name: "+A)}return n&&(r="Alt-"+r),a&&(r="Ctrl-"+r),u&&(r="Meta-"+r),l&&(r="Shift-"+r),r}function J7(s){let e=Object.create(null);for(let r in s)e[X7(r)]=s[r];return e}function Ub(s,e,r=!0){return e.altKey&&(s="Alt-"+s),e.ctrlKey&&(s="Ctrl-"+s),e.metaKey&&(s="Meta-"+s),r&&e.shiftKey&&(s="Shift-"+s),s}function Z7(s){return new Eo({props:{handleKeyDown:CC(s)}})}function CC(s){let e=J7(s);return function(r,n){let a=G7(n),l,u=e[Ub(a,n)];if(u&&u(r.state,r.dispatch,r))return!0;if(a.length==1&&a!=" "){if(n.shiftKey){let d=e[Ub(a,n,!1)];if(d&&d(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(Y7&&n.ctrlKey&&n.altKey)&&(l=Oh[n.keyCode])&&l!=a){let d=e[Ub(l,n)];if(d&&d(r.state,r.dispatch,r))return!0}}return!1}}var q7=Object.defineProperty,Ey=(s,e)=>{for(var r in e)q7(s,r,{get:e[r],enumerable:!0})};function mx(s){const{state:e,transaction:r}=s;let{selection:n}=r,{doc:a}=r,{storedMarks:l}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return n},get doc(){return a},get tr(){return n=r.selection,a=r.doc,l=r.storedMarks,r}}}var px=class{constructor(s){this.editor=s.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=s.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:s,editor:e,state:r}=this,{view:n}=e,{tr:a}=r,l=this.buildProps(a);return Object.fromEntries(Object.entries(s).map(([u,d])=>[u,(...o)=>{const f=d(...o)(l);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(a),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(s,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:l}=n,u=[],d=!!s,A=s||a.tr,o=()=>(!d&&e&&!A.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(A),u.every(m=>m===!0)),f={...Object.fromEntries(Object.entries(r).map(([m,p])=>[m,(...b)=>{const y=this.buildProps(A,e),w=p(...b)(y);return u.push(w),f}])),run:o};return f}createCan(s){const{rawCommands:e,state:r}=this,n=!1,a=s||r.tr,l=this.buildProps(a,n);return{...Object.fromEntries(Object.entries(e).map(([d,A])=>[d,(...o)=>A(...o)({...l,dispatch:void 0})])),chain:()=>this.createChain(a,n)}}buildProps(s,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:l}=n,u={tr:s,editor:n,view:l,state:mx({state:a,transaction:s}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(s,e),can:()=>this.createCan(s),get commands(){return Object.fromEntries(Object.entries(r).map(([d,A])=>[d,(...o)=>A(...o)(u)]))}};return u}},kC={};Ey(kC,{blur:()=>eQ,clearContent:()=>tQ,clearNodes:()=>sQ,command:()=>rQ,createParagraphNear:()=>nQ,cut:()=>aQ,deleteCurrentNode:()=>iQ,deleteNode:()=>oQ,deleteRange:()=>lQ,deleteSelection:()=>cQ,enter:()=>dQ,exitCode:()=>uQ,extendMarkRange:()=>AQ,first:()=>hQ,focus:()=>mQ,forEach:()=>pQ,insertContent:()=>gQ,insertContentAt:()=>vQ,joinBackward:()=>jQ,joinDown:()=>wQ,joinForward:()=>NQ,joinItemBackward:()=>CQ,joinItemForward:()=>kQ,joinTextblockBackward:()=>BQ,joinTextblockForward:()=>SQ,joinUp:()=>yQ,keyboardShortcut:()=>TQ,lift:()=>UQ,liftEmptyBlock:()=>LQ,liftListItem:()=>FQ,newlineInCode:()=>MQ,resetAttributes:()=>OQ,scrollIntoView:()=>IQ,selectAll:()=>DQ,selectNodeBackward:()=>RQ,selectNodeForward:()=>PQ,selectParentNode:()=>QQ,selectTextblockEnd:()=>_Q,selectTextblockStart:()=>HQ,setContent:()=>zQ,setMark:()=>c_,setMeta:()=>d_,setNode:()=>u_,setNodeSelection:()=>A_,setTextDirection:()=>h_,setTextSelection:()=>f_,sinkListItem:()=>m_,splitBlock:()=>p_,splitListItem:()=>g_,toggleList:()=>x_,toggleMark:()=>b_,toggleNode:()=>v_,toggleWrap:()=>y_,undoInputRule:()=>w_,unsetAllMarks:()=>j_,unsetMark:()=>N_,unsetTextDirection:()=>C_,updateAttributes:()=>k_,wrapIn:()=>B_,wrapInList:()=>S_});var eQ=()=>({editor:s,view:e})=>(requestAnimationFrame(()=>{var r;s.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),tQ=(s=!0)=>({commands:e})=>e.setContent("",{emitUpdate:s}),sQ=()=>({state:s,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:a}=n;return r&&a.forEach(({$from:l,$to:u})=>{s.doc.nodesBetween(l.pos,u.pos,(d,A)=>{if(d.type.isText)return;const{doc:o,mapping:f}=e,m=o.resolve(f.map(A)),p=o.resolve(f.map(A+d.nodeSize)),x=m.blockRange(p);if(!x)return;const b=j0(x);if(d.type.isTextblock){const{defaultType:y}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(x.start,y)}(b||b===0)&&e.lift(x,b)})}),!0},rQ=s=>e=>s(e),nQ=()=>({state:s,dispatch:e})=>QN(s,e),aQ=(s,e)=>({editor:r,tr:n})=>{const{state:a}=r,l=a.doc.slice(s.from,s.to);n.deleteRange(s.from,s.to);const u=n.mapping.map(e);return n.insert(u,l.content),n.setSelection(new Kn(n.doc.resolve(Math.max(u-1,0)))),!0},iQ=()=>({tr:s,dispatch:e})=>{const{selection:r}=s,n=r.$anchor.node();if(n.content.size>0)return!1;const a=s.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===n.type){if(e){const d=a.before(l),A=a.after(l);s.delete(d,A).scrollIntoView()}return!0}return!1};function El(s,e){if(typeof s=="string"){if(!e.nodes[s])throw Error(`There is no node type named '${s}'. Maybe you forgot to add the extension?`);return e.nodes[s]}return s}var oQ=s=>({tr:e,state:r,dispatch:n})=>{const a=El(s,r.schema),l=e.selection.$anchor;for(let u=l.depth;u>0;u-=1)if(l.node(u).type===a){if(n){const A=l.before(u),o=l.after(u);e.delete(A,o).scrollIntoView()}return!0}return!1},lQ=s=>({tr:e,dispatch:r})=>{const{from:n,to:a}=s;return r&&e.delete(n,a),!0},cQ=()=>({state:s,dispatch:e})=>my(s,e),dQ=()=>({commands:s})=>s.keyboardShortcut("Enter"),uQ=()=>({state:s,dispatch:e})=>YR(s,e);function Ty(s){return Object.prototype.toString.call(s)==="[object RegExp]"}function ug(s,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(a=>r.strict?e[a]===s[a]:Ty(e[a])?e[a].test(s[a]):e[a]===s[a]):!0}function BC(s,e,r={}){return s.find(n=>n.type===e&&ug(Object.fromEntries(Object.keys(r).map(a=>[a,n.attrs[a]])),r))}function aj(s,e,r={}){return!!BC(s,e,r)}function Uy(s,e,r){var n;if(!s||!e)return;let a=s.parent.childAfter(s.parentOffset);if((!a.node||!a.node.marks.some(f=>f.type===e))&&(a=s.parent.childBefore(s.parentOffset)),!a.node||!a.node.marks.some(f=>f.type===e)||(r=r||((n=a.node.marks[0])==null?void 0:n.attrs),!BC([...a.node.marks],e,r)))return;let u=a.index,d=s.start()+a.offset,A=u+1,o=d+a.node.nodeSize;for(;u>0&&aj([...s.parent.child(u-1).marks],e,r);)u-=1,d-=s.parent.child(u).nodeSize;for(;A<s.parent.childCount&&aj([...s.parent.child(A).marks],e,r);)o+=s.parent.child(A).nodeSize,A+=1;return{from:d,to:o}}function _A(s,e){if(typeof s=="string"){if(!e.marks[s])throw Error(`There is no mark type named '${s}'. Maybe you forgot to add the extension?`);return e.marks[s]}return s}var AQ=(s,e={})=>({tr:r,state:n,dispatch:a})=>{const l=_A(s,n.schema),{doc:u,selection:d}=r,{$from:A,from:o,to:f}=d;if(a){const m=Uy(A,l,e);if(m&&m.from<=o&&m.to>=f){const p=Kn.create(u,m.from,m.to);r.setSelection(p)}}return!0},hQ=s=>e=>{const r=typeof s=="function"?s(e):s;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function SC(s){return s instanceof Kn}function df(s=0,e=0,r=0){return Math.min(Math.max(s,e),r)}function EC(s,e=null){if(!e)return null;const r=Aa.atStart(s),n=Aa.atEnd(s);if(e==="start"||e===!0)return r;if(e==="end")return n;const a=r.from,l=n.to;return e==="all"?Kn.create(s,df(0,a,l),df(s.content.size,a,l)):Kn.create(s,df(e,a,l),df(e,a,l))}function fQ(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Ly(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var mQ=(s=null,e={})=>({editor:r,view:n,tr:a,dispatch:l})=>{e={scrollIntoView:!0,...e};const u=()=>{(Ly()||fQ())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&s===null||s===!1)return!0;if(l&&s===null&&!SC(r.state.selection))return u(),!0;const d=EC(a.doc,s)||r.state.selection,A=r.state.selection.eq(d);return l&&(A||a.setSelection(d),A&&a.storedMarks&&a.setStoredMarks(a.storedMarks),u()),!0},pQ=(s,e)=>r=>s.every((n,a)=>e(n,{...r,index:a})),gQ=(s,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},s,e),TC=s=>{const e=s.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?s.removeChild(n):n.nodeType===1&&TC(n)}return s};function dp(s){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${s}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return TC(r)}function jm(s,e,r){if(s instanceof Th||s instanceof Gs)return s;r={slice:!0,parseOptions:{},...r};const n=typeof s=="object"&&s!==null,a=typeof s=="string";if(n)try{if(Array.isArray(s)&&s.length>0)return Gs.fromArray(s.map(d=>e.nodeFromJSON(d)));const u=e.nodeFromJSON(s);return r.errorOnInvalidContent&&u.check(),u}catch(l){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",s,"Error:",l),jm("",e,r)}if(a){if(r.errorOnInvalidContent){let u=!1,d="";const A=new hN({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:o=>(u=!0,d=typeof o=="string"?o:o.outerHTML,null)}]}})});if(r.slice?tm.fromSchema(A).parseSlice(dp(s),r.parseOptions):tm.fromSchema(A).parse(dp(s),r.parseOptions),r.errorOnInvalidContent&&u)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const l=tm.fromSchema(e);return r.slice?l.parseSlice(dp(s),r.parseOptions).content:l.parse(dp(s),r.parseOptions)}return jm("",e,r)}function xQ(s,e,r){const n=s.steps.length-1;if(n<e)return;const a=s.steps[n];if(!(a instanceof lc||a instanceof dc))return;const l=s.mapping.maps[n];let u=0;l.forEach((d,A,o,f)=>{u===0&&(u=f)}),s.setSelection(Aa.near(s.doc.resolve(u),r))}var bQ=s=>!("type"in s),vQ=(s,e,r)=>({tr:n,dispatch:a,editor:l})=>{var u;if(a){r={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let d;const A=w=>{l.emit("contentError",{editor:l,error:w,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},o={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{jm(e,l.schema,{parseOptions:o,errorOnInvalidContent:!0})}catch(w){A(w)}try{d=jm(e,l.schema,{parseOptions:o,errorOnInvalidContent:(u=r.errorOnInvalidContent)!=null?u:l.options.enableContentCheck})}catch(w){return A(w),!1}let{from:f,to:m}=typeof s=="number"?{from:s,to:s}:{from:s.from,to:s.to},p=!0,x=!0;if((bQ(d)?d:[d]).forEach(w=>{w.check(),p=p?w.isText&&w.marks.length===0:!1,x=x?w.isBlock:!1}),f===m&&x){const{parent:w}=n.doc.resolve(f);w.isTextblock&&!w.type.spec.code&&!w.childCount&&(f-=1,m+=1)}let y;if(p){if(Array.isArray(e))y=e.map(w=>w.text||"").join("");else if(e instanceof Gs){let w="";e.forEach(E=>{E.text&&(w+=E.text)}),y=w}else typeof e=="object"&&e&&e.text?y=e.text:y=e;n.insertText(y,f,m)}else{y=d;const w=n.doc.resolve(f),E=w.node(),R=w.parentOffset===0,z=E.isText||E.isTextblock,X=E.content.size>0;R&&z&&X&&(f=Math.max(0,f-1)),n.replaceWith(f,m,y)}r.updateSelection&&xQ(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:y}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:y})}return!0},yQ=()=>({state:s,dispatch:e})=>KR(s,e),wQ=()=>({state:s,dispatch:e})=>GR(s,e),jQ=()=>({state:s,dispatch:e})=>FN(s,e),NQ=()=>({state:s,dispatch:e})=>DN(s,e),CQ=()=>({state:s,dispatch:e,tr:r})=>{try{const n=cx(s.doc,s.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},kQ=()=>({state:s,dispatch:e,tr:r})=>{try{const n=cx(s.doc,s.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},BQ=()=>({state:s,dispatch:e})=>$R(s,e),SQ=()=>({state:s,dispatch:e})=>VR(s,e);function UC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function EQ(s){const e=s.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,a,l,u;for(let d=0;d<e.length-1;d+=1){const A=e[d];if(/^(cmd|meta|m)$/i.test(A))u=!0;else if(/^a(lt)?$/i.test(A))n=!0;else if(/^(c|ctrl|control)$/i.test(A))a=!0;else if(/^s(hift)?$/i.test(A))l=!0;else if(/^mod$/i.test(A))Ly()||UC()?u=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${A}`)}return n&&(r=`Alt-${r}`),a&&(r=`Ctrl-${r}`),u&&(r=`Meta-${r}`),l&&(r=`Shift-${r}`),r}var TQ=s=>({editor:e,view:r,tr:n,dispatch:a})=>{const l=EQ(s).split(/-(?!$)/),u=l.find(o=>!["Alt","Ctrl","Meta","Shift"].includes(o)),d=new KeyboardEvent("keydown",{key:u==="Space"?" ":u,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),A=e.captureTransaction(()=>{r.someProp("handleKeyDown",o=>o(r,d))});return A==null||A.steps.forEach(o=>{const f=o.map(n.mapping);f&&a&&n.maybeStep(f)}),!0};function Ih(s,e,r={}){const{from:n,to:a,empty:l}=s.selection,u=e?El(e,s.schema):null,d=[];s.doc.nodesBetween(n,a,(m,p)=>{if(m.isText)return;const x=Math.max(n,p),b=Math.min(a,p+m.nodeSize);d.push({node:m,from:x,to:b})});const A=a-n,o=d.filter(m=>u?u.name===m.node.type.name:!0).filter(m=>ug(m.node.attrs,r,{strict:!1}));return l?!!o.length:o.reduce((m,p)=>m+p.to-p.from,0)>=A}var UQ=(s,e={})=>({state:r,dispatch:n})=>{const a=El(s,r.schema);return Ih(r,a,e)?WR(r,n):!1},LQ=()=>({state:s,dispatch:e})=>_N(s,e),FQ=s=>({state:e,dispatch:r})=>{const n=El(s,e.schema);return iP(n)(e,r)},MQ=()=>({state:s,dispatch:e})=>PN(s,e);function gx(s,e){return e.nodes[s]?"node":e.marks[s]?"mark":null}function ij(s,e){const r=typeof e=="string"?[e]:e;return Object.keys(s).reduce((n,a)=>(r.includes(a)||(n[a]=s[a]),n),{})}var OQ=(s,e)=>({tr:r,state:n,dispatch:a})=>{let l=null,u=null;const d=gx(typeof s=="string"?s:s.name,n.schema);if(!d)return!1;d==="node"&&(l=El(s,n.schema)),d==="mark"&&(u=_A(s,n.schema));let A=!1;return r.selection.ranges.forEach(o=>{n.doc.nodesBetween(o.$from.pos,o.$to.pos,(f,m)=>{l&&l===f.type&&(A=!0,a&&r.setNodeMarkup(m,void 0,ij(f.attrs,e))),u&&f.marks.length&&f.marks.forEach(p=>{u===p.type&&(A=!0,a&&r.addMark(m,m+f.nodeSize,u.create(ij(p.attrs,e))))})})}),A},IQ=()=>({tr:s,dispatch:e})=>(e&&s.scrollIntoView(),!0),DQ=()=>({tr:s,dispatch:e})=>{if(e){const r=new Wd(s.doc);s.setSelection(r)}return!0},RQ=()=>({state:s,dispatch:e})=>ON(s,e),PQ=()=>({state:s,dispatch:e})=>RN(s,e),QQ=()=>({state:s,dispatch:e})=>ZR(s,e),_Q=()=>({state:s,dispatch:e})=>tP(s,e),HQ=()=>({state:s,dispatch:e})=>eP(s,e);function Uv(s,e,r={},n={}){return jm(s,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}var zQ=(s,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:a,tr:l,dispatch:u,commands:d})=>{const{doc:A}=l;if(n.preserveWhitespace!=="full"){const o=Uv(s,a.schema,n,{errorOnInvalidContent:e??a.options.enableContentCheck});return u&&l.replaceWith(0,A.content.size,o).setMeta("preventUpdate",!r),!0}return u&&l.setMeta("preventUpdate",!r),d.insertContentAt({from:0,to:A.content.size},s,{parseOptions:n,errorOnInvalidContent:e??a.options.enableContentCheck})};function LC(s,e){const r=_A(e,s.schema),{from:n,to:a,empty:l}=s.selection,u=[];l?(s.storedMarks&&u.push(...s.storedMarks),u.push(...s.selection.$head.marks())):s.doc.nodesBetween(n,a,A=>{u.push(...A.marks)});const d=u.find(A=>A.type.name===r.name);return d?{...d.attrs}:{}}function FC(s,e){const r=new EN(s);return e.forEach(n=>{n.steps.forEach(a=>{r.step(a)})}),r}function $Q(s){for(let e=0;e<s.edgeCount;e+=1){const{type:r}=s.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function VQ(s,e,r){const n=[];return s.nodesBetween(e.from,e.to,(a,l)=>{r(a)&&n.push({node:a,pos:l})}),n}function KQ(s,e){for(let r=s.depth;r>0;r-=1){const n=s.node(r);if(e(n))return{pos:r>0?s.before(r):0,start:s.start(r),depth:r,node:n}}}function xx(s){return e=>KQ(e.$from,s)}function bn(s,e,r){return s.config[e]===void 0&&s.parent?bn(s.parent,e,r):typeof s.config[e]=="function"?s.config[e].bind({...r,parent:s.parent?bn(s.parent,e,r):null}):s.config[e]}function Fy(s){return s.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=bn(e,"addExtensions",r);return n?[e,...Fy(n())]:e}).flat(10)}function My(s,e){const r=Bf.fromSchema(e).serializeFragment(s),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(r),a.innerHTML}function MC(s){return typeof s=="function"}function ji(s,e=void 0,...r){return MC(s)?e?s.bind(e)(...r):s(...r):s}function GQ(s={}){return Object.keys(s).length===0&&s.constructor===Object}function m0(s){const e=s.filter(a=>a.type==="extension"),r=s.filter(a=>a.type==="node"),n=s.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function OC(s){const e=[],{nodeExtensions:r,markExtensions:n}=m0(s),a=[...r,...n],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return s.forEach(u=>{const d={name:u.name,options:u.options,storage:u.storage,extensions:a},A=bn(u,"addGlobalAttributes",d);if(!A)return;A().forEach(f=>{f.types.forEach(m=>{Object.entries(f.attributes).forEach(([p,x])=>{e.push({type:m,name:p,attribute:{...l,...x}})})})})}),a.forEach(u=>{const d={name:u.name,options:u.options,storage:u.storage},A=bn(u,"addAttributes",d);if(!A)return;const o=A();Object.entries(o).forEach(([f,m])=>{const p={...l,...m};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:u.name,name:f,attribute:p})})}),e}function So(...s){return s.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([a,l])=>{if(!n[a]){n[a]=l;return}if(a==="class"){const d=l?String(l).split(" "):[],A=n[a]?n[a].split(" "):[],o=d.filter(f=>!A.includes(f));n[a]=[...A,...o].join(" ")}else if(a==="style"){const d=l?l.split(";").map(f=>f.trim()).filter(Boolean):[],A=n[a]?n[a].split(";").map(f=>f.trim()).filter(Boolean):[],o=new Map;A.forEach(f=>{const[m,p]=f.split(":").map(x=>x.trim());o.set(m,p)}),d.forEach(f=>{const[m,p]=f.split(":").map(x=>x.trim());o.set(m,p)}),n[a]=Array.from(o.entries()).map(([f,m])=>`${f}: ${m}`).join("; ")}else n[a]=l}),n},{})}function Ag(s,e){return e.filter(r=>r.type===s.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(s.attrs)||{}:{[r.name]:s.attrs[r.name]}).reduce((r,n)=>So(r,n),{})}function WQ(s){return typeof s!="string"?s:s.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(s):s==="true"?!0:s==="false"?!1:s}function oj(s,e){return"style"in s?s:{...s,getAttrs:r=>{const n=s.getAttrs?s.getAttrs(r):s.attrs;if(n===!1)return!1;const a=e.reduce((l,u)=>{const d=u.attribute.parseHTML?u.attribute.parseHTML(r):WQ(r.getAttribute(u.name));return d==null?l:{...l,[u.name]:d}},{});return{...n,...a}}}}function lj(s){return Object.fromEntries(Object.entries(s).filter(([e,r])=>e==="attrs"&&GQ(r)?!1:r!=null))}function cj(s){var e,r;const n={};return!((e=s==null?void 0:s.attribute)!=null&&e.isRequired)&&"default"in((s==null?void 0:s.attribute)||{})&&(n.default=s.attribute.default),((r=s==null?void 0:s.attribute)==null?void 0:r.validate)!==void 0&&(n.validate=s.attribute.validate),[s.name,n]}function YQ(s,e){var r;const n=OC(s),{nodeExtensions:a,markExtensions:l}=m0(s),u=(r=a.find(o=>bn(o,"topNode")))==null?void 0:r.name,d=Object.fromEntries(a.map(o=>{const f=n.filter(E=>E.type===o.name),m={name:o.name,options:o.options,storage:o.storage,editor:e},p=s.reduce((E,R)=>{const z=bn(R,"extendNodeSchema",m);return{...E,...z?z(o):{}}},{}),x=lj({...p,content:ji(bn(o,"content",m)),marks:ji(bn(o,"marks",m)),group:ji(bn(o,"group",m)),inline:ji(bn(o,"inline",m)),atom:ji(bn(o,"atom",m)),selectable:ji(bn(o,"selectable",m)),draggable:ji(bn(o,"draggable",m)),code:ji(bn(o,"code",m)),whitespace:ji(bn(o,"whitespace",m)),linebreakReplacement:ji(bn(o,"linebreakReplacement",m)),defining:ji(bn(o,"defining",m)),isolating:ji(bn(o,"isolating",m)),attrs:Object.fromEntries(f.map(cj))}),b=ji(bn(o,"parseHTML",m));b&&(x.parseDOM=b.map(E=>oj(E,f)));const y=bn(o,"renderHTML",m);y&&(x.toDOM=E=>y({node:E,HTMLAttributes:Ag(E,f)}));const w=bn(o,"renderText",m);return w&&(x.toText=w),[o.name,x]})),A=Object.fromEntries(l.map(o=>{const f=n.filter(w=>w.type===o.name),m={name:o.name,options:o.options,storage:o.storage,editor:e},p=s.reduce((w,E)=>{const R=bn(E,"extendMarkSchema",m);return{...w,...R?R(o):{}}},{}),x=lj({...p,inclusive:ji(bn(o,"inclusive",m)),excludes:ji(bn(o,"excludes",m)),group:ji(bn(o,"group",m)),spanning:ji(bn(o,"spanning",m)),code:ji(bn(o,"code",m)),attrs:Object.fromEntries(f.map(cj))}),b=ji(bn(o,"parseHTML",m));b&&(x.parseDOM=b.map(w=>oj(w,f)));const y=bn(o,"renderHTML",m);return y&&(x.toDOM=w=>y({mark:w,HTMLAttributes:Ag(w,f)})),[o.name,x]}));return new hN({topNode:u,nodes:d,marks:A})}function XQ(s){const e=s.filter((r,n)=>s.indexOf(r)!==n);return Array.from(new Set(e))}function Oy(s){return s.sort((r,n)=>{const a=bn(r,"priority")||100,l=bn(n,"priority")||100;return a>l?-1:a<l?1:0})}function IC(s){const e=Oy(Fy(s)),r=XQ(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function DC(s,e,r){const{from:n,to:a}=e,{blockSeparator:l=`

`,textSerializers:u={}}=r||{};let d="";return s.nodesBetween(n,a,(A,o,f,m)=>{var p;A.isBlock&&o>n&&(d+=l);const x=u==null?void 0:u[A.type.name];if(x)return f&&(d+=x({node:A,pos:o,parent:f,index:m,range:e})),!1;A.isText&&(d+=(p=A==null?void 0:A.text)==null?void 0:p.slice(Math.max(n,o)-o,a-o))}),d}function JQ(s,e){const r={from:0,to:s.content.size};return DC(s,r,e)}function RC(s){return Object.fromEntries(Object.entries(s.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function ZQ(s,e){const r=El(e,s.schema),{from:n,to:a}=s.selection,l=[];s.doc.nodesBetween(n,a,d=>{l.push(d)});const u=l.reverse().find(d=>d.type.name===r.name);return u?{...u.attrs}:{}}function PC(s,e){const r=gx(typeof e=="string"?e:e.name,s.schema);return r==="node"?ZQ(s,e):r==="mark"?LC(s,e):{}}function qQ(s,e=JSON.stringify){const r={};return s.filter(n=>{const a=e(n);return Object.prototype.hasOwnProperty.call(r,a)?!1:r[a]=!0})}function e_(s){const e=qQ(s);return e.length===1?e:e.filter((r,n)=>!e.filter((l,u)=>u!==n).some(l=>r.oldRange.from>=l.oldRange.from&&r.oldRange.to<=l.oldRange.to&&r.newRange.from>=l.newRange.from&&r.newRange.to<=l.newRange.to))}function QC(s){const{mapping:e,steps:r}=s,n=[];return e.maps.forEach((a,l)=>{const u=[];if(a.ranges.length)a.forEach((d,A)=>{u.push({from:d,to:A})});else{const{from:d,to:A}=r[l];if(d===void 0||A===void 0)return;u.push({from:d,to:A})}u.forEach(({from:d,to:A})=>{const o=e.slice(l).map(d,-1),f=e.slice(l).map(A),m=e.invert().map(o,-1),p=e.invert().map(f);n.push({oldRange:{from:m,to:p},newRange:{from:o,to:f}})})}),e_(n)}function Iy(s,e,r){const n=[];return s===e?r.resolve(s).marks().forEach(a=>{const l=r.resolve(s),u=Uy(l,a.type);u&&n.push({mark:a,...u})}):r.nodesBetween(s,e,(a,l)=>{!a||(a==null?void 0:a.nodeSize)===void 0||n.push(...a.marks.map(u=>({from:l,to:l+a.nodeSize,mark:u})))}),n}var t_=(s,e,r,n=20)=>{const a=s.doc.resolve(r);let l=n,u=null;for(;l>0&&u===null;){const d=a.node(l);(d==null?void 0:d.type.name)===e?u=d:l-=1}return[u,l]};function Lb(s,e){return e.nodes[s]||e.marks[s]||null}function Tp(s,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const a=s.find(l=>l.type===e&&l.name===n);return a?a.attribute.keepOnSplit:!1}))}var s_=(s,e=500)=>{let r="";const n=s.parentOffset;return s.parent.nodesBetween(Math.max(0,n-e),n,(a,l,u,d)=>{var A,o;const f=((o=(A=a.type.spec).toText)==null?void 0:o.call(A,{node:a,pos:l,parent:u,index:d}))||a.textContent||"%leaf%";r+=a.isAtom&&!a.isText?f:f.slice(0,Math.max(0,n-l))}),r};function Lv(s,e,r={}){const{empty:n,ranges:a}=s.selection,l=e?_A(e,s.schema):null;if(n)return!!(s.storedMarks||s.selection.$from.marks()).filter(m=>l?l.name===m.type.name:!0).find(m=>ug(m.attrs,r,{strict:!1}));let u=0;const d=[];if(a.forEach(({$from:m,$to:p})=>{const x=m.pos,b=p.pos;s.doc.nodesBetween(x,b,(y,w)=>{if(!y.isText&&!y.marks.length)return;const E=Math.max(x,w),R=Math.min(b,w+y.nodeSize),z=R-E;u+=z,d.push(...y.marks.map(X=>({mark:X,from:E,to:R})))})}),u===0)return!1;const A=d.filter(m=>l?l.name===m.mark.type.name:!0).filter(m=>ug(m.mark.attrs,r,{strict:!1})).reduce((m,p)=>m+p.to-p.from,0),o=d.filter(m=>l?m.mark.type!==l&&m.mark.type.excludes(l):!0).reduce((m,p)=>m+p.to-p.from,0);return(A>0?A+o:A)>=u}function r_(s,e,r={}){if(!e)return Ih(s,null,r)||Lv(s,null,r);const n=gx(e,s.schema);return n==="node"?Ih(s,e,r):n==="mark"?Lv(s,e,r):!1}var n_=(s,e)=>{const{$from:r,$to:n,$anchor:a}=s.selection;if(e){const l=xx(d=>d.type.name===e)(s.selection);if(!l)return!1;const u=s.doc.resolve(l.pos+1);return a.pos+1===u.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},a_=s=>{const{$from:e,$to:r}=s.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function dj(s,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===s.name):e}function uj(s,e){const{nodeExtensions:r}=m0(e),n=r.find(u=>u.name===s);if(!n)return!1;const a={name:n.name,options:n.options,storage:n.storage},l=ji(bn(n,"group",a));return typeof l!="string"?!1:l.split(" ").includes("list")}function bx(s,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(s.type.name==="hardBreak")return!0;if(s.isText)return/^\s*$/m.test((n=s.text)!=null?n:"")}if(s.isText)return!s.text;if(s.isAtom||s.isLeaf)return!1;if(s.content.childCount===0)return!0;if(e){let a=!0;return s.content.forEach(l=>{a!==!1&&(bx(l,{ignoreWhitespace:r,checkChildren:e})||(a=!1))}),a}return!1}function _C(s){return s instanceof wn}var HC=class zC{constructor(e){this.position=e}static fromJSON(e){return new zC(e.position)}toJSON(){return{position:this.position}}};function i_(s,e){const r=e.mapping.mapResult(s.position);return{position:new HC(r.pos),mapResult:r}}function o_(s){return new HC(s)}function l_(s,e,r){var n;const{selection:a}=e;let l=null;if(SC(a)&&(l=a.$cursor),l){const d=(n=s.storedMarks)!=null?n:l.marks();return l.parent.type.allowsMarkType(r)&&(!!r.isInSet(d)||!d.some(o=>o.type.excludes(r)))}const{ranges:u}=a;return u.some(({$from:d,$to:A})=>{let o=d.depth===0?s.doc.inlineContent&&s.doc.type.allowsMarkType(r):!1;return s.doc.nodesBetween(d.pos,A.pos,(f,m,p)=>{if(o)return!1;if(f.isInline){const x=!p||p.type.allowsMarkType(r),b=!!r.isInSet(f.marks)||!f.marks.some(y=>y.type.excludes(r));o=x&&b}return!o}),o})}var c_=(s,e={})=>({tr:r,state:n,dispatch:a})=>{const{selection:l}=r,{empty:u,ranges:d}=l,A=_A(s,n.schema);if(a)if(u){const o=LC(n,A);r.addStoredMark(A.create({...o,...e}))}else d.forEach(o=>{const f=o.$from.pos,m=o.$to.pos;n.doc.nodesBetween(f,m,(p,x)=>{const b=Math.max(x,f),y=Math.min(x+p.nodeSize,m);p.marks.find(E=>E.type===A)?p.marks.forEach(E=>{A===E.type&&r.addMark(b,y,A.create({...E.attrs,...e}))}):r.addMark(b,y,A.create(e))})});return l_(n,r,A)},d_=(s,e)=>({tr:r})=>(r.setMeta(s,e),!0),u_=(s,e={})=>({state:r,dispatch:n,chain:a})=>{const l=El(s,r.schema);let u;return r.selection.$anchor.sameParent(r.selection.$head)&&(u=r.selection.$anchor.parent.attrs),l.isTextblock?a().command(({commands:d})=>Cw(l,{...u,...e})(r)?!0:d.clearNodes()).command(({state:d})=>Cw(l,{...u,...e})(d,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},A_=s=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,a=df(s,0,n.content.size),l=wn.create(n,a);e.setSelection(l)}return!0},h_=(s,e)=>({tr:r,state:n,dispatch:a})=>{const{selection:l}=n;let u,d;return typeof e=="number"?(u=e,d=e):e&&"from"in e&&"to"in e?(u=e.from,d=e.to):(u=l.from,d=l.to),a&&r.doc.nodesBetween(u,d,(A,o)=>{A.isText||r.setNodeMarkup(o,void 0,{...A.attrs,dir:s})}),!0},f_=s=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:a,to:l}=typeof s=="number"?{from:s,to:s}:s,u=Kn.atStart(n).from,d=Kn.atEnd(n).to,A=df(a,u,d),o=df(l,u,d),f=Kn.create(n,A,o);e.setSelection(f)}return!0},m_=s=>({state:e,dispatch:r})=>{const n=El(s,e.schema);return cP(n)(e,r)};function Aj(s,e){const r=s.storedMarks||s.selection.$to.parentOffset&&s.selection.$from.marks();if(r){const n=r.filter(a=>e==null?void 0:e.includes(a.type.name));s.tr.ensureMarks(n)}}var p_=({keepMarks:s=!0}={})=>({tr:e,state:r,dispatch:n,editor:a})=>{const{selection:l,doc:u}=e,{$from:d,$to:A}=l,o=a.extensionManager.attributes,f=Tp(o,d.node().type.name,d.node().attrs);if(l instanceof wn&&l.node.isBlock)return!d.parentOffset||!RA(u,d.pos)?!1:(n&&(s&&Aj(r,a.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const m=A.parentOffset===A.parent.content.size,p=d.depth===0?void 0:$Q(d.node(-1).contentMatchAt(d.indexAfter(-1)));let x=m&&p?[{type:p,attrs:f}]:void 0,b=RA(e.doc,e.mapping.map(d.pos),1,x);if(!x&&!b&&RA(e.doc,e.mapping.map(d.pos),1,p?[{type:p}]:void 0)&&(b=!0,x=p?[{type:p,attrs:f}]:void 0),n){if(b&&(l instanceof Kn&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,x),p&&!m&&!d.parentOffset&&d.parent.type!==p)){const y=e.mapping.map(d.before()),w=e.doc.resolve(y);d.node(-1).canReplaceWith(w.index(),w.index()+1,p)&&e.setNodeMarkup(e.mapping.map(d.before()),p)}s&&Aj(r,a.extensionManager.splittableMarks),e.scrollIntoView()}return b},g_=(s,e={})=>({tr:r,state:n,dispatch:a,editor:l})=>{var u;const d=El(s,n.schema),{$from:A,$to:o}=n.selection,f=n.selection.node;if(f&&f.isBlock||A.depth<2||!A.sameParent(o))return!1;const m=A.node(-1);if(m.type!==d)return!1;const p=l.extensionManager.attributes;if(A.parent.content.size===0&&A.node(-1).childCount===A.indexAfter(-1)){if(A.depth===2||A.node(-3).type!==d||A.index(-2)!==A.node(-2).childCount-1)return!1;if(a){let E=Gs.empty;const R=A.index(-1)?1:A.index(-2)?2:3;for(let le=A.depth-R;le>=A.depth-3;le-=1)E=Gs.from(A.node(le).copy(E));const z=A.indexAfter(-1)<A.node(-2).childCount?1:A.indexAfter(-2)<A.node(-3).childCount?2:3,X={...Tp(p,A.node().type.name,A.node().attrs),...e},Y=((u=d.contentMatch.defaultType)==null?void 0:u.createAndFill(X))||void 0;E=E.append(Gs.from(d.createAndFill(null,Y)||void 0));const Q=A.before(A.depth-(R-1));r.replace(Q,A.after(-z),new Mr(E,4-R,0));let G=-1;r.doc.nodesBetween(Q,r.doc.content.size,(le,Ae)=>{if(G>-1)return!1;le.isTextblock&&le.content.size===0&&(G=Ae+1)}),G>-1&&r.setSelection(Kn.near(r.doc.resolve(G))),r.scrollIntoView()}return!0}const x=o.pos===A.end()?m.contentMatchAt(0).defaultType:null,b={...Tp(p,m.type.name,m.attrs),...e},y={...Tp(p,A.node().type.name,A.node().attrs),...e};r.delete(A.pos,o.pos);const w=x?[{type:d,attrs:b},{type:x,attrs:y}]:[{type:d,attrs:b}];if(!RA(r.doc,A.pos,2))return!1;if(a){const{selection:E,storedMarks:R}=n,{splittableMarks:z}=l.extensionManager,X=R||E.$to.parentOffset&&E.$from.marks();if(r.split(A.pos,2,w).scrollIntoView(),!X||!a)return!0;const Y=X.filter(Q=>z.includes(Q.type.name));r.ensureMarks(Y)}return!0},Fb=(s,e)=>{const r=xx(u=>u.type===e)(s.selection);if(!r)return!0;const n=s.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const a=s.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&Qh(s.doc,r.pos)&&s.join(r.pos),!0},Mb=(s,e)=>{const r=xx(u=>u.type===e)(s.selection);if(!r)return!0;const n=s.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const a=s.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&Qh(s.doc,n)&&s.join(n),!0},x_=(s,e,r,n={})=>({editor:a,tr:l,state:u,dispatch:d,chain:A,commands:o,can:f})=>{const{extensions:m,splittableMarks:p}=a.extensionManager,x=El(s,u.schema),b=El(e,u.schema),{selection:y,storedMarks:w}=u,{$from:E,$to:R}=y,z=E.blockRange(R),X=w||y.$to.parentOffset&&y.$from.marks();if(!z)return!1;const Y=xx(Q=>uj(Q.type.name,m))(y);if(z.depth>=1&&Y&&z.depth-Y.depth<=1){if(Y.node.type===x)return o.liftListItem(b);if(uj(Y.node.type.name,m)&&x.validContent(Y.node.content)&&d)return A().command(()=>(l.setNodeMarkup(Y.pos,x),!0)).command(()=>Fb(l,x)).command(()=>Mb(l,x)).run()}return!r||!X||!d?A().command(()=>f().wrapInList(x,n)?!0:o.clearNodes()).wrapInList(x,n).command(()=>Fb(l,x)).command(()=>Mb(l,x)).run():A().command(()=>{const Q=f().wrapInList(x,n),G=X.filter(le=>p.includes(le.type.name));return l.ensureMarks(G),Q?!0:o.clearNodes()}).wrapInList(x,n).command(()=>Fb(l,x)).command(()=>Mb(l,x)).run()},b_=(s,e={},r={})=>({state:n,commands:a})=>{const{extendEmptyMarkRange:l=!1}=r,u=_A(s,n.schema);return Lv(n,u,e)?a.unsetMark(u,{extendEmptyMarkRange:l}):a.setMark(u,e)},v_=(s,e,r={})=>({state:n,commands:a})=>{const l=El(s,n.schema),u=El(e,n.schema),d=Ih(n,l,r);let A;return n.selection.$anchor.sameParent(n.selection.$head)&&(A=n.selection.$anchor.parent.attrs),d?a.setNode(u,A):a.setNode(l,{...A,...r})},y_=(s,e={})=>({state:r,commands:n})=>{const a=El(s,r.schema);return Ih(r,a,e)?n.lift(a):n.wrapIn(a,e)},w_=()=>({state:s,dispatch:e})=>{const r=s.plugins;for(let n=0;n<r.length;n+=1){const a=r[n];let l;if(a.spec.isInputRules&&(l=a.getState(s))){if(e){const u=s.tr,d=l.transform;for(let A=d.steps.length-1;A>=0;A-=1)u.step(d.steps[A].invert(d.docs[A]));if(l.text){const A=u.doc.resolve(l.from).marks();u.replaceWith(l.from,l.to,s.schema.text(l.text,A))}else u.delete(l.from,l.to)}return!0}}return!1},j_=()=>({tr:s,dispatch:e})=>{const{selection:r}=s,{empty:n,ranges:a}=r;return n||e&&a.forEach(l=>{s.removeMark(l.$from.pos,l.$to.pos)}),!0},N_=(s,e={})=>({tr:r,state:n,dispatch:a})=>{var l;const{extendEmptyMarkRange:u=!1}=e,{selection:d}=r,A=_A(s,n.schema),{$from:o,empty:f,ranges:m}=d;if(!a)return!0;if(f&&u){let{from:p,to:x}=d;const b=(l=o.marks().find(w=>w.type===A))==null?void 0:l.attrs,y=Uy(o,A,b);y&&(p=y.from,x=y.to),r.removeMark(p,x,A)}else m.forEach(p=>{r.removeMark(p.$from.pos,p.$to.pos,A)});return r.removeStoredMark(A),!0},C_=s=>({tr:e,state:r,dispatch:n})=>{const{selection:a}=r;let l,u;return typeof s=="number"?(l=s,u=s):s&&"from"in s&&"to"in s?(l=s.from,u=s.to):(l=a.from,u=a.to),n&&e.doc.nodesBetween(l,u,(d,A)=>{if(d.isText)return;const o={...d.attrs};delete o.dir,e.setNodeMarkup(A,void 0,o)}),!0},k_=(s,e={})=>({tr:r,state:n,dispatch:a})=>{let l=null,u=null;const d=gx(typeof s=="string"?s:s.name,n.schema);if(!d)return!1;d==="node"&&(l=El(s,n.schema)),d==="mark"&&(u=_A(s,n.schema));let A=!1;return r.selection.ranges.forEach(o=>{const f=o.$from.pos,m=o.$to.pos;let p,x,b,y;r.selection.empty?n.doc.nodesBetween(f,m,(w,E)=>{l&&l===w.type&&(A=!0,b=Math.max(E,f),y=Math.min(E+w.nodeSize,m),p=E,x=w)}):n.doc.nodesBetween(f,m,(w,E)=>{E<f&&l&&l===w.type&&(A=!0,b=Math.max(E,f),y=Math.min(E+w.nodeSize,m),p=E,x=w),E>=f&&E<=m&&(l&&l===w.type&&(A=!0,a&&r.setNodeMarkup(E,void 0,{...w.attrs,...e})),u&&w.marks.length&&w.marks.forEach(R=>{if(u===R.type&&(A=!0,a)){const z=Math.max(E,f),X=Math.min(E+w.nodeSize,m);r.addMark(z,X,u.create({...R.attrs,...e}))}}))}),x&&(p!==void 0&&a&&r.setNodeMarkup(p,void 0,{...x.attrs,...e}),u&&x.marks.length&&x.marks.forEach(w=>{u===w.type&&a&&r.addMark(b,y,u.create({...w.attrs,...e}))}))}),A},B_=(s,e={})=>({state:r,dispatch:n})=>{const a=El(s,r.schema);return sP(a,e)(r,n)},S_=(s,e={})=>({state:r,dispatch:n})=>{const a=El(s,r.schema);return rP(a,e)(r,n)},E_=class{constructor(){this.callbacks={}}on(s,e){return this.callbacks[s]||(this.callbacks[s]=[]),this.callbacks[s].push(e),this}emit(s,...e){const r=this.callbacks[s];return r&&r.forEach(n=>n.apply(this,e)),this}off(s,e){const r=this.callbacks[s];return r&&(e?this.callbacks[s]=r.filter(n=>n!==e):delete this.callbacks[s]),this}once(s,e){const r=(...n)=>{this.off(s,r),e.apply(this,n)};return this.on(s,r)}removeAllListeners(){this.callbacks={}}},vx=class{constructor(s){var e;this.find=s.find,this.handler=s.handler,this.undoable=(e=s.undoable)!=null?e:!0}},T_=(s,e)=>{if(Ty(e))return e.exec(s);const r=e(s);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=s,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function up(s){var e;const{editor:r,from:n,to:a,text:l,rules:u,plugin:d}=s,{view:A}=r;if(A.composing)return!1;const o=A.state.doc.resolve(n);if(o.parent.type.spec.code||(e=o.nodeBefore||o.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let f=!1;const m=s_(o)+l;return u.forEach(p=>{if(f)return;const x=T_(m,p.find);if(!x)return;const b=A.state.tr,y=mx({state:A.state,transaction:b}),w={from:n-(x[0].length-l.length),to:a},{commands:E,chain:R,can:z}=new px({editor:r,state:y});p.handler({state:y,range:w,match:x,commands:E,chain:R,can:z})===null||!b.steps.length||(p.undoable&&b.setMeta(d,{transform:b,from:n,to:a,text:l}),A.dispatch(b),f=!0)}),f}function U_(s){const{editor:e,rules:r}=s,n=new Eo({state:{init(){return null},apply(a,l,u){const d=a.getMeta(n);if(d)return d;const A=a.getMeta("applyInputRules");return!!A&&setTimeout(()=>{let{text:f}=A;typeof f=="string"?f=f:f=My(Gs.from(f),u.schema);const{from:m}=A,p=m+f.length;up({editor:e,from:m,to:p,text:f,rules:r,plugin:n})}),a.selectionSet||a.docChanged?null:l}},props:{handleTextInput(a,l,u,d){return up({editor:e,from:l,to:u,text:d,rules:r,plugin:n})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:l}=a.state.selection;l&&up({editor:e,from:l.pos,to:l.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(a,l){if(l.key!=="Enter")return!1;const{$cursor:u}=a.state.selection;return u?up({editor:e,from:u.pos,to:u.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function L_(s){return Object.prototype.toString.call(s).slice(8,-1)}function Ap(s){return L_(s)!=="Object"?!1:s.constructor===Object&&Object.getPrototypeOf(s)===Object.prototype}function $C(s,e){const r={...s};return Ap(s)&&Ap(e)&&Object.keys(e).forEach(n=>{Ap(e[n])&&Ap(s[n])?r[n]=$C(s[n],e[n]):r[n]=e[n]}),r}var Dy=class{constructor(s={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...s},this.name=this.config.name}get options(){return{...ji(bn(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ji(bn(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(s={}){const e=this.extend({...this.config,addOptions:()=>$C(this.options,s)});return e.name=this.name,e.parent=this.parent,e}extend(s={}){const e=new this.constructor({...this.config,...s});return e.parent=this,this.child=e,e.name="name"in s?s.name:e.parent.name,e}},HA=class VC extends Dy{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new VC(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,a=e.state.selection.$from;if(a.pos===a.end()){const u=a.marks();if(!!!u.find(o=>(o==null?void 0:o.type.name)===r.name))return!1;const A=u.find(o=>(o==null?void 0:o.type.name)===r.name);return A&&n.removeStoredMark(A),n.insertText(" ",a.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function F_(s){return typeof s=="number"}var M_=class{constructor(s){this.find=s.find,this.handler=s.handler}},O_=(s,e,r)=>{if(Ty(e))return[...s.matchAll(e)];const n=e(s,r);return n?n.map(a=>{const l=[a.text];return l.index=a.index,l.input=s,l.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(a.replaceWith)),l}):[]};function I_(s){const{editor:e,state:r,from:n,to:a,rule:l,pasteEvent:u,dropEvent:d}=s,{commands:A,chain:o,can:f}=new px({editor:e,state:r}),m=[];return r.doc.nodesBetween(n,a,(x,b)=>{var y,w,E,R,z;if((w=(y=x.type)==null?void 0:y.spec)!=null&&w.code||!(x.isText||x.isTextblock||x.isInline))return;const X=(z=(R=(E=x.content)==null?void 0:E.size)!=null?R:x.nodeSize)!=null?z:0,Y=Math.max(n,b),Q=Math.min(a,b+X);if(Y>=Q)return;const G=x.isText?x.text||"":x.textBetween(Y-b,Q-b,void 0,"");O_(G,l.find,u).forEach(Ae=>{if(Ae.index===void 0)return;const je=Y+Ae.index+1,ue=je+Ae[0].length,Se={from:r.tr.mapping.map(je),to:r.tr.mapping.map(ue)},ae=l.handler({state:r,range:Se,match:Ae,commands:A,chain:o,can:f,pasteEvent:u,dropEvent:d});m.push(ae)})}),m.every(x=>x!==null)}var hp=null,D_=s=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",s),r};function R_(s){const{editor:e,rules:r}=s;let n=null,a=!1,l=!1,u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const A=({state:f,from:m,to:p,rule:x,pasteEvt:b})=>{const y=f.tr,w=mx({state:f,transaction:y});if(!(!I_({editor:e,state:w,from:Math.max(m-1,0),to:p.b-1,rule:x,pasteEvent:b,dropEvent:d})||!y.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return u=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,y}};return r.map(f=>new Eo({view(m){const p=b=>{var y;n=(y=m.dom.parentElement)!=null&&y.contains(b.target)?m.dom.parentElement:null,n&&(hp=e)},x=()=>{hp&&(hp=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(m,p)=>{if(l=n===m.dom.parentElement,d=p,!l){const x=hp;x!=null&&x.isEditable&&setTimeout(()=>{const b=x.state.selection;b&&x.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(m,p)=>{var x;const b=(x=p.clipboardData)==null?void 0:x.getData("text/html");return u=p,a=!!(b!=null&&b.includes("data-pm-slice")),!1}}},appendTransaction:(m,p,x)=>{const b=m[0],y=b.getMeta("uiEvent")==="paste"&&!a,w=b.getMeta("uiEvent")==="drop"&&!l,E=b.getMeta("applyPasteRules"),R=!!E;if(!y&&!w&&!R)return;if(R){let{text:Y}=E;typeof Y=="string"?Y=Y:Y=My(Gs.from(Y),x.schema);const{from:Q}=E,G=Q+Y.length,le=D_(Y);return A({rule:f,state:x,from:Q,to:{b:G},pasteEvt:le})}const z=p.doc.content.findDiffStart(x.doc.content),X=p.doc.content.findDiffEnd(x.doc.content);if(!(!F_(z)||!X||z===X.b))return A({rule:f,state:x,from:z,to:X,pasteEvt:u})}}))}var yx=class{constructor(s,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=s,this.extensions=IC(s),this.schema=YQ(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((s,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Lb(e.name,this.schema)},n=bn(e,"addCommands",r);return n?{...s,...n()}:s},{})}get plugins(){const{editor:s}=this;return Oy([...this.extensions].reverse()).flatMap(n=>{const a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:s,type:Lb(n.name,this.schema)},l=[],u=bn(n,"addKeyboardShortcuts",a);let d={};if(n.type==="mark"&&bn(n,"exitable",a)&&(d.ArrowRight=()=>HA.handleExit({editor:s,mark:n})),u){const p=Object.fromEntries(Object.entries(u()).map(([x,b])=>[x,()=>b({editor:s})]));d={...d,...p}}const A=Z7(d);l.push(A);const o=bn(n,"addInputRules",a);if(dj(n,s.options.enableInputRules)&&o){const p=o();if(p&&p.length){const x=U_({editor:s,rules:p}),b=Array.isArray(x)?x:[x];l.push(...b)}}const f=bn(n,"addPasteRules",a);if(dj(n,s.options.enablePasteRules)&&f){const p=f();if(p&&p.length){const x=R_({editor:s,rules:p});l.push(...x)}}const m=bn(n,"addProseMirrorPlugins",a);if(m){const p=m();l.push(...p)}return l})}get attributes(){return OC(this.extensions)}get nodeViews(){const{editor:s}=this,{nodeExtensions:e}=m0(this.extensions);return Object.fromEntries(e.filter(r=>!!bn(r,"addNodeView")).map(r=>{const n=this.attributes.filter(A=>A.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:s,type:El(r.name,this.schema)},l=bn(r,"addNodeView",a);if(!l)return[];const u=l();if(!u)return[];const d=(A,o,f,m,p)=>{const x=Ag(A,n);return u({node:A,view:o,getPos:f,decorations:m,innerDecorations:p,editor:s,extension:r,HTMLAttributes:x})};return[r.name,d]}))}get markViews(){const{editor:s}=this,{markExtensions:e}=m0(this.extensions);return Object.fromEntries(e.filter(r=>!!bn(r,"addMarkView")).map(r=>{const n=this.attributes.filter(d=>d.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:s,type:_A(r.name,this.schema)},l=bn(r,"addMarkView",a);if(!l)return[];const u=(d,A,o)=>{const f=Ag(d,n);return l()({mark:d,view:A,inline:o,editor:s,extension:r,HTMLAttributes:f,updateAttributes:m=>{q_(d,s,m)}})};return[r.name,u]}))}setupExtensions(){const s=this.extensions;this.editor.extensionStorage=Object.fromEntries(s.map(e=>[e.name,e.storage])),s.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Lb(e.name,this.schema)};e.type==="mark"&&((r=ji(bn(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const a=bn(e,"onBeforeCreate",n),l=bn(e,"onCreate",n),u=bn(e,"onUpdate",n),d=bn(e,"onSelectionUpdate",n),A=bn(e,"onTransaction",n),o=bn(e,"onFocus",n),f=bn(e,"onBlur",n),m=bn(e,"onDestroy",n);a&&this.editor.on("beforeCreate",a),l&&this.editor.on("create",l),u&&this.editor.on("update",u),d&&this.editor.on("selectionUpdate",d),A&&this.editor.on("transaction",A),o&&this.editor.on("focus",o),f&&this.editor.on("blur",f),m&&this.editor.on("destroy",m)})}};yx.resolve=IC;yx.sort=Oy;yx.flatten=Fy;var P_={};Ey(P_,{ClipboardTextSerializer:()=>GC,Commands:()=>WC,Delete:()=>YC,Drop:()=>XC,Editable:()=>JC,FocusEvents:()=>qC,Keymap:()=>ek,Paste:()=>tk,Tabindex:()=>sk,TextDirection:()=>rk,focusEventsPluginKey:()=>ZC});var Oi=class KC extends Dy{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new KC(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},GC=Oi.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Eo({key:new $l("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:s}=this,{state:e,schema:r}=s,{doc:n,selection:a}=e,{ranges:l}=a,u=Math.min(...l.map(f=>f.$from.pos)),d=Math.max(...l.map(f=>f.$to.pos)),A=RC(r);return DC(n,{from:u,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:A})}}})]}}),WC=Oi.create({name:"commands",addCommands(){return{...kC}}}),YC=Oi.create({name:"delete",onUpdate({transaction:s,appendedTransactions:e}){var r,n,a;const l=()=>{var u,d,A,o;if((o=(A=(d=(u=this.editor.options.coreExtensionOptions)==null?void 0:u.delete)==null?void 0:d.filterTransaction)==null?void 0:A.call(d,s))!=null?o:s.getMeta("y-sync$"))return;const f=FC(s.before,[s,...e]);QC(f).forEach(x=>{f.mapping.mapResult(x.oldRange.from).deletedAfter&&f.mapping.mapResult(x.oldRange.to).deletedBefore&&f.before.nodesBetween(x.oldRange.from,x.oldRange.to,(b,y)=>{const w=y+b.nodeSize-2,E=x.oldRange.from<=y&&w<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:y,to:w,newFrom:f.mapping.map(y),newTo:f.mapping.map(w),deletedRange:x.oldRange,newRange:x.newRange,partial:!E,editor:this.editor,transaction:s,combinedTransform:f})})});const p=f.mapping;f.steps.forEach((x,b)=>{var y,w;if(x instanceof Lu){const E=p.slice(b).map(x.from,-1),R=p.slice(b).map(x.to),z=p.invert().map(E,-1),X=p.invert().map(R),Y=(y=f.doc.nodeAt(E-1))==null?void 0:y.marks.some(G=>G.eq(x.mark)),Q=(w=f.doc.nodeAt(R))==null?void 0:w.marks.some(G=>G.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:z,to:X},newRange:{from:E,to:R},partial:!!(Q||Y),editor:this.editor,transaction:s,combinedTransform:f})}})};(a=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||a?setTimeout(l,0):l()}}),XC=Oi.create({name:"drop",addProseMirrorPlugins(){return[new Eo({key:new $l("tiptapDrop"),props:{handleDrop:(s,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),JC=Oi.create({name:"editable",addProseMirrorPlugins(){return[new Eo({key:new $l("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ZC=new $l("focusEvents"),qC=Oi.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:s}=this;return[new Eo({key:ZC,props:{handleDOMEvents:{focus:(e,r)=>{s.isFocused=!0;const n=s.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{s.isFocused=!1;const n=s.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),ek=Oi.create({name:"keymap",addKeyboardShortcuts(){const s=()=>this.editor.commands.first(({commands:u})=>[()=>u.undoInputRule(),()=>u.command(({tr:d})=>{const{selection:A,doc:o}=d,{empty:f,$anchor:m}=A,{pos:p,parent:x}=m,b=m.parent.isTextblock&&p>0?d.doc.resolve(p-1):m,y=b.parent.type.spec.isolating,w=m.pos-m.parentOffset,E=y&&b.parent.childCount===1?w===m.pos:Aa.atStart(o).from===p;return!f||!x.type.isTextblock||x.textContent.length||!E||E&&m.parent.type.name==="paragraph"?!1:u.clearNodes()}),()=>u.deleteSelection(),()=>u.joinBackward(),()=>u.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:u})=>[()=>u.deleteSelection(),()=>u.deleteCurrentNode(),()=>u.joinForward(),()=>u.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:u})=>[()=>u.newlineInCode(),()=>u.createParagraphNear(),()=>u.liftEmptyBlock(),()=>u.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:s,"Mod-Backspace":s,"Shift-Backspace":s,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...n},l={...n,"Ctrl-h":s,"Alt-Backspace":s,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Ly()||UC()?l:a},addProseMirrorPlugins(){return[new Eo({key:new $l("clearDocument"),appendTransaction:(s,e,r)=>{if(s.some(y=>y.getMeta("composition")))return;const n=s.some(y=>y.docChanged)&&!e.doc.eq(r.doc),a=s.some(y=>y.getMeta("preventClearDocument"));if(!n||a)return;const{empty:l,from:u,to:d}=e.selection,A=Aa.atStart(e.doc).from,o=Aa.atEnd(e.doc).to;if(l||!(u===A&&d===o)||!bx(r.doc))return;const p=r.tr,x=mx({state:r,transaction:p}),{commands:b}=new px({editor:this.editor,state:x});if(b.clearNodes(),!!p.steps.length)return p}})]}}),tk=Oi.create({name:"paste",addProseMirrorPlugins(){return[new Eo({key:new $l("tiptapPaste"),props:{handlePaste:(s,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),sk=Oi.create({name:"tabindex",addProseMirrorPlugins(){return[new Eo({key:new $l("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),rk=Oi.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:s}=m0(this.extensions);return[{types:s.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const r=e.getAttribute("dir");return r&&(r==="ltr"||r==="rtl"||r==="auto")?r:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Eo({key:new $l("textDirection"),props:{attributes:()=>{const s=this.options.direction;return s?{dir:s}:{}}}})]}}),Q_=class qf{constructor(e,r,n=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new qf(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new qf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new qf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const a=r.isBlock&&!r.isTextblock,l=r.isAtom&&!r.isText,u=this.pos+n+(l?0:1);if(u<0||u>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(u);if(!a&&d.depth<=this.depth)return;const A=new qf(d,this.editor,a,a?r:null);a&&(A.actualDepth=this.depth+1),e.push(new qf(d,this.editor,a,a?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,a=this.parent;for(;a&&!n;){if(a.node.type.name===e)if(Object.keys(r).length>0){const l=a.node.attrs,u=Object.keys(r);for(let d=0;d<u.length;d+=1){const A=u[d];if(l[A]!==r[A])break}}else n=a;a=a.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let a=[];if(!this.children||this.children.length===0)return a;const l=Object.keys(r);return this.children.forEach(u=>{n&&a.length>0||(u.node.type.name===e&&l.every(A=>r[A]===u.node.attrs[A])&&a.push(u),!(n&&a.length>0)&&(a=a.concat(u.querySelectorAll(e,r,n))))}),a}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},__=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function H_(s,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.setAttribute("data-tiptap-style",""),a.innerHTML=s,document.getElementsByTagName("head")[0].appendChild(a),a}var z_=class extends E_{constructor(s={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:i_,createMappablePosition:o_},this.setOptions(s),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:a,moved:l})=>this.options.onDrop(n,a,l)),this.on("paste",({event:n,slice:a})=>this.options.onPaste(n,a)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=EC(e,this.options.autofocus);this.editorState=t0.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(s){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(s),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const s=this.editorView.dom;s!=null&&s.editor&&delete s.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(s){console.warn("Failed to remove CSS element:",s)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=H_(__,this.options.injectNonce))}setOptions(s={}){this.options={...this.options,...s},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(s,e=!0){this.setOptions({editable:s}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:s=>{this.editorState=s},dispatch:s=>{this.dispatchTransaction(s)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(s,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in s)return Reflect.get(s,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(s,e){const r=MC(e)?e(s,[...this.state.plugins]):[...this.state.plugins,s],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(s){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(s).forEach(a=>{const l=typeof a=="string"?`${a}$`:a.key;r=r.filter(u=>!u.key.startsWith(l))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var s,e;const n=[...this.options.enableCoreExtensions?[JC,GC.configure({blockSeparator:(e=(s=this.options.coreExtensionOptions)==null?void 0:s.clipboardTextSerializer)==null?void 0:e.blockSeparator}),WC,qC,ek,sk,XC,tk,YC,rk.configure({direction:this.options.textDirection})].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new yx(n,this)}createCommandManager(){this.commandManager=new px({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let s;try{s=Uv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),s=Uv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return s}createView(s){var e;this.editorView=new NC(s,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(s){this.isCapturingTransaction=!0,s(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(s){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=s;return}s.steps.forEach(o=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(o)});return}const{state:e,transactions:r}=this.state.applyTransaction(s),n=!this.state.selection.eq(e.selection),a=r.includes(s),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:s,nextState:e}),!a)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:s,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:s});const u=r.findLast(o=>o.getMeta("focus")||o.getMeta("blur")),d=u==null?void 0:u.getMeta("focus"),A=u==null?void 0:u.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:u}),A&&this.emit("blur",{editor:this,event:A.event,transaction:u}),!(s.getMeta("preventUpdate")||!r.some(o=>o.docChanged)||l.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:s,appendedTransactions:r.slice(1)})}getAttributes(s){return PC(this.state,s)}isActive(s,e){const r=typeof s=="string"?s:null,n=typeof s=="string"?e:s;return r_(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return My(this.state.doc.content,this.schema)}getText(s){const{blockSeparator:e=`

`,textSerializers:r={}}=s||{};return JQ(this.state.doc,{blockSeparator:e,textSerializers:{...RC(this.schema),...r}})}get isEmpty(){return bx(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var s,e;return(e=(s=this.editorView)==null?void 0:s.isDestroyed)!=null?e:!0}$node(s,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(s,e))||null}$nodes(s,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(s,e))||null}$pos(s){const e=this.state.doc.resolve(s);return new Q_(e,this)}get $doc(){return this.$pos(0)}};function Cf(s){return new vx({find:s.find,handler:({state:e,range:r,match:n})=>{const a=ji(s.getAttributes,void 0,n);if(a===!1||a===null)return null;const{tr:l}=e,u=n[n.length-1],d=n[0];if(u){const A=d.search(/\S/),o=r.from+d.indexOf(u),f=o+u.length;if(Iy(r.from,r.to,e.doc).filter(x=>x.mark.type.excluded.find(y=>y===s.type&&y!==x.mark.type)).filter(x=>x.to>o).length)return null;f<r.to&&l.delete(f,r.to),o>r.from&&l.delete(r.from+A,o);const p=r.from+A+u.length;l.addMark(r.from+A,p,s.type.create(a||{})),l.removeStoredMark(s.type)}},undoable:s.undoable})}function nk(s){return new vx({find:s.find,handler:({state:e,range:r,match:n})=>{const a=ji(s.getAttributes,void 0,n)||{},{tr:l}=e,u=r.from;let d=r.to;const A=s.type.create(a);if(n[1]){const o=n[0].lastIndexOf(n[1]);let f=u+o;f>d?f=d:d=f+n[1].length;const m=n[0][n[0].length-1];l.insertText(m,u+n[0].length-1),l.replaceWith(f,d,A)}else if(n[0]){const o=s.type.isInline?u:u-1;l.insert(o,s.type.create(a)).delete(l.mapping.map(u),l.mapping.map(d))}l.scrollIntoView()},undoable:s.undoable})}function Fv(s){return new vx({find:s.find,handler:({state:e,range:r,match:n})=>{const a=e.doc.resolve(r.from),l=ji(s.getAttributes,void 0,n)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),s.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,s.type,l)},undoable:s.undoable})}function p0(s){return new vx({find:s.find,handler:({state:e,range:r,match:n,chain:a})=>{const l=ji(s.getAttributes,void 0,n)||{},u=e.tr.delete(r.from,r.to),A=u.doc.resolve(r.from).blockRange(),o=A&&hy(A,s.type,l);if(!o)return null;if(u.wrap(A,o),s.keepMarks&&s.editor){const{selection:m,storedMarks:p}=e,{splittableMarks:x}=s.editor.extensionManager,b=p||m.$to.parentOffset&&m.$from.marks();if(b){const y=b.filter(w=>x.includes(w.type.name));u.ensureMarks(y)}}if(s.keepAttributes){const m=s.type.name==="bulletList"||s.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(m,l).run()}const f=u.doc.resolve(r.from-1).nodeBefore;f&&f.type===s.type&&Qh(u.doc,r.from-1)&&(!s.joinPredicate||s.joinPredicate(n,f))&&u.join(r.from-1)},undoable:s.undoable})}var $_=s=>"touches"in s,V_=class{constructor(s){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=d=>{if(!this.isResizing||!this.activeHandle)return;const A=d.clientX-this.startX,o=d.clientY-this.startY;this.handleResize(A,o)},this.handleTouchMove=d=>{if(!this.isResizing||!this.activeHandle)return;const A=d.touches[0];if(!A)return;const o=A.clientX-this.startX,f=A.clientY-this.startY;this.handleResize(o,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const d=this.element.offsetWidth,A=this.element.offsetHeight;this.onCommit(d,A),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,r,n,a,l,u;this.node=s.node,this.editor=s.editor,this.element=s.element,this.contentElement=s.contentElement,this.getPos=s.getPos,this.onResize=s.onResize,this.onCommit=s.onCommit,this.onUpdate=s.onUpdate,(e=s.options)!=null&&e.min&&(this.minSize={...this.minSize,...s.options.min}),(r=s.options)!=null&&r.max&&(this.maxSize=s.options.max),(n=s==null?void 0:s.options)!=null&&n.directions&&(this.directions=s.options.directions),(a=s.options)!=null&&a.preserveAspectRatio&&(this.preserveAspectRatio=s.options.preserveAspectRatio),(l=s.options)!=null&&l.className&&(this.classNames={container:s.options.className.container||"",wrapper:s.options.className.wrapper||"",handle:s.options.className.handle||"",resizing:s.options.className.resizing||""}),(u=s.options)!=null&&u.createCustomHandle&&(this.createCustomHandle=s.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const s=this.editor.isEditable;s!==this.lastEditableState&&(this.lastEditableState=s,s?s&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(s,e,r){return s.type!==this.node.type?!1:(this.node=s,this.onUpdate?this.onUpdate(s,e,r):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const s=document.createElement("div");return s.dataset.resizeContainer="",s.dataset.node=this.node.type.name,s.style.display="flex",this.classNames.container&&(s.className=this.classNames.container),s.appendChild(this.wrapper),s}createWrapper(){const s=document.createElement("div");return s.style.position="relative",s.style.display="block",s.dataset.resizeWrapper="",this.classNames.wrapper&&(s.className=this.classNames.wrapper),s.appendChild(this.element),s}createHandle(s){const e=document.createElement("div");return e.dataset.resizeHandle=s,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(s,e){const r=e.includes("top"),n=e.includes("bottom"),a=e.includes("left"),l=e.includes("right");r&&(s.style.top="0"),n&&(s.style.bottom="0"),a&&(s.style.left="0"),l&&(s.style.right="0"),(e==="top"||e==="bottom")&&(s.style.left="0",s.style.right="0"),(e==="left"||e==="right")&&(s.style.top="0",s.style.bottom="0")}attachHandles(){this.directions.forEach(s=>{let e;this.createCustomHandle?e=this.createCustomHandle(s):e=this.createHandle(s),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${s}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(s)),this.createCustomHandle||this.positionHandle(e,s),e.addEventListener("mousedown",r=>this.handleResizeStart(r,s)),e.addEventListener("touchstart",r=>this.handleResizeStart(r,s)),this.handleMap.set(s,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(s=>s.remove()),this.handleMap.clear()}applyInitialSize(){const s=this.node.attrs.width,e=this.node.attrs.height;s?(this.element.style.width=`${s}px`,this.initialWidth=s):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(s,e){s.preventDefault(),s.stopPropagation(),this.isResizing=!0,this.activeHandle=e,$_(s)?(this.startX=s.touches[0].clientX,this.startY=s.touches[0].clientY):(this.startX=s.clientX,this.startY=s.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(s,e){if(!this.activeHandle)return;const r=this.preserveAspectRatio||this.isShiftKeyPressed,{width:n,height:a}=this.calculateNewDimensions(this.activeHandle,s,e),l=this.applyConstraints(n,a,r);this.element.style.width=`${l.width}px`,this.element.style.height=`${l.height}px`,this.onResize&&this.onResize(l.width,l.height)}calculateNewDimensions(s,e,r){let n=this.startWidth,a=this.startHeight;const l=s.includes("right"),u=s.includes("left"),d=s.includes("bottom"),A=s.includes("top");return l?n=this.startWidth+e:u&&(n=this.startWidth-e),d?a=this.startHeight+r:A&&(a=this.startHeight-r),(s==="right"||s==="left")&&(n=this.startWidth+(l?e:-e)),(s==="top"||s==="bottom")&&(a=this.startHeight+(d?r:-r)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(n,a,s):{width:n,height:a}}applyConstraints(s,e,r){var n,a,l,u;if(!r){let o=Math.max(this.minSize.width,s),f=Math.max(this.minSize.height,e);return(n=this.maxSize)!=null&&n.width&&(o=Math.min(this.maxSize.width,o)),(a=this.maxSize)!=null&&a.height&&(f=Math.min(this.maxSize.height,f)),{width:o,height:f}}let d=s,A=e;return d<this.minSize.width&&(d=this.minSize.width,A=d/this.aspectRatio),A<this.minSize.height&&(A=this.minSize.height,d=A*this.aspectRatio),(l=this.maxSize)!=null&&l.width&&d>this.maxSize.width&&(d=this.maxSize.width,A=d/this.aspectRatio),(u=this.maxSize)!=null&&u.height&&A>this.maxSize.height&&(A=this.maxSize.height,d=A*this.aspectRatio),{width:d,height:A}}applyAspectRatio(s,e,r){const n=r==="left"||r==="right",a=r==="top"||r==="bottom";return n?{width:s,height:s/this.aspectRatio}:a?{width:e*this.aspectRatio,height:e}:{width:s,height:s/this.aspectRatio}}};function K_(s,e){const{selection:r}=s,{$from:n}=r;if(r instanceof wn){const l=n.index();return n.parent.canReplaceWith(l,l+1,e)}let a=n.depth;for(;a>=0;){const l=n.index(a);if(n.node(a).contentMatchAt(l).matchType(e))return!0;a-=1}return!1}var G_={};Ey(G_,{createAtomBlockMarkdownSpec:()=>W_,createBlockMarkdownSpec:()=>Y_,createInlineMarkdownSpec:()=>Z_,parseAttributes:()=>Ry,parseIndentedBlocks:()=>Mv,renderNestedMarkdownContent:()=>Qy,serializeAttributes:()=>Py});function Ry(s){if(!(s!=null&&s.trim()))return{};const e={},r=[],n=s.replace(/["']([^"']*)["']/g,o=>(r.push(o),`__QUOTED_${r.length-1}__`)),a=n.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const o=a.map(f=>f.trim().slice(1));e.class=o.join(" ")}const l=n.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(e.id=l[1]);const u=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(n.matchAll(u)).forEach(([,o,f])=>{var m;const p=parseInt(((m=f.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),x=r[p];x&&(e[o]=x.slice(1,-1))});const A=n.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return A&&A.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(e[f]=!0)}),e}function Py(s){if(!s||Object.keys(s).length===0)return"";const e=[];return s.class&&String(s.class).split(/\s+/).filter(Boolean).forEach(n=>e.push(`.${n}`)),s.id&&e.push(`#${s.id}`),Object.entries(s).forEach(([r,n])=>{r==="class"||r==="id"||(n===!0?e.push(r):n!==!1&&n!=null&&e.push(`${r}="${String(n)}"`))}),e.join(" ")}function W_(s){const{nodeName:e,name:r,parseAttributes:n=Ry,serializeAttributes:a=Py,defaultAttributes:l={},requiredAttributes:u=[],allowedAttributes:d}=s,A=r||e,o=f=>{if(!d)return f;const m={};return d.forEach(p=>{p in f&&(m[p]=f[p])}),m};return{parseMarkdown:(f,m)=>{const p={...l,...f.attributes};return m.createNode(e,p,[])},markdownTokenizer:{name:e,level:"block",start(f){var m;const p=new RegExp(`^:::${A}(?:\\s|$)`,"m"),x=(m=f.match(p))==null?void 0:m.index;return x!==void 0?x:-1},tokenize(f,m,p){const x=new RegExp(`^:::${A}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=f.match(x);if(!b)return;const y=b[1]||"",w=n(y);if(!u.find(R=>!(R in w)))return{type:e,raw:b[0],attributes:w}}},renderMarkdown:f=>{const m=o(f.attrs||{}),p=a(m),x=p?` {${p}}`:"";return`:::${A}${x} :::`}}}function Y_(s){const{nodeName:e,name:r,getContent:n,parseAttributes:a=Ry,serializeAttributes:l=Py,defaultAttributes:u={},content:d="block",allowedAttributes:A}=s,o=r||e,f=m=>{if(!A)return m;const p={};return A.forEach(x=>{x in m&&(p[x]=m[x])}),p};return{parseMarkdown:(m,p)=>{let x;if(n){const y=n(m);x=typeof y=="string"?[{type:"text",text:y}]:y}else d==="block"?x=p.parseChildren(m.tokens||[]):x=p.parseInline(m.tokens||[]);const b={...u,...m.attributes};return p.createNode(e,b,x)},markdownTokenizer:{name:e,level:"block",start(m){var p;const x=new RegExp(`^:::${o}`,"m"),b=(p=m.match(x))==null?void 0:p.index;return b!==void 0?b:-1},tokenize(m,p,x){var b;const y=new RegExp(`^:::${o}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),w=m.match(y);if(!w)return;const[E,R=""]=w,z=a(R);let X=1;const Y=E.length;let Q="";const G=/^:::([\w-]*)(\s.*)?/gm,le=m.slice(Y);for(G.lastIndex=0;;){const Ae=G.exec(le);if(Ae===null)break;const je=Ae.index,ue=Ae[1];if(!((b=Ae[2])!=null&&b.endsWith(":::"))){if(ue)X+=1;else if(X-=1,X===0){const Se=le.slice(0,je);Q=Se.trim();const ae=m.slice(0,Y+je+Ae[0].length);let Ne=[];if(Q)if(d==="block")for(Ne=x.blockTokens(Se),Ne.forEach(he=>{he.text&&(!he.tokens||he.tokens.length===0)&&(he.tokens=x.inlineTokens(he.text))});Ne.length>0;){const he=Ne[Ne.length-1];if(he.type==="paragraph"&&(!he.text||he.text.trim()===""))Ne.pop();else break}else Ne=x.inlineTokens(Q);return{type:e,raw:ae,attributes:z,content:Q,tokens:Ne}}}}}},renderMarkdown:(m,p)=>{const x=f(m.attrs||{}),b=l(x),y=b?` {${b}}`:"",w=p.renderChildren(m.content||[],`

`);return`:::${o}${y}

${w}

:::`}}}function X_(s){if(!s.trim())return{};const e={},r=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let n=r.exec(s);for(;n!==null;){const[,a,l,u]=n;e[a]=l||u,n=r.exec(s)}return e}function J_(s){return Object.entries(s).filter(([,e])=>e!=null).map(([e,r])=>`${e}="${r}"`).join(" ")}function Z_(s){const{nodeName:e,name:r,getContent:n,parseAttributes:a=X_,serializeAttributes:l=J_,defaultAttributes:u={},selfClosing:d=!1,allowedAttributes:A}=s,o=r||e,f=p=>{if(!A)return p;const x={};return A.forEach(b=>{const y=typeof b=="string"?b:b.name,w=typeof b=="string"?void 0:b.skipIfDefault;if(y in p){const E=p[y];if(w!==void 0&&E===w)return;x[y]=E}}),x},m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(p,x)=>{const b={...u,...p.attributes};if(d)return x.createNode(e,b);const y=n?n(p):p.content||"";return y?x.createNode(e,b,[x.createTextNode(y)]):x.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(p){const x=d?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),b=p.match(x),y=b==null?void 0:b.index;return y!==void 0?y:-1},tokenize(p,x,b){const y=d?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),w=p.match(y);if(!w)return;let E="",R="";if(d){const[,X]=w;R=X}else{const[,X,Y]=w;R=X,E=Y||""}const z=a(R.trim());return{type:e,raw:w[0],content:E.trim(),attributes:z}}},renderMarkdown:p=>{let x="";n?x=n(p):p.content&&p.content.length>0&&(x=p.content.filter(E=>E.type==="text").map(E=>E.text).join(""));const b=f(p.attrs||{}),y=l(b),w=y?` ${y}`:"";return d?`[${o}${w}]`:`[${o}${w}]${x}[/${o}]`}}}function Mv(s,e,r){var n,a,l,u;const d=s.split(`
`),A=[];let o="",f=0;const m=e.baseIndentSize||2;for(;f<d.length;){const p=d[f],x=p.match(e.itemPattern);if(!x){if(A.length>0)break;if(p.trim()===""){f+=1,o=`${o}${p}
`;continue}else return}const b=e.extractItemData(x),{indentLevel:y,mainContent:w}=b;o=`${o}${p}
`;const E=[w];for(f+=1;f<d.length;){const Y=d[f];if(Y.trim()===""){const G=d.slice(f+1).findIndex(je=>je.trim()!=="");if(G===-1)break;if((((a=(n=d[f+1+G].match(/^(\s*)/))==null?void 0:n[1])==null?void 0:a.length)||0)>y){E.push(Y),o=`${o}${Y}
`,f+=1;continue}else break}if((((u=(l=Y.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:u.length)||0)>y)E.push(Y),o=`${o}${Y}
`,f+=1;else break}let R;const z=E.slice(1);if(z.length>0){const Y=z.map(Q=>Q.slice(y+m)).join(`
`);Y.trim()&&(e.customNestedParser?R=e.customNestedParser(Y):R=r.blockTokens(Y))}const X=e.createToken(b,R);A.push(X)}if(A.length!==0)return{items:A,raw:o}}function Qy(s,e,r,n){if(!s||!Array.isArray(s.content))return"";const a=typeof r=="function"?r(n):r,[l,...u]=s.content,d=e.renderChildren([l]),A=[`${a}${d}`];return u&&u.length>0&&u.forEach(o=>{const f=e.renderChildren([o]);if(f){const m=f.split(`
`).map(p=>p?e.indent(p):"").join(`
`);A.push(m)}}),A.join(`
`)}function q_(s,e,r={}){const{state:n}=e,{doc:a,tr:l}=n,u=s;a.descendants((d,A)=>{const o=l.mapping.map(A),f=l.mapping.map(A)+d.nodeSize;let m=null;if(d.marks.forEach(x=>{if(x!==u)return!1;m=x}),!m)return;let p=!1;if(Object.keys(r).forEach(x=>{r[x]!==m.attrs[x]&&(p=!0)}),p){const x=s.type.create({...s.attrs,...r});l.removeMark(o,f,s.type),l.addMark(o,f,x)}}),l.docChanged&&e.view.dispatch(l)}var Fd=class ak extends Dy{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new ak(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function Dh(s){return new M_({find:s.find,handler:({state:e,range:r,match:n,pasteEvent:a})=>{const l=ji(s.getAttributes,void 0,n,a);if(l===!1||l===null)return null;const{tr:u}=e,d=n[n.length-1],A=n[0];let o=r.to;if(d){const f=A.search(/\S/),m=r.from+A.indexOf(d),p=m+d.length;if(Iy(r.from,r.to,e.doc).filter(b=>b.mark.type.excluded.find(w=>w===s.type&&w!==b.mark.type)).filter(b=>b.to>m).length)return null;p<r.to&&u.delete(p,r.to),m>r.from&&u.delete(r.from+f,m),o=r.from+f+d.length,u.addMark(r.from+f,o,s.type.create(l||{})),u.removeStoredMark(s.type)}}})}const{getOwnPropertyNames:eH,getOwnPropertySymbols:tH}=Object,{hasOwnProperty:sH}=Object.prototype;function Ob(s,e){return function(n,a,l){return s(n,a,l)&&e(n,a,l)}}function fp(s){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return s(r,n,a);const{cache:l}=a,u=l.get(r),d=l.get(n);if(u&&d)return u===n&&d===r;l.set(r,n),l.set(n,r);const A=s(r,n,a);return l.delete(r),l.delete(n),A}}function rH(s){return s!=null?s[Symbol.toStringTag]:void 0}function hj(s){return eH(s).concat(tH(s))}const nH=Object.hasOwn||((s,e)=>sH.call(s,e));function Sf(s,e){return s===e||!s&&!e&&s!==s&&e!==e}const aH="__v",iH="__o",oH="_owner",{getOwnPropertyDescriptor:fj,keys:mj}=Object;function lH(s,e){return s.byteLength===e.byteLength&&hg(new Uint8Array(s),new Uint8Array(e))}function cH(s,e,r){let n=s.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(s[n],e[n],n,n,s,e,r))return!1;return!0}function dH(s,e){return s.byteLength===e.byteLength&&hg(new Uint8Array(s.buffer,s.byteOffset,s.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function uH(s,e){return Sf(s.getTime(),e.getTime())}function AH(s,e){return s.name===e.name&&s.message===e.message&&s.cause===e.cause&&s.stack===e.stack}function hH(s,e){return s===e}function pj(s,e,r){const n=s.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),l=s.entries();let u,d,A=0;for(;(u=l.next())&&!u.done;){const o=e.entries();let f=!1,m=0;for(;(d=o.next())&&!d.done;){if(a[m]){m++;continue}const p=u.value,x=d.value;if(r.equals(p[0],x[0],A,m,s,e,r)&&r.equals(p[1],x[1],p[0],x[0],s,e,r)){f=a[m]=!0;break}m++}if(!f)return!1;A++}return!0}const fH=Sf;function mH(s,e,r){const n=mj(s);let a=n.length;if(mj(e).length!==a)return!1;for(;a-- >0;)if(!ik(s,e,r,n[a]))return!1;return!0}function H0(s,e,r){const n=hj(s);let a=n.length;if(hj(e).length!==a)return!1;let l,u,d;for(;a-- >0;)if(l=n[a],!ik(s,e,r,l)||(u=fj(s,l),d=fj(e,l),(u||d)&&(!u||!d||u.configurable!==d.configurable||u.enumerable!==d.enumerable||u.writable!==d.writable)))return!1;return!0}function pH(s,e){return Sf(s.valueOf(),e.valueOf())}function gH(s,e){return s.source===e.source&&s.flags===e.flags}function gj(s,e,r){const n=s.size;if(n!==e.size)return!1;if(!n)return!0;const a=new Array(n),l=s.values();let u,d;for(;(u=l.next())&&!u.done;){const A=e.values();let o=!1,f=0;for(;(d=A.next())&&!d.done;){if(!a[f]&&r.equals(u.value,d.value,u.value,d.value,s,e,r)){o=a[f]=!0;break}f++}if(!o)return!1}return!0}function hg(s,e){let r=s.byteLength;if(e.byteLength!==r||s.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(s[r]!==e[r])return!1;return!0}function xH(s,e){return s.hostname===e.hostname&&s.pathname===e.pathname&&s.protocol===e.protocol&&s.port===e.port&&s.hash===e.hash&&s.username===e.username&&s.password===e.password}function ik(s,e,r,n){return(n===oH||n===iH||n===aH)&&(s.$$typeof||e.$$typeof)?!0:nH(e,n)&&r.equals(s[n],e[n],n,n,s,e,r)}const bH="[object ArrayBuffer]",vH="[object Arguments]",yH="[object Boolean]",wH="[object DataView]",jH="[object Date]",NH="[object Error]",CH="[object Map]",kH="[object Number]",BH="[object Object]",SH="[object RegExp]",EH="[object Set]",TH="[object String]",UH={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},LH="[object URL]",FH=Object.prototype.toString;function MH({areArrayBuffersEqual:s,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:a,areFunctionsEqual:l,areMapsEqual:u,areNumbersEqual:d,areObjectsEqual:A,arePrimitiveWrappersEqual:o,areRegExpsEqual:f,areSetsEqual:m,areTypedArraysEqual:p,areUrlsEqual:x,unknownTagComparators:b}){return function(w,E,R){if(w===E)return!0;if(w==null||E==null)return!1;const z=typeof w;if(z!==typeof E)return!1;if(z!=="object")return z==="number"?d(w,E,R):z==="function"?l(w,E,R):!1;const X=w.constructor;if(X!==E.constructor)return!1;if(X===Object)return A(w,E,R);if(Array.isArray(w))return e(w,E,R);if(X===Date)return n(w,E,R);if(X===RegExp)return f(w,E,R);if(X===Map)return u(w,E,R);if(X===Set)return m(w,E,R);const Y=FH.call(w);if(Y===jH)return n(w,E,R);if(Y===SH)return f(w,E,R);if(Y===CH)return u(w,E,R);if(Y===EH)return m(w,E,R);if(Y===BH)return typeof w.then!="function"&&typeof E.then!="function"&&A(w,E,R);if(Y===LH)return x(w,E,R);if(Y===NH)return a(w,E,R);if(Y===vH)return A(w,E,R);if(UH[Y])return p(w,E,R);if(Y===bH)return s(w,E,R);if(Y===wH)return r(w,E,R);if(Y===yH||Y===kH||Y===TH)return o(w,E,R);if(b){let Q=b[Y];if(!Q){const G=rH(w);G&&(Q=b[G])}if(Q)return Q(w,E,R)}return!1}}function OH({circular:s,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:lH,areArraysEqual:r?H0:cH,areDataViewsEqual:dH,areDatesEqual:uH,areErrorsEqual:AH,areFunctionsEqual:hH,areMapsEqual:r?Ob(pj,H0):pj,areNumbersEqual:fH,areObjectsEqual:r?H0:mH,arePrimitiveWrappersEqual:pH,areRegExpsEqual:gH,areSetsEqual:r?Ob(gj,H0):gj,areTypedArraysEqual:r?Ob(hg,H0):hg,areUrlsEqual:xH,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),s){const a=fp(n.areArraysEqual),l=fp(n.areMapsEqual),u=fp(n.areObjectsEqual),d=fp(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:a,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return n}function IH(s){return function(e,r,n,a,l,u,d){return s(e,r,d)}}function DH({circular:s,comparator:e,createState:r,equals:n,strict:a}){if(r)return function(d,A){const{cache:o=s?new WeakMap:void 0,meta:f}=r();return e(d,A,{cache:o,equals:n,meta:f,strict:a})};if(s)return function(d,A){return e(d,A,{cache:new WeakMap,equals:n,meta:void 0,strict:a})};const l={cache:void 0,equals:n,meta:void 0,strict:a};return function(d,A){return e(d,A,l)}}const RH=Hh();Hh({strict:!0});Hh({circular:!0});Hh({circular:!0,strict:!0});Hh({createInternalComparator:()=>Sf});Hh({strict:!0,createInternalComparator:()=>Sf});Hh({circular:!0,createInternalComparator:()=>Sf});Hh({circular:!0,createInternalComparator:()=>Sf,strict:!0});function Hh(s={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:a=!1}=s,l=OH(s),u=MH(l),d=r?r(u):IH(u);return DH({circular:e,comparator:u,createState:n,equals:d,strict:a})}var Ib={exports:{}},Db={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xj;function PH(){if(xj)return Db;xj=1;var s=km(),e=B5();function r(o,f){return o===f&&(o!==0||1/o===1/f)||o!==o&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,l=s.useRef,u=s.useEffect,d=s.useMemo,A=s.useDebugValue;return Db.useSyncExternalStoreWithSelector=function(o,f,m,p,x){var b=l(null);if(b.current===null){var y={hasValue:!1,value:null};b.current=y}else y=b.current;b=d(function(){function E(Q){if(!R){if(R=!0,z=Q,Q=p(Q),x!==void 0&&y.hasValue){var G=y.value;if(x(G,Q))return X=G}return X=Q}if(G=X,n(z,Q))return G;var le=p(Q);return x!==void 0&&x(G,le)?(z=Q,G):(z=Q,X=le)}var R=!1,z,X,Y=m===void 0?null:m;return[function(){return E(f())},Y===null?void 0:function(){return E(Y())}]},[f,m,p,x]);var w=a(o,b[0],b[1]);return u(function(){y.hasValue=!0,y.value=w},[w]),A(w),w},Db}var bj;function QH(){return bj||(bj=1,Ib.exports=PH()),Ib.exports}var _H=QH(),HH=(...s)=>e=>{s.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},zH=({contentComponent:s})=>{const e=ny.useSyncExternalStore(s.subscribe,s.getSnapshot,s.getServerSnapshot);return t.jsx(t.Fragment,{children:Object.values(e)})};function $H(){const s=new Set;let e={};return{subscribe(r){return s.add(r),()=>{s.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:Wj.createPortal(n.reactElement,n.element,r)},s.forEach(a=>a())},removeRenderer(r){const n={...e};delete n[r],e=n,s.forEach(a=>a())}}}var VH=class extends Tc.Component{constructor(s){var e;super(s),this.editorContentRef=Tc.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=s.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var s;const e=this.props.editor;if(e&&!e.isDestroyed&&((s=e.view.dom)!=null&&s.parentNode)){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r}),e.contentComponent=$H(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(n=>n.hasContentComponentInitialized?n:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var s;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((s=e.view.dom)!=null&&s.parentNode))return;const r=document.createElement("div");r.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:r})}catch{}}}render(){const{editor:s,innerRef:e,...r}=this.props;return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:HH(e,this.editorContentRef),...r}),(s==null?void 0:s.contentComponent)&&t.jsx(zH,{contentComponent:s.contentComponent})]})}},KH=W.forwardRef((s,e)=>{const r=Tc.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[s.editor]);return Tc.createElement(VH,{key:r,innerRef:e,...s})}),GH=Tc.memo(KH),WH=typeof window<"u"?W.useLayoutEffect:W.useEffect,YH=class{constructor(s){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=s,this.lastSnapshot={editor:s,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(s){return this.subscribers.add(s),()=>{this.subscribers.delete(s)}}watch(s){if(this.editor=s,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function XH(s){var e;const[r]=W.useState(()=>new YH(s.editor)),n=_H.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,s.selector,(e=s.equalityFn)!=null?e:RH);return WH(()=>r.watch(s.editor),[s.editor,r]),W.useDebugValue(n),n}var JH=!1,Ov=typeof window>"u",ZH=Ov||!!(typeof window<"u"&&window.next),qH=class ok{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Ov||ZH?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var a,l;return(l=(a=this.options.current).onBeforeCreate)==null?void 0:l.call(a,...n)},onBlur:(...n)=>{var a,l;return(l=(a=this.options.current).onBlur)==null?void 0:l.call(a,...n)},onCreate:(...n)=>{var a,l;return(l=(a=this.options.current).onCreate)==null?void 0:l.call(a,...n)},onDestroy:(...n)=>{var a,l;return(l=(a=this.options.current).onDestroy)==null?void 0:l.call(a,...n)},onFocus:(...n)=>{var a,l;return(l=(a=this.options.current).onFocus)==null?void 0:l.call(a,...n)},onSelectionUpdate:(...n)=>{var a,l;return(l=(a=this.options.current).onSelectionUpdate)==null?void 0:l.call(a,...n)},onTransaction:(...n)=>{var a,l;return(l=(a=this.options.current).onTransaction)==null?void 0:l.call(a,...n)},onUpdate:(...n)=>{var a,l;return(l=(a=this.options.current).onUpdate)==null?void 0:l.call(a,...n)},onContentError:(...n)=>{var a,l;return(l=(a=this.options.current).onContentError)==null?void 0:l.call(a,...n)},onDrop:(...n)=>{var a,l;return(l=(a=this.options.current).onDrop)==null?void 0:l.call(a,...n)},onPaste:(...n)=>{var a,l;return(l=(a=this.options.current).onPaste)==null?void 0:l.call(a,...n)},onDelete:(...n)=>{var a,l;return(l=(a=this.options.current).onDelete)==null?void 0:l.call(a,...n)}};return new z_(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((a,l)=>{var u;return a===((u=r.extensions)==null?void 0:u[l])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?ok.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,a)=>n===e[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function e9(s={},e=[]){const r=W.useRef(s);r.current=s;const[n]=W.useState(()=>new qH(r)),a=ny.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return W.useDebugValue(a),W.useEffect(n.onRender(e)),XH({editor:a,selector:({transactionNumber:l})=>s.shouldRerenderOnTransaction===!1||s.shouldRerenderOnTransaction===void 0?null:s.immediatelyRender&&l===0?0:l+1}),a}var t9=W.createContext({editor:null});t9.Consumer;var s9=W.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),r9=()=>W.useContext(s9);Tc.forwardRef((s,e)=>{const{onDragStart:r}=r9(),n=s.as||"div";return t.jsx(n,{...s,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...s.style}})});Tc.createContext({markViewContentRef:()=>{}});var fg=(s,e)=>{if(s==="slot")return 0;if(s instanceof Function)return s(e);const{children:r,...n}=e??{};if(s==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[s,n,r]},n9=/^\s*>\s$/,a9=Fd.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:s}){return fg("blockquote",{...So(this.options.HTMLAttributes,s),children:fg("slot",{})})},parseMarkdown:(s,e)=>e.createNode("blockquote",void 0,e.parseChildren(s.tokens||[])),renderMarkdown:(s,e)=>{if(!s.content)return"";const r=">",n=[];return s.content.forEach(a=>{const d=e.renderChildren([a]).split(`
`).map(A=>A.trim()===""?r:`${r} ${A}`);n.push(d.join(`
`))}),n.join(`
${r}
`)},addCommands(){return{setBlockquote:()=>({commands:s})=>s.wrapIn(this.name),toggleBlockquote:()=>({commands:s})=>s.toggleWrap(this.name),unsetBlockquote:()=>({commands:s})=>s.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[p0({find:n9,type:this.type})]}}),i9=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,o9=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,l9=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,c9=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,d9=HA.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:s=>s.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:s=>s.type.name===this.name},{style:"font-weight",getAttrs:s=>/^(bold(er)?|[5-9]\d{2,})$/.test(s)&&null}]},renderHTML({HTMLAttributes:s}){return fg("strong",{...So(this.options.HTMLAttributes,s),children:fg("slot",{})})},markdownTokenName:"strong",parseMarkdown:(s,e)=>e.applyMark("bold",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`**${e.renderChildren(s)}**`,addCommands(){return{setBold:()=>({commands:s})=>s.setMark(this.name),toggleBold:()=>({commands:s})=>s.toggleMark(this.name),unsetBold:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Cf({find:i9,type:this.type}),Cf({find:l9,type:this.type})]},addPasteRules(){return[Dh({find:o9,type:this.type}),Dh({find:c9,type:this.type})]}}),u9=/(^|[^`])`([^`]+)`(?!`)$/,A9=/(^|[^`])`([^`]+)`(?!`)/g,h9=HA.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:s}){return["code",So(this.options.HTMLAttributes,s),0]},markdownTokenName:"codespan",parseMarkdown:(s,e)=>e.applyMark("code",[{type:"text",text:s.text||""}]),renderMarkdown:(s,e)=>s.content?`\`${e.renderChildren(s.content)}\``:"",addCommands(){return{setCode:()=>({commands:s})=>s.setMark(this.name),toggleCode:()=>({commands:s})=>s.toggleMark(this.name),unsetCode:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Cf({find:u9,type:this.type})]},addPasteRules(){return[Dh({find:A9,type:this.type})]}}),Rb=4,f9=/^```([a-z]+)?[\s\n]$/,m9=/^~~~([a-z]+)?[\s\n]$/,p9=Fd.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Rb,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:s=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const l=[...((e=s.firstElementChild)==null?void 0:e.classList)||[]].filter(u=>u.startsWith(r)).map(u=>u.replace(r,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:s,HTMLAttributes:e}){return["pre",So(this.options.HTMLAttributes,e),["code",{class:s.attrs.language?this.options.languageClassPrefix+s.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(s,e)=>{var r;return((r=s.raw)==null?void 0:r.startsWith("```"))===!1&&s.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:s.lang||null},s.text?[e.createTextNode(s.text)]:[])},renderMarkdown:(s,e)=>{var r;let n="";const a=((r=s.attrs)==null?void 0:r.language)||"";return s.content?n=[`\`\`\`${a}`,e.renderChildren(s.content),"```"].join(`
`):n=`\`\`\`${a}

\`\`\``,n},addCommands(){return{setCodeBlock:s=>({commands:e})=>e.setNode(this.name,s),toggleCodeBlock:s=>({commands:e})=>e.toggleNode(this.name,"paragraph",s)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:s,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!s||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:s})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Rb,{state:n}=s,{selection:a}=n,{$from:l,empty:u}=a;if(l.parent.type!==this.type)return!1;const d=" ".repeat(r);return u?s.commands.insertContent(d):s.commands.command(({tr:A})=>{const{from:o,to:f}=a,x=n.doc.textBetween(o,f,`
`,`
`).split(`
`).map(b=>d+b).join(`
`);return A.replaceWith(o,f,n.schema.text(x)),!0})},"Shift-Tab":({editor:s})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:Rb,{state:n}=s,{selection:a}=n,{$from:l,empty:u}=a;return l.parent.type!==this.type?!1:u?s.commands.command(({tr:d})=>{var A;const{pos:o}=l,f=l.start(),m=l.end(),x=n.doc.textBetween(f,m,`
`,`
`).split(`
`);let b=0,y=0;const w=o-f;for(let Q=0;Q<x.length;Q+=1){if(y+x[Q].length>=w){b=Q;break}y+=x[Q].length+1}const R=((A=x[b].match(/^ */))==null?void 0:A[0])||"",z=Math.min(R.length,r);if(z===0)return!0;let X=f;for(let Q=0;Q<b;Q+=1)X+=x[Q].length+1;return d.delete(X,X+z),o-X<=z&&d.setSelection(Kn.create(d.doc,X)),!0}):s.commands.command(({tr:d})=>{const{from:A,to:o}=a,p=n.doc.textBetween(A,o,`
`,`
`).split(`
`).map(x=>{var b;const y=((b=x.match(/^ */))==null?void 0:b[0])||"",w=Math.min(y.length,r);return x.slice(w)}).join(`
`);return d.replaceWith(A,o,n.schema.text(p)),!0})},Enter:({editor:s})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=s,{selection:r}=e,{$from:n,empty:a}=r;if(!a||n.parent.type!==this.type)return!1;const l=n.parentOffset===n.parent.nodeSize-2,u=n.parent.textContent.endsWith(`

`);return!l||!u?!1:s.chain().command(({tr:d})=>(d.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:s})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=s,{selection:r,doc:n}=e,{$from:a,empty:l}=r;if(!l||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const d=a.after();return d===void 0?!1:n.nodeAt(d)?s.commands.command(({tr:o})=>(o.setSelection(Aa.near(n.resolve(d))),!0)):s.commands.exitCode()}}},addInputRules(){return[Fv({find:f9,type:this.type,getAttributes:s=>({language:s[1]})}),Fv({find:m9,type:this.type,getAttributes:s=>({language:s[1]})})]},addProseMirrorPlugins(){return[new Eo({key:new $l("codeBlockVSCodeHandler"),props:{handlePaste:(s,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),a=n?JSON.parse(n):void 0,l=a==null?void 0:a.mode;if(!r||!l)return!1;const{tr:u,schema:d}=s.state,A=d.text(r.replace(/\r\n?/g,`
`));return u.replaceSelectionWith(this.type.create({language:l},A)),u.selection.$from.parent.type!==this.type&&u.setSelection(Kn.near(u.doc.resolve(Math.max(0,u.selection.from-2)))),u.setMeta("paste",!0),s.dispatch(u),!0}}})]}}),g9=Fd.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`

`):""}),x9=Fd.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:s}){return["br",So(this.options.HTMLAttributes,s)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:s,chain:e,state:r,editor:n})=>s.first([()=>s.exitCode(),()=>s.command(()=>{const{selection:a,storedMarks:l}=r;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:u}=this.options,{splittableMarks:d}=n.extensionManager,A=l||a.$to.parentOffset&&a.$from.marks();return e().insertContent({type:this.name}).command(({tr:o,dispatch:f})=>{if(f&&A&&u){const m=A.filter(p=>d.includes(p.type.name));o.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),b9=Fd.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(s=>({tag:`h${s}`,attrs:{level:s}}))},renderHTML({node:s,HTMLAttributes:e}){return[`h${this.options.levels.includes(s.attrs.level)?s.attrs.level:this.options.levels[0]}`,So(this.options.HTMLAttributes,e),0]},parseMarkdown:(s,e)=>e.createNode("heading",{level:s.depth||1},e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>{var r;const n=(r=s.attrs)!=null&&r.level?parseInt(s.attrs.level,10):1,a="#".repeat(n);return s.content?`${a} ${e.renderChildren(s.content)}`:""},addCommands(){return{setHeading:s=>({commands:e})=>this.options.levels.includes(s.level)?e.setNode(this.name,s):!1,toggleHeading:s=>({commands:e})=>this.options.levels.includes(s.level)?e.toggleNode(this.name,"paragraph",s):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((s,e)=>({...s,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(s=>Fv({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${s}})\\s$`),type:this.type,getAttributes:{level:s}}))}}),v9=Fd.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:s}){return["hr",So(this.options.HTMLAttributes,s)]},markdownTokenName:"hr",parseMarkdown:(s,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:s,state:e})=>{if(!K_(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,a=s();return _C(r)?a.insertContentAt(n.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:l,tr:u,dispatch:d})=>{if(d){const{$to:A}=u.selection,o=A.end();if(A.nodeAfter)A.nodeAfter.isTextblock?u.setSelection(Kn.create(u.doc,A.pos+1)):A.nodeAfter.isBlock?u.setSelection(wn.create(u.doc,A.pos)):u.setSelection(Kn.create(u.doc,A.pos));else{const f=l.schema.nodes[this.options.nextNodeType]||A.parent.type.contentMatch.defaultType,m=f==null?void 0:f.create();m&&(u.insert(o,m),u.setSelection(Kn.create(u.doc,o+1)))}u.scrollIntoView()}return!0}).run()}}},addInputRules(){return[nk({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),y9=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,w9=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,j9=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,N9=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,C9=HA.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:s=>s.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:s=>s.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:s}){return["em",So(this.options.HTMLAttributes,s),0]},addCommands(){return{setItalic:()=>({commands:s})=>s.setMark(this.name),toggleItalic:()=>({commands:s})=>s.toggleMark(this.name),unsetItalic:()=>({commands:s})=>s.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(s,e)=>e.applyMark("italic",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`*${e.renderChildren(s)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Cf({find:y9,type:this.type}),Cf({find:j9,type:this.type})]},addPasteRules(){return[Dh({find:w9,type:this.type}),Dh({find:N9,type:this.type})]}});const k9="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",B9="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Iv="numeric",Dv="ascii",Rv="alpha",am="asciinumeric",Y0="alphanumeric",Pv="domain",lk="emoji",S9="scheme",E9="slashscheme",Pb="whitespace";function T9(s,e){return s in e||(e[s]=[]),e[s]}function uf(s,e,r){e[Iv]&&(e[am]=!0,e[Y0]=!0),e[Dv]&&(e[am]=!0,e[Rv]=!0),e[am]&&(e[Y0]=!0),e[Rv]&&(e[Y0]=!0),e[Y0]&&(e[Pv]=!0),e[lk]&&(e[Pv]=!0);for(const n in e){const a=T9(n,r);a.indexOf(s)<0&&a.push(s)}}function U9(s,e){const r={};for(const n in e)e[n].indexOf(s)>=0&&(r[n]=!0);return r}function Sd(s=null){this.j={},this.jr=[],this.jd=null,this.t=s}Sd.groups={};Sd.prototype={accepts(){return!!this.t},go(s){const e=this,r=e.j[s];if(r)return r;for(let n=0;n<e.jr.length;n++){const a=e.jr[n][0],l=e.jr[n][1];if(l&&a.test(s))return l}return e.jd},has(s,e=!1){return e?s in this.j:!!this.go(s)},ta(s,e,r,n){for(let a=0;a<s.length;a++)this.tt(s[a],e,r,n)},tr(s,e,r,n){n=n||Sd.groups;let a;return e&&e.j?a=e:(a=new Sd(e),r&&n&&uf(e,r,n)),this.jr.push([s,a]),a},ts(s,e,r,n){let a=this;const l=s.length;if(!l)return a;for(let u=0;u<l-1;u++)a=a.tt(s[u]);return a.tt(s[l-1],e,r,n)},tt(s,e,r,n){n=n||Sd.groups;const a=this;if(e&&e.j)return a.j[s]=e,e;const l=e;let u,d=a.go(s);if(d?(u=new Sd,Object.assign(u.j,d.j),u.jr.push.apply(u.jr,d.jr),u.jd=d.jd,u.t=d.t):u=new Sd,l){if(n)if(u.t&&typeof u.t=="string"){const A=Object.assign(U9(u.t,n),r);uf(l,A,n)}else r&&uf(l,r,n);u.t=l}return a.j[s]=u,u}};const da=(s,e,r,n,a)=>s.ta(e,r,n,a),Vo=(s,e,r,n,a)=>s.tr(e,r,n,a),vj=(s,e,r,n,a)=>s.ts(e,r,n,a),qs=(s,e,r,n,a)=>s.tt(e,r,n,a),MA="WORD",Qv="UWORD",ck="ASCIINUMERICAL",dk="ALPHANUMERICAL",Nm="LOCALHOST",_v="TLD",Hv="UTLD",Up="SCHEME",e0="SLASH_SCHEME",_y="NUM",zv="WS",Hy="NL",im="OPENBRACE",om="CLOSEBRACE",mg="OPENBRACKET",pg="CLOSEBRACKET",gg="OPENPAREN",xg="CLOSEPAREN",bg="OPENANGLEBRACKET",vg="CLOSEANGLEBRACKET",yg="FULLWIDTHLEFTPAREN",wg="FULLWIDTHRIGHTPAREN",jg="LEFTCORNERBRACKET",Ng="RIGHTCORNERBRACKET",Cg="LEFTWHITECORNERBRACKET",kg="RIGHTWHITECORNERBRACKET",Bg="FULLWIDTHLESSTHAN",Sg="FULLWIDTHGREATERTHAN",Eg="AMPERSAND",Tg="APOSTROPHE",Ug="ASTERISK",vh="AT",Lg="BACKSLASH",Fg="BACKTICK",Mg="CARET",jh="COLON",zy="COMMA",Og="DOLLAR",Yu="DOT",Ig="EQUALS",$y="EXCLAMATION",lu="HYPHEN",lm="PERCENT",Dg="PIPE",Rg="PLUS",Pg="POUND",cm="QUERY",Vy="QUOTE",uk="FULLWIDTHMIDDLEDOT",Ky="SEMI",Xu="SLASH",dm="TILDE",Qg="UNDERSCORE",Ak="EMOJI",_g="SYM";var hk=Object.freeze({__proto__:null,ALPHANUMERICAL:dk,AMPERSAND:Eg,APOSTROPHE:Tg,ASCIINUMERICAL:ck,ASTERISK:Ug,AT:vh,BACKSLASH:Lg,BACKTICK:Fg,CARET:Mg,CLOSEANGLEBRACKET:vg,CLOSEBRACE:om,CLOSEBRACKET:pg,CLOSEPAREN:xg,COLON:jh,COMMA:zy,DOLLAR:Og,DOT:Yu,EMOJI:Ak,EQUALS:Ig,EXCLAMATION:$y,FULLWIDTHGREATERTHAN:Sg,FULLWIDTHLEFTPAREN:yg,FULLWIDTHLESSTHAN:Bg,FULLWIDTHMIDDLEDOT:uk,FULLWIDTHRIGHTPAREN:wg,HYPHEN:lu,LEFTCORNERBRACKET:jg,LEFTWHITECORNERBRACKET:Cg,LOCALHOST:Nm,NL:Hy,NUM:_y,OPENANGLEBRACKET:bg,OPENBRACE:im,OPENBRACKET:mg,OPENPAREN:gg,PERCENT:lm,PIPE:Dg,PLUS:Rg,POUND:Pg,QUERY:cm,QUOTE:Vy,RIGHTCORNERBRACKET:Ng,RIGHTWHITECORNERBRACKET:kg,SCHEME:Up,SEMI:Ky,SLASH:Xu,SLASH_SCHEME:e0,SYM:_g,TILDE:dm,TLD:_v,UNDERSCORE:Qg,UTLD:Hv,UWORD:Qv,WORD:MA,WS:zv});const LA=/[a-z]/,z0=new RegExp("\\p{L}","u"),Qb=new RegExp("\\p{Emoji}","u"),FA=/\d/,_b=/\s/,yj="\r",Hb=`
`,L9="",F9="",zb="";let mp=null,pp=null;function M9(s=[]){const e={};Sd.groups=e;const r=new Sd;mp==null&&(mp=wj(k9)),pp==null&&(pp=wj(B9)),qs(r,"'",Tg),qs(r,"{",im),qs(r,"}",om),qs(r,"[",mg),qs(r,"]",pg),qs(r,"(",gg),qs(r,")",xg),qs(r,"<",bg),qs(r,">",vg),qs(r,"",yg),qs(r,"",wg),qs(r,"",jg),qs(r,"",Ng),qs(r,"",Cg),qs(r,"",kg),qs(r,"",Bg),qs(r,"",Sg),qs(r,"&",Eg),qs(r,"*",Ug),qs(r,"@",vh),qs(r,"`",Fg),qs(r,"^",Mg),qs(r,":",jh),qs(r,",",zy),qs(r,"$",Og),qs(r,".",Yu),qs(r,"=",Ig),qs(r,"!",$y),qs(r,"-",lu),qs(r,"%",lm),qs(r,"|",Dg),qs(r,"+",Rg),qs(r,"#",Pg),qs(r,"?",cm),qs(r,'"',Vy),qs(r,"/",Xu),qs(r,";",Ky),qs(r,"~",dm),qs(r,"_",Qg),qs(r,"\\",Lg),qs(r,"",uk);const n=Vo(r,FA,_y,{[Iv]:!0});Vo(n,FA,n);const a=Vo(n,LA,ck,{[am]:!0}),l=Vo(n,z0,dk,{[Y0]:!0}),u=Vo(r,LA,MA,{[Dv]:!0});Vo(u,FA,a),Vo(u,LA,u),Vo(a,FA,a),Vo(a,LA,a);const d=Vo(r,z0,Qv,{[Rv]:!0});Vo(d,LA),Vo(d,FA,l),Vo(d,z0,d),Vo(l,FA,l),Vo(l,LA),Vo(l,z0,l);const A=qs(r,Hb,Hy,{[Pb]:!0}),o=qs(r,yj,zv,{[Pb]:!0}),f=Vo(r,_b,zv,{[Pb]:!0});qs(r,zb,f),qs(o,Hb,A),qs(o,zb,f),Vo(o,_b,f),qs(f,yj),qs(f,Hb),Vo(f,_b,f),qs(f,zb,f);const m=Vo(r,Qb,Ak,{[lk]:!0});qs(m,"#"),Vo(m,Qb,m),qs(m,L9,m);const p=qs(m,F9);qs(p,"#"),Vo(p,Qb,m);const x=[[LA,u],[FA,a]],b=[[LA,null],[z0,d],[FA,l]];for(let y=0;y<mp.length;y++)gh(r,mp[y],_v,MA,x);for(let y=0;y<pp.length;y++)gh(r,pp[y],Hv,Qv,b);uf(_v,{tld:!0,ascii:!0},e),uf(Hv,{utld:!0,alpha:!0},e),gh(r,"file",Up,MA,x),gh(r,"mailto",Up,MA,x),gh(r,"http",e0,MA,x),gh(r,"https",e0,MA,x),gh(r,"ftp",e0,MA,x),gh(r,"ftps",e0,MA,x),uf(Up,{scheme:!0,ascii:!0},e),uf(e0,{slashscheme:!0,ascii:!0},e),s=s.sort((y,w)=>y[0]>w[0]?1:-1);for(let y=0;y<s.length;y++){const w=s[y][0],R=s[y][1]?{[S9]:!0}:{[E9]:!0};w.indexOf("-")>=0?R[Pv]=!0:LA.test(w)?FA.test(w)?R[am]=!0:R[Dv]=!0:R[Iv]=!0,vj(r,w,w,R)}return vj(r,"localhost",Nm,{ascii:!0}),r.jd=new Sd(_g),{start:r,tokens:Object.assign({groups:e},hk)}}function fk(s,e){const r=O9(e.replace(/[A-Z]/g,d=>d.toLowerCase())),n=r.length,a=[];let l=0,u=0;for(;u<n;){let d=s,A=null,o=0,f=null,m=-1,p=-1;for(;u<n&&(A=d.go(r[u]));)d=A,d.accepts()?(m=0,p=0,f=d):m>=0&&(m+=r[u].length,p++),o+=r[u].length,l+=r[u].length,u++;l-=m,u-=p,o-=m,a.push({t:f.t,v:e.slice(l-o,l),s:l-o,e:l})}return a}function O9(s){const e=[],r=s.length;let n=0;for(;n<r;){let a=s.charCodeAt(n),l,u=a<55296||a>56319||n+1===r||(l=s.charCodeAt(n+1))<56320||l>57343?s[n]:s.slice(n,n+2);e.push(u),n+=u.length}return e}function gh(s,e,r,n,a){let l;const u=e.length;for(let d=0;d<u-1;d++){const A=e[d];s.j[A]?l=s.j[A]:(l=new Sd(n),l.jr=a.slice(),s.j[A]=l),s=l}return l=new Sd(r),l.jr=a.slice(),s.j[e[u-1]]=l,l}function wj(s){const e=[],r=[];let n=0,a="0123456789";for(;n<s.length;){let l=0;for(;a.indexOf(s[n+l])>=0;)l++;if(l>0){e.push(r.join(""));for(let u=parseInt(s.substring(n,n+l),10);u>0;u--)r.pop();n+=l}else r.push(s[n]),n++}return e}const Cm={defaultProtocol:"http",events:null,format:jj,formatHref:jj,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Gy(s,e=null){let r=Object.assign({},Cm);s&&(r=Object.assign(r,s instanceof Gy?s.o:s));const n=r.ignoreTags,a=[];for(let l=0;l<n.length;l++)a.push(n[l].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=a}Gy.prototype={o:Cm,ignoreTags:[],defaultRender(s){return s},check(s){return this.get("validate",s.toString(),s)},get(s,e,r){const n=e!=null;let a=this.o[s];return a&&(typeof a=="object"?(a=r.t in a?a[r.t]:Cm[s],typeof a=="function"&&n&&(a=a(e,r))):typeof a=="function"&&n&&(a=a(e,r.t,r)),a)},getObj(s,e,r){let n=this.o[s];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(s){const e=s.render(this);return(this.get("render",null,s)||this.defaultRender)(e,s.t,s)}};function jj(s){return s}function mk(s,e){this.t="token",this.v=s,this.tk=e}mk.prototype={isLink:!1,toString(){return this.v},toHref(s){return this.toString()},toFormattedString(s){const e=this.toString(),r=s.get("truncate",e,this),n=s.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(s){return s.get("formatHref",this.toHref(s.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(s=Cm.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(s),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(s){return{type:this.t,value:this.toFormattedString(s),isLink:this.isLink,href:this.toFormattedHref(s),start:this.startIndex(),end:this.endIndex()}},validate(s){return s.get("validate",this.toString(),this)},render(s){const e=this,r=this.toHref(s.get("defaultProtocol")),n=s.get("formatHref",r,this),a=s.get("tagName",r,e),l=this.toFormattedString(s),u={},d=s.get("className",r,e),A=s.get("target",r,e),o=s.get("rel",r,e),f=s.getObj("attributes",r,e),m=s.getObj("events",r,e);return u.href=n,d&&(u.class=d),A&&(u.target=A),o&&(u.rel=o),f&&Object.assign(u,f),{tagName:a,attributes:u,content:l,eventListeners:m}}};function wx(s,e){class r extends mk{constructor(a,l){super(a,l),this.t=s}}for(const n in e)r.prototype[n]=e[n];return r.t=s,r}const Nj=wx("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Cj=wx("text"),I9=wx("nl"),gp=wx("url",{isLink:!0,toHref(s=Cm.defaultProtocol){return this.hasProtocol()?this.v:`${s}://${this.v}`},hasProtocol(){const s=this.tk;return s.length>=2&&s[0].t!==Nm&&s[1].t===jh}}),ou=s=>new Sd(s);function D9({groups:s}){const e=s.domain.concat([Eg,Ug,vh,Lg,Fg,Mg,Og,Ig,lu,_y,lm,Dg,Rg,Pg,Xu,_g,dm,Qg]),r=[Tg,jh,zy,Yu,$y,lm,cm,Vy,Ky,bg,vg,im,om,pg,mg,gg,xg,yg,wg,jg,Ng,Cg,kg,Bg,Sg],n=[Eg,Tg,Ug,Lg,Fg,Mg,Og,Ig,lu,im,om,lm,Dg,Rg,Pg,cm,Xu,_g,dm,Qg],a=ou(),l=qs(a,dm);da(l,n,l),da(l,s.domain,l);const u=ou(),d=ou(),A=ou();da(a,s.domain,u),da(a,s.scheme,d),da(a,s.slashscheme,A),da(u,n,l),da(u,s.domain,u);const o=qs(u,vh);qs(l,vh,o),qs(d,vh,o),qs(A,vh,o);const f=qs(l,Yu);da(f,n,l),da(f,s.domain,l);const m=ou();da(o,s.domain,m),da(m,s.domain,m);const p=qs(m,Yu);da(p,s.domain,m);const x=ou(Nj);da(p,s.tld,x),da(p,s.utld,x),qs(o,Nm,x);const b=qs(m,lu);qs(b,lu,b),da(b,s.domain,m),da(x,s.domain,m),qs(x,Yu,p),qs(x,lu,b);const y=qs(x,jh);da(y,s.numeric,Nj);const w=qs(u,lu),E=qs(u,Yu);qs(w,lu,w),da(w,s.domain,u),da(E,n,l),da(E,s.domain,u);const R=ou(gp);da(E,s.tld,R),da(E,s.utld,R),da(R,s.domain,u),da(R,n,l),qs(R,Yu,E),qs(R,lu,w),qs(R,vh,o);const z=qs(R,jh),X=ou(gp);da(z,s.numeric,X);const Y=ou(gp),Q=ou();da(Y,e,Y),da(Y,r,Q),da(Q,e,Y),da(Q,r,Q),qs(R,Xu,Y),qs(X,Xu,Y);const G=qs(d,jh),le=qs(A,jh),Ae=qs(le,Xu),je=qs(Ae,Xu);da(d,s.domain,u),qs(d,Yu,E),qs(d,lu,w),da(A,s.domain,u),qs(A,Yu,E),qs(A,lu,w),da(G,s.domain,Y),qs(G,Xu,Y),qs(G,cm,Y),da(je,s.domain,Y),da(je,e,Y),qs(je,Xu,Y);const ue=[[im,om],[mg,pg],[gg,xg],[bg,vg],[yg,wg],[jg,Ng],[Cg,kg],[Bg,Sg]];for(let Se=0;Se<ue.length;Se++){const[ae,Ne]=ue[Se],he=qs(Y,ae);qs(Q,ae,he),qs(he,Ne,Y);const se=ou(gp);da(he,e,se);const de=ou();da(he,r),da(se,e,se),da(se,r,de),da(de,e,se),da(de,r,de),qs(se,Ne,Y),qs(de,Ne,Y)}return qs(a,Nm,R),qs(a,Hy,I9),{start:a,tokens:hk}}function R9(s,e,r){let n=r.length,a=0,l=[],u=[];for(;a<n;){let d=s,A=null,o=null,f=0,m=null,p=-1;for(;a<n&&!(A=d.go(r[a].t));)u.push(r[a++]);for(;a<n&&(o=A||d.go(r[a].t));)A=null,d=o,d.accepts()?(p=0,m=d):p>=0&&p++,a++,f++;if(p<0)a-=f,a<n&&(u.push(r[a]),a++);else{u.length>0&&(l.push($b(Cj,e,u)),u=[]),a-=p,f-=p;const x=m.t,b=r.slice(a-f,a);l.push($b(x,e,b))}}return u.length>0&&l.push($b(Cj,e,u)),l}function $b(s,e,r){const n=r[0].s,a=r[r.length-1].e,l=e.slice(n,a);return new s(l,r)}const P9=typeof console<"u"&&console&&console.warn||(()=>{}),Q9="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ao={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function _9(){return Sd.groups={},ao.scanner=null,ao.parser=null,ao.tokenQueue=[],ao.pluginQueue=[],ao.customSchemes=[],ao.initialized=!1,ao}function kj(s,e=!1){if(ao.initialized&&P9(`linkifyjs: already initialized - will not register custom scheme "${s}" ${Q9}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(s))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ao.customSchemes.push([s,e])}function H9(){ao.scanner=M9(ao.customSchemes);for(let s=0;s<ao.tokenQueue.length;s++)ao.tokenQueue[s][1]({scanner:ao.scanner});ao.parser=D9(ao.scanner.tokens);for(let s=0;s<ao.pluginQueue.length;s++)ao.pluginQueue[s][1]({scanner:ao.scanner,parser:ao.parser});return ao.initialized=!0,ao}function Wy(s){return ao.initialized||H9(),R9(ao.parser.start,s,fk(ao.scanner.start,s))}Wy.scan=fk;function pk(s,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new Gy(r),a=Wy(s),l=[];for(let u=0;u<a.length;u++){const d=a[u];d.isLink&&(!e||d.t===e)&&n.check(d)&&l.push(d.toFormattedObject(n))}return l}var Yy="[\0- -\u2029]",z9=new RegExp(Yy),$9=new RegExp(`${Yy}$`),V9=new RegExp(Yy,"g");function K9(s){return s.length===1?s[0].isLink:s.length===3&&s[1].isLink?["()","[]"].includes(s[0].value+s[2].value):!1}function G9(s){return new Eo({key:new $l("autolink"),appendTransaction:(e,r,n)=>{const a=e.some(o=>o.docChanged)&&!r.doc.eq(n.doc),l=e.some(o=>o.getMeta("preventAutolink"));if(!a||l)return;const{tr:u}=n,d=FC(r.doc,[...e]);if(QC(d).forEach(({newRange:o})=>{const f=VQ(n.doc,o,x=>x.isTextblock);let m,p;if(f.length>1)m=f[0],p=n.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(f.length){const x=n.doc.textBetween(o.from,o.to," "," ");if(!$9.test(x))return;m=f[0],p=n.doc.textBetween(m.pos,o.to,void 0," ")}if(m&&p){const x=p.split(z9).filter(Boolean);if(x.length<=0)return!1;const b=x[x.length-1],y=m.pos+p.lastIndexOf(b);if(!b)return!1;const w=Wy(b).map(E=>E.toObject(s.defaultProtocol));if(!K9(w))return!1;w.filter(E=>E.isLink).map(E=>({...E,from:y+E.start+1,to:y+E.end+1})).filter(E=>n.schema.marks.code?!n.doc.rangeHasMark(E.from,E.to,n.schema.marks.code):!0).filter(E=>s.validate(E.value)).filter(E=>s.shouldAutoLink(E.value)).forEach(E=>{Iy(E.from,E.to,n.doc).some(R=>R.mark.type===s.type)||u.addMark(E.from,E.to,s.type.create({href:E.href}))})}}),!!u.steps.length)return u}})}function W9(s){return new Eo({key:new $l("handleClickLink"),props:{handleClick:(e,r,n)=>{var a,l;if(n.button!==0||!e.editable)return!1;let u=!1;if(s.enableClickSelection&&(u=s.editor.commands.extendMarkRange(s.type.name)),s.openOnClick){let d=null;if(n.target instanceof HTMLAnchorElement)d=n.target;else{let m=n.target;const p=[];for(;m.nodeName!=="DIV";)p.push(m),m=m.parentNode;d=p.find(x=>x.nodeName==="A")}if(!d)return u;const A=PC(e.state,s.type.name),o=(a=d==null?void 0:d.href)!=null?a:A.href,f=(l=d==null?void 0:d.target)!=null?l:A.target;d&&o&&(window.open(o,f),u=!0)}return u}}})}function Y9(s){return new Eo({key:new $l("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{shouldAutoLink:a}=s,{state:l}=e,{selection:u}=l,{empty:d}=u;if(d)return!1;let A="";n.content.forEach(f=>{A+=f.textContent});const o=pk(A,{defaultProtocol:s.defaultProtocol}).find(f=>f.isLink&&f.value===A);return!A||!o||a!==void 0&&!a(o.href)?!1:s.editor.commands.setMark(s.type,{href:o.href})}}})}function rf(s,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const a=typeof n=="string"?n:n.scheme;a&&r.push(a)}),!s||s.replace(V9,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var gk=HA.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(s=>{if(typeof s=="string"){kj(s);return}kj(s.scheme,s.optionalSlashes)})},onDestroy(){_9()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(s,e)=>!!rf(s,e.protocols),validate:s=>!!s,shouldAutoLink:s=>!!s}},addAttributes(){return{href:{default:null,parseHTML(s){return s.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:s=>{const e=s.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!rf(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:s}){return this.options.isAllowedUri(s.href,{defaultValidate:e=>!!rf(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",So(this.options.HTMLAttributes,s),0]:["a",So(this.options.HTMLAttributes,{...s,href:""}),0]},markdownTokenName:"link",parseMarkdown:(s,e)=>e.applyMark("link",e.parseInline(s.tokens||[]),{href:s.href,title:s.title||null}),renderMarkdown:(s,e)=>{var r;const n=((r=s.attrs)==null?void 0:r.href)||"";return`[${e.renderChildren(s)}](${n})`},addCommands(){return{setLink:s=>({chain:e})=>{const{href:r}=s;return this.options.isAllowedUri(r,{defaultValidate:n=>!!rf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,s).setMeta("preventAutolink",!0).run():!1},toggleLink:s=>({chain:e})=>{const{href:r}=s||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!rf(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,s,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:s})=>s().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Dh({find:s=>{const e=[];if(s){const{protocols:r,defaultProtocol:n}=this.options,a=pk(s).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:u=>!!rf(u,r),protocols:r,defaultProtocol:n}));a.length&&a.forEach(l=>{this.options.shouldAutoLink(l.value)&&e.push({text:l.value,data:{href:l.href},index:l.start})})}return e},type:this.type,getAttributes:s=>{var e;return{href:(e=s.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const s=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&s.push(G9({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:a=>!!rf(a,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),s.push(W9({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&s.push(Y9({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),s}}),X9=Object.defineProperty,J9=(s,e)=>{for(var r in e)X9(s,r,{get:e[r],enumerable:!0})},Z9="listItem",Bj="textStyle",Sj=/^\s*([-+*])\s$/,xk=Fd.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:s}){return["ul",So(this.options.HTMLAttributes,s),0]},markdownTokenName:"list",parseMarkdown:(s,e)=>s.type!=="list"||s.ordered?[]:{type:"bulletList",content:s.items?e.parseChildren(s.items):[]},renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:s,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Z9,this.editor.getAttributes(Bj)).run():s.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let s=p0({find:Sj,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(s=p0({find:Sj,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Bj),editor:this.editor})),[s]}}),bk=Fd.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:s}){return["li",So(this.options.HTMLAttributes,s),0]},markdownTokenName:"list_item",parseMarkdown:(s,e)=>{if(s.type!=="list_item")return[];let r=[];if(s.tokens&&s.tokens.length>0)if(s.tokens.some(a=>a.type==="paragraph"))r=e.parseChildren(s.tokens);else{const a=s.tokens[0];if(a&&a.type==="text"&&a.tokens&&a.tokens.length>0){if(r=[{type:"paragraph",content:e.parseInline(a.tokens)}],s.tokens.length>1){const u=s.tokens.slice(1),d=e.parseChildren(u);r.push(...d)}}else r=e.parseChildren(s.tokens)}return r.length===0&&(r=[{type:"paragraph",content:[]}]),{type:"listItem",content:r}},renderMarkdown:(s,e,r)=>Qy(s,e,n=>n.parentType==="bulletList"?"- ":n.parentType==="orderedList"?`${n.index+1}. `:"- ",r),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),q9={};J9(q9,{findListItemPos:()=>Om,getNextListDepth:()=>Xy,handleBackspace:()=>$v,handleDelete:()=>Vv,hasListBefore:()=>vk,hasListItemAfter:()=>ez,hasListItemBefore:()=>yk,listItemHasSubList:()=>wk,nextListIsDeeper:()=>jk,nextListIsHigher:()=>Nk});var Om=(s,e)=>{const{$from:r}=e.selection,n=El(s,e.schema);let a=null,l=r.depth,u=r.pos,d=null;for(;l>0&&d===null;)a=r.node(l),a.type===n?d=l:(l-=1,u-=1);return d===null?null:{$pos:e.doc.resolve(u),depth:d}},Xy=(s,e)=>{const r=Om(s,e);if(!r)return!1;const[,n]=t_(e,s,r.$pos.pos+4);return n},vk=(s,e,r)=>{const{$anchor:n}=s.selection,a=Math.max(0,n.pos-2),l=s.doc.resolve(a).node();return!(!l||!r.includes(l.type.name))},yk=(s,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-2);return!(a.index()===0||((r=a.nodeBefore)==null?void 0:r.type.name)!==s)},wk=(s,e,r)=>{if(!r)return!1;const n=El(s,e.schema);let a=!1;return r.descendants(l=>{l.type===n&&(a=!0)}),a},$v=(s,e,r)=>{if(s.commands.undoInputRule())return!0;if(s.state.selection.from!==s.state.selection.to)return!1;if(!Ih(s.state,e)&&vk(s.state,e,r)){const{$anchor:d}=s.state.selection,A=s.state.doc.resolve(d.before()-1),o=[];A.node().descendants((p,x)=>{p.type.name===e&&o.push({node:p,pos:x})});const f=o.at(-1);if(!f)return!1;const m=s.state.doc.resolve(A.start()+f.pos+1);return s.chain().cut({from:d.start()-1,to:d.end()+1},m.end()).joinForward().run()}if(!Ih(s.state,e)||!a_(s.state))return!1;const n=Om(e,s.state);if(!n)return!1;const l=s.state.doc.resolve(n.$pos.pos-2).node(n.depth),u=wk(e,s.state,l);return yk(e,s.state)&&!u?s.commands.joinItemBackward():s.chain().liftListItem(e).run()},jk=(s,e)=>{const r=Xy(s,e),n=Om(s,e);return!n||!r?!1:r>n.depth},Nk=(s,e)=>{const r=Xy(s,e),n=Om(s,e);return!n||!r?!1:r<n.depth},Vv=(s,e)=>{if(!Ih(s.state,e)||!n_(s.state,e))return!1;const{selection:r}=s.state,{$from:n,$to:a}=r;return!r.empty&&n.sameParent(a)?!1:jk(e,s.state)?s.chain().focus(s.state.selection.from+4).lift(e).joinBackward().run():Nk(e,s.state)?s.chain().joinForward().joinBackward().run():s.commands.joinItemForward()},ez=(s,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-n.parentOffset-2);return!(a.index()===a.parent.childCount-1||((r=a.nodeAfter)==null?void 0:r.type.name)!==s)},Ck=Oi.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{s.state.schema.nodes[r]!==void 0&&Vv(s,r)&&(e=!0)}),e},"Mod-Delete":({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{s.state.schema.nodes[r]!==void 0&&Vv(s,r)&&(e=!0)}),e},Backspace:({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{s.state.schema.nodes[r]!==void 0&&$v(s,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:s})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{s.state.schema.nodes[r]!==void 0&&$v(s,r,n)&&(e=!0)}),e}}}}),Ej=/^(\s*)(\d+)\.\s+(.*)$/,tz=/^\s/;function sz(s){const e=[];let r=0,n=0;for(;r<s.length;){const a=s[r],l=a.match(Ej);if(!l)break;const[,u,d,A]=l,o=u.length;let f=A,m=r+1;const p=[a];for(;m<s.length;){const x=s[m];if(x.match(Ej))break;if(x.trim()==="")p.push(x),f+=`
`,m+=1;else if(x.match(tz))p.push(x),f+=`
${x.slice(o+2)}`,m+=1;else break}e.push({indent:o,number:parseInt(d,10),content:f.trim(),raw:p.join(`
`)}),n=m,r=m}return[e,n]}function kk(s,e,r){var n;const a=[];let l=0;for(;l<s.length;){const u=s[l];if(u.indent===e){const d=u.content.split(`
`),A=((n=d[0])==null?void 0:n.trim())||"",o=[];A&&o.push({type:"paragraph",raw:A,tokens:r.inlineTokens(A)});const f=d.slice(1).join(`
`).trim();if(f){const x=r.blockTokens(f);o.push(...x)}let m=l+1;const p=[];for(;m<s.length&&s[m].indent>e;)p.push(s[m]),m+=1;if(p.length>0){const x=Math.min(...p.map(y=>y.indent)),b=kk(p,x,r);o.push({type:"list",ordered:!0,start:p[0].number,items:b,raw:p.map(y=>y.raw).join(`
`)})}a.push({type:"list_item",raw:u.raw,tokens:o}),l=m}else l+=1}return a}function rz(s,e){return s.map(r=>{if(r.type!=="list_item")return e.parseChildren([r])[0];const n=[];return r.tokens&&r.tokens.length>0&&r.tokens.forEach(a=>{if(a.type==="paragraph"||a.type==="list"||a.type==="blockquote"||a.type==="code")n.push(...e.parseChildren([a]));else if(a.type==="text"&&a.tokens){const l=e.parseChildren([a]);n.push({type:"paragraph",content:l})}else{const l=e.parseChildren([a]);l.length>0&&n.push(...l)}}),{type:"listItem",content:n}})}var nz="listItem",Tj="textStyle",Uj=/^(\d+)\.\s$/,Bk=Fd.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:s=>s.hasAttribute("start")?parseInt(s.getAttribute("start")||"",10):1},type:{default:null,parseHTML:s=>s.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:s}){const{start:e,...r}=s;return e===1?["ol",So(this.options.HTMLAttributes,r),0]:["ol",So(this.options.HTMLAttributes,s),0]},markdownTokenName:"list",parseMarkdown:(s,e)=>{if(s.type!=="list"||!s.ordered)return[];const r=s.start||1,n=s.items?rz(s.items,e):[];return r!==1?{type:"orderedList",attrs:{start:r},content:n}:{type:"orderedList",content:n}},renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:s=>{const e=s.match(/^(\s*)(\d+)\.\s+/),r=e==null?void 0:e.index;return r!==void 0?r:-1},tokenize:(s,e,r)=>{var n;const a=s.split(`
`),[l,u]=sz(a);if(l.length===0)return;const d=kk(l,0,r);return d.length===0?void 0:{type:"list",ordered:!0,start:((n=l[0])==null?void 0:n.number)||1,items:d,raw:a.slice(0,u).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:s,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(nz,this.editor.getAttributes(Tj)).run():s.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let s=p0({find:Uj,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(s=p0({find:Uj,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Tj)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[s]}}),az=/^\s*(\[([( |x])?\])\s$/,iz=Fd.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:s=>{const e=s.getAttribute("data-checked");return e===""||e==="true"},renderHTML:s=>({"data-checked":s.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:s,HTMLAttributes:e}){return["li",So(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:s.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(s,e)=>{const r=[];if(s.tokens&&s.tokens.length>0?r.push(e.createNode("paragraph",{},e.parseInline(s.tokens))):s.text?r.push(e.createNode("paragraph",{},[e.createNode("text",{text:s.text})])):r.push(e.createNode("paragraph",{},[])),s.nestedTokens&&s.nestedTokens.length>0){const n=e.parseChildren(s.nestedTokens);r.push(...n)}return e.createNode("taskItem",{checked:s.checked||!1},r)},renderMarkdown:(s,e)=>{var r;const a=`- [${(r=s.attrs)!=null&&r.checked?"x":" "}] `;return Qy(s,e,a)},addKeyboardShortcuts(){const s={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...s,Tab:()=>this.editor.commands.sinkListItem(this.name)}:s},addNodeView(){return({node:s,HTMLAttributes:e,getPos:r,editor:n})=>{const a=document.createElement("li"),l=document.createElement("label"),u=document.createElement("span"),d=document.createElement("input"),A=document.createElement("div"),o=f=>{var m,p;d.ariaLabel=((p=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:p.call(m,f,d.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return o(s),l.contentEditable="false",d.type="checkbox",d.addEventListener("mousedown",f=>f.preventDefault()),d.addEventListener("change",f=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){d.checked=!d.checked;return}const{checked:m}=f.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const x=r();if(typeof x!="number")return!1;const b=p.doc.nodeAt(x);return p.setNodeMarkup(x,void 0,{...b==null?void 0:b.attrs,checked:m}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(s,m)||(d.checked=!d.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,m])=>{a.setAttribute(f,m)}),a.dataset.checked=s.attrs.checked,d.checked=s.attrs.checked,l.append(d,u),a.append(l,A),Object.entries(e).forEach(([f,m])=>{a.setAttribute(f,m)}),{dom:a,contentDOM:A,update:f=>f.type!==this.type?!1:(a.dataset.checked=f.attrs.checked,d.checked=f.attrs.checked,o(f),!0)}}},addInputRules(){return[p0({find:az,type:this.type,getAttributes:s=>({checked:s[s.length-1]==="x"})})]}}),oz=Fd.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:s}){return["ul",So(this.options.HTMLAttributes,s,{"data-type":this.name}),0]},parseMarkdown:(s,e)=>e.createNode("taskList",{},e.parseChildren(s.items||[])),renderMarkdown:(s,e)=>s.content?e.renderChildren(s.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(s){var e;const r=(e=s.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return r!==void 0?r:-1},tokenize(s,e,r){const n=l=>{const u=Mv(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:d=>({indentLevel:d[1].length,mainContent:d[4],checked:d[3].toLowerCase()==="x"}),createToken:(d,A)=>({type:"taskItem",raw:"",mainContent:d.mainContent,indentLevel:d.indentLevel,checked:d.checked,text:d.mainContent,tokens:r.inlineTokens(d.mainContent),nestedTokens:A}),customNestedParser:n},r);return u?[{type:"taskList",raw:u.raw,items:u.items}]:r.blockTokens(l)},a=Mv(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,u)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:r.inlineTokens(l.mainContent),nestedTokens:u}),customNestedParser:n},r);if(a)return{type:"taskList",raw:a.raw,items:a.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:s})=>s.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Oi.create({name:"listKit",addExtensions(){const s=[];return this.options.bulletList!==!1&&s.push(xk.configure(this.options.bulletList)),this.options.listItem!==!1&&s.push(bk.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(Ck.configure(this.options.listKeymap)),this.options.orderedList!==!1&&s.push(Bk.configure(this.options.orderedList)),this.options.taskItem!==!1&&s.push(iz.configure(this.options.taskItem)),this.options.taskList!==!1&&s.push(oz.configure(this.options.taskList)),s}});var lz=Fd.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:s}){return["p",So(this.options.HTMLAttributes,s),0]},parseMarkdown:(s,e)=>{const r=s.tokens||[];return r.length===1&&r[0].type==="image"?e.parseChildren([r[0]]):e.createNode("paragraph",void 0,e.parseInline(r))},renderMarkdown:(s,e)=>!s||!Array.isArray(s.content)?"":e.renderChildren(s.content),addCommands(){return{setParagraph:()=>({commands:s})=>s.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),cz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,dz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,uz=HA.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:s=>s.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:s}){return["s",So(this.options.HTMLAttributes,s),0]},markdownTokenName:"del",parseMarkdown:(s,e)=>e.applyMark("strike",e.parseInline(s.tokens||[])),renderMarkdown:(s,e)=>`~~${e.renderChildren(s)}~~`,addCommands(){return{setStrike:()=>({commands:s})=>s.setMark(this.name),toggleStrike:()=>({commands:s})=>s.toggleMark(this.name),unsetStrike:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Cf({find:cz,type:this.type})]},addPasteRules(){return[Dh({find:dz,type:this.type})]}}),Az=Fd.create({name:"text",group:"inline",parseMarkdown:s=>({type:"text",text:s.text||""}),renderMarkdown:s=>s.text||""}),Sk=HA.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:s=>s.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:s}){return["u",So(this.options.HTMLAttributes,s),0]},parseMarkdown(s,e){return e.applyMark(this.name||"underline",e.parseInline(s.tokens||[]))},renderMarkdown(s,e){return`++${e.renderChildren(s)}++`},markdownTokenizer:{name:"underline",level:"inline",start(s){return s.indexOf("++")},tokenize(s,e,r){const a=/^(\+\+)([\s\S]+?)(\+\+)/.exec(s);if(!a)return;const l=a[2].trim();return{type:"underline",raw:a[0],text:l,tokens:r.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:s})=>s.setMark(this.name),toggleUnderline:()=>({commands:s})=>s.toggleMark(this.name),unsetUnderline:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function hz(s={}){return new Eo({view(e){return new fz(e,s)}})}class fz{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let l=u=>{this[a](u)};return e.dom.addEventListener(a,l),{name:a,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,a=this.editorView.dom,l=a.getBoundingClientRect(),u=l.width/a.offsetWidth,d=l.height/a.offsetHeight;if(r){let m=e.nodeBefore,p=e.nodeAfter;if(m||p){let x=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(x){let b=x.getBoundingClientRect(),y=m?b.bottom:b.top;m&&p&&(y=(y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let w=this.width/2*d;n={left:b.left,right:b.right,top:y-w,bottom:y+w}}}}if(!n){let m=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*u;n={left:m.left-p,right:m.left+p,top:m.top,bottom:m.bottom}}let A=this.editorView.dom.offsetParent;this.element||(this.element=A.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let o,f;if(!A||A==document.body&&getComputedStyle(A).position=="static")o=-pageXOffset,f=-pageYOffset;else{let m=A.getBoundingClientRect(),p=m.width/A.offsetWidth,x=m.height/A.offsetHeight;o=m.left-A.scrollLeft*p,f=m.top-A.scrollTop*x}this.element.style.left=(n.left-o)/u+"px",this.element.style.top=(n.top-f)/d+"px",this.element.style.width=(n.right-n.left)/u+"px",this.element.style.height=(n.bottom-n.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),a=n&&n.type.spec.disableDropCursor,l=typeof a=="function"?a(this.editorView,r,e):a;if(r&&!l){let u=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=NN(this.editorView.state.doc,u,this.editorView.dragging.slice);d!=null&&(u=d)}this.setCursor(u),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Go extends Aa{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return Go.valid(n)?new Go(n):Aa.near(n)}content(){return Mr.empty}eq(e){return e instanceof Go&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Go(e.resolve(r.pos))}getBookmark(){return new Jy(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!mz(e)||!pz(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let a=r.contentMatchAt(e.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&Go.valid(e))return e;let a=e.pos,l=null;for(let u=e.depth;;u--){let d=e.node(u);if(r>0?e.indexAfter(u)<d.childCount:e.index(u)>0){l=d.child(r>0?e.indexAfter(u):e.index(u)-1);break}else if(u==0)return null;a+=r;let A=e.doc.resolve(a);if(Go.valid(A))return A}for(;;){let u=r>0?l.firstChild:l.lastChild;if(!u){if(l.isAtom&&!l.isText&&!wn.isSelectable(l)){e=e.doc.resolve(a+l.nodeSize*r),n=!1;continue e}break}l=u,a+=r;let d=e.doc.resolve(a);if(Go.valid(d))return d}return null}}}Go.prototype.visible=!1;Go.findFrom=Go.findGapCursorFrom;Aa.jsonID("gapcursor",Go);class Jy{constructor(e){this.pos=e}map(e){return new Jy(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return Go.valid(r)?new Go(r):Aa.near(r)}}function Ek(s){return s.isAtom||s.spec.isolating||s.spec.createGapCursor}function mz(s){for(let e=s.depth;e>=0;e--){let r=s.index(e),n=s.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||Ek(a.type))return!0;if(a.inlineContent)return!1}}return!0}function pz(s){for(let e=s.depth;e>=0;e--){let r=s.indexAfter(e),n=s.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||Ek(a.type))return!0;if(a.inlineContent)return!1}}return!0}function gz(){return new Eo({props:{decorations:yz,createSelectionBetween(s,e,r){return e.pos==r.pos&&Go.valid(r)?new Go(r):null},handleClick:bz,handleKeyDown:xz,handleDOMEvents:{beforeinput:vz}}})}const xz=CC({ArrowLeft:xp("horiz",-1),ArrowRight:xp("horiz",1),ArrowUp:xp("vert",-1),ArrowDown:xp("vert",1)});function xp(s,e){const r=s=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,a,l){let u=n.selection,d=e>0?u.$to:u.$from,A=u.empty;if(u instanceof Kn){if(!l.endOfTextblock(r)||d.depth==0)return!1;A=!1,d=n.doc.resolve(e>0?d.after():d.before())}let o=Go.findGapCursorFrom(d,e,A);return o?(a&&a(n.tr.setSelection(new Go(o))),!0):!1}}function bz(s,e,r){if(!s||!s.editable)return!1;let n=s.state.doc.resolve(e);if(!Go.valid(n))return!1;let a=s.posAtCoords({left:r.clientX,top:r.clientY});return a&&a.inside>-1&&wn.isSelectable(s.state.doc.nodeAt(a.inside))?!1:(s.dispatch(s.state.tr.setSelection(new Go(n))),!0)}function vz(s,e){if(e.inputType!="insertCompositionText"||!(s.state.selection instanceof Go))return!1;let{$from:r}=s.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(s.state.schema.nodes.text);if(!n)return!1;let a=Gs.empty;for(let u=n.length-1;u>=0;u--)a=Gs.from(n[u].createAndFill(null,a));let l=s.state.tr.replace(r.pos,r.pos,new Mr(a,0,0));return l.setSelection(Kn.near(l.doc.resolve(r.pos+1))),s.dispatch(l),!1}function yz(s){if(!(s.selection instanceof Go))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ko.create(s.doc,[od.widget(s.selection.head,e,{key:"gapcursor"})])}var Hg=200,uc=function(){};uc.prototype.append=function(e){return e.length?(e=uc.from(e),!this.length&&e||e.length<Hg&&this.leafAppend(e)||this.length<Hg&&e.leafPrepend(this)||this.appendInner(e)):this};uc.prototype.prepend=function(e){return e.length?uc.from(e).append(this):this};uc.prototype.appendInner=function(e){return new wz(this,e)};uc.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?uc.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};uc.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};uc.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};uc.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var a=[];return this.forEach(function(l,u){return a.push(e(l,u))},r,n),a};uc.from=function(e){return e instanceof uc?e:e&&e.length?new Tk(e):uc.empty};var Tk=(function(s){function e(n){s.call(this),this.values=n}s&&(e.__proto__=s),e.prototype=Object.create(s&&s.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,l){return a==0&&l==this.length?this:new e(this.values.slice(a,l))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,l,u,d){for(var A=l;A<u;A++)if(a(this.values[A],d+A)===!1)return!1},e.prototype.forEachInvertedInner=function(a,l,u,d){for(var A=l-1;A>=u;A--)if(a(this.values[A],d+A)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=Hg)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=Hg)return new e(a.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(uc);uc.empty=new Tk([]);var wz=(function(s){function e(r,n){s.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return s&&(e.__proto__=s),e.prototype=Object.create(s&&s.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,a,l,u){var d=this.left.length;if(a<d&&this.left.forEachInner(n,a,Math.min(l,d),u)===!1||l>d&&this.right.forEachInner(n,Math.max(a-d,0),Math.min(this.length,l)-d,u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(n,a,l,u){var d=this.left.length;if(a>d&&this.right.forEachInvertedInner(n,a-d,Math.max(l,d)-d,u+d)===!1||l<d&&this.left.forEachInvertedInner(n,Math.min(a,d),l,u)===!1)return!1},e.prototype.sliceInner=function(n,a){if(n==0&&a==this.length)return this;var l=this.left.length;return a<=l?this.left.slice(n,a):n>=l?this.right.slice(n-l,a-l):this.left.slice(n,l).append(this.right.slice(0,a-l))},e.prototype.leafAppend=function(n){var a=this.right.leafAppend(n);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(n){var a=this.left.leafPrepend(n);if(a)return new e(a,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(uc);const jz=500;class Uu{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let a,l;r&&(a=this.remapping(n,this.items.length),l=a.maps.length);let u=e.tr,d,A,o=[],f=[];return this.items.forEach((m,p)=>{if(!m.step){a||(a=this.remapping(n,p+1),l=a.maps.length),l--,f.push(m);return}if(a){f.push(new Ju(m.map));let x=m.step.map(a.slice(l)),b;x&&u.maybeStep(x).doc&&(b=u.mapping.maps[u.mapping.maps.length-1],o.push(new Ju(b,void 0,void 0,o.length+f.length))),l--,b&&a.appendMap(b,l)}else u.maybeStep(m.step);if(m.selection)return d=a?m.selection.map(a.slice(l)):m.selection,A=new Uu(this.items.slice(0,n).append(f.reverse().concat(o)),this.eventCount-1),!1},this.items.length,0),{remaining:A,transform:u,selection:d}}addTransform(e,r,n,a){let l=[],u=this.eventCount,d=this.items,A=!a&&d.length?d.get(d.length-1):null;for(let f=0;f<e.steps.length;f++){let m=e.steps[f].invert(e.docs[f]),p=new Ju(e.mapping.maps[f],m,r),x;(x=A&&A.merge(p))&&(p=x,f?l.pop():d=d.slice(0,d.length-1)),l.push(p),r&&(u++,r=void 0),a||(A=p)}let o=u-n.depth;return o>Cz&&(d=Nz(d,o),u-=o),new Uu(d.append(l),u)}remapping(e,r){let n=new xm;return this.items.forEach((a,l)=>{let u=a.mirrorOffset!=null&&l-a.mirrorOffset>=e?n.maps.length-a.mirrorOffset:void 0;n.appendMap(a.map,u)},e,r),n}addMaps(e){return this.eventCount==0?this:new Uu(this.items.append(e.map(r=>new Ju(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],a=Math.max(0,this.items.length-r),l=e.mapping,u=e.steps.length,d=this.eventCount;this.items.forEach(p=>{p.selection&&d--},a);let A=r;this.items.forEach(p=>{let x=l.getMirror(--A);if(x==null)return;u=Math.min(u,x);let b=l.maps[x];if(p.step){let y=e.steps[x].invert(e.docs[x]),w=p.selection&&p.selection.map(l.slice(A+1,x));w&&d++,n.push(new Ju(b,y,w))}else n.push(new Ju(b))},a);let o=[];for(let p=r;p<u;p++)o.push(new Ju(l.maps[p]));let f=this.items.slice(0,a).append(o).append(n),m=new Uu(f,d);return m.emptyItemCount()>jz&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,a=[],l=0;return this.items.forEach((u,d)=>{if(d>=e)a.push(u),u.selection&&l++;else if(u.step){let A=u.step.map(r.slice(n)),o=A&&A.getMap();if(n--,o&&r.appendMap(o,n),A){let f=u.selection&&u.selection.map(r.slice(n));f&&l++;let m=new Ju(o.invert(),A,f),p,x=a.length-1;(p=a.length&&a[x].merge(m))?a[x]=p:a.push(m)}}else u.map&&n--},this.items.length,0),new Uu(uc.from(a.reverse()),l)}}Uu.empty=new Uu(uc.empty,0);function Nz(s,e){let r;return s.forEach((n,a)=>{if(n.selection&&e--==0)return r=a,!1}),s.slice(r)}class Ju{constructor(e,r,n,a){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Ju(r.getMap().invert(),r,this.selection)}}}class yh{constructor(e,r,n,a,l){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=a,this.prevComposition=l}}const Cz=20;function kz(s,e,r,n){let a=r.getMeta(gf),l;if(a)return a.historyState;r.getMeta(Ez)&&(s=new yh(s.done,s.undone,null,0,-1));let u=r.getMeta("appendedTransaction");if(r.steps.length==0)return s;if(u&&u.getMeta(gf))return u.getMeta(gf).redo?new yh(s.done.addTransform(r,void 0,n,Lp(e)),s.undone,Lj(r.mapping.maps),s.prevTime,s.prevComposition):new yh(s.done,s.undone.addTransform(r,void 0,n,Lp(e)),null,s.prevTime,s.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(u&&u.getMeta("addToHistory")===!1)){let d=r.getMeta("composition"),A=s.prevTime==0||!u&&s.prevComposition!=d&&(s.prevTime<(r.time||0)-n.newGroupDelay||!Bz(r,s.prevRanges)),o=u?Vb(s.prevRanges,r.mapping):Lj(r.mapping.maps);return new yh(s.done.addTransform(r,A?e.selection.getBookmark():void 0,n,Lp(e)),Uu.empty,o,r.time,d??s.prevComposition)}else return(l=r.getMeta("rebased"))?new yh(s.done.rebased(r,l),s.undone.rebased(r,l),Vb(s.prevRanges,r.mapping),s.prevTime,s.prevComposition):new yh(s.done.addMaps(r.mapping.maps),s.undone.addMaps(r.mapping.maps),Vb(s.prevRanges,r.mapping),s.prevTime,s.prevComposition)}function Bz(s,e){if(!e)return!1;if(!s.docChanged)return!0;let r=!1;return s.mapping.maps[0].forEach((n,a)=>{for(let l=0;l<e.length;l+=2)n<=e[l+1]&&a>=e[l]&&(r=!0)}),r}function Lj(s){let e=[];for(let r=s.length-1;r>=0&&e.length==0;r--)s[r].forEach((n,a,l,u)=>e.push(l,u));return e}function Vb(s,e){if(!s)return null;let r=[];for(let n=0;n<s.length;n+=2){let a=e.map(s[n],1),l=e.map(s[n+1],-1);a<=l&&r.push(a,l)}return r}function Sz(s,e,r){let n=Lp(e),a=gf.get(e).spec.config,l=(r?s.undone:s.done).popEvent(e,n);if(!l)return null;let u=l.selection.resolve(l.transform.doc),d=(r?s.done:s.undone).addTransform(l.transform,e.selection.getBookmark(),a,n),A=new yh(r?d:l.remaining,r?l.remaining:d,null,0,-1);return l.transform.setSelection(u).setMeta(gf,{redo:r,historyState:A})}let Kb=!1,Fj=null;function Lp(s){let e=s.plugins;if(Fj!=e){Kb=!1,Fj=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){Kb=!0;break}}return Kb}const gf=new $l("history"),Ez=new $l("closeHistory");function Tz(s={}){return s={depth:s.depth||100,newGroupDelay:s.newGroupDelay||500},new Eo({key:gf,state:{init(){return new yh(Uu.empty,Uu.empty,null,0,-1)},apply(e,r,n){return kz(r,n,e,s)}},config:s,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,a=n=="historyUndo"?Lk:n=="historyRedo"?Fk:null;return!a||!e.editable?!1:(r.preventDefault(),a(e.state,e.dispatch))}}}})}function Uk(s,e){return(r,n)=>{let a=gf.getState(r);if(!a||(s?a.undone:a.done).eventCount==0)return!1;if(n){let l=Sz(a,r,s);l&&n(e?l.scrollIntoView():l)}return!0}}const Lk=Uk(!1,!0),Fk=Uk(!0,!0);Oi.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:s=>s.length,wordCounter:s=>s.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=s=>{const e=(s==null?void 0:s.node)||this.editor.state.doc;if(((s==null?void 0:s.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=s=>{const e=(s==null?void 0:s.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let s=!1;return[new Eo({key:new $l("characterCount"),appendTransaction:(e,r,n)=>{if(s)return;const a=this.options.limit;if(a==null||a===0){s=!0;return}const l=this.storage.characters({node:n.doc});if(l>a){const u=l-a,d=0,A=u;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const o=n.tr.deleteRange(d,A);return s=!0,o}s=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const a=this.storage.characters({node:r.doc}),l=this.storage.characters({node:e.doc});if(l<=n||a>n&&l>n&&l<=a)return!0;if(a>n&&l>n&&l>a||!e.getMeta("paste"))return!1;const d=e.selection.$head.pos,A=l-n,o=d-A,f=d;return e.deleteRange(o,f),!(this.storage.characters({node:e.doc})>n)}})]}});var Uz=Oi.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[hz(this.options)]}});Oi.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Eo({key:new $l("focus"),props:{decorations:({doc:s,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:a}=e,l=[];if(!r||!n)return ko.create(s,[]);let u=0;this.options.mode==="deepest"&&s.descendants((A,o)=>{if(A.isText)return;if(!(a>=o&&a<=o+A.nodeSize-1))return!1;u+=1});let d=0;return s.descendants((A,o)=>{if(A.isText||!(a>=o&&a<=o+A.nodeSize-1))return!1;if(d+=1,this.options.mode==="deepest"&&u-d>0||this.options.mode==="shallowest"&&d>1)return this.options.mode==="deepest";l.push(od.node(o,o+A.nodeSize,{class:this.options.className}))}),ko.create(s,l)}}})]}});var Lz=Oi.create({name:"gapCursor",addProseMirrorPlugins(){return[gz()]},extendNodeSchema(s){var e;const r={name:s.name,options:s.options,storage:s.storage};return{allowGapCursor:(e=ji(bn(s,"allowGapCursor",r)))!=null?e:null}}}),Fz=Oi.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Eo({key:new $l("placeholder"),props:{decorations:({doc:s,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,a=[];if(!r)return null;const l=this.editor.isEmpty;return s.descendants((u,d)=>{const A=n>=d&&n<=d+u.nodeSize,o=!u.isLeaf&&bx(u);if((A||!this.options.showOnlyCurrent)&&o){const f=[this.options.emptyNodeClass];l&&f.push(this.options.emptyEditorClass);const m=od.node(d,d+u.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:u,pos:d,hasAnchor:A}):this.options.placeholder});a.push(m)}return this.options.includeChildren}),ko.create(s,a)}}})]}});Oi.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:s,options:e}=this;return[new Eo({key:new $l("selection"),props:{decorations(r){return r.selection.empty||s.isFocused||!s.isEditable||_C(r.selection)||s.view.dragging?null:ko.create(r.doc,[od.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function Mj({types:s,node:e}){return e&&Array.isArray(s)&&s.includes(e.type)||(e==null?void 0:e.type)===s}var Mz=Oi.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var s;const e=new $l(this.name),r=this.options.node||((s=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:s.name)||"paragraph",n=Object.entries(this.editor.schema.nodes).map(([,a])=>a).filter(a=>(this.options.notAfter||[]).concat(r).includes(a.name));return[new Eo({key:e,appendTransaction:(a,l,u)=>{const{doc:d,tr:A,schema:o}=u,f=e.getState(u),m=d.content.size,p=o.nodes[r];if(f)return A.insert(m,p.create())},state:{init:(a,l)=>{const u=l.tr.doc.lastChild;return!Mj({node:u,types:n})},apply:(a,l)=>{if(!a.docChanged||a.getMeta("__uniqueIDTransaction"))return l;const u=a.doc.lastChild;return!Mj({node:u,types:n})}}})]}}),Oz=Oi.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:s,dispatch:e})=>Lk(s,e),redo:()=>({state:s,dispatch:e})=>Fk(s,e)}},addProseMirrorPlugins(){return[Tz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),Iz=Oi.create({name:"starterKit",addExtensions(){var s,e,r,n;const a=[];return this.options.bold!==!1&&a.push(d9.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(a9.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(xk.configure(this.options.bulletList)),this.options.code!==!1&&a.push(h9.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(p9.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(g9.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(Uz.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(Lz.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(x9.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(b9.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(Oz.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(v9.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(C9.configure(this.options.italic)),this.options.listItem!==!1&&a.push(bk.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(Ck.configure((s=this.options)==null?void 0:s.listKeymap)),this.options.link!==!1&&a.push(gk.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&a.push(Bk.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(lz.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(uz.configure(this.options.strike)),this.options.text!==!1&&a.push(Az.configure(this.options.text)),this.options.underline!==!1&&a.push(Sk.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&a.push(Mz.configure((n=this.options)==null?void 0:n.trailingNode)),a}}),Dz=Iz,Rz=Oi.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:s=>{const e=s.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:s=>s.textAlign?{style:`text-align: ${s.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:s=>({commands:e})=>this.options.alignments.includes(s)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:s})).some(r=>r):!1,unsetTextAlign:()=>({commands:s})=>this.options.types.map(e=>s.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:s=>({editor:e,commands:r})=>this.options.alignments.includes(s)?e.isActive({textAlign:s})?r.unsetTextAlign():r.setTextAlign(s):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),Pz=20,Mk=(s,e=0)=>{const r=[];return!s.children.length||e>Pz||Array.from(s.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...Mk(n,e+1))}),r},Qz=s=>{if(!s.children.length)return;const e=Mk(s);e&&e.forEach(r=>{var n,a;const l=r.getAttribute("style"),u=(a=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:a.getAttribute("style");r.setAttribute("style",`${u};${l}`)})},Ok=HA.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:s=>s.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&Qz(s),{}):!1}]},renderHTML({HTMLAttributes:s}){return["span",So(this.options.HTMLAttributes,s),0]},addCommands(){return{toggleTextStyle:s=>({commands:e})=>e.toggleMark(this.name,s),removeEmptyTextStyle:()=>({tr:s})=>{const{selection:e}=s;return s.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(a=>a.type===this.type).some(a=>Object.values(a.attrs).some(l=>!!l))||s.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),_z=Oi.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:s=>{var e;const r=s.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const l=n[a].split(":");if(l.length>=2){const u=l[0].trim().toLowerCase(),d=l.slice(1).join(":").trim();if(u==="background-color")return d.replace(/['"]+/g,"")}}}return(e=s.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:s=>s.backgroundColor?{style:`background-color: ${s.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:s=>({chain:e})=>e().setMark("textStyle",{backgroundColor:s}).run(),unsetBackgroundColor:()=>({chain:s})=>s().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Ik=Oi.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:s=>{var e;const r=s.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const l=n[a].split(":");if(l.length>=2){const u=l[0].trim().toLowerCase(),d=l.slice(1).join(":").trim();if(u==="color")return d.replace(/['"]+/g,"")}}}return(e=s.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:s=>s.color?{style:`color: ${s.color}`}:{}}}}]},addCommands(){return{setColor:s=>({chain:e})=>e().setMark("textStyle",{color:s}).run(),unsetColor:()=>({chain:s})=>s().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),Hz=Oi.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:s=>s.style.fontFamily,renderHTML:s=>s.fontFamily?{style:`font-family: ${s.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:s=>({chain:e})=>e().setMark("textStyle",{fontFamily:s}).run(),unsetFontFamily:()=>({chain:s})=>s().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),zz=Oi.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:s=>s.style.fontSize,renderHTML:s=>s.fontSize?{style:`font-size: ${s.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:s=>({chain:e})=>e().setMark("textStyle",{fontSize:s}).run(),unsetFontSize:()=>({chain:s})=>s().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),$z=Oi.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:s=>s.style.lineHeight,renderHTML:s=>s.lineHeight?{style:`line-height: ${s.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:s=>({chain:e})=>e().setMark("textStyle",{lineHeight:s}).run(),unsetLineHeight:()=>({chain:s})=>s().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});Oi.create({name:"textStyleKit",addExtensions(){const s=[];return this.options.backgroundColor!==!1&&s.push(_z.configure(this.options.backgroundColor)),this.options.color!==!1&&s.push(Ik.configure(this.options.color)),this.options.fontFamily!==!1&&s.push(Hz.configure(this.options.fontFamily)),this.options.fontSize!==!1&&s.push(zz.configure(this.options.fontSize)),this.options.lineHeight!==!1&&s.push($z.configure(this.options.lineHeight)),this.options.textStyle!==!1&&s.push(Ok.configure(this.options.textStyle)),s}});var Vz=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Kz=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Gz=HA.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:s=>s.getAttribute("data-color")||s.style.backgroundColor,renderHTML:s=>s.color?{"data-color":s.color,style:`background-color: ${s.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:s}){return["mark",So(this.options.HTMLAttributes,s),0]},renderMarkdown:(s,e)=>`==${e.renderChildren(s)}==`,parseMarkdown:(s,e)=>e.applyMark("highlight",e.parseInline(s.tokens||[])),markdownTokenizer:{name:"highlight",level:"inline",start:s=>s.indexOf("=="),tokenize(s,e,r){const a=/^(==)([^=]+)(==)/.exec(s);if(a){const l=a[2].trim(),u=r.inlineTokens(l);return{type:"highlight",raw:a[0],text:l,tokens:u}}}},addCommands(){return{setHighlight:s=>({commands:e})=>e.setMark(this.name,s),toggleHighlight:s=>({commands:e})=>e.toggleMark(this.name,s),unsetHighlight:()=>({commands:s})=>s.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Cf({find:Vz,type:this.type})]},addPasteRules(){return[Dh({find:Kz,type:this.type})]}}),Wz=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,Yz=Fd.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:s}){return["img",So(this.options.HTMLAttributes,s)]},parseMarkdown:(s,e)=>e.createNode("image",{src:s.href,title:s.title,alt:s.text}),renderMarkdown:s=>{var e,r,n,a,l,u;const d=(r=(e=s.attrs)==null?void 0:e.src)!=null?r:"",A=(a=(n=s.attrs)==null?void 0:n.alt)!=null?a:"",o=(u=(l=s.attrs)==null?void 0:l.title)!=null?u:"";return o?`![${A}](${d} "${o}")`:`![${A}](${d})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:s,minWidth:e,minHeight:r,alwaysPreserveAspectRatio:n}=this.options.resize;return({node:a,getPos:l,HTMLAttributes:u,editor:d})=>{const A=document.createElement("img");Object.entries(u).forEach(([m,p])=>{if(p!=null)switch(m){case"width":case"height":break;default:A.setAttribute(m,p);break}}),A.src=u.src;const o=new V_({element:A,editor:d,node:a,getPos:l,onResize:(m,p)=>{A.style.width=`${m}px`,A.style.height=`${p}px`},onCommit:(m,p)=>{const x=l();x!==void 0&&this.editor.chain().setNodeSelection(x).updateAttributes(this.name,{width:m,height:p}).run()},onUpdate:(m,p,x)=>m.type===a.type,options:{directions:s,min:{width:e,height:r},preserveAspectRatio:n===!0}}),f=o.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",A.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},o}},addCommands(){return{setImage:s=>({commands:e})=>e.insertContent({type:this.name,attrs:s})}},addInputRules(){return[nk({find:Wz,type:this.type,getAttributes:s=>{const[,,e,r,n]=s;return{src:r,alt:e,title:n}}})]}});const Ko=({onClick:s,isActive:e,disabled:r,children:n,title:a})=>t.jsx("button",{type:"button",onClick:s,disabled:r,title:a,className:`p-1.5 rounded-lg transition-all ${e?"bg-blue-100 text-blue-600":"text-slate-500 hover:bg-slate-100 hover:text-slate-700"} ${r?"opacity-40 cursor-not-allowed":""}`,children:n}),Xz=({editor:s})=>{const[e,r]=W.useState(!1),[n,a]=W.useState(!1);if(!s)return null;const l=()=>{const A=window.prompt("Enter image URL:");A&&s.chain().focus().setImage({src:A}).run()},u=()=>{const A=s.getAttributes("link").href,o=window.prompt("Enter URL:",A);if(o!==null){if(o===""){s.chain().focus().extendMarkRange("link").unsetLink().run();return}s.chain().focus().extendMarkRange("link").setLink({href:o}).run()}},d=["#000000","#374151","#6b7280","#ef4444","#f97316","#eab308","#22c55e","#3b82f6","#8b5cf6","#ec4899"];return t.jsxs("div",{className:"flex flex-wrap items-center gap-0.5 p-2 border-b border-slate-200 bg-slate-50/80",children:[t.jsx(Ko,{onClick:()=>s.chain().focus().undo().run(),disabled:!s.can().undo(),title:"Undo",children:t.jsx(UT,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().redo().run(),disabled:!s.can().redo(),title:"Redo",children:t.jsx(FE,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleHeading({level:1}).run(),isActive:s.isActive("heading",{level:1}),title:"Heading 1",children:t.jsx(d3,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleHeading({level:2}).run(),isActive:s.isActive("heading",{level:2}),title:"Heading 2",children:t.jsx(A3,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleHeading({level:3}).run(),isActive:s.isActive("heading",{level:3}),title:"Heading 3",children:t.jsx(f3,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleBold().run(),isActive:s.isActive("bold"),title:"Bold",children:t.jsx(dS,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleItalic().run(),isActive:s.isActive("italic"),title:"Italic",children:t.jsx(C3,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleUnderline().run(),isActive:s.isActive("underline"),title:"Underline",children:t.jsx(ET,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleStrike().run(),isActive:s.isActive("strike"),title:"Strikethrough",children:t.jsx(aT,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ko,{onClick:()=>r(!e),title:"Text Color",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(BT,{size:14}),t.jsx("div",{className:"w-3 h-1 rounded-sm mt-0.5",style:{backgroundColor:s.getAttributes("textStyle").color||"#000"}})]})}),e&&t.jsxs("div",{className:"absolute top-full left-0 mt-1 p-3 bg-white rounded-xl shadow-xl border border-slate-200 z-50 grid grid-cols-5 gap-2 w-[180px]",children:[d.map(A=>t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().setColor(A).run(),r(!1)},className:"w-6 h-6 rounded-full border border-slate-200 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:A},title:A},A)),t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().unsetColor().run(),r(!1)},className:"w-6 h-6 rounded-full border border-slate-200 text-xs text-slate-400 hover:bg-slate-100 flex items-center justify-center",title:"Reset Color",children:""})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Ko,{onClick:()=>a(!n),isActive:s.isActive("highlight"),title:"Highlight",children:t.jsx(dE,{size:16})}),n&&t.jsxs("div",{className:"absolute top-full left-0 mt-1 p-3 bg-white rounded-xl shadow-xl border border-slate-200 z-50 grid grid-cols-5 gap-2 w-[180px]",children:[["#fef08a","#bbf7d0","#bfdbfe","#ddd6fe","#fecdd3"].map(A=>t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().toggleHighlight({color:A}).run(),a(!1)},className:"w-6 h-6 rounded-full border border-slate-200 hover:scale-110 transition-transform shadow-sm",style:{backgroundColor:A}},A)),t.jsx("button",{type:"button",onClick:()=>{s.chain().focus().unsetHighlight().run(),a(!1)},className:"w-6 h-6 rounded-full border border-slate-200 text-xs text-slate-400 hover:bg-slate-100 flex items-center justify-center",title:"Reset Highlight",children:""})]})]}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:()=>s.chain().focus().setTextAlign("left").run(),isActive:s.isActive({textAlign:"left"}),title:"Align Left",children:t.jsx(gT,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().setTextAlign("center").run(),isActive:s.isActive({textAlign:"center"}),title:"Align Center",children:t.jsx(uT,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().setTextAlign("right").run(),isActive:s.isActive({textAlign:"right"}),title:"Align Right",children:t.jsx(hT,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().setTextAlign("justify").run(),isActive:s.isActive({textAlign:"justify"}),title:"Justify",children:t.jsx(mT,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleBulletList().run(),isActive:s.isActive("bulletList"),title:"Bullet List",children:t.jsx(_3,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleOrderedList().run(),isActive:s.isActive("orderedList"),title:"Ordered List",children:t.jsx(P3,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleBlockquote().run(),isActive:s.isActive("blockquote"),title:"Quote",children:t.jsx(TE,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().toggleCodeBlock().run(),isActive:s.isActive("codeBlock"),title:"Code Block",children:t.jsx(DS,{size:16})}),t.jsx(Ko,{onClick:()=>s.chain().focus().setHorizontalRule().run(),title:"Horizontal Rule",children:t.jsx(sE,{size:16})}),t.jsx("div",{className:"w-px h-6 bg-slate-200 mx-1"}),t.jsx(Ko,{onClick:u,isActive:s.isActive("link"),title:"Link",children:t.jsx(Zg,{size:16})}),t.jsx(Ko,{onClick:l,title:"Image",children:t.jsx(l0,{size:16})})]})},Dk=({content:s,onChange:e,placeholder:r="Write your article content here..."})=>{const n=e9({extensions:[Dz.configure({heading:{levels:[1,2,3]}}),Sk,Rz.configure({types:["heading","paragraph"]}),Ok,Ik,Gz.configure({multicolor:!0}),gk.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-600 underline"}}),Yz.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg"}}),Fz.configure({placeholder:r})],content:s,onUpdate:({editor:a})=>{e(a.getHTML())}});return W.useEffect(()=>{n&&s!==n.getHTML()&&n.commands.setContent(s)},[s,n]),t.jsxs("div",{className:"tiptap-editor-wrapper bg-white border border-slate-200 rounded-xl overflow-hidden focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500 transition-all",children:[t.jsx(Xz,{editor:n}),t.jsx(GH,{editor:n,className:"tiptap-content"})]})},Jz=({value:s,onChange:e,className:r=""})=>{const[n,a]=W.useState(!1),[l,u]=W.useState(!1),[d,A]=W.useState(""),[o,f]=W.useState(!1),[m,p]=W.useState(""),[x,b]=W.useState(""),y=W.useRef(null);Tc.useEffect(()=>{s&&!n&&b(s)},[s,n]);const w=async Q=>{if(!["image/jpeg","image/png","image/gif","image/webp"].includes(Q.type)){p("Please select a valid image file (JPEG, PNG, GIF, or WebP)");return}if(Q.size>5*1024*1024){p("Image must be less than 5MB");return}p(""),a(!0);const le=URL.createObjectURL(Q);b(le);try{const Ae=new FormData;Ae.append("image",Q);const je=await fetch(`${Dt}/api/blogs/upload-image`,{method:"POST",credentials:"include",body:Ae});if(je.ok){const ue=await je.json();if(ue.success&&ue.url)e(ue.url);else throw new Error(ue.error||"Upload failed")}else throw new Error("Upload failed")}catch(Ae){console.error("Image upload failed:",Ae),p("Failed to upload image. Please try again."),b(""),e("")}finally{a(!1)}},E=Q=>{Q.preventDefault(),f(!1);const G=Q.dataTransfer.files[0];G&&w(G)},R=Q=>{Q.preventDefault(),f(!0)},z=()=>{f(!1)},X=()=>{d.trim()&&(e(d.trim()),A(""),u(!1))},Y=()=>{e(""),p("")};return x||s?t.jsxs("div",{className:`relative group aspect-video rounded-2xl overflow-hidden ${r}`,children:[t.jsx("img",{src:x||s,alt:"Cover",className:"w-full h-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[t.jsx("button",{type:"button",onClick:()=>{var Q;return(Q=y.current)==null?void 0:Q.click()},className:"p-3 bg-white/20 hover:bg-white/30 rounded-full transition-colors",title:"Change image",children:t.jsx(d0,{className:"w-5 h-5 text-white"})}),t.jsx("button",{type:"button",onClick:Y,className:"p-3 bg-red-500/80 hover:bg-red-500 rounded-full transition-colors",title:"Remove image",children:t.jsx(qr,{className:"w-5 h-5 text-white"})})]}),n&&t.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:t.jsx(Lr,{className:"w-8 h-8 text-white animate-spin"})}),t.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:Q=>{var G;return((G=Q.target.files)==null?void 0:G[0])&&w(Q.target.files[0])},className:"hidden"})]}):t.jsxs("div",{className:`${r}`,children:[t.jsxs("div",{onDrop:E,onDragOver:R,onDragLeave:z,className:`relative aspect-video rounded-2xl border-2 border-dashed transition-all cursor-pointer ${o?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20":"border-slate-200 dark:border-slate-700 hover:border-indigo-500 bg-slate-50 dark:bg-slate-800"}`,children:[n?t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx(Lr,{className:"w-10 h-10 text-indigo-600 animate-spin mb-2"}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Uploading..."})]}):l?t.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-md space-y-3",children:[t.jsx("input",{type:"url",value:d,onChange:Q=>A(Q.target.value),placeholder:"Paste image URL...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:X,disabled:!d.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-xl font-medium hover:bg-indigo-500 transition-colors disabled:opacity-50",children:"Add Image"}),t.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-xl font-medium hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:"Cancel"})]})]})}):t.jsxs("div",{onClick:()=>{var Q;return(Q=y.current)==null?void 0:Q.click()},className:"absolute inset-0 flex flex-col items-center justify-center",children:[t.jsx(l0,{className:"w-10 h-10 text-slate-400 mb-3"}),t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 mb-1",children:"Drop an image here or click to upload"}),t.jsx("p",{className:"text-xs text-slate-400",children:"JPEG, PNG, GIF, WebP up to 5MB"}),t.jsxs("div",{className:"flex gap-3 mt-4",children:[t.jsxs("button",{type:"button",onClick:Q=>{var G;Q.stopPropagation(),(G=y.current)==null||G.click()},className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-xl text-sm font-medium hover:bg-indigo-500 transition-colors",children:[t.jsx(d0,{className:"w-4 h-4"}),"Upload"]}),t.jsxs("button",{type:"button",onClick:Q=>{Q.stopPropagation(),u(!0)},className:"flex items-center gap-2 px-4 py-2 bg-slate-200 dark:bg-slate-600 rounded-xl text-sm font-medium hover:bg-slate-300 dark:hover:bg-slate-500 transition-colors",children:[t.jsx(Zg,{className:"w-4 h-4"}),"URL"]})]})]}),t.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:Q=>{var G;return((G=Q.target.files)==null?void 0:G[0])&&w(Q.target.files[0])},className:"hidden"})]}),m&&t.jsx("p",{className:"mt-2 text-sm text-red-500",children:m})]})},Zy=({onClose:s,onSuccess:e,initialData:r})=>{var f;const[n,a]=W.useState(!1),l=rx(),[u,d]=W.useState({title:(r==null?void 0:r.title)||"",content:(r==null?void 0:r.content)||"",category:(r==null?void 0:r.category)||"",tags:((f=r==null?void 0:r.tags)==null?void 0:f.join(", "))||"",coverImage:(r==null?void 0:r.coverImage)||""}),A=["Travel","Food","Tips","Experience","Culture","Gear"],o=async(m,p)=>{m.preventDefault(),a(!0);try{const x=document.createElement("div");x.innerHTML=u.content;const b=x.textContent||x.innerText||"",y=b.slice(0,150)+(b.length>150?"...":""),w=r?`${Dt}/api/blogs/${r.id}`:`${Dt}/api/blogs/create`;(await fetch(w,{method:r?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({...u,excerpt:y,status:p,tags:u.tags.split(",").map(z=>z.trim()).filter(Boolean)})})).ok?(l.success(r?"Story updated successfully!":p==="draft"?"Draft saved successfully!":"Story submitted for review!"),e()):l.error(r?"Failed to update story.":"Failed to save story. Please try again.")}catch(x){console.error(r?"Failed to update blog:":"Failed to create blog:",x),l.error("An error occurred. Please try again.")}finally{a(!1)}};return Wj.createPortal(t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-4xl h-[90vh] rounded-3xl shadow-2xl flex flex-col overflow-hidden animate-scale-in",children:[t.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 dark:border-slate-800 flex justify-between items-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:r?"Edit Story":"Write a Story"}),t.jsx("button",{onClick:s,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{className:"w-6 h-6 text-slate-500"})})]}),t.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[t.jsx(Jz,{value:u.coverImage,onChange:m=>d({...u,coverImage:m})}),t.jsx("input",{type:"text",placeholder:"Article Title...",className:"w-full text-4xl font-bold bg-transparent border-none placeholder:text-slate-300 dark:placeholder:text-slate-700 focus:ring-0 px-0 text-slate-900 dark:text-white",value:u.title,onChange:m=>d({...u,title:m.target.value})}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("select",{className:"px-4 py-2 bg-slate-50 dark:bg-slate-800 rounded-xl border-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",value:u.category,onChange:m=>d({...u,category:m.target.value}),children:[t.jsx("option",{value:"",children:"Select Category"}),A.map(m=>t.jsx("option",{value:m,children:m},m))]}),t.jsx("input",{type:"text",placeholder:"Tags (comma separated)...",className:"flex-1 px-4 py-2 bg-slate-50 dark:bg-slate-800 rounded-xl border-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",value:u.tags,onChange:m=>d({...u,tags:m.target.value})})]}),t.jsx(Dk,{content:u.content,onChange:m=>d({...u,content:m}),placeholder:"Tell your story..."})]})}),t.jsxs("div",{className:"px-8 py-6 border-t border-slate-100 dark:border-slate-800 flex justify-end gap-3 bg-white dark:bg-slate-900",children:[t.jsx("button",{onClick:m=>o(m,"draft"),className:"px-6 py-2.5 text-slate-600 font-bold hover:bg-slate-100 rounded-xl transition-colors",children:"Save as Draft"}),t.jsx("button",{onClick:m=>o(m,"pending"),disabled:n||!u.title||!u.content,className:"px-8 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 transition-all flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:n?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):r?"Save Changes":"Submit for Review"})]})]})}),document.body)},Zz=({blogId:s,user:e,onBack:r})=>{zl();const[n,a]=W.useState(null),[l,u]=W.useState([]),[d,A]=W.useState(!0),[o,f]=W.useState(""),[m,p]=W.useState(!1),[x,b]=W.useState(!1),[y,w]=W.useState(!1),[E,R]=W.useState(!1),[z,X]=W.useState("inappropriate"),[Y,Q]=W.useState(""),G=rx();W.useEffect(()=>{le()},[s]);const le=async()=>{try{const se=await fetch(`${Dt}/api/blogs/${s}`,{credentials:"include"});if(se.ok){const oe=await se.json();oe.success&&oe.blog&&a(oe.blog)}const de=await fetch(`${Dt}/api/blogs/${s}/comments`,{credentials:"include"});if(de.ok){const oe=await de.json();oe.success&&oe.comments&&u(oe.comments)}}catch(se){console.error("Error fetching blog details:",se),G.error("Failed to load story details")}finally{A(!1)}},Ae=()=>{w(!0)},je=async()=>{if(n)try{const se=await fetch(`${Dt}/api/blogs/${s}/report`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({reason:z,description:Y})}),de=await se.json();se.ok&&de.success?(G.success("Report submitted successfully"),R(!1),Q(""),X("inappropriate")):G.error(de.error||"Failed to submit report")}catch{G.error("Failed to submit report")}},ue=async()=>{if(n)try{navigator.share?await navigator.share({title:n.title,text:n.excerpt,url:window.location.href}):(await navigator.clipboard.writeText(window.location.href),G.success("Link copied to clipboard!"))}catch(se){console.error("Error sharing:",se)}},Se=async()=>{if(!(!n||!window.confirm("Are you sure you want to delete this story?")))try{(await fetch(`${Dt}/api/blogs/${s}`,{method:"DELETE",credentials:"include"})).ok?(G.success("Story deleted successfully"),r()):G.error("Failed to delete story")}catch(se){console.error("Error deleting blog:",se),G.error("Failed to delete story")}},ae=async()=>{if(!n)return;const se=n.isLiked;try{a(de=>de?{...de,isLiked:!de.isLiked,likesCount:de.isLiked?de.likesCount-1:de.likesCount+1}:null),await fetch(`${Dt}/api/blogs/${s}/like`,{method:"POST",credentials:"include"}),G.success(se?"Removed from favorites":"Added to favorites")}catch(de){console.error("Error toggling like:",de),a(oe=>oe?{...oe,isLiked:se,likesCount:se?oe.likesCount+1:oe.likesCount-1}:null),G.error("Failed to update. Please try again.")}},Ne=async()=>{if(o.trim()){p(!0);try{const se=await fetch(`${Dt}/api/blogs/${s}/comments`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({content:o})});if(se.ok){const de=await se.json();de.success&&de.comment&&(u(oe=>[de.comment,...oe]),f(""),a(oe=>oe?{...oe,commentsCount:oe.commentsCount+1}:null),G.success("Comment posted!"))}else G.error("Failed to post comment")}catch(se){console.error("Error posting comment:",se),G.error("Failed to post comment. Please try again.")}finally{p(!1)}}},he=async()=>{if(!n)return;const se=x;try{b(de=>!de),await fetch(`${Dt}/api/blogs/authors/${n.authorId}/subscribe`,{method:"POST",credentials:"include"}),G.success(se?`Unfollowed ${n.authorName}`:`Now following ${n.authorName}`)}catch(de){console.error("Error toggling follow:",de),b(oe=>!oe),G.error("Failed to update subscription")}};return d?t.jsx(WD,{}):n?t.jsxs("div",{className:"max-w-4xl mx-auto pb-20 animate-fade-in-up",children:[t.jsxs("button",{onClick:r,className:"mb-6 flex items-center gap-2 text-slate-500 hover:text-slate-900 dark:hover:text-white transition-colors",children:[t.jsx(rA,{className:"w-5 h-5"}),t.jsx("span",{className:"font-bold",children:"Back to Feed"})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"flex gap-2 mb-4",children:t.jsx("span",{className:"px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 rounded-full text-xs font-bold uppercase tracking-wide",children:n.category})}),t.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 dark:text-white mb-6 leading-tight",children:n.title}),t.jsxs("div",{className:"flex items-center justify-between py-6 border-b border-slate-100 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden",children:n.authorAvatar&&t.jsx("img",{src:n.authorAvatar,alt:n.authorName,className:"w-full h-full object-cover"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:n.authorName}),t.jsx("button",{onClick:he,className:`text-xs font-bold hover:underline ${x?"text-slate-500":"text-indigo-600 dark:text-indigo-400"}`,children:x?"Following":"Follow"})]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm",children:[t.jsx("span",{children:new Date(n.publishedAt||"").toLocaleDateString()}),t.jsx("span",{children:""}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{className:"w-3 h-3"})," 5 min read"]})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e&&n.authorId===e.id&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:Ae,className:"p-2 text-slate-400 hover:bg-blue-50 hover:text-blue-600 rounded-full transition-colors",title:"Edit Story",children:t.jsx(sy,{className:"w-5 h-5"})}),t.jsx("button",{onClick:Se,className:"p-2 text-slate-400 hover:bg-red-50 hover:text-red-500 rounded-full transition-colors",title:"Delete Story",children:t.jsx(Jo,{className:"w-5 h-5"})})]}),t.jsx("button",{onClick:ue,className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(Kp,{className:"w-5 h-5"})}),t.jsx("button",{onClick:()=>R(!0),className:"p-2 text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx($p,{className:"w-5 h-5"})})]})]})]}),n.coverImage&&t.jsx("div",{className:"rounded-3xl overflow-hidden mb-10 shadow-lg",children:t.jsx("img",{src:n.coverImage,alt:n.title,className:"w-full h-auto object-cover"})}),t.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none mb-12 text-slate-600 dark:text-slate-300",dangerouslySetInnerHTML:{__html:n.content}}),t.jsx("div",{className:"flex items-center justify-between py-6 border-t border-b border-slate-100 dark:border-slate-800 mb-12",children:t.jsxs("div",{className:"flex gap-6",children:[t.jsxs("button",{onClick:ae,className:`flex items-center gap-2 font-bold transition-colors ${n.isLiked?"text-rose-500":"text-slate-500 hover:text-rose-500"}`,children:[t.jsx(bf,{className:`w-6 h-6 ${n.isLiked?"fill-current":""}`}),n.likesCount]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold",children:[t.jsx(pu,{className:"w-6 h-6"}),n.commentsCount]})]})}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("h3",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:["Comments (",l.length,")"]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden shrink-0",children:(e==null?void 0:e.avatarUrl)&&t.jsx("img",{src:e.avatarUrl,alt:"Me",className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("textarea",{value:o,onChange:se=>f(se.target.value),placeholder:"Share your thoughts...",className:"w-full bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white rounded-2xl p-4 border-none focus:ring-2 focus:ring-indigo-500 min-h-[100px] resize-none"}),t.jsx("div",{className:"flex justify-end mt-2",children:t.jsx("button",{onClick:Ne,disabled:!o.trim()||m,className:"px-6 py-2 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-500 transition-colors disabled:opacity-50",children:"Post Comment"})})]})]}),t.jsx("div",{className:"space-y-6",children:l.map(se=>t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 overflow-hidden shrink-0",children:se.userAvatar&&t.jsx("img",{src:se.userAvatar,alt:se.userName,className:"w-full h-full object-cover"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-2xl rounded-tl-none",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:se.userName}),t.jsx("span",{className:"text-xs text-slate-400",children:new Date(se.createdAt||"").toLocaleDateString()})]}),t.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:se.content})]}),t.jsxs("div",{className:"flex gap-4 mt-2 pl-4",children:[t.jsx("button",{className:"text-xs font-bold text-slate-500 hover:text-indigo-600",children:"Reply"}),t.jsx("button",{className:"text-xs font-bold text-slate-500 hover:text-indigo-600",children:"Like"})]})]})]},se.id))})]}),y&&n&&t.jsx(Zy,{initialData:n,onClose:()=>w(!1),onSuccess:()=>{w(!1),le()}}),E&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-xl p-6 animate-scale-in",children:[t.jsxs("div",{className:"flex justify-between items-center mb-4",children:[t.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(Zo,{className:"w-5 h-5 text-amber-500"}),"Report Story"]}),t.jsx("button",{onClick:()=>R(!1),className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Reason"}),t.jsxs("select",{value:z,onChange:se=>X(se.target.value),className:"w-full p-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-indigo-500",children:[t.jsx("option",{value:"spam",children:"Spam"}),t.jsx("option",{value:"inappropriate",children:"Inappropriate Content"}),t.jsx("option",{value:"harassment",children:"Harassment"}),t.jsx("option",{value:"misinformation",children:"Misinformation"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description (Optional)"}),t.jsx("textarea",{value:Y,onChange:se=>Q(se.target.value),className:"w-full p-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white min-h-[100px] focus:ring-2 focus:ring-indigo-500 resize-none",placeholder:"Please provide more details..."})]}),t.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[t.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-slate-600 font-medium hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 rounded-lg transition-colors",children:"Cancel"}),t.jsx("button",{onClick:je,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-lg hover:bg-red-700 transition-colors shadow-lg shadow-red-500/20",children:"Submit Report"})]})]})]})})]}):t.jsx("div",{className:"p-8 text-center text-slate-500",children:"Story not found"})},qz=({className:s=""})=>t.jsxs("div",{className:`bg-white dark:bg-slate-800/60 rounded-3xl overflow-hidden shadow-sm border border-slate-100 dark:border-slate-700/50 ${s}`,children:[t.jsx(Jn,{variant:"rectangular",className:"w-full h-48"}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx(Jn,{variant:"rounded",className:"w-20 h-6"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Jn,{variant:"text",className:"w-full h-6"}),t.jsx(Jn,{variant:"text",className:"w-3/4 h-6"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Jn,{variant:"text",className:"w-full h-4"}),t.jsx(Jn,{variant:"text",className:"w-5/6 h-4"})]}),t.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[t.jsx(Jn,{variant:"circular",className:"w-10 h-10"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(Jn,{variant:"text",className:"w-24 h-4"}),t.jsx(Jn,{variant:"text",className:"w-32 h-3"})]})]}),t.jsxs("div",{className:"flex items-center gap-4 pt-2 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsx(Jn,{variant:"rounded",className:"w-16 h-5"}),t.jsx(Jn,{variant:"rounded",className:"w-16 h-5"}),t.jsx(Jn,{variant:"rounded",className:"w-16 h-5"})]})]})]}),e$=({user:s,onBack:e})=>{const[r,n]=W.useState([]),[a,l]=W.useState(!0),[u,d]=W.useState(""),[A,o]=W.useState("all"),[f,m]=W.useState(!1),[p,x]=W.useState(null),b=rx();W.useEffect(()=>{y()},[]);const y=async()=>{l(!0);try{const Q=await fetch(`${Dt}/api/blogs/my?status=all`,{credentials:"include"});if(Q.ok){const G=await Q.json();G.success&&n(G.blogs||[])}}catch(Q){console.error("Failed to fetch my blogs:",Q),b.error("Failed to load your stories")}finally{l(!1)}},w=async Q=>{if(window.confirm("Are you sure you want to delete this story? This action cannot be undone."))try{(await fetch(`${Dt}/api/blogs/${Q}`,{method:"DELETE",credentials:"include"})).ok?(b.success("Story deleted successfully"),n(le=>le.filter(Ae=>Ae.id!==Q))):b.error("Failed to delete story")}catch{b.error("Failed to delete story")}},E=r.filter(Q=>{const G=Q.title.toLowerCase().includes(u.toLowerCase()),le=A==="all"||Q.status===A;return G&&le}),R=r.reduce((Q,G)=>Q+(G.views||0),0),z=r.reduce((Q,G)=>Q+(G.likesCount||0),0),X=r.reduce((Q,G)=>Q+(G.commentsCount||0),0),Y=Q=>{switch(Q){case"published":return"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400";case"pending":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"rejected":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";default:return"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-400"}};return t.jsxs("div",{className:"animate-fade-in-up",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(rA,{className:"w-6 h-6 text-slate-500"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Story Studio"}),t.jsx("p",{className:"text-slate-500",children:"Manage your content and analytics"})]})]}),t.jsxs("button",{onClick:()=>{x(null),m(!0)},className:"px-5 py-2.5 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl shadow-lg shadow-indigo-500/20 transition-all flex items-center gap-2",children:[t.jsx($i,{className:"w-5 h-5"}),"Create New"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:t.jsx(Ed,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Stories"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:r.length})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-indigo-50 dark:bg-indigo-900/20 rounded-lg",children:t.jsx(io,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Views"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:R})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-rose-50 dark:bg-rose-900/20 rounded-lg",children:t.jsx(bf,{className:"w-5 h-5 text-rose-600 dark:text-rose-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Total Likes"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:z})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 p-6 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/20 rounded-lg",children:t.jsx(pu,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),t.jsx("span",{className:"text-sm font-medium text-slate-500",children:"Comments"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:X})]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-2xl border border-slate-100 dark:border-slate-700 shadow-sm overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 dark:border-slate-700 flex flex-col md:flex-row gap-4 justify-between",children:[t.jsxs("div",{className:"relative flex-1 max-w-md",children:[t.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search your stories...",value:u,onChange:Q=>d(Q.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white"})]}),t.jsxs("select",{value:A,onChange:Q=>o(Q.target.value),className:"px-4 py-2 bg-slate-50 dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"rejected",children:"Rejected"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-left",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Story"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Stats"}),t.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:a?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"Loading stories..."})}):E.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-500",children:"No stories found"})}):E.map(Q=>t.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-10 rounded-lg bg-slate-200 dark:bg-slate-700 overflow-hidden flex-shrink-0",children:Q.coverImage?t.jsx("img",{src:Q.coverImage,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-indigo-400 to-purple-500"})}),t.jsxs("div",{className:"min-w-0 max-w-xs",children:[t.jsx("p",{className:"font-bold text-slate-900 dark:text-white truncate",children:Q.title}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:Q.category})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold uppercase tracking-wider ${Y(Q.status)}`,children:Q.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:new Date(Q.createdAt||"").toLocaleDateString()}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",title:"Views",children:[t.jsx(io,{className:"w-4 h-4"})," ",Q.views]}),t.jsxs("span",{className:"flex items-center gap-1",title:"Likes",children:[t.jsx(bf,{className:"w-4 h-4"})," ",Q.likesCount]})]})}),t.jsx("td",{className:"px-6 py-4 text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{onClick:()=>{x(Q),m(!0)},className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Edit",children:t.jsx(sy,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>w(Q.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Delete",children:t.jsx(Jo,{className:"w-4 h-4"})})]})})]},Q.id))})]})})]}),f&&t.jsx(Zy,{initialData:p||void 0,onClose:()=>{m(!1),x(null)},onSuccess:()=>{m(!1),x(null),y()}})]})},t$=({user:s})=>{const[e,r]=W.useState("list"),[n,a]=W.useState(null),[l,u]=W.useState(!1),[d,A]=W.useState([]),[o,f]=W.useState(!0),[m,p]=W.useState("All"),[x,b]=W.useState(""),y=rx(),w=["All","Travel","Food","Tips","Experience"];W.useEffect(()=>{E()},[m]);const E=async()=>{f(!0);try{const z=new URLSearchParams;m!=="All"&&z.append("category",m),x&&z.append("search",x);const X=`${Dt}/api/blogs/feed${z.toString()?"?"+z.toString():""}`,Y=await fetch(X,{credentials:"include"});if(Y.ok){const Q=await Y.json();Q.success?A(Q.blogs||[]):A([])}else A([])}catch(z){console.error("Failed to fetch blogs:",z),A([]),y.error("Failed to load stories. Please try again.")}finally{f(!1)}},R=z=>{a(z),r("detail")};return e==="studio"?t.jsx(e$,{user:s,onBack:()=>r("list")}):e==="detail"&&n?t.jsx(Zz,{blogId:n,user:s,onBack:()=>{r("list"),a(null)}}):t.jsxs("div",{className:"p-6 md:p-8 w-full mx-auto space-y-8 animate-fade-in-up",children:[t.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-4xl font-bold text-slate-900 dark:text-white tracking-tight flex items-center gap-3",children:[t.jsx(Hp,{className:"w-10 h-10 text-indigo-500"}),"Travel Stories"]}),t.jsx("p",{className:"text-lg font-medium text-slate-500 dark:text-slate-400 mt-2",children:"Discover and share adventures from around the world."})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("button",{onClick:()=>r("studio"),className:"px-5 py-3 bg-white dark:bg-slate-800 text-slate-700 dark:text-white rounded-2xl font-bold shadow-sm border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all flex items-center gap-2",children:[t.jsx(ty,{className:"w-5 h-5"}),"My Studio"]}),t.jsxs("button",{onClick:()=>u(!0),className:"px-6 py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-2xl font-bold shadow-lg shadow-indigo-500/20 transition-all active:scale-95 flex items-center gap-2",children:[t.jsx($i,{className:"w-5 h-5"}),"Write Story"]})]})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-center bg-white dark:bg-slate-800/50 p-2 rounded-3xl border border-slate-100 dark:border-slate-700/50 shadow-sm",children:[t.jsx("div",{className:"flex gap-1 overflow-x-auto w-full lg:w-auto p-1 no-scrollbar",children:w.map(z=>t.jsx("button",{onClick:()=>p(z),className:`px-5 py-2.5 rounded-xl text-sm font-bold whitespace-nowrap transition-all ${m===z?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 shadow-md":"text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:z},z))}),t.jsxs("div",{className:"relative w-full lg:w-96 group",children:[t.jsx(Vc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors"}),t.jsx("input",{type:"text",placeholder:"Search stories, authors, tags...",value:x,onChange:z=>b(z.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl pl-12 pr-4 py-3 font-medium focus:ring-2 focus:ring-indigo-500 transition-all text-slate-900 dark:text-white"})]})]}),o?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(z=>t.jsx(qz,{},z))}):d.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((z,X)=>t.jsx("div",{style:{animationDelay:`${X*50}ms`},className:"animate-fade-in-up",children:t.jsx(GD,{blog:z,onClick:()=>R(z.id)})},z.id))}):t.jsxs("div",{className:"text-center py-20 bg-slate-50 dark:bg-slate-800/50 rounded-3xl border border-dashed border-slate-200 dark:border-slate-700",children:[t.jsx(Hp,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"No stories found"}),t.jsx("p",{className:"text-slate-500",children:"Be the first to share your adventure in this category!"})]}),l&&t.jsx(Zy,{onClose:()=>u(!1),onSuccess:()=>{u(!1),E(),y.success("Your story has been submitted for review!")}})]})},s$=(s,e,r)=>e?`${Dt}/proxy_image?place_id=${e}`:r?`${Dt}/proxy_image?name=${encodeURIComponent(r)}`:`${Dt}/proxy_image/default`,r$=({type:s,className:e="w-4 h-4"})=>{switch(s){case"food":return t.jsx(Gd,{className:e});case"attraction":return t.jsx(Yg,{className:e});case"cafe":return t.jsx(Em,{className:e});case"hotel":return t.jsx(Jg,{className:e});case"shopping":return t.jsx(tx,{className:e});case"transport":return t.jsx(Wg,{className:e});default:return t.jsx(Xo,{className:e})}},n$=({slot:s})=>{const e={morning:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",lunch:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",afternoon:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-400",evening:"bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-400",night:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${e[s]||e.morning}`,children:s})},a$=({plan:s,onClose:e})=>{const[r,n]=W.useState(0),a=s.days[r],l=()=>n(d=>Math.max(0,d-1)),u=()=>n(d=>Math.min(s.days.length-1,d+1));return t.jsxs("div",{className:"fixed inset-0 z-[100] bg-white dark:bg-slate-900 flex flex-col overflow-hidden animate-in fade-in duration-200",children:[t.jsx("div",{className:"shrink-0 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white line-clamp-1",children:s.title}),t.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-2",children:[t.jsx("span",{children:s.duration}),t.jsx("span",{children:""}),t.jsx("span",{children:s.total_budget_estimate})]})]})]}),t.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider bg-slate-100 dark:bg-slate-800 px-3 py-1.5 rounded-full",children:"Read Only"})]})}),t.jsx("div",{className:"shrink-0 border-b border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-900/50",children:t.jsx("div",{className:"max-w-4xl mx-auto px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:l,disabled:r===0,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Ph,{className:"w-5 h-5"})}),t.jsx("div",{className:"flex-1 flex gap-2 overflow-x-auto py-1 [&::-webkit-scrollbar]:hidden",children:s.days.map((d,A)=>t.jsx("button",{onClick:()=>n(A),className:`shrink-0 px-4 py-2 rounded-xl font-medium text-sm transition-all ${r===A?"bg-sky-500 text-white shadow-md shadow-sky-500/20":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-sky-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700"}`,children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsxs("span",{className:"font-bold",children:["Day ",d.day_number]}),t.jsx("span",{className:"text-[10px] opacity-75",children:d.theme})]})},d.day_number))}),t.jsx("button",{onClick:u,disabled:r===s.days.length-1,className:"p-2 hover:bg-white dark:hover:bg-slate-800 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:t.jsx(Ac,{className:"w-5 h-5"})})]})})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-8",children:[a.top_locations&&a.top_locations.length>0&&t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Ao,{className:"w-4 h-4"})," Highlights"]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.top_locations.map((d,A)=>t.jsxs("div",{className:"relative h-48 rounded-2xl overflow-hidden group shadow-lg",children:[t.jsx("img",{src:s$(d.image_url,d.place_id,d.name),alt:d.name,className:"w-full h-full object-cover",onError:o=>{o.currentTarget.src=`${Dt}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),t.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[t.jsx("h3",{className:"text-white font-bold text-lg mb-1",children:d.name}),t.jsx("p",{className:"text-white/80 text-xs",children:d.highlight_reason})]})]},A))})]}),t.jsx("section",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-2xl p-5 border border-slate-100 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-wrap gap-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-sky-100 dark:bg-sky-900/30 rounded-lg",children:t.jsx(co,{className:"w-5 h-5 text-sky-600 dark:text-sky-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Activities"}),t.jsxs("p",{className:"font-bold text-slate-900 dark:text-white",children:[a.day_summary.total_activities," Items"]})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-emerald-100 dark:bg-emerald-900/30 rounded-lg",children:t.jsx(kf,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Est. Budget"}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white",children:a.day_summary.total_budget})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg",children:t.jsx(Wg,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Transport"}),t.jsx("p",{className:"font-bold text-slate-900 dark:text-white text-sm",children:a.day_summary.transport_notes})]})]})]})}),t.jsxs("section",{children:[t.jsxs("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-4 h-4"})," Itinerary"]}),t.jsx("div",{className:"space-y-4",children:a.activities.map((d,A)=>t.jsxs("div",{className:"relative pl-8 group",children:[A<a.activities.length-1&&t.jsx("div",{className:"absolute left-[11px] top-10 bottom-0 w-0.5 bg-slate-200 dark:bg-slate-700"}),t.jsx("div",{className:`absolute left-0 top-2 w-6 h-6 rounded-full flex items-center justify-center shadow-md ${d.activity_type==="food"?"bg-orange-500":d.activity_type==="attraction"?"bg-sky-500":d.activity_type==="cafe"?"bg-amber-500":"bg-slate-500"}`,children:t.jsx(r$,{type:d.activity_type,className:"w-3 h-3 text-white"})}),t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl border border-slate-100 dark:border-slate-700 p-5 shadow-sm",children:[t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(n$,{slot:d.time_slot}),t.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[d.start_time," - ",d.end_time]})]})}),t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1",children:d.place_name}),t.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400 flex items-center gap-1 mb-3",children:[t.jsx(Xo,{className:"w-3 h-3"}),d.place_address]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed mb-4",children:d.description}),t.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs",children:[t.jsx("span",{className:"px-2 py-1 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 rounded-lg font-bold",children:d.budget_estimate}),d.dietary_info&&t.jsx("span",{className:"px-2 py-1 bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-400 rounded-lg font-medium",children:d.dietary_info}),d.tips&&t.jsxs("span",{className:"text-slate-400 flex items-center gap-1",children:[t.jsx(Sl,{className:"w-3 h-3"})," ",d.tips]})]})]})]},A))})]}),s.practical_info&&t.jsxs("section",{className:"bg-amber-50 dark:bg-amber-900/20 rounded-2xl p-5 border border-amber-100 dark:border-amber-800/30",children:[t.jsxs("h2",{className:"text-sm font-bold text-amber-800 dark:text-amber-400 mb-3 flex items-center gap-2",children:[t.jsx(Sl,{className:"w-4 h-4"})," Practical Info"]}),t.jsxs("div",{className:"space-y-2 text-sm text-amber-700 dark:text-amber-300",children:[s.practical_info.best_transport&&t.jsxs("p",{children:[t.jsx("strong",{children:"Transport:"})," ",s.practical_info.best_transport]}),s.practical_info.weather_advisory&&t.jsxs("p",{children:[t.jsx("strong",{children:"Weather:"})," ",s.practical_info.weather_advisory]}),s.practical_info.booking_recommendations&&s.practical_info.booking_recommendations.length>0&&t.jsxs("div",{children:[t.jsx("strong",{children:"Booking Tips:"}),t.jsx("ul",{className:"list-disc list-inside mt-1",children:s.practical_info.booking_recommendations.map((d,A)=>t.jsx("li",{children:d},A))})]})]})]})]})})]})},i$=({suggestion:s})=>{var e;return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[280px] md:max-w-[320px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl flex-shrink-0 snap-start",children:[t.jsxs("div",{className:"h-36 overflow-hidden relative rounded-t-2xl",children:[t.jsx("img",{src:s.imageUrl||`${Dt}/proxy_image/default`,alt:s.title,className:"w-full h-full object-cover",onError:r=>{r.currentTarget.src=`${Dt}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"}),t.jsx("div",{className:"absolute bottom-3 left-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(e=s.tags)==null?void 0:e.slice(0,3).map(r=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:r},r))}),s.priceEstimate&&t.jsxs("div",{className:"pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Cost"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.priceEstimate})]})]})]})},o$=({plan:s,onViewDetails:e})=>{var a,l,u;const r=((a=s.days)==null?void 0:a.reduce((d,A)=>{var o;return d+(((o=A.activities)==null?void 0:o.length)||0)},0))||0,n=()=>{var A,o,f;const d=(f=(o=(A=s.days)==null?void 0:A[0])==null?void 0:o.top_locations)==null?void 0:f[0];return d!=null&&d.place_id?`${Dt}/proxy_image?place_id=${d.place_id}`:d!=null&&d.name?`${Dt}/proxy_image?name=${encodeURIComponent(d.name)}`:`${Dt}/proxy_image/default`};return t.jsxs("div",{className:"w-full md:w-auto md:min-w-[320px] md:max-w-[380px] bg-white dark:bg-slate-900/80 backdrop-blur-md border border-slate-200 dark:border-slate-700/50 rounded-2xl flex-shrink-0 snap-start transition-all hover:shadow-lg",children:[t.jsxs("div",{className:"h-40 overflow-hidden relative rounded-t-2xl bg-gradient-to-br from-sky-400 to-blue-600",children:[t.jsx("img",{src:n(),alt:s.title,className:"w-full h-full object-cover",onError:d=>{d.currentTarget.src=`${Dt}/proxy_image/default`}}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),t.jsxs("div",{className:"absolute top-3 left-3 px-3 py-1 bg-sky-500/90 backdrop-blur-sm rounded-full text-white text-xs font-bold flex items-center gap-1.5",children:[t.jsx(co,{className:"w-3 h-3"}),s.duration]}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:t.jsx("h4",{className:"text-white font-bold text-lg leading-tight drop-shadow-md",children:s.title})})]}),t.jsxs("div",{className:"p-5 space-y-4",children:[t.jsx("p",{className:"text-sm font-medium text-slate-600 dark:text-slate-300 leading-relaxed line-clamp-2",children:s.description}),t.jsx("div",{className:"flex flex-wrap gap-2",children:(l=s.tags)==null?void 0:l.slice(0,4).map(d=>t.jsx("span",{className:"text-[10px] font-bold bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-300 px-2.5 py-1 rounded-lg uppercase tracking-wider",children:d},d))}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(co,{className:"w-3.5 h-3.5"}),((u=s.days)==null?void 0:u.length)||0," days"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Xo,{className:"w-3.5 h-3.5"}),r," activities"]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-100 dark:border-slate-700/50",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Est. Budget"}),t.jsx("p",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:s.total_budget_estimate})]}),t.jsxs("button",{onClick:()=>e(s),className:"flex items-center gap-1.5 px-4 py-2 rounded-xl text-xs font-bold bg-sky-600 hover:bg-sky-500 text-white transition-all",children:[t.jsx(Sl,{className:"w-3.5 h-3.5"}),"View Itinerary"]})]})]})]})},l$=({place:s})=>t.jsxs("div",{className:"bg-white dark:bg-slate-900/80 border border-slate-200 dark:border-slate-700/50 rounded-xl p-4",children:[t.jsx("h4",{className:"font-bold text-slate-900 dark:text-white",children:s.name}),s.address&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:s.address}),t.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[s.rating&&t.jsxs("span",{className:"flex items-center gap-1 text-sm",children:[t.jsx(tA,{className:"w-4 h-4 text-amber-400 fill-current"}),s.rating]}),s.cuisine&&t.jsx("span",{className:"text-xs bg-slate-100 dark:bg-slate-800 px-2 py-1 rounded",children:s.cuisine}),s.price_level&&t.jsx("span",{className:"text-xs text-emerald-600",children:s.price_level})]})]}),c$=s=>s.map((e,r)=>{const n=()=>e.id||e.place_id?`${Dt}/proxy_image?place_id=${e.id||e.place_id}`:e.name?`${Dt}/proxy_image?name=${encodeURIComponent(e.name)}`:`${Dt}/proxy_image/default`;return{id:e.id||`shared-place-${r}`,title:e.title||e.name||"Unknown",description:e.description||e.address||"",duration:e.duration||"Place",priceEstimate:e.priceEstimate||(e.price_level?"$".repeat(e.price_level.length):"N/A"),tags:e.tags||(e.business_status==="OPERATIONAL"?["Open","Place"]:["Place"]),imageUrl:n(),itinerary:e.itinerary||null,reviews:e.review_list||[],fullAddress:e.address,rating:e.rating}}),d$=s=>{let e=s.content,r,n,a;if(e.startsWith("DAILY_PLAN::"))try{const l=JSON.parse(e.substring(12));n=[l],e=`Generated a ${l.duration} trip plan:`}catch(l){console.error("Failed to parse daily plan:",l)}else if(e.startsWith("FOOD_DATA::"))try{const l=JSON.parse(e.substring(11));l.recommendations&&(a=l.recommendations,e=`Found ${l.recommendations.length} food recommendations:`)}catch(l){console.error("Failed to parse food data:",l)}else if(e.startsWith("POPUP_DATA::"))try{const l=JSON.parse(e.substring(12));r=c$(l),e=`Found ${r.length} recommendations:`}catch(l){console.error("Failed to parse places data:",l)}return{text:e,suggestions:r,dailyPlans:n,foodRecommendations:a}},u$=()=>{const{shareToken:s}=Gg(),e=zl(),[r,n]=W.useState(null),[a,l]=W.useState(!0),[u,d]=W.useState(null),[A,o]=W.useState(null),f=W.useRef(null);return W.useEffect(()=>{(async()=>{if(!s){d("Invalid share link"),l(!1);return}try{const p=await fetch(`${Dt}/api/shared/${s}`);if(!p.ok){p.status===404?d("This conversation is no longer available or has been unshared."):d("Failed to load conversation"),l(!1);return}const x=await p.json();n(x.conversation)}catch(p){console.error("Failed to fetch shared conversation:",p),d("Failed to load conversation. Please try again.")}finally{l(!1)}})()},[s]),W.useEffect(()=>{var m;r&&((m=f.current)==null||m.scrollIntoView({behavior:"smooth"}))},[r]),a?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:t.jsxs("div",{className:"text-center space-y-4",children:[t.jsx(Lr,{className:"w-10 h-10 text-sky-500 animate-spin mx-auto"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Loading shared conversation..."})]})}):u||!r?t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900 p-4",children:t.jsxs("div",{className:"text-center space-y-6 max-w-md",children:[t.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto",children:t.jsx(Ia,{className:"w-8 h-8 text-red-500"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Conversation Not Found"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:u||"This shared conversation could not be found."})]}),t.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-xl transition-colors",children:[t.jsx(rA,{className:"w-4 h-4"}),"Go to Home"]})]})}):t.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-white dark:from-slate-950 dark:to-slate-900",children:[t.jsx("div",{className:"sticky top-0 z-10 px-4 py-3 border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:t.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[t.jsx("button",{onClick:()=>e("/"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(rA,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900 dark:text-white truncate",children:r.title}),t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Shared conversation - ",r.messageCount," messages"]})]}),t.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-full",children:[t.jsx(Vp,{className:"w-3.5 h-3.5 text-sky-500"}),t.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-300",children:"GogoTrip"})]})]})}),t.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-8 py-8",children:[t.jsx("div",{className:"flex flex-col space-y-8",children:r.messages.map(m=>{const p=m.role==="user",{text:x,suggestions:b,dailyPlans:y,foodRecommendations:w}=d$(m);return t.jsxs("div",{className:`flex w-full flex-col ${p?"items-end":"items-start"}`,children:[t.jsxs("div",{className:`flex gap-4 max-w-[90%] md:max-w-[70%] ${p?"flex-row-reverse":"flex-row"}`,children:[t.jsx("div",{className:"flex-shrink-0 mt-2",children:p?t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-300 dark:bg-slate-700 flex items-center justify-center",children:t.jsx("span",{className:"text-sm font-bold text-slate-600 dark:text-slate-300",children:"U"})}):t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-sky-500 to-blue-600 flex items-center justify-center shadow-md",children:t.jsx(n0,{className:"w-5 h-5 text-white"})})}),t.jsxs("div",{className:`flex flex-col gap-1 p-5 rounded-[1.5rem] shadow-sm ${p?"bg-sky-600 dark:bg-indigo-600 text-white rounded-tr-sm":"bg-white dark:bg-slate-900 text-slate-800 dark:text-slate-200 border border-slate-100 dark:border-slate-800 rounded-tl-sm"}`,children:[t.jsx("p",{className:"text-[15px] leading-relaxed whitespace-pre-wrap font-medium",children:x}),t.jsx("span",{className:`text-[10px] font-bold ${p?"text-sky-100":"text-slate-400"} self-end mt-1`,children:new Date(m.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),b&&b.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:b.map((E,R)=>t.jsx(i$,{suggestion:E},E.id||R))})}),y&&y.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"flex flex-row gap-4 overflow-x-auto pb-4 pl-1 [&::-webkit-scrollbar]:hidden scroll-smooth snap-x",children:y.map((E,R)=>t.jsx(o$,{plan:E,onViewDetails:o},`${E.title}-${R}`))})}),w&&w.length>0&&t.jsx("div",{className:"mt-8 ml-0 md:ml-14 w-full md:w-auto md:max-w-[95%]",children:t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:w.slice(0,6).map((E,R)=>t.jsx(l$,{place:E},`${E.name}-${R}`))})})]},m.id)})}),t.jsx("div",{ref:f})]}),t.jsx("div",{className:"border-t border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm",children:t.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 text-center",children:[t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"This is a shared conversation. Want to plan your own trip?"}),t.jsxs("button",{onClick:()=>e("/chat"),className:"inline-flex items-center gap-2 px-6 py-3 bg-sky-500 hover:bg-sky-600 text-white font-bold rounded-xl transition-colors",children:[t.jsx(Vp,{className:"w-4 h-4"}),"Start Planning"]})]})}),A&&t.jsx(a$,{plan:A,onClose:()=>o(null)})]})},id={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},A$={Administrator:id.SUPER_ADMIN,Admin:id.ADMIN,User:id.USER,administrator:id.SUPER_ADMIN,ADMIN:id.ADMIN,USER:id.USER,admin:id.ADMIN,user:id.USER,super_admin:id.SUPER_ADMIN};function zg(s){return s?Object.values(id).includes(s)?s:A$[s]??id.USER:id.USER}function Kv(s){const e=zg(s);return e===id.SUPER_ADMIN||e===id.ADMIN}function Gv(s){return zg(s)===id.SUPER_ADMIN}const h$=({user:s,onLogout:e,onSwitchToAdmin:r,onUpdateUser:n})=>{const a=zl();x0();const[l,u]=W.useState(!1),[d,A]=W.useState(!1),[o,f]=W.useState([]),[m,p]=W.useState(!1);W.useEffect(()=>{const z=localStorage.getItem("gogotrip_language");z&&["en","zh","ms"].includes(z)&&z!==hc.language&&ox(z),s!=null&&s.preferredLanguage&&s.preferredLanguage!==z&&hv(s.preferredLanguage)},[s]),W.useEffect(()=>{(async()=>{try{const X=await fetch(`${Dt}/api/notifications/user`,{credentials:"include"});if(X.ok){const Y=await X.json();Y.success&&f(Y.notifications||[])}}catch(X){console.error("Failed to fetch notifications",X)}})()},[]);const x=()=>A(z=>!z),b=()=>p(!0),y=()=>{p(!1),e()},w=z=>{a(z),u(!1)},E=s?{...s,subscription:s.subscription??(s.isPremium?{status:"active"}:void 0)}:null,R=Kv(s.role);return t.jsx(e6,{children:t.jsx("div",{className:`${d?"dark":""} h-full`,children:t.jsxs("div",{className:"min-h-screen flex bg-gradient-to-br from-blue-100 via-sky-50 to-white dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 text-slate-900 dark:text-slate-200",children:[t.jsx(R6,{isOpen:l,isAdminUser:R,onSwitchToAdmin:r,onChangeView:w}),t.jsxs("main",{className:"flex-1 flex flex-col min-w-0 relative",children:[t.jsx(P6,{onToggleSidebar:()=>u(z=>!z),title:"GogoTrip",isDarkMode:d,onToggleTheme:x,user:s,notifications:o,onLogout:b,onNavigate:w}),t.jsx("div",{className:"flex-1 overflow-y-auto relative pt-28",children:t.jsx("div",{className:"relative",children:t.jsxs(RB,{children:[t.jsx(Hl,{path:"/",element:t.jsx($U,{user:E})}),t.jsx(Hl,{path:"/chat",element:t.jsx(tw,{user:E})}),t.jsx(Hl,{path:"/chat/:conversationId",element:t.jsx(tw,{user:E})}),t.jsx(Hl,{path:"/shared/:shareToken",element:t.jsx(u$,{})}),t.jsx(Hl,{path:"/trips",element:t.jsx(CD,{user:E})}),t.jsx(Hl,{path:"/blogs",element:t.jsx(t$,{user:E})}),t.jsx(Hl,{path:"/calendar",element:t.jsx(yD,{user:E})}),t.jsx(Hl,{path:"/scheduler",element:t.jsx(BD,{user:E})}),t.jsx(Hl,{path:"/translate",element:t.jsx(UD,{user:E})}),t.jsx(Hl,{path:"/expenses",element:t.jsx(MD,{user:E})}),t.jsx(Hl,{path:"/support",element:t.jsx(PU,{user:E})}),t.jsx(Hl,{path:"/support/:id",element:t.jsx(_U,{user:E})}),t.jsx(Hl,{path:"/settings",element:t.jsx(OD,{user:s,onUpdateUser:n})}),t.jsx(Hl,{path:"/billing",element:t.jsx(ID,{user:s,onUpdateUser:n,onNavigate:w})}),t.jsx(Hl,{path:"/receipt",element:t.jsx(HD,{})}),t.jsx(Hl,{path:"/announcements",element:t.jsx(VD,{})}),t.jsx(Hl,{path:"/announcements/:id",element:t.jsx(KD,{})}),t.jsx(Hl,{path:"*",element:t.jsx(IB,{to:"/",replace:!0})})]})})})]}),l&&t.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 md:hidden",onClick:()=>u(!1)}),m&&t.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 max-w-sm w-full",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(Zo,{})}),t.jsx("h3",{className:"text-lg font-bold mb-2",children:"Sign Out"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to sign out?"}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>p(!1),className:"flex-1 px-4 py-2 rounded-xl bg-slate-100",children:"Cancel"}),t.jsxs("button",{onClick:y,className:"flex-1 px-4 py-2 rounded-xl bg-red-600 text-white flex items-center justify-center gap-2",children:[t.jsx(qg,{size:18}),"Sign Out"]})]})]})})})]})})})},f$=({activeItem:s,onNavigate:e,onSwitchToUser:r,onLogout:n})=>{const a=[{id:"Home",label:"Dashboard",icon:t.jsx(ty,{size:20})},{id:"Info Blog",label:"Info Blog",icon:t.jsx(Ed,{size:20})},{id:"Blog Moderation",label:"Blog Moderation",icon:t.jsx(Hp,{size:20})},{id:"Blog Reports",label:"Blog Reports",icon:t.jsx($p,{size:20})},{id:"Notifications",label:"Notifications",icon:t.jsx(Au,{size:20})},{id:"Advertisement",label:"Advertisements",icon:t.jsx(l0,{size:20})},{id:"Login Hero",label:"Login Background",icon:t.jsx(l0,{size:20})},{id:"Subscription",label:"Subscriptions",icon:t.jsx(i0,{size:20})},{id:"Support Tickets",label:"Support Tickets",icon:t.jsx(pu,{size:20})},{id:"Voucher Managment",label:"Voucher Managment",icon:t.jsx(bT,{size:20})},{id:"Plan Managment",label:"Plan Managment",icon:t.jsx(eA,{size:20})},{id:"Admin Messages",label:"Admin Messages",icon:t.jsx(Yd,{size:20})},{id:"Admin Chat",label:"Admin Chat",icon:t.jsx(pu,{size:20})},{id:"Inquiries",label:"Inquiries",icon:t.jsx(fm,{size:20})}],l=[{id:"User",label:"Users",icon:t.jsx(Ld,{size:20})},{id:"Place",label:"Places",icon:t.jsx(Xo,{size:20})},{id:"Trip",label:"Trips",icon:t.jsx(nA,{size:20})},{id:"Trip Item",label:"Trip Items",icon:t.jsx(co,{size:20})}],u=[{id:"Settings",label:"Settings",icon:t.jsx(Tm,{size:20})}],d=A=>{const o=s===A.id;return t.jsxs("button",{onClick:()=>e(A.id),className:`
          w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium transition-all duration-200
          ${o?"bg-blue-50 text-blue-600 shadow-sm":"text-slate-600 hover:bg-slate-50 hover:text-slate-900"}
        `,children:[t.jsx("span",{className:`${o?"text-blue-500":"text-slate-400"} transition-colors`,children:A.icon}),t.jsx("span",{className:"flex-1 text-left",children:A.label}),A.badge&&t.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-600 text-xs font-bold rounded-full",children:A.badge}),o&&t.jsx(Ac,{size:16,className:"text-blue-400"})]},A.id)};return t.jsxs("aside",{className:"w-64 h-screen bg-white border-r border-slate-200 flex flex-col",children:[t.jsx("div",{className:"p-6 border-b border-slate-100",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:t.jsx(nA,{className:"w-5 h-5 text-white"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-slate-900",children:"GogoTrip"}),t.jsx("p",{className:"text-xs text-slate-400",children:"Admin Panel"})]})]})}),t.jsxs("nav",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Main Menu"}),t.jsx("div",{className:"space-y-1",children:a.map(d)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"Data Management"}),t.jsx("div",{className:"space-y-1",children:l.map(d)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"px-4 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:"System"}),t.jsx("div",{className:"space-y-1",children:u.map(d)})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-100 space-y-2",children:[t.jsxs("button",{onClick:r,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-slate-600 hover:bg-slate-50 hover:text-slate-900 transition-colors",children:[t.jsx(JB,{size:20,className:"text-slate-400"}),"Switch to User View"]}),t.jsxs("button",{onClick:n,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-red-600 hover:bg-red-50 transition-colors",children:[t.jsx(qg,{size:20}),"Sign Out"]})]})]})},m$=({onLogout:s,onNavigate:e,user:r})=>{const[n,a]=W.useState(!1),[l,u]=W.useState(!1),[d,A]=W.useState(""),[o,f]=W.useState(null),m=W.useRef(null),p=W.useRef(null);W.useEffect(()=>{const R=z=>{m.current&&!m.current.contains(z.target)&&a(!1),p.current&&!p.current.contains(z.target)&&u(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]);const x=R=>{e("Settings"),a(!1)},b=[{id:1,text:"New user registered: Sarah J.",time:"2 min ago",unread:!0},{id:2,text:"System backup completed successfully.",time:"1 hour ago",unread:!1},{id:3,text:"Trip #1029 reported by user.",time:"3 hours ago",unread:!0}],y=R=>{switch(R){case"success":return t.jsx(Bo,{size:18});case"warning":return t.jsx(Zo,{size:18});default:return t.jsx(Sl,{size:18})}},w=R=>{switch(R){case"success":return"bg-white border-green-100 text-green-800";case"warning":return"bg-white border-amber-100 text-amber-800";default:return"bg-white border-blue-100 text-blue-800"}},E=R=>{switch(R){case"success":return"bg-green-100 text-green-600";case"warning":return"bg-amber-100 text-amber-600";default:return"bg-blue-100 text-blue-600"}};return t.jsxs("header",{className:"flex flex-col md:flex-row items-center justify-between gap-4 py-4 px-8 bg-white border-b border-slate-200 z-20 relative",children:[o&&t.jsxs("div",{className:`fixed top-24 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${w(o.type)}`,children:[t.jsx("div",{className:`p-1 rounded-full ${E(o.type)}`,children:y(o.type)}),t.jsx("p",{className:"text-sm font-medium",children:o.message}),t.jsx("button",{onClick:()=>f(null),className:"ml-2 opacity-50 hover:opacity-100 transition-opacity",children:t.jsx(qr,{size:16})})]}),t.jsx("div",{children:t.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:"Admin Dashboard"})}),t.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[t.jsx("div",{className:"relative",ref:p,children:l&&t.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-slate-100 overflow-hidden animate-in fade-in zoom-in-95 duration-200 z-50",children:[t.jsxs("div",{className:"p-4 border-b border-slate-50 flex justify-between items-center",children:[t.jsx("h3",{className:"font-semibold text-slate-800 text-sm",children:"Notifications"}),t.jsx("button",{className:"text-xs text-blue-600 hover:underline",children:"Mark all read"})]}),t.jsx("div",{className:"max-h-64 overflow-y-auto",children:b.map(R=>t.jsxs("div",{className:`p-4 border-b border-slate-50 hover:bg-slate-50 transition-colors cursor-pointer flex gap-3 ${R.unread?"bg-blue-50/30":""}`,children:[t.jsx("div",{className:`w-2 h-2 mt-1.5 rounded-full shrink-0 ${R.unread?"bg-blue-500":"bg-slate-300"}`}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-700",children:R.text}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:R.time})]})]},R.id))}),t.jsx("div",{className:"p-3 text-center border-t border-slate-50",children:t.jsx("button",{className:"text-xs text-slate-500 hover:text-slate-800 font-medium",children:"View All"})})]})}),t.jsxs("div",{className:"relative pl-2 border-l border-slate-200",ref:m,children:[t.jsxs("button",{onClick:()=>a(!n),className:"flex items-center gap-3 hover:bg-slate-50 rounded-lg p-1.5 transition-colors group",children:[t.jsxs("div",{className:"text-right hidden md:block",children:[t.jsx("p",{className:"text-sm font-medium text-slate-700 group-hover:text-slate-900",children:(r==null?void 0:r.name)||"Admin User"}),t.jsx("p",{className:"text-xs text-slate-400",children:(r==null?void 0:r.email)||"admin@gogotrip.com"})]}),t.jsx("div",{className:"w-9 h-9 rounded-full bg-slate-200 overflow-hidden shrink-0 ring-2 ring-transparent group-hover:ring-slate-100 transition-all",children:t.jsx("img",{src:(r==null?void 0:r.avatarUrl)||"https://api.dicebear.com/7.x/avataaars/svg?seed=Admin",alt:"User",className:"w-full h-full object-cover"})})]}),t.jsxs("div",{className:`
                   absolute top-full right-0 mt-3 w-64 bg-white dark:bg-slate-900 rounded-[1.5rem] shadow-2xl border border-slate-100 dark:border-slate-800 overflow-hidden transition-all duration-300 origin-top-right z-50
                   ${n?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 -translate-y-2 pointer-events-none"}
                `,children:[t.jsxs("div",{className:"p-5 border-b border-slate-100 dark:border-slate-800",children:[t.jsx("p",{className:"text-base font-bold text-slate-900 dark:text-white truncate",children:r.name}),t.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mt-0.5 truncate",children:r.email||"alex.chen@example.com"})]}),t.jsx("div",{className:"p-2 space-y-0.5",children:t.jsxs("button",{onClick:()=>x(),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-medium text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors group",children:[t.jsx(Yo,{className:"w-4 h-4 text-slate-400 group-hover:text-sky-600 dark:group-hover:text-indigo-400 transition-colors"}),"Account Settings"]})}),t.jsx("div",{className:"p-2 border-t border-slate-100 dark:border-slate-800 bg-slate-50/50 dark:bg-slate-800/20",children:t.jsxs("button",{onClick:s,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-bold text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[t.jsx(qg,{className:"w-4 h-4"}),"Sign Out"]})})]})]})]})]})},p$=({data:s})=>{const e=Math.max(...s,1),r=s.map((n,a)=>{const l=a/(s.length-1)*100,u=100-n/e*100;return`${l},${u}`}).join(" ");return t.jsxs("div",{className:"w-full h-64 relative animate-in fade-in duration-500",children:[t.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"w-full h-full overflow-visible",children:[t.jsx("line",{x1:"0",y1:"25",x2:"100",y2:"25",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("line",{x1:"0",y1:"50",x2:"100",y2:"50",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("line",{x1:"0",y1:"75",x2:"100",y2:"75",stroke:"#e2e8f0",strokeWidth:"0.5"}),t.jsx("polyline",{fill:"none",stroke:"#3B82F6",strokeWidth:"2",points:r,vectorEffect:"non-scaling-stroke",className:"drop-shadow-sm transition-all duration-500 ease-in-out"}),t.jsx("polygon",{fill:"url(#gradient)",points:`0,100 ${r} 100,100`,opacity:"0.1",className:"transition-all duration-500 ease-in-out"}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[t.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),t.jsx("stop",{offset:"100%",stopColor:"#3B82F6",stopOpacity:"0"})]})})]}),t.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-2 font-medium",children:[t.jsx("span",{children:"Start"}),t.jsx("span",{children:"Mid"}),t.jsx("span",{children:"End"})]})]})},g$=({onNavigate:s})=>{const[e,r]=W.useState("Last 12 Months"),[n,a]=W.useState({totalUsers:0,verifiedUsers:0,totalTrips:0,totalArticles:0,totalSubscriptions:0,revenueThisMonth:0,userGrowth:0,verifiedGrowth:0,tripGrowth:0,chartData:[0,0,0,0,0,0,0,0,0,0,0,0]}),[l,u]=W.useState(!0);W.useEffect(()=>{d(e)},[e]);const d=async o=>{u(!0);try{const f=new URLSearchParams({range:o}),m=await fetch(`${Dt}/api/admin/dashboard-stats?${f}`,{credentials:"include"});if(m.ok){const p=await m.json(),x={totalUsers:p.total_users??p.totalUsers??0,verifiedUsers:p.active_users??p.verifiedUsers??0,totalTrips:p.total_trips??p.totalTrips??0,totalArticles:p.total_articles??p.totalArticles??0,totalSubscriptions:p.total_subscriptions??p.totalSubscriptions??0,revenueThisMonth:p.revenue_this_month??p.revenueThisMonth??0,userGrowth:p.user_growth??p.userGrowth??0,verifiedGrowth:p.verified_growth??p.verifiedGrowth??0,tripGrowth:p.trip_growth??p.tripGrowth??0,chartData:p.chart_data??p.chartData??[0,0,0,0,0,0,0,0,0,0,0,0]};console.log("Dashboard stats loaded:",x),a(x)}else console.error("Failed to fetch dashboard stats:",m.status)}catch(f){console.error("Error fetching dashboard stats:",f)}finally{u(!1)}},A=o=>{r(o.target.value)};return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("User"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:t.jsx(Ld,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.userGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.userGrowth??0)>=0?t.jsx(jp,{size:12,className:"mr-1"}):t.jsx(wp,{size:12,className:"mr-1"}),Math.abs(n.userGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalUsers??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Total Registered Users"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("User"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:t.jsx(c0,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.verifiedGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.verifiedGrowth??0)>=0?t.jsx(jp,{size:12,className:"mr-1"}):t.jsx(wp,{size:12,className:"mr-1"}),Math.abs(n.verifiedGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.verifiedUsers??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Verified Accounts"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("Trip"),children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:t.jsx(nA,{size:20})}),t.jsxs("span",{className:`flex items-center text-xs font-semibold px-2 py-1 rounded ${(n.tripGrowth??0)>=0?"text-green-600 bg-green-50":"text-red-600 bg-red-50"}`,children:[(n.tripGrowth??0)>=0?t.jsx(jp,{size:12,className:"mr-1"}):t.jsx(wp,{size:12,className:"mr-1"}),Math.abs(n.tripGrowth??0),"%"]})]}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalTrips??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Total Trips Created"})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm flex flex-col hover:shadow-md transition-all cursor-pointer hover:-translate-y-1",onClick:()=>s("Info Blog"),children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsx("div",{className:"p-2 bg-amber-50 text-amber-600 rounded-lg",children:t.jsx(Ed,{size:20})})}),t.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:(n.totalArticles??0).toLocaleString()}),t.jsx("p",{className:"text-sm text-slate-500",children:"Published Articles"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg",children:t.jsx(Jb,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Revenue This Month"}),t.jsx("p",{className:"text-sm text-slate-500",children:"From premium subscriptions"})]})]}),t.jsxs("p",{className:"text-3xl font-bold text-slate-800",children:["RM ",(n.revenueThisMonth??0).toFixed(2)]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:t.jsx(Ld,{size:20})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Active Subscriptions"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Premium members"})]})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-800",children:(n.totalSubscriptions??0).toLocaleString()})]})]}),t.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-200 shadow-sm",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"User Growth"}),t.jsxs("p",{className:"text-sm text-slate-500",children:["New signups over ",e.toLowerCase()]})]}),t.jsxs("select",{className:"text-sm border-slate-200 rounded-lg text-slate-600 focus:ring-blue-500 focus:border-blue-500 p-2 border bg-white cursor-pointer",onChange:A,value:e,children:[t.jsx("option",{children:"Last 12 Months"}),t.jsx("option",{children:"Last 30 Days"}),t.jsx("option",{children:"Last 7 Days"})]})]}),t.jsx(p$,{data:n.chartData??[0,0,0,0,0,0,0,0,0,0,0,0]})]})]})},oc={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},Oj={[oc.SUPER_ADMIN]:{label:"Super Admin",color:"text-purple-700",bgColor:"bg-purple-50 border-purple-200",icon:t.jsx(c0,{className:"w-3 h-3"})},[oc.ADMIN]:{label:"Admin",color:"text-blue-700",bgColor:"bg-blue-50 border-blue-200",icon:t.jsx(Kd,{className:"w-3 h-3"})},[oc.USER]:{label:"User",color:"text-slate-600",bgColor:"bg-slate-50 border-slate-200",icon:t.jsx(IT,{className:"w-3 h-3"})}},x$=()=>{const[s,e]=W.useState([]),[r,n]=W.useState([]),[a,l]=W.useState(!0),[u,d]=W.useState(""),[A,o]=W.useState(1),f=10,[m,p]=W.useState(oc.ADMIN),[x,b]=W.useState(!1),[y,w]=W.useState([{value:oc.USER,label:"User",description:"Regular user"}]),[E,R]=W.useState(!1),[z,X]=W.useState(null),[Y,Q]=W.useState(!1),[G,le]=W.useState({email:"",role:oc.USER,status:"active"}),[Ae,je]=W.useState({isOpen:!1,user:null,type:null}),[ue,Se]=W.useState(null),[ae,Ne]=W.useState(null);W.useEffect(()=>{de(),se()},[]);const he=(ot,At)=>{Ne({type:ot,message:At}),setTimeout(()=>Ne(null),4e3)},se=async()=>{try{const ot=await fetch("/api/admin/available-roles");if(ot.ok){const At=await ot.json();w(At.availableRoles||[{value:oc.USER,label:"User",description:"Regular user"}]),p(At.currentRole||oc.ADMIN),b(At.canManageAdmins||!1)}}catch(ot){console.error("Failed to fetch available roles:",ot)}},de=async()=>{try{const ot=await fetch("/api/admin/users");if(ot.ok){const At=await ot.json();e(Array.isArray(At)?At:At.users||[]),At.currentAdminRole&&p(At.currentAdminRole),typeof At.canManageAdmins=="boolean"&&b(At.canManageAdmins)}else console.error("Failed to fetch users"),he("error","Failed to fetch user list")}catch(ot){console.error("Error:",ot),he("error","Network error")}finally{l(!1)}},oe=ot=>{const At=(ot==null?void 0:ot.toLowerCase())||"user",Lt=Oj[At]||Oj[oc.USER];return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border ${Lt.bgColor} ${Lt.color}`,children:[Lt.icon,Lt.label]})},Ee=(ot,At)=>ot==="pending_verification"||!At?{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200",icon:t.jsx(Vi,{className:"w-3 h-3"}),label:"Pending Verification"}:ot==="active"?{bg:"bg-green-50",text:"text-green-700",border:"border-green-200",icon:t.jsx(Bo,{className:"w-3 h-3"}),label:"Active"}:ot==="suspended"?{bg:"bg-red-50",text:"text-red-700",border:"border-red-200",icon:t.jsx(hu,{className:"w-3 h-3"}),label:"Suspended"}:{bg:"bg-slate-50",text:"text-slate-700",border:"border-slate-200",icon:t.jsx(Zo,{className:"w-3 h-3"}),label:ot},De=ot=>{if(!ot)return"N/A";const At=new Date(ot),$s=new Date().getTime()-At.getTime(),vs=Math.floor($s/(1e3*60*60*24));return vs===0?"Today":vs===1?"Yesterday":vs<7?`${vs} days ago`:vs<30?`${Math.floor(vs/7)} weeks ago`:vs<365?`${Math.floor(vs/30)} months ago`:At.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},ke=async ot=>{if(ot.status!=="pending_verification"){he("error","User is already verified");return}Se(ot.id);try{const At=await fetch(`/api/admin/users/${ot.id}/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"}});if(At.ok)he("success",`Verification email sent to ${ot.email}`);else{const Lt=await At.json();he("error",Lt.message||"Failed to send verification email")}}catch(At){console.error("Error:",At),he("error","Network error occurred")}finally{Se(null)}},pe=ot=>{var $s;const At=($s=ot.role)==null?void 0:$s.toLowerCase();if(!x&&(At===oc.ADMIN||At===oc.SUPER_ADMIN)){he("error","Permission denied: Cannot delete admin users");return}const Lt=ot.status==="pending_verification"?"pending":"active";je({isOpen:!0,user:ot,type:Lt})},ye=async()=>{const{user:ot}=Ae;if(ot)try{const At=await fetch(`/api/admin/users/${ot.id}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(At.ok)e(s.filter(Lt=>Lt.id!==ot.id)),he("success",`User ${ot.email} deleted successfully`),je({isOpen:!1,user:null,type:null});else{const Lt=await At.json();he("error",Lt.error||"Failed to delete user")}}catch(At){console.error("Error:",At),he("error","Network error occurred")}},fe=ot=>{var Lt;const At=(Lt=ot.role)==null?void 0:Lt.toLowerCase();if(!x&&(At===oc.ADMIN||At===oc.SUPER_ADMIN)){he("error","Permission denied: Cannot edit admin users");return}X({...ot}),R(!0)},te=async()=>{if(z)try{const ot=await fetch(`/api/admin/users/${z.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:z.email,role:z.role,status:z.status})});if(ot.ok){const At=await ot.json();e(s.map(Lt=>Lt.id===z.id?{...Lt,...At}:Lt)),R(!1),X(null),he("success","User updated successfully")}else{const At=await ot.json();he("error",At.error||"Failed to update user")}}catch(ot){console.error("Update error:",ot),he("error","Update failed due to network error")}},ge=()=>{le({email:"",role:oc.USER,status:"active"}),Q(!0)},Fe=async()=>{if(G.email)try{const ot={email:G.email,role:G.role||oc.USER,status:G.status||"active"},At=await fetch("/api/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ot)});if(At.ok){const Lt=await At.json();e([Lt,...s]),Q(!1),le({email:"",role:oc.USER,status:"active"}),he("success","User added successfully. Temporary password sent via email.")}else{const Lt=await At.json();he("error",Lt.error||"Failed to add user")}}catch(ot){console.error("Add error:",ot),he("error","Network error occurred")}},$e=()=>{const ot=r.length>0?s.filter(ys=>r.includes(ys.id)):s,At=["User ID","Email","Full Name","Role","Status","Email Verified","Last Login","Created At","Updated At","Deleted At","Is Premium","Plan Name","Plan Level","Sub End Date","Is Lifetime","Remaining Days","Stripe Customer ID","Has Google Calendar","Has Password","Has Google ID","Total Trips","Total Expenses","Total Calendar Events","Scheduler Items","Total Notifications"],Lt=ot.map(ys=>{var yr,nn,Nr,er,Ys;const Us=Ts=>{if(Ts==null)return"";const ft=String(Ts);return ft.includes(",")?`"${ft}"`:ft},xr=Ts=>Ts?"Yes":"No";return[Us(ys.id),Us(ys.email),Us(ys.name),Us(ys.role),Us(ys.status),xr(ys.isVerified),Us(ys.lastLogin),Us(ys.createdAt),Us(ys.updatedAt),Us(ys.deletedAt),xr(ys.isPremium),Us(ys.currentPlanName),Us(ys.currentPlanLevel),Us(ys.subscriptionEndDate),xr(ys.isLifetime),Us(ys.remainingDays),Us(ys.stripeCustomerId),xr(ys.hasGoogleCalendar),xr(ys.hasPassword),xr(ys.hasGoogleId),Us(((yr=ys.relatedData)==null?void 0:yr.trips)||0),Us(((nn=ys.relatedData)==null?void 0:nn.expenses)||0),Us(((Nr=ys.relatedData)==null?void 0:Nr.calendarEvents)||0),Us(((er=ys.relatedData)==null?void 0:er.schedulerItems)||0),Us(((Ys=ys.relatedData)==null?void 0:Ys.notifications)||0)].join(",")}).join(`
`),$s=`${At.join(",")}
${Lt}`,vs=new Blob([$s],{type:"text/csv;charset=utf-8;"}),fr=URL.createObjectURL(vs),Ar=document.createElement("a");Ar.href=fr;const hr=r.length>0?"selected":"full_database",Ms=new Date().toISOString().split("T")[0];Ar.setAttribute("download",`gogotrip_users_${hr}_${Ms}.csv`),document.body.appendChild(Ar),Ar.click(),document.body.removeChild(Ar),he("success",`Export completed (${ot.length} records)`)},kt=ot=>{o(ot)},St=()=>{r.length===cs.length?n([]):n(cs.map(ot=>ot.id))},Ge=ot=>{r.includes(ot)?n(r.filter(At=>At!==ot)):n([...r,ot])},Mt=s.filter(ot=>ot.email.toLowerCase().includes(u.toLowerCase())||ot.role.toLowerCase().includes(u.toLowerCase())||ot.status.toLowerCase().includes(u.toLowerCase())),Vt=Math.ceil(Mt.length/f),cs=Mt.slice((A-1)*f,A*f),xt=ot=>{var Lt;if(x)return!0;const At=(Lt=ot.role)==null?void 0:Lt.toLowerCase();return At!==oc.ADMIN&&At!==oc.SUPER_ADMIN};return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(ld,{className:"w-8 h-8 text-blue-500 animate-spin"})}):t.jsxs("div",{className:"space-y-6",children:[ae&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg animate-in slide-in-from-right duration-300 ${ae.type==="success"?"bg-green-50 border border-green-200 text-green-800":ae.type==="error"?"bg-red-50 border border-red-200 text-red-800":ae.type==="info"?"bg-blue-50 border border-blue-200 text-blue-800":"bg-amber-50 border border-amber-200 text-amber-800"}`,children:[ae.type==="success"&&t.jsx(uo,{className:"w-5 h-5"}),ae.type==="error"&&t.jsx(Ia,{className:"w-5 h-5"}),ae.type==="warning"&&t.jsx(Zo,{className:"w-5 h-5"}),ae.type==="info"&&t.jsx(Sl,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm font-medium",children:ae.message}),t.jsx("button",{onClick:()=>Ne(null),children:t.jsx(qr,{className:"w-4 h-4 opacity-60 hover:opacity-100"})})]}),t.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border ${x?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:[x?t.jsx(c0,{className:"w-5 h-5 text-purple-600"}):t.jsx(Kd,{className:"w-5 h-5 text-blue-600"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:`text-sm font-medium ${x?"text-purple-800":"text-blue-800"}`,children:x?"Super Admin Access":"Admin Access"}),t.jsx("span",{className:`text-sm ml-2 ${x?"text-purple-600":"text-blue-600"}`,children:x?" You can view and manage all users including other admins":" You can only view and manage regular users"})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${x?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:m})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"User Management"}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[Mt.length," ",Mt.length===1?"user":"users"," found",!x&&" (regular users only)"]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:$e,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50 flex items-center gap-2",children:[t.jsx(X0,{size:16}),"Export ",r.length>0?`(${r.length})`:"All"]}),t.jsxs("button",{onClick:ge,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2",children:[t.jsx($i,{size:16}),"Add User"]})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx(Vc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),t.jsx("input",{type:"text",placeholder:"Search by email, role, or status...",value:u,onChange:ot=>{d(ot.target.value),o(1)},className:"w-full pl-10 pr-4 py-3 border border-slate-200 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200",children:[t.jsx("th",{className:"px-4 py-3 text-left",children:t.jsx("input",{type:"checkbox",checked:r.length===cs.length&&cs.length>0,onChange:St,className:"rounded border-slate-300"})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Role"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Created"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:cs.map(ot=>{const At=Ee(ot.status,ot.isVerified??!0),Lt=xt(ot);return t.jsxs("tr",{className:`hover:bg-slate-50/50 transition-colors ${Lt?"":"bg-slate-50/30"}`,children:[t.jsx("td",{className:"px-4 py-4",children:t.jsx("input",{type:"checkbox",checked:r.includes(ot.id),onChange:()=>Ge(ot.id),className:"rounded border-slate-300"})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 flex items-center justify-center text-white font-medium text-sm",children:ot.email.charAt(0).toUpperCase()}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-slate-800",children:ot.email}),t.jsxs("div",{className:"text-xs text-slate-400",children:["ID: ",ot.id]})]})]})}),t.jsx("td",{className:"px-4 py-4",children:oe(ot.role)}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium border ${At.bg} ${At.text} ${At.border}`,children:[At.icon,At.label]}),ot.status==="pending_verification"&&t.jsxs("button",{onClick:()=>ke(ot),disabled:ue===ot.id,className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-700 disabled:opacity-50",children:[ue===ot.id?t.jsx(ld,{className:"w-3 h-3 animate-spin"}):t.jsx(Yd,{className:"w-3 h-3"}),"Resend Email"]})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-slate-500",children:[t.jsx(co,{className:"w-3.5 h-3.5"}),De(ot.createdAt)]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("div",{className:"flex items-center justify-end gap-1",children:Lt?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>fe(ot),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit user",children:t.jsx(ex,{size:16})}),t.jsx("button",{onClick:()=>pe(ot),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete user",children:t.jsx(Jo,{size:16})})]}):t.jsx("span",{className:"text-xs text-slate-400 px-2 py-1 bg-slate-100 rounded",children:"Protected"})})})]},ot.id)})})]})}),Vt>1&&t.jsxs("div",{className:"px-4 py-3 border-t border-slate-200 flex items-center justify-between bg-slate-50/50",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing ",(A-1)*f+1," to ",Math.min(A*f,Mt.length)," of ",Mt.length]}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx("button",{onClick:()=>kt(A-1),disabled:A===1,className:"px-3 py-1 text-sm border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-100",children:"Previous"}),Array.from({length:Math.min(5,Vt)},(ot,At)=>{let Lt;return Vt<=5||A<=3?Lt=At+1:A>=Vt-2?Lt=Vt-4+At:Lt=A-2+At,t.jsx("button",{onClick:()=>kt(Lt),className:`px-3 py-1 text-sm border rounded-lg ${A===Lt?"bg-blue-600 text-white border-blue-600":"border-slate-200 hover:bg-slate-100"}`,children:Lt},Lt)}),t.jsx("button",{onClick:()=>kt(A+1),disabled:A===Vt,className:"px-3 py-1 text-sm border border-slate-200 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-100",children:"Next"})]})]})]}),Ae.isOpen&&Ae.user&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:`p-6 flex items-start gap-4 ${Ae.type==="active"?"bg-red-50":"bg-amber-50"}`,children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${Ae.type==="active"?"bg-red-100 text-red-600":"bg-amber-100 text-amber-600"}`,children:Ae.type==="active"?t.jsx(zE,{size:20}):t.jsx(Zo,{size:20})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1",children:Ae.type==="active"?"Delete Active User?":"Delete Pending User?"}),t.jsx("p",{className:"text-sm text-slate-600",children:Ae.type==="active"?"This user has an active account with data. This action cannot be undone.":"This user has not completed email verification yet."})]})]}),t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-4 p-4 bg-slate-50 rounded-lg",children:[t.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"You are about to delete:"}),t.jsx("div",{className:"font-medium text-slate-900",children:Ae.user.email}),t.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Status: ",Ae.user.status," | Role: ",Ae.user.role]})]}),Ae.type==="active"&&t.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Ia,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-red-800",children:[t.jsx("div",{className:"font-medium mb-1",children:"Warning: Active User"}),t.jsx("div",{className:"text-xs text-red-700",children:"This will permanently delete all associated data including trips, expenses, and scheduler items. Consider suspending instead of deleting."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>je({isOpen:!1,user:null,type:null}),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:ye,className:`px-4 py-2 rounded-lg text-sm font-medium text-white flex items-center gap-2 ${Ae.type==="active"?"bg-red-600 hover:bg-red-700":"bg-amber-600 hover:bg-amber-700"}`,children:[t.jsx(Jo,{size:16}),Ae.type==="active"?"Delete User":"Delete Pending User"]})]})]})}),E&&z&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Edit User"}),t.jsx("button",{onClick:()=>R(!1),children:t.jsx(qr,{size:20,className:"text-slate-400"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",value:z.email,onChange:ot=>X({...z,email:ot.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),t.jsx("select",{value:z.role,onChange:ot=>X({...z,role:ot.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:y.map(ot=>t.jsx("option",{value:ot.value,children:ot.label},ot.value))}),!x&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Only super_admin can assign admin roles"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:z.status,onChange:ot=>X({...z,status:ot.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending_verification",children:"Pending Verification"}),t.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})]}),t.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:te,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 flex items-center gap-2",children:[t.jsx(QA,{size:16})," Save Changes"]})]})]})}),Y&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Add New User"}),t.jsx("button",{onClick:()=>Q(!1),children:t.jsx(qr,{size:20,className:"text-slate-400"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email Address"}),t.jsx("input",{type:"email",placeholder:"e.g. user@example.com",value:G.email,onChange:ot=>le({...G,email:ot.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),t.jsx("select",{value:G.role,onChange:ot=>le({...G,role:ot.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:y.map(ot=>t.jsx("option",{value:ot.value,children:ot.label},ot.value))}),!x&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Only super_admin can create admin users"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:G.status,onChange:ot=>le({...G,status:ot.target.value}),className:"w-full p-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"pending_verification",children:"Pending Verification"})]})]})]}),t.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(Yd,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"text-sm text-blue-800",children:[t.jsx("div",{className:"font-medium mb-1",children:"Automatic Email"}),t.jsx("div",{className:"text-xs text-blue-700",children:"A temporary password will be automatically generated and sent to the user's email."})]})]})})]}),t.jsxs("div",{className:"p-6 border-t border-slate-100 bg-slate-50/50 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 border border-slate-200 rounded-lg text-sm text-slate-600 hover:bg-slate-50",children:"Cancel"}),t.jsxs("button",{onClick:Fe,disabled:!G.email,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:bg-blue-300 disabled:cursor-not-allowed flex items-center gap-2",children:[t.jsx($i,{size:16})," Create User"]})]})]})})]})},b$=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(""),[u,d]=W.useState(1),A=10,[o,f]=W.useState(null),[m,p]=W.useState(null);W.useEffect(()=>{b()},[]);const x=(X,Y)=>{f({type:X,message:Y}),setTimeout(()=>f(null),3e3)},b=async()=>{try{const X=await fetch("/api/admin/email_verifications");if(X.ok){const Y=await X.json();e(Y)}}catch(X){console.error("Error fetching data:",X),x("error","Failed to fetch data")}finally{n(!1)}},y=X=>{p(X)},w=async()=>{if(m)try{(await fetch(`/api/admin/email_verifications/${m}`,{method:"DELETE"})).ok?(e(s.filter(Y=>Y.id!==m)),x("success","Record deleted successfully")):x("error","Failed to delete record")}catch(X){console.error(X),x("error","An error occurred")}finally{p(null)}},E=s.filter(X=>X.email.toLowerCase().includes(a.toLowerCase())||X.code.includes(a)),R=Math.ceil(E.length/A),z=E.slice((u-1)*A,u*A);return r?t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm p-10 flex justify-center items-center h-full min-h-[400px]",children:t.jsx("div",{className:"text-slate-500 animate-pulse",children:"Loading verification data..."})}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[o&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${o.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${o.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:o.type==="success"?t.jsx(Bo,{size:18}):t.jsx(hu,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:o.message}),t.jsx("button",{onClick:()=>f(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Email Verifications"}),t.jsx("p",{className:"text-sm text-slate-500",children:"View and manage OTP codes."})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search email...",className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64",value:a,onChange:X=>l(X.target.value)}),t.jsx(Vc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsx("button",{onClick:b,className:"p-2 border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-600",children:t.jsx(ld,{size:16})})]})]}),t.jsx("div",{className:"overflow-x-auto min-h-[300px]",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:[t.jsx("th",{className:"p-4",children:"ID"}),t.jsx("th",{className:"p-4",children:"Email Address"}),t.jsx("th",{className:"p-4",children:"Code"}),t.jsx("th",{className:"p-4",children:"Status"}),t.jsx("th",{className:"p-4",children:"Created / Expires"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:z.map(X=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4 text-slate-500",children:["#",X.id]}),t.jsxs("td",{className:"p-4 font-medium text-slate-800 flex items-center gap-2",children:[t.jsx(Yd,{size:14,className:"text-slate-400"})," ",X.email]}),t.jsx("td",{className:"p-4 font-mono text-slate-600 bg-slate-50 w-fit px-2 rounded border border-slate-100",children:X.code}),t.jsx("td",{className:"p-4",children:X.is_verified?t.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 bg-green-50 px-2 py-1 rounded-full text-xs font-medium",children:[t.jsx(Bo,{size:12})," Verified"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-slate-500 bg-slate-100 px-2 py-1 rounded-full text-xs font-medium",children:[t.jsx(hu,{size:12})," Pending"]})}),t.jsxs("td",{className:"p-4 text-xs text-slate-500",children:[t.jsxs("div",{children:["C: ",new Date(X.created_at).toLocaleString()]}),t.jsxs("div",{className:"text-red-400",children:["E: ",new Date(X.expires_at).toLocaleString()]})]}),t.jsx("td",{className:"p-4 text-right",children:t.jsx("button",{onClick:()=>y(X.id),className:"text-slate-400 hover:text-red-600 transition-colors",title:"Delete",children:t.jsx(Jo,{size:16})})})]},X.id))})]})}),t.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-end gap-2",children:[t.jsx("button",{disabled:u===1,onClick:()=>d(X=>X-1),className:"px-3 py-1 border rounded disabled:opacity-50 hover:bg-slate-50 transition-colors",children:"Prev"}),t.jsxs("span",{className:"px-3 py-1 text-sm text-slate-500",children:["Page ",u," of ",R]}),t.jsx("button",{disabled:u===R,onClick:()=>d(X=>X+1),className:"px-3 py-1 border rounded disabled:opacity-50 hover:bg-slate-50 transition-colors",children:"Next"})]}),m&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(Zo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Verification?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this verification record? This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>p(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:w,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})})]})},v$=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(""),[u,d]=W.useState(!1),[A,o]=W.useState("select"),[f,m]=W.useState(null),[p,x]=W.useState(""),[b,y]=W.useState([]),[w,E]=W.useState(!1),[R,z]=W.useState(null),[X,Y]=W.useState(!1),Q=W.useRef(null),[G,le]=W.useState({name:"",address:"",rating:"",phone:"",website:"",price_level:"",lat:"",lng:""}),[Ae,je]=W.useState(!1),[ue,Se]=W.useState(null),[ae,Ne]=W.useState(null);W.useEffect(()=>{se()},[]),W.useEffect(()=>{if(A!=="google"||p.length<2){y([]);return}return Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{de(p)},400),()=>{Q.current&&clearTimeout(Q.current)}},[p,A]);const he=(ge,Fe)=>{Se({type:ge,message:Fe}),setTimeout(()=>Se(null),3500)},se=async()=>{try{const ge=await fetch(`/api/admin/places?t=${Date.now()}`);if(ge.ok){const Fe=await ge.json();e(Fe.places||Fe)}}catch(ge){console.error(ge),he("error","Failed to load places")}finally{n(!1)}},de=async ge=>{E(!0);try{const Fe=await fetch(`/api/admin/places/google/search?q=${encodeURIComponent(ge)}`);if(Fe.ok){const $e=await Fe.json();y($e)}}catch(Fe){console.error(Fe)}finally{E(!1)}},oe=async()=>{if(R){Y(!0);try{const ge=await fetch("/api/admin/places/google/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({place_id:R.place_id})}),Fe=await ge.json();ge.ok?(he("success",Fe.is_new?"Place imported successfully!":"Place already exists"),ye(),se()):he("error",Fe.error||"Import failed")}catch{he("error","Network error during import")}finally{Y(!1)}}},Ee=ge=>{var Fe,$e,kt;m(ge),o("manual"),le({name:ge.name,address:ge.address,rating:((Fe=ge.rating)==null?void 0:Fe.toString())||"",phone:ge.phone||"",website:ge.website||"",price_level:ge.price_level||"",lat:(($e=ge.coordinates)==null?void 0:$e.lat.toString())||"",lng:((kt=ge.coordinates)==null?void 0:kt.lng.toString())||""}),d(!0)},De=async()=>{if(f){if(!G.name.trim()||!G.address.trim()){he("error","Name and Address are required");return}je(!0);try{const ge={name:G.name.trim(),address:G.address.trim(),is_manual:!0,rating:G.rating?parseFloat(G.rating):null,phone:G.phone?G.phone.trim():null,website:G.website?G.website.trim():null,price_level:G.price_level||null};G.lat&&G.lng&&(ge.coordinates={lat:parseFloat(G.lat),lng:parseFloat(G.lng)});const Fe=await fetch(`/api/admin/places/${f.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)});if(Fe.ok)he("success","Place updated successfully!"),ye(),se();else{const $e=await Fe.json();he("error",$e.error||"Update failed")}}catch{he("error","Network error")}finally{je(!1)}}},ke=async()=>{if(!G.name.trim()||!G.address.trim()){he("error","Name and Address are required");return}je(!0);try{const ge={name:G.name.trim(),address:G.address.trim(),is_manual:!0};G.rating&&(ge.rating=parseFloat(G.rating)),G.phone&&(ge.phone=G.phone.trim()),G.website&&(ge.website=G.website.trim()),G.price_level&&(ge.price_level=G.price_level),G.lat&&G.lng&&(ge.coordinates={lat:parseFloat(G.lat),lng:parseFloat(G.lng)});const Fe=await fetch("/api/admin/places/manual",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ge)}),$e=await Fe.json();Fe.ok?(he("success","Place created successfully!"),ye(),se()):he("error",$e.error||"Creation failed")}catch{he("error","Network error")}finally{je(!1)}},pe=async()=>{if(ae)try{(await fetch(`/api/admin/places/${ae}`,{method:"DELETE"})).ok?(e(s.filter(Fe=>Fe.id!==ae)),he("success","Place deleted successfully")):he("error","Failed to delete place")}catch{he("error","Network error")}finally{Ne(null)}},ye=()=>{d(!1),o("select"),m(null),x(""),y([]),z(null),le({name:"",address:"",rating:"",phone:"",website:"",price_level:"",lat:"",lng:""})},fe=ge=>({"Food & Drink":"bg-orange-100 text-orange-700",Accommodation:"bg-purple-100 text-purple-700",Culture:"bg-indigo-100 text-indigo-700",Nature:"bg-emerald-100 text-emerald-700",Shopping:"bg-pink-100 text-pink-700",Landmark:"bg-amber-100 text-amber-700"})[ge||""]||"bg-slate-100 text-slate-600",te=s.filter(ge=>{var Fe,$e;return((Fe=ge.name)==null?void 0:Fe.toLowerCase().includes(a.toLowerCase()))||(($e=ge.address)==null?void 0:$e.toLowerCase().includes(a.toLowerCase()))});return r?t.jsx("div",{className:"flex items-center justify-center h-64 bg-white rounded-xl border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx(Lr,{className:"w-8 h-8 animate-spin text-blue-500"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"Loading places..."})]})}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[ue&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${ue.type==="success"?"bg-white border-emerald-200 text-emerald-800":"bg-white border-red-200 text-red-800"}`,children:[t.jsx("div",{className:`p-1.5 rounded-full ${ue.type==="success"?"bg-emerald-100":"bg-red-100"}`,children:ue.type==="success"?t.jsx(Bo,{size:16}):t.jsx(Ia,{size:16})}),t.jsx("p",{className:"text-sm font-medium",children:ue.message}),t.jsx("button",{onClick:()=>Se(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:14})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center gap-4 bg-gradient-to-r from-slate-50 to-white",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[t.jsx(l5,{size:20,className:"text-blue-600"}),"Places Management"]}),t.jsxs("p",{className:"text-sm text-slate-500 mt-0.5",children:[s.length," destinations in database"]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search places...",className:"pl-9 pr-4 py-2.5 w-64 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",value:a,onChange:ge=>l(ge.target.value)}),t.jsx(Vc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2.5 bg-gradient-to-r from-blue-600 to-blue-700 text-white text-sm font-semibold rounded-lg hover:from-blue-700 hover:to-blue-800 flex items-center gap-2 transition-all shadow-lg shadow-blue-500/25 active:scale-[0.98]",children:[t.jsx($i,{size:16,strokeWidth:2.5})," Add Place"]})]})]}),t.jsx("div",{className:"overflow-x-auto flex-1",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50/80 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase tracking-wide",children:[t.jsx("th",{className:"p-4",children:"Place Name"}),t.jsx("th",{className:"p-4",children:"Address"}),t.jsx("th",{className:"p-4",children:"Category"}),t.jsx("th",{className:"p-4",children:"Rating"}),t.jsx("th",{className:"p-4",children:"Source"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:te.length===0?t.jsx("tr",{children:t.jsxs("td",{colSpan:6,className:"p-12 text-center text-slate-400",children:[t.jsx(Xo,{size:32,className:"mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No places found"})]})}):te.map(ge=>{var Fe;return t.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors group",children:[t.jsx("td",{className:"p-4",children:t.jsx("span",{className:"font-medium text-slate-800",children:ge.name})}),t.jsx("td",{className:"p-4 text-slate-500 max-w-xs",children:t.jsxs("div",{className:"flex items-center gap-2 truncate",children:[t.jsx(Xo,{size:13,className:"shrink-0 text-slate-400"}),t.jsx("span",{className:"truncate",children:ge.address})]})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${fe(ge.category)}`,children:ge.category||"General"})}),t.jsx("td",{className:"p-4",children:ge.rating?t.jsxs("div",{className:"flex items-center gap-1.5 text-amber-500 font-medium",children:[t.jsx(tA,{size:13,fill:"currentColor"}),t.jsx("span",{children:ge.rating.toFixed(1)})]}):t.jsx("span",{className:"text-slate-300",children:""})}),t.jsx("td",{className:"p-4",children:ge.is_manual===!0||(Fe=ge.google_place_id)!=null&&Fe.startsWith("manual_")?t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded",children:[t.jsx(y2,{size:11})," Manual"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-blue-600 bg-blue-50 px-2 py-1 rounded",children:[t.jsx(hm,{size:11})," Google"]})}),t.jsx("td",{className:"p-4 text-right",children:t.jsxs("div",{className:"flex justify-end gap-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[t.jsx("button",{onClick:()=>Ee(ge),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",children:t.jsx(ex,{size:14})}),t.jsx("button",{onClick:()=>Ne(ge.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",children:t.jsx(Jo,{size:14})})]})})]},ge.id)})})]})}),ae&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-14 h-14 bg-red-100 rounded-full flex items-center justify-center mb-4",children:t.jsx(Zo,{size:26,className:"text-red-600"})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Place?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"This action cannot be undone. The place will be permanently removed."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>Ne(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:pe,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all",children:"Delete"})]})]})})}),u&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl overflow-hidden animate-in zoom-in-95 duration-200",children:[t.jsxs("div",{className:"flex justify-between items-center p-5 border-b border-slate-100 bg-gradient-to-r from-blue-50 to-indigo-50",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:f?"Edit Place":"Add New Place"}),t.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:f?"Update place details manually":"Choose how you want to add a place"})]}),t.jsx("button",{onClick:ye,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-white/80 rounded-lg transition-all",children:t.jsx(qr,{size:20})})]}),A==="select"&&!f&&t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>o("google"),className:"group relative p-5 rounded-xl border-2 border-slate-200 hover:border-blue-400 hover:bg-blue-50/50 transition-all text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center mb-4 shadow-lg shadow-blue-500/25",children:t.jsx(hm,{size:22,className:"text-white"})}),t.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Google Places"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Search and import from Google Maps with full details"}),t.jsx(Ac,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 group-hover:text-blue-500 group-hover:translate-x-1 transition-all"})]}),t.jsxs("button",{onClick:()=>o("manual"),className:"group relative p-5 rounded-xl border-2 border-slate-200 hover:border-emerald-400 hover:bg-emerald-50/50 transition-all text-left",children:[t.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center mb-4 shadow-lg shadow-emerald-500/25",children:t.jsx(y2,{size:22,className:"text-white"})}),t.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Manual Entry"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Enter place details manually without API"}),t.jsx(Ac,{size:18,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300 group-hover:text-emerald-500 group-hover:translate-x-1 transition-all"})]})]})}),A==="google"&&t.jsxs("div",{className:"p-6",children:[t.jsx("button",{onClick:()=>o("select"),className:"text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1 mb-4",children:" Back to options"}),t.jsxs("div",{className:"relative mb-4",children:[t.jsx("input",{type:"text",placeholder:"Search Google Places...",value:p,onChange:ge=>x(ge.target.value),className:"w-full pl-11 pr-4 py-3 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all",autoFocus:!0}),w?t.jsx(Lr,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-blue-500 animate-spin"}):t.jsx(Vc,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"})]}),t.jsxs("div",{className:"max-h-72 overflow-y-auto space-y-2",children:[b.length===0&&p.length>=2&&!w&&t.jsx("p",{className:"text-center text-slate-400 py-8 text-sm",children:"No results found"}),b.map(ge=>t.jsx("button",{onClick:()=>z(ge),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${(R==null?void 0:R.place_id)===ge.place_id?"border-blue-500 bg-blue-50":"border-slate-200 hover:border-blue-300 hover:bg-slate-50"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${(R==null?void 0:R.place_id)===ge.place_id?"bg-blue-500 text-white":"bg-slate-100 text-slate-500"}`,children:t.jsx(Xo,{size:18})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("h5",{className:"font-medium text-slate-800 truncate",children:ge.name}),t.jsx("p",{className:"text-sm text-slate-500 truncate",children:ge.address}),t.jsxs("div",{className:"flex items-center gap-3 mt-1.5",children:[ge.rating&&t.jsxs("span",{className:"flex items-center gap-1 text-xs text-amber-600",children:[t.jsx(tA,{size:11,fill:"currentColor"})," ",ge.rating]}),ge.types[0]&&t.jsx("span",{className:"text-xs text-slate-400",children:ge.types[0].replace(/_/g," ")})]})]}),(R==null?void 0:R.place_id)===ge.place_id&&t.jsx(Bo,{size:20,className:"text-blue-500 shrink-0"})]})},ge.place_id))]}),R&&t.jsx("button",{onClick:oe,disabled:X,className:"mt-4 w-full py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all shadow-lg shadow-blue-500/25 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:X?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{size:18,className:"animate-spin"}),"Importing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ao,{size:18}),'Import "',R.name,'"']})})]}),A==="manual"&&t.jsxs("div",{className:"p-6",children:[!f&&t.jsx("button",{onClick:()=>o("select"),className:"text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1 mb-4",children:" Back to options"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Place Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",placeholder:"e.g. Petronas Twin Towers",value:G.name,onChange:ge=>le({...G,name:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Address ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",placeholder:"Full address",value:G.address,onChange:ge=>le({...G,address:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Rating"}),t.jsx("input",{type:"number",step:"0.1",min:"0",max:"5",placeholder:"0.0 - 5.0",value:G.rating,onChange:ge=>le({...G,rating:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Price Level"}),t.jsxs("select",{value:G.price_level,onChange:ge=>le({...G,price_level:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all bg-white",children:[t.jsx("option",{value:"",children:"Select..."}),t.jsx("option",{value:"Free",children:"Free"}),t.jsx("option",{value:"$",children:"$ Budget"}),t.jsx("option",{value:"$$",children:"$$ Moderate"}),t.jsx("option",{value:"$$$",children:"$$$ Expensive"}),t.jsx("option",{value:"$$$$",children:"$$$$ Luxury"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Phone"}),t.jsx("input",{type:"tel",placeholder:"+60 12-345 6789",value:G.phone,onChange:ge=>le({...G,phone:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:"Website"}),t.jsx("input",{type:"url",placeholder:"https://...",value:G.website,onChange:ge=>le({...G,website:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1.5",children:["Coordinates ",t.jsx("span",{className:"text-slate-400 font-normal",children:"(optional)"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("input",{type:"number",step:"any",placeholder:"Latitude",value:G.lat,onChange:ge=>le({...G,lat:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"}),t.jsx("input",{type:"number",step:"any",placeholder:"Longitude",value:G.lng,onChange:ge=>le({...G,lng:ge.target.value}),className:"w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all"})]})]}),t.jsx("button",{onClick:f?De:ke,disabled:Ae||!G.name.trim()||!G.address.trim(),className:"mt-2 w-full py-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white font-semibold rounded-xl hover:from-emerald-700 hover:to-teal-700 transition-all shadow-lg shadow-emerald-500/25 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:Ae?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{size:18,className:"animate-spin"}),f?"Updating...":"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(QA,{size:18}),f?"Update Place":"Save Place"]})})]})]})]})})]})},y$=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0);return W.useEffect(()=>{fetch("/api/admin/trip_items").then(a=>a.ok?a.json():[]).then(a=>e(a)).catch(console.error).finally(()=>n(!1))},[]),r?t.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading itinerary items..."}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full",children:[t.jsxs("div",{className:"p-5 border-b border-slate-200",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Trip Itinerary Items"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Granular view of all scheduled activities."})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase",children:[t.jsx("th",{className:"p-4",children:"Item ID"}),t.jsx("th",{className:"p-4",children:"Trip Ref"}),t.jsx("th",{className:"p-4",children:"Place / Activity"}),t.jsx("th",{className:"p-4",children:"Timing"}),t.jsx("th",{className:"p-4",children:"Notes"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:s.map(a=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4 text-slate-400",children:["#",a.id]}),t.jsx("td",{className:"p-4",children:t.jsxs("span",{className:"flex items-center gap-1 text-blue-600 hover:underline cursor-pointer",children:[t.jsx(o0,{size:12})," Trip #",a.trip_id]})}),t.jsxs("td",{className:"p-4 font-medium text-slate-800 flex items-center gap-2",children:[t.jsx(Xo,{size:14,className:"text-purple-500"})," ",a.place_name]}),t.jsxs("td",{className:"p-4 text-slate-600",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(Vi,{size:12})," Day ",a.day_number]}),t.jsxs("div",{className:"text-xs text-slate-400",children:["Order: ",a.order_index]})]}),t.jsx("td",{className:"p-4 text-slate-500 italic truncate max-w-xs",children:a.notes||"-"})]},a.id))})]})})]})},w$=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(""),[u,d]=W.useState(null),[A,o]=W.useState(null);W.useEffect(()=>{(async()=>{try{const y=await fetch("/api/admin/trips");y.ok&&e(await y.json())}catch(y){console.error(y)}finally{n(!1)}})()},[]);const f=(b,y)=>{d({type:b,message:y}),setTimeout(()=>d(null),3e3)},m=b=>{o(b)},p=async()=>{if(A)try{e(s.filter(b=>b.id!==A)),f("success","Trip deleted successfully")}catch{f("error","Failed to delete trip")}finally{o(null)}},x=s.filter(b=>b.title.toLowerCase().includes(a.toLowerCase()));return r?t.jsx("div",{className:"p-10 text-center text-slate-500",children:"Loading trips..."}):t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden flex flex-col h-full relative",children:[u&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${u.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${u.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:u.type==="success"?t.jsx(Bo,{size:18}):t.jsx(Ia,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:u.message}),t.jsx("button",{onClick:()=>d(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"p-5 border-b border-slate-200 flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Trips"}),t.jsx("p",{className:"text-sm text-slate-500",children:"Overview of user travel plans."})]}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",placeholder:"Search trips...",className:"pl-9 pr-4 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:a,onChange:b=>l(b.target.value)}),t.jsx(Vc,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 border-b border-slate-200 text-xs font-semibold text-slate-500 uppercase",children:[t.jsx("th",{className:"p-4",children:"Trip Details"}),t.jsx("th",{className:"p-4",children:"User"}),t.jsx("th",{className:"p-4",children:"Dates"}),t.jsx("th",{className:"p-4",children:"Status"}),t.jsx("th",{className:"p-4",children:"Est. Budget"}),t.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),t.jsx("tbody",{className:"text-sm divide-y divide-slate-100",children:x.map(b=>t.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[t.jsxs("td",{className:"p-4",children:[t.jsx("div",{className:"font-bold text-slate-800",children:b.title}),t.jsxs("div",{className:"text-xs text-slate-400",children:["ID: #",b.id]})]}),t.jsxs("td",{className:"p-4 text-slate-600 flex items-center gap-2",children:[t.jsx(Yo,{size:14,className:"text-slate-400"})," ",b.user_email]}),t.jsxs("td",{className:"p-4 text-slate-500 text-xs",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(co,{size:12})," ",b.start_date]}),t.jsxs("div",{className:"pl-4",children:["to ",b.end_date]})]}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${b.status==="Completed"?"bg-green-100 text-green-700":b.status==="Cancelled"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:b.status})}),t.jsxs("td",{className:"p-4 font-mono text-slate-600",children:["$",b.total_expenses]}),t.jsxs("td",{className:"p-4 text-right",children:[t.jsx("button",{className:"text-slate-400 hover:text-blue-600 p-1 mr-1 transition-colors",children:t.jsx(io,{size:16})}),t.jsx("button",{onClick:()=>m(b.id),className:"text-slate-400 hover:text-red-600 p-1 transition-colors",children:t.jsx(Jo,{size:16})})]})]},b.id))})]})}),A&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(Zo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Trip?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this trip? This will remove all associated itinerary items and expenses."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>o(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:p,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})})]})},j$=({user:s,onUpdateUser:e})=>{const[r,n]=W.useState({name:s.name,email:s.email||"alex.chen@example.com",avatarUrl:s.avatarUrl}),[a,l]=W.useState({currentPassword:"",newPassword:""}),[u,d]=W.useState("idle"),[A,o]=W.useState(""),[f,m]=W.useState(!0),[p,x]=W.useState(!0),[b,y]=W.useState(null),[w,E]=W.useState(!1),[R,z]=W.useState(!1),[X,Y]=W.useState(null),Q=W.useRef(null),G=(ue,Se)=>{Y({type:ue,message:Se}),setTimeout(()=>Y(null),3e3)},le=async()=>{if(!a.currentPassword||!a.newPassword){d("error"),o("Please fill in both fields.");return}d("loading");try{const ue=await fetch(`${Dt}/auth/change-password`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(a)}),Se=await ue.json();ue.ok&&Se.status==="success"?(d("success"),o("Password changed successfully!"),l({currentPassword:"",newPassword:""}),setTimeout(()=>{d("idle"),o("")},3e3),G("success","Password updated successfully")):(d("error"),o(Se.message||"Failed to update password."))}catch{d("error"),o("Network error.")}},Ae=ue=>{var ae;const Se=(ae=ue.target.files)==null?void 0:ae[0];if(Se){if(Se.size>1048576){G("error","File is too large! Please upload an image smaller than 1MB."),ue.target.value="";return}y(Se);const he=new FileReader;he.onloadend=()=>{n(se=>({...se,avatarUrl:he.result}))},he.readAsDataURL(Se)}},je=async()=>{E(!0);try{const ue=new FormData;ue.append("name",r.name),b&&ue.append("avatar",b);const Se=await fetch(`${Dt}/user/update-profile`,{method:"PUT",headers:{},credentials:"include",body:ue}),ae=await Se.json();Se.ok?(z(!0),G("success","Profile updated successfully!"),setTimeout(()=>z(!1),3e3),ae.user&&e(ae.user),y(null)):G("error",ae.message||"Update failed")}catch(ue){console.error("Upload error:",ue),G("error","Network error occurred")}finally{E(!1)}};return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-4xl mx-auto animate-fade-in-up relative",children:[X&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${X.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${X.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:X.type==="success"?t.jsx(uo,{size:18}):t.jsx(Ia,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:X.message}),t.jsx("button",{onClick:()=>Y(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[t.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:t.jsx(Yo,{className:"w-6 h-6 text-slate-600 dark:text-slate-300"})}),t.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:"General Settings"})]}),t.jsxs("div",{className:"bg-white/60 dark:bg-slate-900/60 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-sm border border-transparent hover:border-sky-300 dark:hover:border-indigo-500 transition-all duration-500 ease-out",children:[t.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-8 mb-10 pb-10 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{var ue;return(ue=Q.current)==null?void 0:ue.click()},children:[t.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-white dark:border-slate-800 shadow-xl ring-2 ring-slate-100 dark:ring-slate-700",children:t.jsx("img",{src:r.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"})}),t.jsx("div",{className:"absolute inset-0 bg-black/40 rounded-full opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx(Yg,{className:"w-8 h-8 text-white"})}),t.jsx("input",{type:"file",ref:Q,className:"hidden",accept:"image/*",onChange:Ae})]}),t.jsxs("div",{className:"text-center md:text-left",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Profile Photo"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1 mb-4",children:"Click the image to upload a new photo. JPG, GIF or PNG."}),t.jsx("button",{onClick:()=>{var ue;return(ue=Q.current)==null?void 0:ue.click()},className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg text-sm font-bold hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:"Change Photo"})]})]}),t.jsxs("div",{className:"space-y-6 max-w-2xl",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Personal Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Full Name"}),t.jsxs("div",{className:"relative",children:[t.jsx(Yo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",value:r.name,onChange:ue=>n({...r,name:ue.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(Yd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",value:r.email,onChange:ue=>n({...r,email:ue.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]})]}),t.jsxs("div",{className:"pt-6 mt-6 border-t border-slate-200 dark:border-slate-800",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:"Security"}),s.authProvider==="google"||!s.email?t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 flex items-center gap-3 text-slate-500 border border-slate-200 dark:border-slate-700",children:[t.jsx(Kd,{className:"w-5 h-5"}),t.jsx("span",{className:"text-sm",children:"You are logged in via Google. Password change is not applicable."})]}):t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/30 rounded-2xl p-6 border border-slate-200 dark:border-slate-700/50",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Td,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"",value:a.currentPassword,onChange:ue=>l({...a,currentPassword:ue.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Td,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"password",placeholder:"Min 8 characters",value:a.newPassword,onChange:ue=>l({...a,newPassword:ue.target.value}),className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-10 pr-4 text-sm font-medium outline-none focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 transition-all"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[u==="error"&&t.jsx("p",{className:"text-xs font-bold text-red-500",children:A}),u==="success"&&t.jsx("p",{className:"text-xs font-bold text-emerald-500",children:A})]}),t.jsx("button",{onClick:le,disabled:u==="loading",className:"px-5 py-2 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-white rounded-xl text-xs font-bold hover:bg-slate-50 dark:hover:bg-slate-600 transition-all shadow-sm flex items-center gap-2",children:u==="loading"?t.jsx(Lr,{className:"w-3 h-3 animate-spin"}):"Update Password"})]})]})]}),t.jsx("div",{className:"pt-6 mt-6 flex justify-end",children:t.jsxs("button",{onClick:je,disabled:w,className:"px-8 py-3 bg-gradient-to-r from-sky-500 to-indigo-600 hover:from-sky-600 hover:to-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-sky-500/20 transition-all flex items-center gap-2 active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed",children:[w?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):R?t.jsx(uo,{className:"w-5 h-5"}):t.jsx(QA,{className:"w-5 h-5"}),R?"Saved":w?"Saving...":"Save Changes"]})})]})]})]})},N$=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,a]=W.useState(!0),[l,u]=W.useState(""),[d,A]=W.useState(!1),[o,f]=W.useState(null),[m,p]=W.useState(""),[x,b]=W.useState(null),[y,w]=W.useState(null),[E,R]=W.useState(null),[z,X]=W.useState({title:"",category:"",status:"Published",content:"",coverImage:null}),Y=["Travel Tips","Destinations","Food & Dining","Accommodation","Events & News","Safety Guides"],Q=(Ee,De)=>{w({message:Ee,type:De}),setTimeout(()=>w(null),3e3)},G=async()=>{try{const Ee=await fetch("/api/articles/list");if(Ee.ok){const De=await Ee.json();r(De)}}catch(Ee){console.error("Failed to fetch articles",Ee),Q("Failed to load articles","error")}finally{a(!1)}};W.useEffect(()=>{G()},[]);const le=Ee=>{const{name:De,value:ke}=Ee.target;X(pe=>({...pe,[De]:ke}))},Ae=Ee=>{X(De=>({...De,content:Ee}))},je=Ee=>{Ee.target.files&&Ee.target.files[0]&&X(De=>({...De,coverImage:Ee.target.files[0]}))},ue=()=>{f(null),b(null),X({title:"",category:"",status:"Published",content:"",coverImage:null}),A(!0)},Se=Ee=>{f(Ee.id),b(Ee.coverImage),X({title:Ee.title,category:Ee.category,status:Ee.status,content:Ee.content||"",coverImage:null}),A(!0)},ae=Ee=>{R(Ee)},Ne=async()=>{if(E)try{(await fetch(`/api/articles/${E}`,{method:"DELETE"})).ok?(Q("Article deleted successfully","success"),G()):Q("Failed to delete article","error")}catch(Ee){console.error("Error deleting:",Ee),Q("Error occurred while deleting","error")}finally{R(null)}},he=async Ee=>{Ee.preventDefault();const De=new FormData;De.append("title",z.title),De.append("category",z.category),De.append("status",z.status),De.append("content",z.content),z.coverImage&&De.append("coverImage",z.coverImage);try{const ke=o?`/api/articles/${o}`:"/api/articles/create",ye=await fetch(ke,{method:o?"PUT":"POST",body:De}),fe=await ye.json();ye.ok?(Q(o?"Article Updated!":"Article Created!","success"),A(!1),G(),f(null),X({title:"",category:"",status:"Published",content:"",coverImage:null})):Q(fe.message||"Operation failed","error")}catch(ke){console.error("Error saving article",ke),Q("Network error occurred","error")}},se=e.filter(Ee=>{var pe,ye;const De=((pe=Ee.title)==null?void 0:pe.toLowerCase().includes(m.toLowerCase()))||((ye=Ee.category)==null?void 0:ye.toLowerCase().includes(m.toLowerCase())),ke=!l||Ee.category===l;return De&&ke}),de=Ee=>Ee?Ee.startsWith("http")?Ee:`http://127.0.0.1:5000${Ee}`:null,oe=Ee=>Ee&&new DOMParser().parseFromString(Ee,"text/html").body.textContent||"";return t.jsxs("div",{className:"p-6 space-y-6",children:[y&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-5 py-3 rounded-xl shadow-2xl text-white text-sm font-medium animate-in slide-in-from-right-10 duration-300
          ${y.type==="success"?"bg-gradient-to-r from-emerald-500 to-teal-500":"bg-gradient-to-r from-red-500 to-rose-500"}`,children:[y.type==="success"?t.jsx(uo,{size:18}):t.jsx(hu,{size:18}),y.message]}),t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[t.jsx(Ed,{className:"w-8 h-8 text-blue-500"}),"Info Website Manager"]}),t.jsx("p",{className:"text-slate-500 mt-1 text-sm",children:"Manage and publish articles for your public-facing site."})]}),t.jsxs("button",{onClick:ue,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-sm font-semibold rounded-xl hover:shadow-lg hover:shadow-blue-500/30 transition-all duration-200 active:scale-95",children:[t.jsx($i,{size:18}),"New Article"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center text-blue-500",children:t.jsx(Ed,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.length}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Total Articles"})]})]}),t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-xl flex items-center justify-center text-green-500",children:t.jsx(uo,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.filter(Ee=>Ee.status==="Published").length}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Published"})]})]}),t.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-amber-50 rounded-xl flex items-center justify-center text-amber-500",children:t.jsx(d5,{size:24})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:e.reduce((Ee,De)=>Ee+(De.views||0),0).toLocaleString()}),t.jsx("p",{className:"text-xs text-slate-500 font-medium uppercase tracking-wider",children:"Total Views"})]})]})]}),t.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[t.jsxs("div",{className:"relative flex-1 w-full",children:[t.jsx(Vc,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400",size:18}),t.jsx("input",{type:"text",placeholder:"Search by title...",value:m,onChange:Ee=>p(Ee.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm\r
            focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none transition-all`})]}),t.jsxs("select",{value:l,onChange:Ee=>u(Ee.target.value),className:`w-full md:w-56 px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm\r
          focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer`,children:[t.jsx("option",{value:"",children:"All Categories"}),Y.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50/50",children:[t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Article"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Views"}),t.jsx("th",{className:"text-left px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:n?t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:"Loading..."})}):se.length>0?se.map(Ee=>t.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-12 bg-slate-100 rounded-lg overflow-hidden shrink-0",children:Ee.coverImage?t.jsx("img",{src:de(Ee.coverImage),alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:t.jsx(Ed,{size:20})})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800 line-clamp-1",children:Ee.title}),t.jsxs("p",{className:"text-xs text-slate-400 line-clamp-1",children:[oe(Ee.content).substring(0,60),"..."]})]})]})}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-full
                      ${Ee.status==="Published"?"bg-green-100 text-green-700":Ee.status==="Draft"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:Ee.status})}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-500",children:Ee.date}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-500 font-medium flex items-center gap-1.5",children:[t.jsx(io,{size:14}),Ee.views]}),t.jsx("td",{className:"px-6 py-4",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>Se(Ee),className:"p-1.5 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit",children:t.jsx(b0,{size:16})}),t.jsx("button",{onClick:()=>ae(Ee.id),className:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete",children:t.jsx(Jo,{size:16})})]})})]},Ee.id)):t.jsx("tr",{children:t.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-slate-400",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Vc,{size:32,className:"mb-2 opacity-20"}),t.jsx("p",{children:"No articles found matching your criteria."})]})})})})]})})}),E&&t.jsx("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(Zo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Article?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this article? This action cannot be undone."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>R(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:Ne,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})}),d&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:o?"Edit Article":"Create New Article"}),t.jsx("p",{className:"text-xs text-slate-500",children:"Fill in the details to publish content to your info site."})]}),t.jsx("button",{onClick:()=>A(!1),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200/50 rounded-full transition-all",children:t.jsx(qr,{size:20})})]}),t.jsxs("form",{onSubmit:he,children:[t.jsxs("div",{className:"p-6 space-y-5 max-h-[70vh] overflow-y-auto custom-scrollbar",children:[t.jsxs("div",{className:"group relative h-48 bg-slate-50 rounded-xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center hover:border-blue-400 hover:bg-blue-50/30 transition-all cursor-pointer overflow-hidden",children:[z.coverImage?t.jsx("img",{src:URL.createObjectURL(z.coverImage),className:"w-full h-full object-cover",alt:"New Preview"}):x?t.jsx("img",{src:de(x),className:"w-full h-full object-cover",alt:"Existing"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"p-3 bg-white rounded-full shadow-sm text-slate-400 mb-2 group-hover:scale-110 transition-transform",children:t.jsx(d0,{size:24})}),t.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Click to upload cover image"}),t.jsx("p",{className:"text-xs text-slate-400",children:"JPG, PNG or WEBP (Max. 2MB)"})]}),t.jsx("input",{type:"file",onChange:je,accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Title"}),t.jsx("input",{type:"text",name:"title",placeholder:"e.g. Exploring New Frontiers",value:z.title,onChange:le,required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Category"}),t.jsxs("select",{name:"category",value:z.category,onChange:le,required:!0,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer appearance-none",children:[t.jsx("option",{value:"",disabled:!0,children:"Select a category"}),Y.map(Ee=>t.jsx("option",{value:Ee,children:Ee},Ee))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Status"}),t.jsxs("select",{name:"status",value:z.status,onChange:le,className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all cursor-pointer",children:[t.jsx("option",{value:"Published",children:"Published"}),t.jsx("option",{value:"Draft",children:"Draft"}),t.jsx("option",{value:"Archived",children:"Archived"})]})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Content"}),t.jsx(Dk,{content:z.content,onChange:Ae}),t.jsx("p",{className:"text-xs text-slate-400 mt-1.5",children:"Use the toolbar above to format your content with headings, lists, colors, and more."})]})]})]}),t.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 bg-slate-50/50 flex justify-between items-center",children:[t.jsxs("div",{className:"flex items-center gap-2 text-amber-600 text-xs font-medium",children:[t.jsx(Ia,{size:14}),"Changes will be visible immediately."]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"button",onClick:()=>A(!1),className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsxs("button",{type:"submit",className:"px-6 py-2 bg-blue-600 text-white text-sm font-semibold rounded-xl hover:bg-blue-700 transition-all flex items-center gap-2 shadow-lg shadow-blue-500/20",children:[t.jsx(QA,{size:18}),o?"Save Changes":"Publish Article"]})]})]})]})]})})]})},bp={SUPER_ADMIN:"super_admin",ADMIN:"admin",USER:"user"},C$=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(null),[a,l]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState(""),[f,m]=W.useState(!1),[p,x]=W.useState(!1),[b,y]=W.useState(bp.ADMIN),[w,E]=W.useState(!1),[R,z]=W.useState(null),[X,Y]=W.useState(null),[Q,G]=W.useState("preset"),[le,Ae]=W.useState("monthly"),[je,ue]=W.useState("30"),[Se,ae]=W.useState("0.00"),[Ne,he]=W.useState("");W.useEffect(()=>{se(),de()},[]);const se=async()=>{try{const fe=await fetch(`${Dt}/api/admin-subscription/statistics`,{credentials:"include"});if(fe.ok){const te=await fe.json();d(te),te.currentAdminRole&&(y(te.currentAdminRole),E(te.currentAdminRole===bp.SUPER_ADMIN))}}catch(fe){console.error("Error fetching statistics:",fe)}},de=async(fe="")=>{try{m(!0);const te=fe?`${Dt}/api/admin-subscription/users?search=${encodeURIComponent(fe)}`:`${Dt}/api/admin-subscription/users`,ge=await fetch(te,{credentials:"include"});if(ge.ok){const Fe=await ge.json();e(Fe.users),Fe.currentAdminRole&&(y(Fe.currentAdminRole),E(Fe.canManageAdmins||!1))}else ge.status===403&&pe("error","Admin access required")}catch(te){console.error("Error fetching users:",te),pe("error","Failed to load users")}finally{m(!1)}},oe=async fe=>{try{const te=await fetch(`${Dt}/api/admin-subscription/users/${fe}/subscriptions`,{credentials:"include"});if(te.ok){const ge=await te.json();l(ge.subscriptions),n(ge.user)}else te.status===403&&pe("error","Permission denied: Cannot access admin users")}catch(te){console.error("Error fetching user subscriptions:",te)}},Ee=async()=>{if(r)try{m(!0);const fe={user_id:r.id,subscription_type:Q,amount:parseFloat(Se)||0};Q==="preset"?fe.plan_type=le:fe.custom_days=parseInt(je);const te=await fetch(`${Dt}/api/admin-subscription/add-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(fe)}),ge=await te.json();te.ok?(pe("success","Subscription added successfully!"),x(!1),oe(r.id),se(),de(A),G("preset"),Ae("monthly"),ue("30"),ae("0.00")):te.status===403?pe("error","Permission denied: Cannot modify admin users"):pe("error",ge.error||"Failed to add subscription")}catch{pe("error","Network error occurred")}finally{m(!1)}},De=fe=>{Y(fe)},ke=async()=>{if(X)try{const fe=await fetch(`${Dt}/api/admin-subscription/cancel-subscription`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({user_id:X})});fe.ok?(pe("success","Subscription cancelled successfully"),(r==null?void 0:r.id)===X&&oe(X),de(A),se()):fe.status===403?pe("error","Permission denied: Cannot modify admin users"):pe("error","Failed to cancel subscription")}catch{pe("error","Network error occurred")}finally{Y(null)}},pe=(fe,te)=>{z({type:fe,text:te}),setTimeout(()=>z(null),5e3)},ye=fe=>{const te=(fe==null?void 0:fe.toLowerCase())||"user";return te===bp.SUPER_ADMIN?t.jsx("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 text-xs font-medium rounded-full",children:"Super Admin"}):te===bp.ADMIN?t.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 text-xs font-medium rounded-full",children:"Admin"}):null};return t.jsxs("div",{className:"p-6 md:p-8 w-full max-w-7xl mx-auto relative",children:[R&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${R.type==="success"?"bg-white border-emerald-100 text-emerald-800 dark:bg-slate-800 dark:border-emerald-900/50 dark:text-emerald-400":R.type==="info"?"bg-white border-blue-100 text-blue-800 dark:bg-slate-800 dark:border-blue-900/50 dark:text-blue-400":"bg-white border-red-100 text-red-800 dark:bg-slate-800 dark:border-red-900/50 dark:text-red-400"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${R.type==="success"?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900/30":R.type==="info"?"bg-blue-100 text-blue-600 dark:bg-blue-900/30":"bg-red-100 text-red-600 dark:bg-red-900/30"}`,children:R.type==="success"?t.jsx(Wo,{className:"w-4 h-4"}):R.type==="info"?t.jsx(Sl,{className:"w-4 h-4"}):t.jsx(Ia,{className:"w-4 h-4"})}),t.jsx("p",{className:"text-sm font-medium",children:R.text}),t.jsx("button",{onClick:()=>z(null),className:"ml-2 opacity-50 hover:opacity-100 transition-opacity",children:t.jsx(qr,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Subscription Management"}),t.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Manage user subscriptions and premium access"})]}),t.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-lg border mb-6 ${w?"bg-purple-50 border-purple-200 dark:bg-purple-900/20 dark:border-purple-800":"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800"}`,children:[w?t.jsx(c0,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}):t.jsx(Kd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:`text-sm font-medium ${w?"text-purple-800 dark:text-purple-300":"text-blue-800 dark:text-blue-300"}`,children:w?"Super Admin Access":"Admin Access"}),t.jsx("span",{className:`text-sm ml-2 ${w?"text-purple-600 dark:text-purple-400":"text-blue-600 dark:text-blue-400"}`,children:w?" You can view and manage subscriptions for all users":" You can only view and manage subscriptions for regular users"})]}),t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${w?"bg-purple-100 text-purple-700 dark:bg-purple-900/50 dark:text-purple-300":"bg-blue-100 text-blue-700 dark:bg-blue-900/50 dark:text-blue-300"}`,children:b})]}),u&&t.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-8",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Ld,{className:"w-5 h-5 text-blue-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Users"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:u.total_users}),!w&&t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Regular users only"})]}),t.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-xl p-6 border border-amber-200 dark:border-amber-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Vd,{className:"w-5 h-5 text-amber-600"}),t.jsx("span",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Premium Users"})]}),t.jsx("p",{className:"text-3xl font-bold text-amber-900 dark:text-amber-100",children:u.premium_users}),t.jsxs("p",{className:"text-sm text-amber-600 dark:text-amber-500 mt-1",children:[u.premium_percentage,"% of total"]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(sx,{className:"w-5 h-5 text-emerald-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Monthly Revenue"})]}),t.jsxs("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:["RM ",u.monthly_revenue.toFixed(2)]})]}),t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-6 border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx(Vi,{className:"w-5 h-5 text-orange-600"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Expiring Soon"})]}),t.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:u.expiring_soon}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Within 7 days"})]})]}),t.jsx("div",{className:"mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(Vc,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search users by email or name...",value:A,onChange:fe=>{o(fe.target.value),de(fe.target.value)},className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h2",{className:"font-bold text-lg text-slate-900 dark:text-white",children:"Users"}),t.jsxs("span",{className:"text-sm text-slate-500",children:[s.length," ",s.length===1?"user":"users"]})]}),t.jsx("div",{className:"divide-y divide-slate-200 dark:divide-slate-800 max-h-[600px] overflow-y-auto",children:f?t.jsx("div",{className:"p-8 text-center",children:t.jsx(Lr,{className:"w-6 h-6 animate-spin mx-auto text-slate-400"})}):s.length===0?t.jsx("div",{className:"p-8 text-center text-slate-500",children:"No users found"}):s.map(fe=>t.jsx("div",{onClick:()=>oe(fe.id),className:`p-4 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors ${(r==null?void 0:r.id)===fe.id?"bg-amber-50 dark:bg-amber-900/20":""}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:fe.full_name||"No name"}),fe.is_premium&&t.jsx(Vd,{className:"w-4 h-4 text-amber-600"}),ye(fe.role)]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:fe.email}),fe.subscription_end_date&&t.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-1",children:["Expires: ",new Date(fe.subscription_end_date).toLocaleDateString()]})]}),fe.is_premium&&t.jsx("span",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-400 text-xs font-medium rounded-full",children:"Premium"})]})},fe.id))})]}),t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden",children:r?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"font-bold text-lg text-slate-900 dark:text-white",children:r.full_name}),ye(r.role)]}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:r.email})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:()=>x(!0),className:"px-3 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",children:[t.jsx($i,{className:"w-4 h-4"}),"Add"]}),r.is_premium&&t.jsxs("button",{onClick:()=>De(r.id),className:"px-3 py-2 bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 dark:hover:bg-red-900/50 dark:text-red-400 rounded-lg flex items-center gap-2 text-sm font-medium transition-colors",children:[t.jsx(aS,{className:"w-4 h-4"}),"Cancel"]})]})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Status:"}),r.is_premium?t.jsxs("span",{className:"flex items-center gap-1 text-amber-600",children:[t.jsx(Vd,{className:"w-4 h-4"})," Premium"]}):t.jsx("span",{className:"text-slate-500",children:"Free"})]}),r.subscription_end_date&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Expires:"}),t.jsx("span",{className:"text-slate-900 dark:text-white",children:new Date(r.subscription_end_date).toLocaleDateString()})]})]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h3",{className:"font-medium text-slate-900 dark:text-white mb-3",children:"Subscription History"}),t.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:a.length===0?t.jsx("p",{className:"text-sm text-slate-500 text-center py-4",children:"No subscription history"}):a.map(fe=>t.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-start justify-between mb-2",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-slate-900 dark:text-white capitalize",children:[fe.plan_type," Plan"]}),t.jsx("p",{className:"text-xs text-slate-500",children:fe.order_reference})]}),t.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${fe.status==="active"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":fe.status==="cancelled"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"}`,children:fe.status})]}),t.jsxs("div",{className:"text-xs text-slate-600 dark:text-slate-400 space-y-1",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Amount:"})," RM ",fe.amount.toFixed(2)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Start:"})," ",new Date(fe.start_date).toLocaleDateString()]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"End:"})," ",fe.end_date?new Date(fe.end_date).toLocaleDateString():"Lifetime"]})]})]},fe.id))})]})]}):t.jsxs("div",{className:"p-12 text-center text-slate-500",children:[t.jsx(Ld,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),t.jsx("p",{children:"Select a user to view details"})]})})]}),X&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6 border border-slate-200 dark:border-slate-800",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mb-4 text-red-600 dark:text-red-400",children:t.jsx(Zo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-white mb-2",children:"Cancel Subscription?"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:"Are you sure you want to cancel this user's premium status? This action will immediately revert them to a free user."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>Y(null),className:"flex-1 px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 text-sm font-semibold rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700 transition-all",children:"Keep It"}),t.jsx("button",{onClick:ke,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Yes, Cancel"})]})]})})}),p&&r&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Add Subscription"}),t.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 rounded-lg p-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white",children:r.full_name}),ye(r.role)]}),t.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400",children:r.email})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Subscription Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsxs("button",{onClick:()=>G("preset"),className:`p-3 rounded-lg border-2 transition-all ${Q==="preset"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(xf,{className:"w-5 h-5 mx-auto mb-1 text-amber-600"}),t.jsx("p",{className:"text-sm font-medium",children:"Preset Plans"})]}),t.jsxs("button",{onClick:()=>G("custom"),className:`p-3 rounded-lg border-2 transition-all ${Q==="custom"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(co,{className:"w-5 h-5 mx-auto mb-1 text-amber-600"}),t.jsx("p",{className:"text-sm font-medium",children:"Custom Days"})]})]})]}),Q==="preset"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Select Plan"}),t.jsx("div",{className:"space-y-2",children:[{value:"monthly",label:"Monthly",days:"30 days",price:"RM 29.90"},{value:"yearly",label:"Yearly",days:"365 days",price:"RM 299.00"},{value:"lifetime",label:"Lifetime",days:"Forever",price:"RM 999.00"}].map(fe=>t.jsx("button",{onClick:()=>Ae(fe.value),className:`w-full p-3 rounded-lg border-2 text-left transition-all ${le===fe.value?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:fe.label}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:fe.days})]}),t.jsx("p",{className:"text-sm font-medium text-amber-600",children:fe.price})]})},fe.value))})]}),Q==="custom"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Number of Days"}),t.jsx("input",{type:"number",min:"1",value:je,onChange:fe=>ue(fe.target.value),className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"e.g., 7, 14, 30..."}),t.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Subscription will expire in ",je||"0"," days"]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-900 dark:text-white mb-2",children:"Amount (RM)"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:Se,onChange:fe=>ae(fe.target.value),className:"w-full px-4 py-3 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"0.00"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Set to 0.00 for free/gifted subscriptions"})]}),t.jsx("button",{onClick:Ee,disabled:f,className:"w-full py-3 bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white font-bold rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:f?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-5 h-5 animate-spin"}),"Adding..."]}):t.jsxs(t.Fragment,{children:[t.jsx($i,{className:"w-5 h-5"}),"Add Subscription"]})})]})]})})]})},k$=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(!1),[u,d]=W.useState(null),[A,o]=W.useState({title:"",description:"",link:"",status:"active",priority:1}),[f,m]=W.useState(null),[p,x]=W.useState(""),[b,y]=W.useState(null),[w,E]=W.useState(null);W.useEffect(()=>{z()},[]);const R=(ue,Se)=>{y({type:ue,message:Se}),setTimeout(()=>y(null),3e3)},z=async()=>{try{const ue=await fetch(`${Dt}/api/advertisements/list`,{credentials:"include"});if(ue.ok){const Se=await ue.json();e(Se)}}catch(ue){console.error("Error fetching advertisements:",ue),R("error","Failed to fetch advertisements")}finally{n(!1)}},X=ue=>{var ae;const Se=(ae=ue.target.files)==null?void 0:ae[0];if(Se){m(Se);const Ne=new FileReader;Ne.onloadend=()=>{x(Ne.result)},Ne.readAsDataURL(Se)}},Y=async ue=>{ue.preventDefault();const Se=new FormData;Se.append("title",A.title),Se.append("description",A.description),Se.append("link",A.link),Se.append("status",A.status),Se.append("priority",A.priority.toString()),f&&Se.append("image",f);try{const ae=u?`${Dt}/api/advertisements/${u.id}`:`${Dt}/api/advertisements/create`;(await fetch(ae,{method:u?"PUT":"POST",credentials:"include",body:Se})).ok?(R("success",u?"Advertisement updated successfully!":"Advertisement created successfully!"),await z(),Ae()):R("error","Failed to save advertisement.")}catch(ae){console.error("Error saving advertisement:",ae),R("error","Network error occurred.")}},Q=ue=>{E(ue)},G=async()=>{if(w)try{(await fetch(`${Dt}/api/advertisements/${w}`,{method:"DELETE",credentials:"include"})).ok?(R("success","Advertisement deleted successfully"),await z()):R("error","Failed to delete advertisement")}catch(ue){console.error("Error deleting advertisement:",ue),R("error","Error occurred while deleting")}finally{E(null)}},le=ue=>{d(ue),o({title:ue.title,description:ue.description,link:ue.link,status:ue.status,priority:ue.priority}),x(ue.imageUrl?`${Dt}${ue.imageUrl}`:""),l(!0)},Ae=()=>{l(!1),d(null),o({title:"",description:"",link:"",status:"active",priority:0}),m(null),x("")},je=async ue=>{const Se=ue.status==="active"?"paused":"active",ae=new FormData;ae.append("title",ue.title),ae.append("description",ue.description),ae.append("link",ue.link),ae.append("status",Se),ae.append("priority",ue.priority.toString());try{(await fetch(`${Dt}/api/advertisements/${ue.id}`,{method:"PUT",credentials:"include",body:ae})).ok?(R("success",`Advertisement ${Se==="active"?"activated":"paused"}`),await z()):R("error","Failed to update status")}catch(Ne){console.error("Error toggling advertisement status:",Ne),R("error","Network error")}};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t.jsxs("div",{className:"space-y-6 relative animate-in fade-in slide-in-from-bottom-2 duration-500",children:[b&&t.jsxs("div",{className:`fixed top-6 right-6 z-[100] flex items-center gap-3 px-4 py-3 rounded-xl shadow-xl border animate-in slide-in-from-top-4 duration-300 ${b.type==="success"?"bg-white border-green-100 text-green-800":"bg-white border-red-100 text-red-800"}`,children:[t.jsx("div",{className:`p-1 rounded-full ${b.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:b.type==="success"?t.jsx(Bo,{size:18}):t.jsx(Ia,{size:18})}),t.jsx("p",{className:"text-sm font-medium",children:b.message}),t.jsx("button",{onClick:()=>y(null),className:"ml-2 text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:16})})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Advertisement Management"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Manage advertisements shown to non-premium users"})]}),t.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/20 active:scale-95",children:[t.jsx($i,{size:20}),"Create Advertisement"]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:t.jsx(sx,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Ads"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.length})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-green-50 text-green-600 rounded-lg",children:t.jsx(qb,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Active"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.filter(ue=>ue.status==="active").length})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:t.jsx(io,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Views"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.reduce((ue,Se)=>ue+Se.views,0).toLocaleString()})]})]})}),t.jsx("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 bg-orange-50 text-orange-600 rounded-lg",children:t.jsx(N2,{size:20})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-slate-500",children:"Total Clicks"}),t.jsx("p",{className:"text-2xl font-bold text-slate-800",children:s.reduce((ue,Se)=>ue+Se.clicks,0).toLocaleString()})]})]})})]}),t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Advertisement"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Link"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Status"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Priority"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Stats"}),t.jsx("th",{className:"text-left p-4 text-sm font-semibold text-slate-600",children:"Actions"})]})}),t.jsx("tbody",{children:s.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:6,className:"text-center p-8 text-slate-500",children:"No advertisements yet. Create your first one!"})}):s.map(ue=>t.jsxs("tr",{className:"border-b border-slate-100 hover:bg-slate-50 transition-colors",children:[t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[ue.imageUrl&&t.jsx("img",{src:`${Dt}${ue.imageUrl}`,alt:ue.title,className:"w-16 h-16 object-cover rounded-lg border border-slate-200"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-semibold text-slate-800",children:ue.title}),t.jsx("p",{className:"text-sm text-slate-500 line-clamp-1",children:ue.description})]})]})}),t.jsx("td",{className:"p-4",children:t.jsxs("a",{href:ue.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline flex items-center gap-1 text-sm",children:["View Link",t.jsx(o0,{size:14})]})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-semibold ${ue.status==="active"?"bg-green-100 text-green-700":ue.status==="paused"?"bg-amber-100 text-amber-700":"bg-slate-100 text-slate-600"}`,children:ue.status.charAt(0).toUpperCase()+ue.status.slice(1)})}),t.jsx("td",{className:"p-4",children:t.jsx("span",{className:"text-slate-700 font-medium",children:ue.priority})}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"text-sm space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[t.jsx(io,{size:14,className:"text-slate-400"}),t.jsxs("span",{children:[ue.views.toLocaleString()," views"]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[t.jsx(N2,{size:14,className:"text-slate-400"}),t.jsxs("span",{children:[ue.clicks.toLocaleString()," clicks"]})]}),t.jsxs("div",{className:"text-slate-500 text-xs mt-1",children:["CTR: ",ue.ctr,"%"]})]})}),t.jsx("td",{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>je(ue),className:`p-2 rounded-lg transition-colors ${ue.status==="active"?"hover:bg-amber-50 text-amber-600":"hover:bg-green-50 text-green-600"}`,title:ue.status==="active"?"Pause":"Activate",children:ue.status==="active"?t.jsx(p5,{size:18}):t.jsx(qb,{size:18})}),t.jsx("button",{onClick:()=>le(ue),className:"p-2 hover:bg-blue-50 text-blue-600 rounded-lg transition-colors",title:"Edit",children:t.jsx(b0,{size:18})}),t.jsx("button",{onClick:()=>Q(ue.id),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg transition-colors",title:"Delete",children:t.jsx(Jo,{size:18})})]})})]},ue.id))})]})}),w&&t.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:t.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in zoom-in-95 duration-200 p-6",children:t.jsxs("div",{className:"flex flex-col items-center text-center",children:[t.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mb-4 text-red-600",children:t.jsx(Zo,{size:24})}),t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-2",children:"Delete Advertisement?"}),t.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Are you sure you want to delete this ad? This action cannot be undone and tracking data will be lost."}),t.jsxs("div",{className:"flex gap-3 w-full",children:[t.jsx("button",{onClick:()=>E(null),className:"flex-1 px-4 py-2.5 bg-white border border-slate-200 text-slate-600 text-sm font-semibold rounded-xl hover:bg-slate-50 transition-all",children:"Cancel"}),t.jsx("button",{onClick:G,className:"flex-1 px-4 py-2.5 bg-red-600 text-white text-sm font-semibold rounded-xl hover:bg-red-700 transition-all shadow-lg shadow-red-500/20",children:"Delete"})]})]})})}),a&&t.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-in fade-in duration-300",children:t.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[t.jsxs("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center bg-slate-50/50",children:[t.jsx("h3",{className:"text-xl font-bold text-slate-800",children:u?"Edit Advertisement":"Create New Advertisement"}),t.jsx("button",{onClick:Ae,className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-200/50 rounded-full transition-all",children:t.jsx(qr,{size:20})})]}),t.jsxs("form",{onSubmit:Y,className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Title *"}),t.jsx("input",{type:"text",required:!0,value:A.title,onChange:ue=>o({...A,title:ue.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"Enter advertisement title"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Description"}),t.jsx("textarea",{value:A.description,onChange:ue=>o({...A,description:ue.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all resize-none",rows:3,placeholder:"Enter advertisement description"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Target Link *"}),t.jsxs("div",{className:"relative",children:[t.jsx(o0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),t.jsx("input",{type:"url",required:!0,value:A.link,onChange:ue=>o({...A,link:ue.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"https://example.com"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Status"}),t.jsxs("select",{value:A.status,onChange:ue=>o({...A,status:ue.target.value}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"paused",children:"Paused"}),t.jsx("option",{value:"expired",children:"Expired"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Priority"}),t.jsx("input",{type:"number",value:A.priority,onChange:ue=>o({...A,priority:parseInt(ue.target.value)||0}),className:"w-full px-4 py-2.5 bg-white border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all",placeholder:"0",min:"1"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-1.5",children:"Advertisement Image"}),t.jsxs("div",{className:"border-2 border-dashed border-slate-200 rounded-xl p-4 hover:bg-slate-50 transition-colors",children:[t.jsx("input",{type:"file",accept:"image/*",onChange:X,className:`block w-full text-sm text-slate-500\r
                      file:mr-4 file:py-2 file:px-4\r
                      file:rounded-full file:border-0\r
                      file:text-sm file:font-semibold\r
                      file:bg-blue-50 file:text-blue-700\r
                      hover:file:bg-blue-100\r
                    `}),p&&t.jsx("div",{className:"mt-4 relative rounded-lg overflow-hidden border border-slate-200",children:t.jsx("img",{src:p,alt:"Preview",className:"w-full h-48 object-cover"})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:Ae,className:"flex-1 px-4 py-2.5 border border-slate-200 text-slate-700 font-semibold rounded-xl hover:bg-slate-50 transition-colors",children:"Cancel"}),t.jsx("button",{type:"submit",className:"flex-1 px-4 py-2.5 bg-blue-600 text-white font-semibold rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-500/20",children:u?"Update Advertisement":"Create Advertisement"})]})]})]})})]})},B$=()=>{var pe;const[s,e]=W.useState([]),[r,n]=W.useState([]),[a,l]=W.useState([]),[u,d]=W.useState(!0),[A,o]=W.useState("configs"),[f,m]=W.useState(null),[p,x]=W.useState(!1),[b,y]=W.useState(null),[w,E]=W.useState(null),[R,z]=W.useState(!1),[X,Y]=W.useState(null),[Q,G]=W.useState(null),le=W.useRef(null);W.useEffect(()=>{Ae()},[]),W.useEffect(()=>{const ye=()=>G(null);return Q!==null&&document.addEventListener("click",ye),()=>document.removeEventListener("click",ye)},[Q]);const Ae=async()=>{try{d(!0);const[ye,fe,te]=await Promise.all([fetch(`${Dt}/api/admin/login-hero/configs`,{credentials:"include"}),fetch(`${Dt}/api/admin/login-hero/images`,{credentials:"include"}),fetch(`${Dt}/api/admin/login-hero/available-places`,{credentials:"include"})]),ge=await ye.json(),Fe=await fe.json(),$e=await te.json();ge.status==="success"&&e(ge.configs),Fe.status==="success"&&n(Fe.images),$e.status==="success"&&l($e.places)}catch{y("Failed to load data")}finally{d(!1)}},je=()=>{x(!0),m({displayMode:"single",transitionInterval:5,autoPlay:!0,imageSource:"url",imagesConfig:[{url:"",alt:""}],title:null,subtitle:null,description:null,enableGradient:!0,isActive:!1})},ue=async()=>{if(f)try{d(!0),y(null);const ye=p?`${Dt}/api/admin/login-hero/configs`:`${Dt}/api/admin/login-hero/configs/${f.id}`,ge=await(await fetch(ye,{method:p?"POST":"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(f)})).json();ge.status==="success"?(E(p?"Configuration created!":"Configuration updated!"),m(null),x(!1),Ae()):y(ge.message)}catch{y("Failed to save configuration")}finally{d(!1)}},Se=async ye=>{try{d(!0),(await(await fetch(`${Dt}/api/admin/login-hero/configs/${ye}/activate`,{method:"POST",credentials:"include"})).json()).status==="success"&&(E("Configuration activated!"),Ae())}catch{y("Failed to activate configuration")}finally{d(!1)}},ae=async ye=>{if(confirm("Are you sure you want to delete this configuration?"))try{d(!0),(await(await fetch(`${Dt}/api/admin/login-hero/configs/${ye}`,{method:"DELETE",credentials:"include"})).json()).status==="success"&&(E("Configuration deleted!"),Ae())}catch{y("Failed to delete configuration")}finally{d(!1)}},Ne=()=>{if(!f)return;const ye=f.imageSource==="url"?{url:"",alt:""}:f.imageSource==="database"?{image_id:null}:{place_id:null};m({...f,imagesConfig:[...f.imagesConfig||[],ye]})},he=ye=>{if(!f)return;const fe=[...f.imagesConfig||[]];fe.splice(ye,1),m({...f,imagesConfig:fe})},se=(ye,fe)=>{if(!f)return;const te=[...f.imagesConfig||[]];te[ye]={...te[ye],...fe},m({...f,imagesConfig:te})},de=async ye=>{var ge;const fe=(ge=ye.target.files)==null?void 0:ge[0];if(!fe)return;if(!["image/png","image/jpeg","image/jpg","image/gif","image/webp"].includes(fe.type)){y("Invalid file type. Please upload PNG, JPG, GIF, or WebP images.");return}if(fe.size>5*1024*1024){y("File size too large. Maximum 5MB allowed.");return}try{z(!0),y(null);const Fe=new FormData;Fe.append("file",fe),Fe.append("title",fe.name.replace(/\.[^/.]+$/,"")),Fe.append("altText",fe.name);const kt=await(await fetch(`${Dt}/api/admin/login-hero/images/upload`,{method:"POST",credentials:"include",body:Fe})).json();kt.status==="success"?(E("Image uploaded successfully!"),Ae(),le.current&&(le.current.value="")):y(kt.message)}catch{y("Failed to upload image")}finally{z(!1)}},oe=async(ye,fe)=>{try{d(!0),y(null);const ge=await(await fetch(`${Dt}/api/admin/login-hero/images/from-place`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({placeId:ye,title:fe,altText:fe})})).json();ge.status==="success"?(E("Image added from place!"),Ae()):y(ge.message)}catch{y("Failed to add image from place")}finally{d(!1)}},Ee=async ye=>{if(confirm("Delete this image from library?"))try{d(!0),(await(await fetch(`${Dt}/api/admin/login-hero/images/${ye}`,{method:"DELETE",credentials:"include"})).json()).status==="success"&&(E("Image deleted from library!"),Ae())}catch{y("Failed to delete image")}finally{d(!1)}},De=async(ye,fe)=>{try{d(!0),(await(await fetch(`${Dt}/api/admin/login-hero/images/${ye}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isActive:!fe})})).json()).status==="success"&&(E(`Image ${fe?"deactivated":"activated"}!`),Ae())}catch{y("Failed to update image status")}finally{d(!1)}},ke=(ye,fe,te)=>{const ge=fe.startsWith("/")?`${Dt}${fe}`:fe,Fe=260,$e=180,kt=15;let St=ye.clientX+kt,Ge=ye.clientY+kt;St+Fe>window.innerWidth&&(St=ye.clientX-Fe-kt),Ge+$e>window.innerHeight&&(Ge=ye.clientY-$e-kt),Y({url:ge,title:te,x:St,y:Ge})};return u&&s.length===0?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-blue-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Login Background Management"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Configure the hero section of the login page"})]}),A==="configs"&&t.jsxs("button",{onClick:je,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[t.jsx($i,{size:20}),"New Configuration"]})]}),b&&t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center gap-3 text-red-700",children:[t.jsx(Ia,{size:20}),b]}),w&&t.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg flex items-center gap-3 text-green-700",children:[t.jsx(Wo,{size:20}),w]}),t.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[t.jsxs("button",{onClick:()=>o("configs"),className:`px-4 py-2 font-medium transition-colors ${A==="configs"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-800"}`,children:[t.jsx(Tm,{className:"w-4 h-4 inline mr-2"}),"Configurations"]}),t.jsxs("button",{onClick:()=>o("images"),className:`px-4 py-2 font-medium transition-colors ${A==="images"?"text-blue-600 border-b-2 border-blue-600":"text-slate-600 hover:text-slate-800"}`,children:[t.jsx(l0,{className:"w-4 h-4 inline mr-2"}),"Image Library"]})]}),A==="configs"?t.jsxs("div",{className:"space-y-4",children:[f&&t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:p?"Create New Configuration":"Edit Configuration"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Display Mode"}),t.jsxs("select",{value:f.displayMode,onChange:ye=>m({...f,displayMode:ye.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"single",children:"Single Image"}),t.jsx("option",{value:"carousel",children:"Carousel"}),t.jsx("option",{value:"fade",children:"Fade Transition"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Image Source"}),t.jsxs("select",{value:f.imageSource,onChange:ye=>m({...f,imageSource:ye.target.value,imagesConfig:[]}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[t.jsx("option",{value:"url",children:"External URL - Direct image links"}),t.jsx("option",{value:"database",children:"Image Library - Uploaded or saved images"}),t.jsx("option",{value:"places",children:"Places - Images from Places database"})]}),t.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:[f.imageSource==="url"&&" Enter direct image URLs (e.g., from Unsplash, Pexels)",f.imageSource==="database"&&" Select from your uploaded images or images added from Places in the Image Library",f.imageSource==="places"&&" Directly select images from Places database (loaded via proxy API)"]})]}),f.displayMode!=="single"&&t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Transition Interval (seconds)"}),t.jsx("input",{type:"number",min:"1",max:"60",value:f.transitionInterval,onChange:ye=>m({...f,transitionInterval:parseInt(ye.target.value)}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Auto Play"}),t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.autoPlay,onChange:ye=>m({...f,autoPlay:ye.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Enable"})]})]})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Images"}),t.jsxs("button",{onClick:Ne,className:"text-sm text-blue-600 hover:text-blue-700 flex items-center gap-1",children:[t.jsx($i,{size:16}),"Add Image"]})]}),t.jsx("div",{className:"space-y-3",children:(pe=f.imagesConfig)==null?void 0:pe.map((ye,fe)=>{var te,ge;return t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-50 rounded-lg relative",children:[f.imageSource==="url"&&t.jsxs(t.Fragment,{children:[t.jsx("input",{type:"text",placeholder:"Image URL",value:ye.url||"",onChange:Fe=>se(fe,{url:Fe.target.value}),className:"flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm"}),t.jsx("input",{type:"text",placeholder:"Alt text",value:ye.alt||"",onChange:Fe=>se(fe,{alt:Fe.target.value}),className:"w-32 px-3 py-2 border border-slate-200 rounded-lg text-sm"})]}),f.imageSource==="database"&&t.jsxs("div",{className:"flex-1 relative",children:[t.jsxs("div",{onClick:Fe=>{Fe.stopPropagation(),G(Q===fe?null:fe)},className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm cursor-pointer flex items-center justify-between hover:border-blue-400 transition-colors",children:[t.jsx("span",{className:ye.image_id?"text-slate-800 truncate":"text-slate-400",children:ye.image_id?((te=r.find(Fe=>Fe.id===ye.image_id))==null?void 0:te.title)||"Unknown Image":"Select an image from library"}),t.jsx(a0,{size:16,className:"text-slate-500"})]}),Q===fe&&t.jsxs("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-lg shadow-xl py-1",children:[t.jsx("div",{onClick:()=>{se(fe,{image_id:null}),G(null)},className:"px-3 py-2 text-sm text-slate-500 hover:bg-slate-50 cursor-pointer",children:"Select an image from library"}),r.filter(Fe=>Fe.isActive).map(Fe=>{var $e;return t.jsxs("div",{onClick:()=>{se(fe,{image_id:Fe.id}),G(null)},onMouseEnter:kt=>ke(kt,Fe.imageUrl,Fe.title),onMouseLeave:()=>Y(null),className:`px-3 py-2 text-sm cursor-pointer flex items-center justify-between ${ye.image_id===Fe.id?"bg-blue-50 text-blue-700":"text-slate-700 hover:bg-slate-50"}`,children:[t.jsx("span",{className:"truncate",children:Fe.title}),t.jsx("span",{className:"text-xs text-slate-400 bg-slate-100 px-1.5 py-0.5 rounded ml-2",children:($e=Fe.source)==null?void 0:$e.toUpperCase()})]},Fe.id)})]})]}),f.imageSource==="places"&&t.jsxs("div",{className:"flex-1 relative",children:[t.jsxs("div",{onClick:Fe=>{Fe.stopPropagation(),G(Q===fe?null:fe)},className:"w-full px-3 py-2 bg-white border border-slate-200 rounded-lg text-sm cursor-pointer flex items-center justify-between hover:border-blue-400 transition-colors",children:[t.jsx("span",{className:ye.place_id?"text-slate-800 truncate":"text-slate-400",children:ye.place_id?((ge=a.find(Fe=>Fe.id===ye.place_id))==null?void 0:ge.name)||"Unknown Place":"Select a place"}),t.jsx(a0,{size:16,className:"text-slate-500"})]}),Q===fe&&t.jsxs("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 max-h-60 overflow-y-auto bg-white border border-slate-200 rounded-lg shadow-xl py-1",children:[t.jsx("div",{onClick:()=>{se(fe,{place_id:null}),G(null)},className:"px-3 py-2 text-sm text-slate-500 hover:bg-slate-50 cursor-pointer",children:"Select a place"}),a.map(Fe=>t.jsx("div",{onClick:()=>{se(fe,{place_id:Fe.id}),G(null)},onMouseEnter:$e=>ke($e,`${Dt}/proxy_image?ref=${Fe.photoUrl}`,Fe.name),onMouseLeave:()=>Y(null),className:`px-3 py-2 text-sm cursor-pointer flex items-center justify-between ${ye.place_id===Fe.id?"bg-blue-50 text-blue-700":"text-slate-700 hover:bg-slate-50"}`,children:t.jsx("span",{className:"truncate",children:Fe.name})},Fe.id))]})]}),t.jsx("button",{onClick:()=>he(fe),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:t.jsx(Jo,{size:16})})]},fe)})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Title (Optional - overrides default)"}),t.jsx("input",{type:"text",value:f.title||"",onChange:ye=>m({...f,title:ye.target.value}),placeholder:"Plan your next great adventure...",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (Optional)"}),t.jsx("textarea",{value:f.description||"",onChange:ye=>m({...f,description:ye.target.value}),placeholder:"Join thousands of travelers...",rows:3,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),t.jsxs("div",{className:"flex items-center gap-6",children:[t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.enableGradient,onChange:ye=>m({...f,enableGradient:ye.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Enable Gradient Overlay"})]}),t.jsxs("label",{className:"flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:f.isActive,onChange:ye=>m({...f,isActive:ye.target.checked}),className:"w-5 h-5 text-blue-600 border-slate-300 rounded focus:ring-2 focus:ring-blue-500"}),t.jsx("span",{className:"ml-2 text-sm text-slate-700",children:"Set as Active"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-200",children:[t.jsxs("button",{onClick:ue,disabled:u,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[t.jsx(QA,{size:18}),u?"Saving...":"Save Configuration"]}),t.jsx("button",{onClick:()=>{m(null),x(!1)},className:"px-6 py-2 border border-slate-200 text-slate-700 rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})]}),t.jsx("div",{className:"grid gap-4",children:s.map(ye=>t.jsx("div",{className:`bg-white rounded-xl border p-6 shadow-sm ${ye.isActive?"border-green-500 ring-2 ring-green-100":"border-slate-200"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsxs("h3",{className:"text-lg font-bold text-slate-800",children:[ye.displayMode.charAt(0).toUpperCase()+ye.displayMode.slice(1)," ","Mode"]}),ye.isActive&&t.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full",children:"ACTIVE"})]}),t.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Source:"})," ",ye.imageSource.toUpperCase()]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Images:"})," ",ye.imagesConfig.length]}),ye.displayMode!=="single"&&t.jsxs("p",{children:[t.jsx("strong",{children:"Interval:"})," ",ye.transitionInterval,"s"]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Updated:"})," ",ye.updatedAt]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[!ye.isActive&&t.jsx("button",{onClick:()=>Se(ye.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Activate",children:t.jsx(io,{size:18})}),t.jsx("button",{onClick:()=>{m(ye),x(!1)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:t.jsx(sy,{size:18})}),t.jsx("button",{onClick:()=>ae(ye.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",disabled:ye.isActive,children:t.jsx(Jo,{size:18})})]})]})},ye.id))})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Hero Image Library"}),t.jsx("p",{className:"text-sm text-slate-600 mt-1",children:"Upload images or add from Places to reuse in configurations"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:le,type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp",onChange:de,className:"hidden"}),t.jsx("button",{onClick:()=>{var ye;return(ye=le.current)==null?void 0:ye.click()},disabled:R,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:R?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{size:20,className:"animate-spin"}),"Uploading..."]}):t.jsxs(t.Fragment,{children:[t.jsx(d0,{size:20}),"Upload Image"]})})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.length===0?t.jsxs("div",{className:"col-span-full p-8 text-center text-slate-500",children:[t.jsx(l0,{size:48,className:"mx-auto mb-4 text-slate-300"}),t.jsx("p",{children:"No images in library yet"}),t.jsx("p",{className:"text-sm mt-2",children:"Add images to reuse them in configurations"})]}):r.map(ye=>{var fe;return t.jsxs("div",{className:"bg-white rounded-lg border border-slate-200 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"relative h-48 bg-slate-100",children:[t.jsx("img",{src:ye.imageUrl.startsWith("/")?`${Dt}${ye.imageUrl}`:ye.imageUrl,alt:ye.altText,className:"w-full h-full object-cover",onError:te=>{te.target.src="https://via.placeholder.com/400x300?text=Image+Not+Available"}}),!ye.isActive&&t.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 bg-red-500 text-white text-xs font-bold rounded",children:"INACTIVE"}),t.jsxs("div",{className:"absolute top-2 left-2 px-2 py-1 bg-blue-600 text-white text-xs font-bold rounded flex items-center gap-1",children:[ye.source==="places"&&t.jsx(Xo,{size:12}),ye.source==="external"&&t.jsx(Zg,{size:12}),ye.source==="uploaded"&&t.jsx(d0,{size:12}),((fe=ye.source)==null?void 0:fe.toUpperCase())||"UNKNOWN"]})]}),t.jsxs("div",{className:"p-4",children:[t.jsx("h4",{className:"font-bold text-slate-800 mb-1",children:ye.title}),t.jsx("p",{className:"text-xs text-slate-500 mb-2 line-clamp-2",children:ye.description||ye.altText}),ye.place&&t.jsxs("p",{className:"text-xs text-blue-600 mb-2",children:[t.jsx(Xo,{size:10,className:"inline mr-1"}),ye.place.name]}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[t.jsxs("button",{onClick:()=>Ee(ye.id),className:"flex-1 py-2 px-3 text-sm bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:[t.jsx(Jo,{size:14,className:"inline mr-1"}),"Delete"]}),t.jsx("button",{onClick:()=>De(ye.id,ye.isActive),className:`flex-1 py-2 px-3 text-sm rounded-lg transition-colors ${ye.isActive?"bg-slate-50 text-slate-600 hover:bg-slate-100":"bg-green-50 text-green-600 hover:bg-green-100"}`,children:ye.isActive?t.jsxs(t.Fragment,{children:[t.jsx(Zu,{size:14,className:"inline mr-1"}),"Deactivate"]}):t.jsxs(t.Fragment,{children:[t.jsx(io,{size:14,className:"inline mr-1"}),"Activate"]})})]})]})]},ye.id)})}),a.length>0&&t.jsxs("div",{className:"mt-8",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4",children:"Quick Add from Places"}),t.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Add place images to your library with one click"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-3",children:a.slice(0,12).map(ye=>t.jsxs("button",{onClick:()=>{confirm(`Add "${ye.name}" to image library?`)&&oe(ye.id,ye.name)},onMouseEnter:fe=>ke(fe,`${Dt}/proxy_image?ref=${ye.photoUrl}`,ye.name),onMouseLeave:()=>Y(null),disabled:R||u,className:"relative group rounded-lg overflow-hidden border-2 border-slate-200 hover:border-blue-500 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("div",{className:"aspect-square bg-slate-100",children:t.jsx("img",{src:`${Dt}/proxy_image?ref=${ye.photoUrl}`,alt:ye.name,className:"w-full h-full object-cover",onError:fe=>{fe.target.style.display="none"}})}),t.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:t.jsx($i,{size:32,className:"text-white"})}),t.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2",children:t.jsx("p",{className:"text-white text-xs font-medium truncate",children:ye.name})})]},ye.id))})]})]}),X&&t.jsxs("div",{className:"fixed z-[9999] bg-white rounded-lg shadow-2xl border border-slate-200 overflow-hidden pointer-events-none transition-all duration-150",style:{top:X.y,left:X.x,width:"260px"},children:[t.jsx("div",{className:"aspect-video w-full bg-slate-100 relative",children:t.jsx("img",{src:X.url,alt:"Preview",className:"w-full h-full object-cover",onError:ye=>{ye.target.src="https://via.placeholder.com/260x146?text=Preview+Error"}})}),t.jsx("div",{className:"p-2 bg-white",children:t.jsx("p",{className:"text-xs font-bold text-slate-800 truncate",children:X.title})})]})]})},nf=`${Dt}/api/notifications`,af={getTabs:async(s="all")=>(await fetch(`${nf}/admin/tabs?status=${s}`,{credentials:"include"})).json(),createTab:async s=>(await fetch(`${nf}/admin/tabs`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)})).json(),updateTab:async(s,e)=>(await fetch(`${nf}/admin/tabs/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)})).json(),deleteTab:async s=>(await fetch(`${nf}/admin/tabs/${s}`,{method:"DELETE",credentials:"include"})).json(),sendNotification:async s=>(await fetch(`${nf}/admin/send`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(s)})).json(),getNotifications:async()=>(await fetch(`${nf}/admin/list`,{credentials:"include"})).json(),getStats:async()=>(await fetch(`${nf}/admin/stats`,{credentials:"include"})).json()},S$=()=>{const[s,e]=W.useState("overview"),[r,n]=W.useState([]),[a,l]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState(!0),[f,m]=W.useState(!1),[p,x]=W.useState(null);W.useEffect(()=>{b()},[]);const b=async()=>{o(!0);try{const[Q,G,le]=await Promise.all([af.getTabs(),af.getNotifications(),af.getStats()]);Q.success&&n(Q.tabs||[]),G.success&&l(G.notifications||[]),le.success&&d(le.stats)}catch(Q){console.error("Failed to load data:",Q)}o(!1)},y=async Q=>{if(!confirm("Tab"))return;(await af.deleteTab(Q)).success&&n(r.filter(le=>le.id!==Q))},w=()=>t.jsx("div",{className:"flex gap-1 p-1 bg-slate-100 dark:bg-slate-800 rounded-xl mb-6",children:[{key:"overview",label:"Overview",icon:d5},{key:"tabs",label:"Content Tabs",icon:Ed},{key:"send",label:"Send Notification",icon:Sh},{key:"history",label:"History",icon:Vi}].map(({key:Q,label:G,icon:le})=>t.jsxs("button",{onClick:()=>e(Q),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-lg text-sm font-medium transition-all ${s===Q?"bg-white dark:bg-slate-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}`,children:[t.jsx(le,{size:16}),t.jsx("span",{className:"hidden sm:inline",children:G})]},Q))}),E=()=>t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Tabs",value:(u==null?void 0:u.totalTabs)||0,icon:Ed,color:"blue"},{label:"Active Tabs",value:(u==null?void 0:u.activeTabs)||0,icon:Bo,color:"green"},{label:"Total Sent",value:(u==null?void 0:u.totalNotifications)||0,icon:Sh,color:"purple"},{label:"This Week",value:(u==null?void 0:u.recentNotifications)||0,icon:co,color:"orange"}].map(({label:Q,value:G,icon:le,color:Ae})=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700",children:[t.jsx("div",{className:`w-10 h-10 rounded-xl bg-${Ae}-100 dark:bg-${Ae}-900/30 flex items-center justify-center mb-3`,children:t.jsx(le,{className:`text-${Ae}-600 dark:text-${Ae}-400`,size:20})}),t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:G}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:Q})]},Q))}),(u==null?void 0:u.topTabs)&&u.topTabs.length>0&&t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[t.jsx(io,{size:20}),"Most Viewed Tabs"]}),t.jsx("div",{className:"space-y-3",children:u.topTabs.map((Q,G)=>t.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 dark:border-slate-700 last:border-0",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${G===0?"bg-yellow-100 text-yellow-700":G===1?"bg-slate-200 text-slate-600":G===2?"bg-orange-100 text-orange-700":"bg-slate-100 text-slate-500"}`,children:G+1}),t.jsx("span",{className:"text-slate-800 dark:text-slate-200",children:Q.title})]}),t.jsxs("span",{className:"text-sm text-slate-500",children:[Q.views," views"]})]},Q.id))})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("button",{onClick:()=>{x(null),m(!0)},className:"flex items-center gap-4 p-5 bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl text-white hover:from-blue-600 hover:to-blue-700 transition-all group",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx($i,{size:24})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-semibold",children:"Create New Tab"}),t.jsx("p",{className:"text-sm text-blue-100",children:"Build announcement content"})]}),t.jsx(Ac,{className:"ml-auto opacity-50 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]}),t.jsxs("button",{onClick:()=>e("send"),className:"flex items-center gap-4 p-5 bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl text-white hover:from-purple-600 hover:to-purple-700 transition-all group",children:[t.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:t.jsx(eA,{size:24})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-semibold",children:"Send Notification"}),t.jsx("p",{className:"text-sm text-purple-100",children:"Broadcast to users"})]}),t.jsx(Ac,{className:"ml-auto opacity-50 group-hover:opacity-100 group-hover:translate-x-1 transition-all"})]})]})]}),R=()=>t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Content Tabs"}),t.jsxs("button",{onClick:()=>{x(null),m(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors",children:[t.jsx($i,{size:16}),"New Tab"]})]}),r.length===0?t.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(Ed,{className:"mx-auto text-slate-300 dark:text-slate-600 mb-4",size:48}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No content tabs yet"}),t.jsx("button",{onClick:()=>{x(null),m(!0)},className:"mt-4 text-blue-600 hover:underline",children:"Create your first tab"})]}):t.jsx("div",{className:"grid gap-4",children:r.map(Q=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-5 border border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all",children:t.jsxs("div",{className:"flex items-start gap-4",children:[Q.coverImage?t.jsx("img",{src:Q.coverImage,alt:"",className:"w-20 h-20 rounded-xl object-cover"}):t.jsx("div",{className:"w-20 h-20 rounded-xl bg-slate-100 dark:bg-slate-700 flex items-center justify-center",children:t.jsx(Ed,{className:"text-slate-400",size:24})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white truncate",children:Q.title}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${Q.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":Q.status==="draft"?"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-300":Q.status==="scheduled"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":"bg-slate-100 text-slate-500"}`,children:Q.status})]}),Q.subtitle&&t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2 truncate",children:Q.subtitle}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-400",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(io,{size:12})," ",Q.views]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(k2,{size:12})," ",Q.targetAudience]}),t.jsx("span",{children:Q.createdAt})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>{x(Q),m(!0)},className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:t.jsx(b0,{size:16})}),t.jsx("button",{onClick:()=>y(Q.id),className:"p-2 text-slate-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:t.jsx(Jo,{size:16})})]})]})},Q.id))})]}),z=()=>{const[Q,G]=W.useState({sendType:"broadcast",title:"",text:"",type:"info",icon:"",tabId:"",targetAudience:"all",targetUserIds:"",sendEmail:!1}),[le,Ae]=W.useState(!1),[je,ue]=W.useState(null),Se=async()=>{if(!Q.text.trim()){alert("Please enter notification text");return}Ae(!0),ue(null);try{const ae={...Q,tabId:Q.tabId?parseInt(Q.tabId):null,targetUserIds:Q.targetUserIds?Q.targetUserIds.split(",").map(he=>parseInt(he.trim())).filter(he=>!isNaN(he)):[],sendEmail:Q.sendEmail},Ne=await af.sendNotification(ae);ue({success:Ne.success,message:Ne.message||Ne.error}),Ne.success&&(G({...Q,title:"",text:"",sendEmail:!1}),b())}catch{ue({success:!1,message:"Failed to send notification"})}Ae(!1)};return t.jsx("div",{className:"max-w-2xl mx-auto space-y-6",children:t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700",children:[t.jsxs("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[t.jsx(eA,{size:20}),"Send Notification"]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Send Type"}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"broadcast",label:"Broadcast All",icon:eA},{value:"targeted",label:"By Audience",icon:Ld},{value:"single",label:"Specific Users",icon:k2}].map(({value:ae,label:Ne,icon:he})=>t.jsxs("button",{onClick:()=>G({...Q,sendType:ae}),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all flex flex-col items-center gap-2 ${Q.sendType===ae?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"border-slate-200 dark:border-slate-700 hover:border-slate-300 text-slate-600 dark:text-slate-400"}`,children:[t.jsx(he,{size:20}),Ne]},ae))})]}),Q.sendType==="targeted"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Target Audience"}),t.jsxs("select",{value:Q.targetAudience,onChange:ae=>G({...Q,targetAudience:ae.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:"All Users"}),t.jsx("option",{value:"premium",children:"Premium Users Only"}),t.jsx("option",{value:"free",children:"Free Users Only"})]})]}),Q.sendType==="single"&&t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"User IDs (comma separated)"}),t.jsx("input",{type:"text",value:Q.targetUserIds,onChange:ae=>G({...Q,targetUserIds:ae.target.value}),placeholder:"1, 2, 3",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Title (optional)"}),t.jsx("input",{type:"text",value:Q.title,onChange:ae=>G({...Q,title:ae.target.value}),placeholder:" Special Announcement",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Message *"}),t.jsx("textarea",{value:Q.text,onChange:ae=>G({...Q,text:ae.target.value}),placeholder:"Enter your notification message...",rows:3,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 resize-none"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Type"}),t.jsx("div",{className:"flex gap-2",children:[{value:"info",label:"Info",color:"blue"},{value:"success",label:"Success",color:"green"},{value:"warning",label:"Warning",color:"yellow"},{value:"alert",label:"Alert",color:"red"}].map(({value:ae,label:Ne,color:he})=>t.jsx("button",{onClick:()=>G({...Q,type:ae}),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${Q.type===ae?`bg-${he}-100 text-${he}-700 dark:bg-${he}-900/30 dark:text-${he}-400 ring-2 ring-${he}-500`:"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400 hover:bg-slate-200"}`,children:Ne},ae))})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Link to Content Tab (optional)"}),t.jsxs("select",{value:Q.tabId,onChange:ae=>G({...Q,tabId:ae.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"No linked tab"}),r.filter(ae=>ae.status==="active").map(ae=>t.jsx("option",{value:ae.id,children:ae.title},ae.id))]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:'Users will see "View Details" when a tab is linked'})]}),t.jsx("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-slate-200 dark:border-slate-700",children:t.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:Q.sendEmail,onChange:ae=>G({...Q,sendEmail:ae.target.checked}),className:"w-5 h-5 mt-0.5 rounded border-slate-300 text-blue-600 focus:ring-blue-500"}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:" Also Send Email"}),t.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1",children:"Send email notification to users who have opted in to email notifications. Users who have disabled email notifications in Settings will not receive emails."})]})]})}),je&&t.jsx("div",{className:`p-4 rounded-xl mb-4 ${je.success?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400"}`,children:je.message}),t.jsx("button",{onClick:Se,disabled:le||!Q.text.trim(),className:"w-full py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-semibold rounded-xl hover:from-blue-600 hover:to-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:le?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Sending..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Sh,{size:18}),"Send Notification"]})})]})})},X=()=>t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Notification History"}),a.length===0?t.jsxs("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-800/50 rounded-2xl",children:[t.jsx(Au,{className:"mx-auto text-slate-300 dark:text-slate-600 mb-4",size:48}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No notifications sent yet"})]}):t.jsx("div",{className:"space-y-3",children:a.map(Q=>t.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700 flex items-center gap-4",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${Q.type==="success"?"bg-green-100 text-green-600":Q.type==="warning"?"bg-yellow-100 text-yellow-600":Q.type==="alert"?"bg-red-100 text-red-600":"bg-blue-100 text-blue-600"}`,children:t.jsx(Au,{size:18})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[Q.title&&t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:Q.title}),t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 truncate",children:Q.text})]}),t.jsxs("div",{className:"text-right text-xs text-slate-400",children:[t.jsx("p",{children:Q.isBroadcast?"Broadcast":"Single"}),t.jsx("p",{children:Q.createdAt})]})]},Q.id))})]}),Y=()=>{const[Q,G]=W.useState(p||{title:"",subtitle:"",content:"",contentType:"markdown",coverImage:"",bannerImage:"",ctaText:"",ctaLink:"",ctaStyle:"primary",targetAudience:"all",category:"announcement",priority:0,status:"draft",startAt:"",endAt:""}),[le,Ae]=W.useState(!1),je=async()=>{if(!Q.title||!Q.content){alert("Title and content are required");return}Ae(!0);try{let ue;p?ue=await af.updateTab(p.id,Q):ue=await af.createTab(Q),ue.success?(m(!1),b()):alert(ue.error||"Failed to save")}catch{alert("Failed to save tab")}Ae(!1)};return f?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl w-full max-w-3xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-800",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:p?"Edit Content Tab":"Create Content Tab"}),t.jsx("button",{onClick:()=>m(!1),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:t.jsx(qr,{size:20})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)] space-y-5",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Title *"}),t.jsx("input",{type:"text",value:Q.title||"",onChange:ue=>G({...Q,title:ue.target.value}),placeholder:"Announcement Title",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Subtitle"}),t.jsx("input",{type:"text",value:Q.subtitle||"",onChange:ue=>G({...Q,subtitle:ue.target.value}),placeholder:"Brief description",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Content * (Markdown supported)"}),t.jsx("textarea",{value:Q.content||"",onChange:ue=>G({...Q,content:ue.target.value}),placeholder:"Write your announcement content here...",rows:8,className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500 font-mono text-sm"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Cover Image URL"}),t.jsx("input",{type:"text",value:Q.coverImage||"",onChange:ue=>G({...Q,coverImage:ue.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Banner Image URL"}),t.jsx("input",{type:"text",value:Q.bannerImage||"",onChange:ue=>G({...Q,bannerImage:ue.target.value}),placeholder:"https://...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Button Text"}),t.jsx("input",{type:"text",value:Q.ctaText||"",onChange:ue=>G({...Q,ctaText:ue.target.value}),placeholder:"Learn More",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Link"}),t.jsx("input",{type:"text",value:Q.ctaLink||"",onChange:ue=>G({...Q,ctaLink:ue.target.value}),placeholder:"/billing",className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CTA Style"}),t.jsxs("select",{value:Q.ctaStyle||"primary",onChange:ue=>G({...Q,ctaStyle:ue.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"primary",children:"Primary (Blue)"}),t.jsx("option",{value:"secondary",children:"Secondary (Gray)"}),t.jsx("option",{value:"danger",children:"Danger (Red)"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Category"}),t.jsxs("select",{value:Q.category||"announcement",onChange:ue=>G({...Q,category:ue.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"announcement",children:" Announcement"}),t.jsx("option",{value:"promotion",children:" Promotion"}),t.jsx("option",{value:"update",children:" Update"}),t.jsx("option",{value:"alert",children:" Alert"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Target Audience"}),t.jsxs("select",{value:Q.targetAudience||"all",onChange:ue=>G({...Q,targetAudience:ue.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"all",children:" All Users"}),t.jsx("option",{value:"premium",children:" Premium Only"}),t.jsx("option",{value:"free",children:" Free Users"}),t.jsx("option",{value:"new_users",children:" New Users"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Status"}),t.jsxs("select",{value:Q.status||"draft",onChange:ue=>G({...Q,status:ue.target.value}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"draft",children:" Draft"}),t.jsx("option",{value:"active",children:" Active"}),t.jsx("option",{value:"scheduled",children:" Scheduled"}),t.jsx("option",{value:"archived",children:" Archived"})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Start Date (optional)"}),t.jsx("input",{type:"datetime-local",value:Q.startAt?Q.startAt.slice(0,16):"",onChange:ue=>G({...Q,startAt:ue.target.value?new Date(ue.target.value).toISOString():void 0}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"End Date (optional)"}),t.jsx("input",{type:"datetime-local",value:Q.endAt?Q.endAt.slice(0,16):"",onChange:ue=>G({...Q,endAt:ue.target.value?new Date(ue.target.value).toISOString():void 0}),className:"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-800/50",children:[t.jsx("button",{onClick:()=>m(!1),className:"px-6 py-3 text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl font-medium transition-colors",children:"Cancel"}),t.jsx("button",{onClick:je,disabled:le,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 disabled:opacity-50 transition-colors flex items-center gap-2",children:le?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Bo,{size:18}),p?"Update Tab":"Create Tab"]})})]})]})}):null};return A?t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"})}):t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white flex items-center gap-3",children:[t.jsx(Au,{className:"text-blue-500"}),"Notification Center"]}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-1",children:"Create announcements and send notifications to users"})]}),t.jsx(w,{}),s==="overview"&&t.jsx(E,{}),s==="tabs"&&t.jsx(R,{}),s==="send"&&t.jsx(z,{}),s==="history"&&t.jsx(X,{}),t.jsx(Y,{})]})},$0={getTickets:async(s={})=>{const e=new URLSearchParams(s),n=await(await fetch(`${Dt}/api/tickets/admin?${e}`,{credentials:"include"})).json();return n.success?{tickets:n.tickets,stats:n.stats}:{tickets:[],stats:{}}},getTicketDetail:async s=>{const r=await(await fetch(`${Dt}/api/tickets/admin/${s}`,{credentials:"include"})).json();return r.success?{ticket:r.ticket,messages:r.messages}:null},acceptTicket:async s=>(await fetch(`${Dt}/api/tickets/admin/${s}/accept`,{method:"POST",credentials:"include"})).json(),resolveTicket:async s=>(await fetch(`${Dt}/api/tickets/admin/${s}/resolve`,{method:"POST",credentials:"include"})).json()},Ij=({status:s,size:e="md"})=>{const r={pending:{color:"yellow",icon:t.jsx(Vi,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Pending"},accepted:{color:"blue",icon:t.jsx(Bo,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Accepted"},in_progress:{color:"indigo",icon:t.jsx(pu,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"In Progress"},resolved:{color:"green",icon:t.jsx(wS,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Resolved"},expired:{color:"red",icon:t.jsx(Zo,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Expired"},closed:{color:"slate",icon:t.jsx(hu,{className:e==="sm"?"w-3 h-3":"w-4 h-4"}),label:"Closed"}},{color:n,icon:a,label:l}=r[s]||r.pending,u={yellow:"bg-yellow-100 text-yellow-700 border-yellow-200",blue:"bg-blue-100 text-blue-700 border-blue-200",indigo:"bg-indigo-100 text-indigo-700 border-indigo-200",green:"bg-green-100 text-green-700 border-green-200",red:"bg-red-100 text-red-700 border-red-200",slate:"bg-slate-100 text-slate-700 border-slate-200"};return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium border ${u[n]}`,children:[a,l]})},E$=({priority:s})=>{const e={urgent:"bg-red-500 text-white",high:"bg-orange-500 text-white",normal:"bg-slate-200 text-slate-700",low:"bg-slate-100 text-slate-500"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${e[s]||e.normal}`,children:s.charAt(0).toUpperCase()+s.slice(1)})},Dj=s=>{if(s<=0)return"Expired";const e=Math.floor(s/3600),r=Math.floor(s%3600/60);return e>0?`${e}h ${r}m`:`${r}m`},T$=()=>{const{isConnected:s,joinTicket:e,leaveTicket:r,sendTicketMessage:n,sendTypingStatus:a,onNewTicketMessage:l,onUserTyping:u,onNewTicket:d,onTicketActivity:A}=Um(),[o,f]=W.useState([]),[m,p]=W.useState(null),[x,b]=W.useState(!0),[y,w]=W.useState(null),[E,R]=W.useState([]),[z,X]=W.useState(""),[Y,Q]=W.useState(!1),[G,le]=W.useState(null),[Ae,je]=W.useState("all"),[ue,Se]=W.useState("all"),[ae,Ne]=W.useState(""),he=W.useRef(null),se=W.useRef(null),de=W.useRef();W.useEffect(()=>{oe()},[Ae,ue]),W.useEffect(()=>{const te=d(ge=>{f(Fe=>[{id:ge.ticketId,subject:ge.subject,userName:ge.userName,userAvatar:ge.userAvatar,category:ge.category,priority:ge.priority,status:"pending",timeRemaining:86400,isExpired:!1,createdAt:ge.createdAt},...Fe]),p(Fe=>Fe&&{...Fe,pending:Fe.pending+1,total:Fe.total+1})});return()=>te()},[d]),W.useEffect(()=>{const te=A(ge=>{f(Fe=>Fe.map($e=>$e.id===ge.ticketId?{...$e,lastMessage:{text:ge.preview,senderType:"user",time:"now"}}:$e))});return()=>te()},[A]),W.useEffect(()=>{if(y&&s)return e(y.id),()=>{r(y.id)}},[y==null?void 0:y.id,s,e,r]),W.useEffect(()=>{const te=l(ge=>{y&&ge.ticketId===y.id&&(R(Fe=>Fe.some($e=>$e.id===ge.id)?Fe:[...Fe,ge]),le(null))});return()=>te()},[y==null?void 0:y.id,l]),W.useEffect(()=>{const te=u(ge=>{y&&ge.ticketId===y.id&&!ge.isAdmin&&(ge.isTyping?le(ge.userName):le(null))});return()=>te()},[y==null?void 0:y.id,u]),W.useEffect(()=>{var te;(te=he.current)==null||te.scrollIntoView({behavior:"smooth"})},[E,G]);const oe=async()=>{const te={};Ae!=="all"&&(te.status=Ae),ue!=="all"&&(te.assigned=ue);const ge=await $0.getTickets(te);f(ge.tickets),p(ge.stats),b(!1)},Ee=async te=>{const ge=await $0.getTicketDetail(te);ge&&(w(ge.ticket),R(ge.messages))},De=async()=>{if(!y)return;const te=await $0.acceptTicket(y.id);if(te.success){w(te.ticket),oe();const ge=await $0.getTicketDetail(y.id);ge&&R(ge.messages)}},ke=W.useCallback(()=>{var te;!y||!z.trim()||!s||(Q(!0),n(y.id,z.trim()),X(""),Q(!1),(te=se.current)==null||te.focus(),a(y.id,!1))},[y,z,s,n,a]),pe=te=>{X(te.target.value),y&&s&&(a(y.id,!0),de.current&&clearTimeout(de.current),de.current=setTimeout(()=>{a(y.id,!1)},2e3))},ye=async()=>{if(!y||!confirm("Mark this ticket as resolved?"))return;(await $0.resolveTicket(y.id)).success&&(oe(),w(null))},fe=o.filter(te=>te.subject.toLowerCase().includes(ae.toLowerCase())||te.userName.toLowerCase().includes(ae.toLowerCase()));return t.jsxs("div",{className:"flex h-[calc(100vh-180px)] bg-white rounded-xl border border-slate-200 overflow-hidden",children:[t.jsxs("div",{className:`${y?"hidden md:flex":"flex"} flex-col w-full md:w-96 border-r border-slate-200`,children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Support Tickets"}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${s?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[s?t.jsx(y0,{className:"w-3 h-3"}):t.jsx(v0,{className:"w-3 h-3"}),s?"Live":"Offline"]})]}),t.jsx("button",{onClick:oe,className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(ld,{className:"w-4 h-4 text-slate-500"})})]}),t.jsxs("div",{className:"relative mb-3",children:[t.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search tickets...",value:ae,onChange:te=>Ne(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("select",{value:Ae,onChange:te=>je(te.target.value),className:"flex-1 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"accepted",children:"Accepted"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"})]}),t.jsxs("select",{value:ue,onChange:te=>Se(te.target.value),className:"flex-1 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-lg text-xs",children:[t.jsx("option",{value:"all",children:"All Tickets"}),t.jsx("option",{value:"me",children:"My Tickets"}),t.jsx("option",{value:"unassigned",children:"Unassigned"})]})]})]}),m&&t.jsxs("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-100 flex gap-4 text-xs",children:[t.jsxs("span",{className:"text-yellow-600",children:[m.pending," pending"]}),t.jsxs("span",{className:"text-blue-600",children:[m.inProgress," active"]}),t.jsxs("span",{className:"text-green-600",children:[m.resolved," resolved"]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:x?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(ld,{className:"w-6 h-6 animate-spin text-slate-400"})}):fe.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(fm,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No tickets found"})]}):fe.map(te=>t.jsx("div",{onClick:()=>Ee(te.id),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${(y==null?void 0:y.id)===te.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden shrink-0",children:te.userAvatar?t.jsx("img",{src:te.userAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Yo,{className:"w-5 h-5 text-slate-400"})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(Ij,{status:te.status,size:"sm"}),t.jsx(E$,{priority:te.priority})]}),t.jsx("h3",{className:"font-medium text-slate-800 text-sm truncate",children:te.subject}),t.jsx("p",{className:"text-xs text-slate-500 truncate",children:te.userName}),t.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-400",children:[t.jsx("span",{children:te.createdAt}),te.status==="pending"&&!te.isExpired&&t.jsxs("span",{className:"flex items-center gap-1 text-orange-500",children:[t.jsx(ev,{className:"w-3 h-3"}),Dj(te.timeRemaining)]})]})]})]})},te.id))})]}),t.jsx("div",{className:`${y?"flex":"hidden md:flex"} flex-1 flex-col`,children:y?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("button",{onClick:()=>w(null),className:"md:hidden p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-4 h-4"})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-semibold text-slate-800",children:y.subject}),t.jsxs("span",{className:"text-xs text-slate-400",children:["#",y.id]})]}),t.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.jsx(Ij,{status:y.status,size:"sm"}),t.jsx("span",{className:"text-sm text-slate-500",children:y.userName})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[y.status==="pending"&&!y.isExpired&&t.jsx("button",{onClick:De,className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Accept Ticket"}),["accepted","in_progress"].includes(y.status)&&t.jsx("button",{onClick:ye,className:"px-4 py-2 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Mark Resolved"})]})]}),y.status!=="resolved"&&y.status!=="closed"&&!y.isExpired&&t.jsxs("div",{className:"mt-3 p-2 bg-orange-50 rounded-lg flex items-center gap-2 text-xs text-orange-600",children:[t.jsx(ev,{className:"w-4 h-4"}),t.jsxs("span",{children:["Time remaining: ",Dj(y.timeRemaining)]})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50",children:[E.map(te=>t.jsx("div",{className:`flex ${te.senderType==="admin"?"justify-end":"justify-start"}`,children:te.senderType==="system"?t.jsx("div",{className:"text-center text-xs text-slate-400 py-2 w-full",children:te.content}):t.jsxs("div",{className:`flex items-end gap-2 max-w-[70%] ${te.senderType==="admin"?"flex-row-reverse":""}`,children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 overflow-hidden shrink-0",children:te.senderAvatar?t.jsx("img",{src:te.senderAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Yo,{className:"w-4 h-4 text-slate-400"})})}),t.jsxs("div",{children:[t.jsx("div",{className:`px-4 py-3 rounded-2xl ${te.senderType==="admin"?"bg-blue-600 text-white rounded-br-md":"bg-white border border-slate-200 rounded-bl-md"}`,children:t.jsx("p",{className:"text-sm",children:te.content})}),t.jsx("div",{className:`text-xs text-slate-400 mt-1 ${te.senderType==="admin"?"text-right":""}`,children:new Date(te.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},te.id)),G&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white border border-slate-200 px-4 py-3 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[G," is typing..."]})]})})}),t.jsx("div",{ref:he})]}),["accepted","in_progress"].includes(y.status)?t.jsx("div",{className:"p-4 border-t border-slate-100",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{ref:se,type:"text",value:z,onChange:pe,onKeyDown:te=>te.key==="Enter"&&!te.shiftKey&&ke(),placeholder:s?"Type your reply...":"Connecting...",disabled:!s,className:"flex-1 px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:ke,disabled:Y||!z.trim()||!s,className:"px-4 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:t.jsx(Sh,{className:"w-5 h-5"})})]})}):y.status==="pending"?t.jsx("div",{className:"p-4 bg-yellow-50 text-center text-sm text-yellow-700",children:"Accept this ticket to start chatting"}):t.jsxs("div",{className:"p-4 bg-slate-100 text-center text-sm text-slate-500",children:["This ticket is ",y.status]})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(pu,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a ticket to view details"})]})})})]})},vp={getMessages:async(s="all")=>{const r=await(await fetch(`${Dt}/api/admin-messages?type=${s}`,{credentials:"include"})).json();return r.success?{messages:r.messages,unreadCount:r.unreadCount}:{messages:[],unreadCount:0}},getAdmins:async()=>{const e=await(await fetch(`${Dt}/api/admin-messages/admins`,{credentials:"include"})).json();return e.success?e.admins:[]},markRead:async s=>{await fetch(`${Dt}/api/admin-messages/${s}/read`,{method:"POST",credentials:"include"})},getSystemNotifications:async()=>{const e=await(await fetch(`${Dt}/api/admin-messages/system-notifications`,{credentials:"include"})).json();return e.success?{notifications:e.notifications,unreadCount:e.unreadCount}:{notifications:[],unreadCount:0}}},Rj=({priority:s})=>{const e={urgent:"bg-red-100 text-red-700",high:"bg-orange-100 text-orange-700",normal:"bg-slate-100 text-slate-600",low:"bg-slate-50 text-slate-400"};return t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${e[s]||e.normal}`,children:s})},U$=()=>{const{isConnected:s,sendAdminMessage:e,onNewAdminMessage:r}=Um(),[n,a]=W.useState("messages"),[l,u]=W.useState("all"),[d,A]=W.useState([]),[o,f]=W.useState([]),[m,p]=W.useState([]),[x,b]=W.useState(0),[y,w]=W.useState(0),[E,R]=W.useState(!0),[z,X]=W.useState(!1),[Y,Q]=W.useState(null);W.useEffect(()=>{G()},[l]),W.useEffect(()=>{const Ae=r(je=>{const ue={id:je.id,senderId:je.senderId,senderName:je.senderName,senderAvatar:je.senderAvatar,recipientId:je.recipientId,recipientName:je.recipientName,isBroadcast:je.isBroadcast,subject:je.subject,content:je.content,messageType:"message",priority:je.priority,createdAt:je.createdAt,isRead:!1};A(Se=>[ue,...Se]),b(Se=>Se+1)});return()=>Ae()},[r]);const G=async()=>{R(!0);const[Ae,je,ue]=await Promise.all([vp.getMessages(l),vp.getSystemNotifications(),vp.getAdmins()]);A(Ae.messages),b(Ae.unreadCount),f(je.notifications),w(je.unreadCount),p(ue),R(!1)},le=async Ae=>{Q(Ae),Ae.isRead||(await vp.markRead(Ae.id),A(je=>je.map(ue=>ue.id===Ae.id?{...ue,isRead:!0}:ue)),b(je=>Math.max(0,je-1)))};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Admin Communications"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Internal messages and system notifications"})]}),t.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs ${s?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[s?t.jsx(y0,{className:"w-3 h-3"}):t.jsx(v0,{className:"w-3 h-3"}),s?"Live":"Offline"]})]}),t.jsxs("button",{onClick:()=>X(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors",children:[t.jsx($i,{className:"w-4 h-4"}),"New Message"]})]}),t.jsxs("div",{className:"flex gap-2 border-b border-slate-200",children:[t.jsx("button",{onClick:()=>a("messages"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${n==="messages"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Mh,{className:"w-4 h-4"}),"Messages",x>0&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:x})]})}),t.jsx("button",{onClick:()=>a("notifications"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors ${n==="notifications"?"border-blue-500 text-blue-600":"border-transparent text-slate-500 hover:text-slate-700"}`,children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(Au,{className:"w-4 h-4"}),"System Notifications",y>0&&t.jsx("span",{className:"px-1.5 py-0.5 bg-red-500 text-white text-xs rounded-full",children:y})]})})]}),t.jsx("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:n==="messages"?t.jsxs("div",{className:"flex h-[500px]",children:[t.jsxs("div",{className:"w-full md:w-1/2 lg:w-2/5 border-r border-slate-200 flex flex-col",children:[t.jsx("div",{className:"p-3 border-b border-slate-100 flex gap-2",children:["all","received","sent"].map(Ae=>t.jsx("button",{onClick:()=>u(Ae),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${l===Ae?"bg-blue-100 text-blue-700":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:Ae.charAt(0).toUpperCase()+Ae.slice(1)},Ae))}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:E?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(ld,{className:"w-6 h-6 animate-spin text-slate-400"})}):d.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(Yd,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No messages"})]}):d.map(Ae=>t.jsx("div",{onClick:()=>le(Ae),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${Ae.isRead?"":"bg-blue-50/50"} ${(Y==null?void 0:Y.id)===Ae.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden shrink-0 flex items-center justify-center",children:Ae.senderAvatar?t.jsx("img",{src:Ae.senderAvatar,alt:"",className:"w-full h-full object-cover"}):Ae.isBroadcast?t.jsx(eA,{className:"w-5 h-5 text-slate-500"}):t.jsx(Yo,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Ae.isBroadcast&&t.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 text-xs rounded",children:"Broadcast"}),t.jsx(Rj,{priority:Ae.priority})]}),t.jsx("h4",{className:`text-sm truncate ${Ae.isRead?"":"font-semibold"}`,children:Ae.subject||"No subject"}),t.jsxs("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:[Ae.senderName,"  ",Ae.isBroadcast?"All Admins":Ae.recipientName]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(Ae.createdAt).toLocaleString()})]}),!Ae.isRead&&t.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full shrink-0 mt-2"})]})},Ae.id))})]}),t.jsx("div",{className:"hidden md:flex flex-1 flex-col",children:Y?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Y.isBroadcast&&t.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-lg flex items-center gap-1",children:[t.jsx(eA,{className:"w-3 h-3"}),"Broadcast"]}),t.jsx(Rj,{priority:Y.priority})]}),t.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:Y.subject||"No subject"}),t.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm text-slate-500",children:[t.jsxs("span",{children:["From: ",Y.senderName]}),t.jsx("span",{children:""}),t.jsxs("span",{children:["To: ",Y.isBroadcast?"All Admins":Y.recipientName]})]}),t.jsx("p",{className:"text-xs text-slate-400 mt-1",children:new Date(Y.createdAt).toLocaleString()})]}),t.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:t.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:Y.content})})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Yd,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a message to view"})]})})})]}):t.jsx("div",{className:"max-h-[500px] overflow-y-auto",children:E?t.jsx("div",{className:"flex items-center justify-center h-40",children:t.jsx(ld,{className:"w-6 h-6 animate-spin text-slate-400"})}):o.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-400",children:[t.jsx(Au,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No notifications"})]}):o.map(Ae=>t.jsx("div",{className:`p-4 border-b border-slate-100 hover:bg-slate-50 transition-colors ${Ae.isRead?"":"bg-blue-50/50"}`,children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center shrink-0 ${Ae.notificationType.includes("ticket")?"bg-blue-100 text-blue-600":Ae.notificationType==="new_user"?"bg-green-100 text-green-600":"bg-slate-100 text-slate-600"}`,children:t.jsx(Au,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:`text-sm ${Ae.isRead?"":"font-semibold"}`,children:Ae.title}),Ae.content&&t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:Ae.content}),t.jsx("p",{className:"text-xs text-slate-400 mt-2",children:new Date(Ae.createdAt).toLocaleString()})]})]})},Ae.id))})}),z&&t.jsx(L$,{admins:m,isConnected:s,onSend:e,onClose:()=>X(!1),onSent:()=>{X(!1),G()}})]})},L$=({admins:s,isConnected:e,onSend:r,onClose:n,onSent:a})=>{const[l,u]=W.useState(!0),[d,A]=W.useState(null),[o,f]=W.useState(""),[m,p]=W.useState(""),[x,b]=W.useState("normal"),[y,w]=W.useState(""),E=()=>{if(!m.trim()){w("Please enter a message");return}if(!l&&!d){w("Please select a recipient");return}if(!e){w("Not connected to server");return}r(l?null:d,m,o,x),a()},R=s.filter(z=>!z.isCurrentUser);return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"New Message"}),t.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 space-y-4",children:[y&&t.jsxs("div",{className:"p-3 bg-red-50 text-red-600 rounded-lg text-sm flex items-center gap-2",children:[t.jsx(Ia,{className:"w-4 h-4"}),y]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Send To"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{type:"button",onClick:()=>{u(!0),A(null)},className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors ${l?"border-blue-500 bg-blue-50 text-blue-600":"border-slate-200 hover:border-slate-300"}`,children:[t.jsx(eA,{className:"w-4 h-4"}),"All Admins"]}),t.jsxs("button",{type:"button",onClick:()=>u(!1),className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 rounded-xl border transition-colors ${l?"border-slate-200 hover:border-slate-300":"border-blue-500 bg-blue-50 text-blue-600"}`,children:[t.jsx(Yo,{className:"w-4 h-4"}),"Specific Admin"]})]})]}),!l&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Recipient"}),t.jsxs("select",{value:d||"",onChange:z=>A(Number(z.target.value)||null),className:"w-full px-4 py-3 rounded-xl border border-slate-200 bg-white",children:[t.jsx("option",{value:"",children:"Select admin..."}),R.map(z=>t.jsxs("option",{value:z.id,children:[z.name," (",z.email,")"]},z.id))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Subject (optional)"}),t.jsx("input",{type:"text",value:o,onChange:z=>f(z.target.value),placeholder:"Message subject",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Priority"}),t.jsx("div",{className:"flex gap-2",children:["low","normal","high","urgent"].map(z=>t.jsx("button",{type:"button",onClick:()=>b(z),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${x===z?z==="urgent"?"bg-red-100 text-red-700":z==="high"?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700":"bg-slate-50 text-slate-600 hover:bg-slate-100"}`,children:z.charAt(0).toUpperCase()+z.slice(1)},z))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Message *"}),t.jsx("textarea",{value:m,onChange:z=>p(z.target.value),placeholder:"Type your message...",rows:5,className:"w-full px-4 py-3 rounded-xl border border-slate-200 resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t.jsxs("div",{className:"p-4 border-t border-slate-200 flex gap-3",children:[t.jsx("button",{onClick:n,className:"flex-1 px-4 py-3 bg-slate-100 rounded-xl font-medium hover:bg-slate-200 transition-colors",children:"Cancel"}),t.jsxs("button",{onClick:E,disabled:!e,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[t.jsx(Sh,{className:"w-4 h-4"}),"Send ",l?"Broadcast":"Message"]})]})]})})},yp={getRooms:async()=>{const e=await(await fetch(`${Dt}/api/admin-chat/rooms`,{credentials:"include"})).json();return e.success?e.rooms:[]},getAdmins:async()=>{const e=await(await fetch(`${Dt}/api/admin-chat/admins`,{credentials:"include"})).json();return e.success?e.admins:[]},startChat:async s=>{const r=await(await fetch(`${Dt}/api/admin-chat/start/${s}`,{method:"POST",credentials:"include"})).json();return r.success?r.room:null},getMessages:async(s,e)=>{const r=e?`${Dt}/api/admin-chat/rooms/${s}/messages?before=${e}`:`${Dt}/api/admin-chat/rooms/${s}/messages`,a=await(await fetch(r,{credentials:"include"})).json();return a.success?{messages:a.messages,hasMore:a.hasMore}:{messages:[],hasMore:!1}},markRead:async s=>{await fetch(`${Dt}/api/admin-chat/rooms/${s}/read`,{method:"POST",credentials:"include"})}},F$=()=>{var he,se;const{socket:s,isConnected:e}=Um(),[r,n]=W.useState([]),[a,l]=W.useState([]),[u,d]=W.useState(null),[A,o]=W.useState([]),[f,m]=W.useState(""),[p,x]=W.useState(!0),[b,y]=W.useState(!1),[w,E]=W.useState(""),[R,z]=W.useState(null),X=W.useRef(null),Y=W.useRef(null),Q=W.useRef(null);W.useEffect(()=>{G(),le()},[]),W.useEffect(()=>{if(!s)return;const de=De=>{u&&De.roomId===u.id&&(o(ke=>ke.some(pe=>pe.id===De.id)?ke:[...ke,De]),z(null)),n(ke=>ke.map(pe=>pe.id===De.roomId?{...pe,lastMessagePreview:De.content.slice(0,50),lastMessageAt:De.createdAt,unreadCount:(u==null?void 0:u.id)===De.roomId?0:pe.unreadCount+1}:pe).sort((pe,ye)=>new Date(ye.lastMessageAt||0).getTime()-new Date(pe.lastMessageAt||0).getTime()))},oe=De=>{u&&De.roomId===u.id&&z(De.isTyping?De.userName:null)},Ee=De=>{console.log(` New message from ${De.senderName}`)};return s.on("new_admin_chat_message",de),s.on("admin_chat_user_typing",oe),s.on("admin_chat_notification",Ee),()=>{s.off("new_admin_chat_message",de),s.off("admin_chat_user_typing",oe),s.off("admin_chat_notification",Ee)}},[s,u]),W.useEffect(()=>{if(!(!s||!u))return s.emit("join_admin_chat",{roomId:u.id}),()=>{s.emit("leave_admin_chat",{roomId:u.id})}},[s,u==null?void 0:u.id]),W.useEffect(()=>{var de;(de=X.current)==null||de.scrollIntoView({behavior:"smooth"})},[A,R]);const G=async()=>{const de=await yp.getRooms();n(de),x(!1)},le=async()=>{const de=await yp.getAdmins();l(de)},Ae=async de=>{d(de);const oe=await yp.getMessages(de.id);o(oe.messages),n(Ee=>Ee.map(De=>De.id===de.id?{...De,unreadCount:0}:De)),setTimeout(()=>{var Ee;return(Ee=Y.current)==null?void 0:Ee.focus()},100)},je=async de=>{const oe=await yp.startChat(de.id);oe&&(r.find(De=>De.id===oe.id)||n(De=>[oe,...De]),Ae(oe),y(!1))},ue=W.useCallback(()=>{var de;!f.trim()||!u||!s||!e||(s.emit("admin_chat_message",{roomId:u.id,content:f.trim()}),m(""),(de=Y.current)==null||de.focus(),s.emit("admin_chat_typing",{roomId:u.id,isTyping:!1}))},[f,u,s,e]),Se=de=>{m(de.target.value),u&&s&&e&&(s.emit("admin_chat_typing",{roomId:u.id,isTyping:!0}),Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{s.emit("admin_chat_typing",{roomId:u.id,isTyping:!1})},2e3))},ae=de=>{const oe=new Date(de),De=new Date().getTime()-oe.getTime();return De<6e4?"Just now":De<36e5?`${Math.floor(De/6e4)}m ago`:De<864e5?oe.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):oe.toLocaleDateString([],{month:"short",day:"numeric"})},Ne=a.filter(de=>de.name.toLowerCase().includes(w.toLowerCase())||de.email.toLowerCase().includes(w.toLowerCase()));return t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden h-[600px] flex",children:[t.jsxs("div",{className:`${u?"hidden md:flex":"flex"} flex-col w-full md:w-80 border-r border-slate-200`,children:[t.jsx("div",{className:"p-4 border-b border-slate-100",children:t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("h2",{className:"text-lg font-bold text-slate-800",children:"Admin Chat"}),t.jsxs("div",{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${e?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[e?t.jsx(y0,{className:"w-3 h-3"}):t.jsx(v0,{className:"w-3 h-3"}),e?"Live":"Offline"]})]}),t.jsx("button",{onClick:()=>y(!0),className:"p-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:t.jsx($i,{className:"w-4 h-4"})})]})}),t.jsx("div",{className:"flex-1 overflow-y-auto",children:p?t.jsx("div",{className:"flex items-center justify-center h-40 text-slate-400",children:"Loading..."}):r.length===0?t.jsxs("div",{className:"text-center py-12 px-4",children:[t.jsx(pu,{className:"w-12 h-12 mx-auto mb-3 text-slate-200"}),t.jsx("p",{className:"text-slate-500 text-sm",children:"No conversations yet"}),t.jsx("button",{onClick:()=>y(!0),className:"mt-4 px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700",children:"Start a Chat"})]}):r.map(de=>{var oe;return t.jsx("div",{onClick:()=>Ae(de),className:`p-4 border-b border-slate-100 cursor-pointer hover:bg-slate-50 transition-colors ${(u==null?void 0:u.id)===de.id?"bg-blue-50":""}`,children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:(oe=de.otherMember)!=null&&oe.avatar?t.jsx("img",{src:de.otherMember.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Yo,{className:"w-6 h-6 text-slate-400"})}),de.unreadCount>0&&t.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-blue-600 text-white text-xs rounded-full flex items-center justify-center",children:de.unreadCount>9?"9+":de.unreadCount})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:`font-medium truncate ${de.unreadCount>0?"text-slate-900":"text-slate-700"}`,children:de.name}),de.lastMessageAt&&t.jsx("span",{className:"text-xs text-slate-400",children:ae(de.lastMessageAt)})]}),de.lastMessagePreview&&t.jsx("p",{className:`text-sm truncate mt-0.5 ${de.unreadCount>0?"text-slate-600 font-medium":"text-slate-400"}`,children:de.lastMessagePreview})]})]})},de.id)})})]}),t.jsx("div",{className:`${u?"flex":"hidden md:flex"} flex-1 flex-col`,children:u?t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center gap-3",children:[t.jsx("button",{onClick:()=>d(null),className:"md:hidden p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(rA,{className:"w-5 h-5"})}),t.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:(he=u.otherMember)!=null&&he.avatar?t.jsx("img",{src:u.otherMember.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Yo,{className:"w-5 h-5 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-slate-800",children:u.name}),t.jsx("p",{className:"text-xs text-slate-400",children:(se=u.otherMember)==null?void 0:se.role})]})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-slate-50",children:[A.map(de=>{var oe,Ee,De,ke,pe;return t.jsx("div",{className:`flex ${de.senderId===((oe=u.otherMember)==null?void 0:oe.id)?"justify-start":"justify-end"}`,children:t.jsxs("div",{className:`flex items-end gap-2 max-w-[75%] ${de.senderId!==((Ee=u.otherMember)==null?void 0:Ee.id)?"flex-row-reverse":""}`,children:[de.senderId===((De=u.otherMember)==null?void 0:De.id)&&t.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 overflow-hidden shrink-0",children:de.senderAvatar?t.jsx("img",{src:de.senderAvatar,alt:"",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(Yo,{className:"w-4 h-4 text-slate-400"})})}),t.jsxs("div",{children:[t.jsx("div",{className:`px-4 py-2.5 rounded-2xl ${de.senderId===((ke=u.otherMember)==null?void 0:ke.id)?"bg-white border border-slate-200 rounded-bl-md":"bg-blue-600 text-white rounded-br-md"}`,children:t.jsx("p",{className:"text-sm",children:de.content})}),t.jsx("p",{className:`text-xs text-slate-400 mt-1 ${de.senderId!==((pe=u.otherMember)==null?void 0:pe.id)?"text-right":""}`,children:ae(de.createdAt)})]})]})},de.id)}),R&&t.jsx("div",{className:"flex justify-start",children:t.jsx("div",{className:"bg-white border border-slate-200 px-4 py-2.5 rounded-2xl rounded-bl-md",children:t.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex gap-1",children:[t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("span",{className:"w-2 h-2 bg-slate-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),t.jsxs("span",{children:[R," is typing..."]})]})})}),t.jsx("div",{ref:X})]}),t.jsx("div",{className:"p-4 border-t border-slate-100",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:Y,type:"text",value:f,onChange:Se,onKeyDown:de=>de.key==="Enter"&&!de.shiftKey&&ue(),placeholder:e?"Type a message...":"Connecting...",disabled:!e,className:"flex-1 px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50"}),t.jsx("button",{onClick:ue,disabled:!f.trim()||!e,className:"px-4 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:t.jsx(Sh,{className:"w-5 h-5"})})]})})]}):t.jsx("div",{className:"flex-1 flex items-center justify-center text-slate-400",children:t.jsxs("div",{className:"text-center",children:[t.jsx(pu,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Select a conversation or start a new chat"})]})})}),b&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[80vh] overflow-hidden",children:[t.jsxs("div",{className:"p-4 border-b border-slate-200 flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"New Conversation"}),t.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"p-4 border-b border-slate-100",children:t.jsxs("div",{className:"relative",children:[t.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search admins...",value:w,onChange:de=>E(de.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),t.jsx("div",{className:"max-h-80 overflow-y-auto",children:Ne.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-400",children:[t.jsx(Yo,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No admins found"})]}):Ne.map(de=>t.jsx("div",{onClick:()=>je(de),className:"p-4 hover:bg-slate-50 cursor-pointer transition-colors border-b border-slate-100 last:border-0",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 overflow-hidden flex items-center justify-center",children:de.avatar?t.jsx("img",{src:de.avatar,alt:"",className:"w-full h-full object-cover"}):t.jsx(Yo,{className:"w-6 h-6 text-slate-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h4",{className:"font-medium text-slate-800",children:de.name}),t.jsx("p",{className:"text-sm text-slate-500",children:de.email}),t.jsx("span",{className:"text-xs text-slate-400",children:de.role})]})]})},de.id))})]})})]})},Pj={code:"",name:"",description:"",voucherType:"discount",discountType:"percentage",discountValue:10,minAmount:0,maxDiscount:null,activationDays:30,activationPlanId:null,maxUses:100,maxUsesPerUser:1,applicablePlans:[],validFrom:"",validUntil:"",status:"active"},M$=()=>{const[s,e]=W.useState([]),[r,n]=W.useState([]),[a,l]=W.useState(!0),[u,d]=W.useState(!1),[A,o]=W.useState(null),[f,m]=W.useState(Pj),[p,x]=W.useState(""),[b,y]=W.useState(!1),[w,E]=W.useState("all"),[R,z]=W.useState("all"),[X,Y]=W.useState(""),[Q,G]=W.useState(!1),[le,Ae]=W.useState(null),[je,ue]=W.useState([]),[Se,ae]=W.useState(!1);W.useEffect(()=>{he(),Ne()},[w,R]);const Ne=async()=>{try{const ge=await(await fetch(`${Dt}/api/admin-subscription/plans?include_inactive=true`,{credentials:"include"})).json();n(ge.plans||[])}catch(te){console.error("Error fetching plans:",te)}},he=async()=>{l(!0);try{let te=`${Dt}/api/admin-subscription/vouchers`;const ge=new URLSearchParams;w!=="all"&&ge.append("status",w),R!=="all"&&ge.append("type",R),ge.toString()&&(te+=`?${ge.toString()}`);const $e=await(await fetch(te,{credentials:"include"})).json();e($e.vouchers||[])}catch(te){console.error("Error fetching vouchers:",te)}finally{l(!1)}},se=async te=>{ae(!0);try{const Fe=await(await fetch(`${Dt}/api/admin-subscription/vouchers/${te}/usages`,{credentials:"include"})).json();ue(Fe.usages||[])}catch(ge){console.error("Error fetching usages:",ge)}finally{ae(!1)}},de=te=>{var ge,Fe;te?(o(te),m({code:te.code,name:te.name||"",description:te.description||"",voucherType:te.voucherType,discountType:te.discountType||"percentage",discountValue:te.discountValue||10,minAmount:te.minAmount||0,maxDiscount:te.maxDiscount,activationDays:te.activationDays||30,activationPlanId:te.activationPlanId,maxUses:te.maxUses,maxUsesPerUser:te.maxUsesPerUser,applicablePlans:te.applicablePlans||[],validFrom:((ge=te.validFrom)==null?void 0:ge.split(" ")[0])||"",validUntil:((Fe=te.validUntil)==null?void 0:Fe.split(" ")[0])||"",status:te.status})):(o(null),m(Pj)),x(""),d(!0)},oe=()=>{d(!1),o(null),x("")},Ee=async()=>{if(!f.code.trim()){x("Voucher code is required");return}if(f.voucherType==="discount"&&(!f.discountValue||f.discountValue<=0)){x("Discount value must be greater than 0");return}y(!0),x("");try{const te=A?`${Dt}/api/admin-subscription/vouchers/${A.id}`:`${Dt}/api/admin-subscription/vouchers`,Fe=await fetch(te,{method:A?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({code:f.code.toUpperCase().trim(),name:f.name,description:f.description,voucherType:f.voucherType,discountType:f.discountType,discountValue:f.discountValue,minAmount:f.minAmount,maxDiscount:f.maxDiscount,activationDays:f.voucherType==="activation"?f.activationDays:null,activationPlanId:f.voucherType==="activation"?f.activationPlanId:null,maxUses:f.maxUses,maxUsesPerUser:f.maxUsesPerUser,applicablePlans:f.applicablePlans,validFrom:f.validFrom||null,validUntil:f.validUntil||null,status:f.status})}),$e=await Fe.json();Fe.ok?(he(),oe()):x($e.error||"Failed to save voucher")}catch{x("Failed to save voucher")}finally{y(!1)}},De=async te=>{try{await fetch(`${Dt}/api/admin-subscription/vouchers/${te}/toggle-status`,{method:"POST",credentials:"include"}),he()}catch(ge){console.error("Error toggling status:",ge)}},ke=te=>{Ae(te.id),G(!0),se(te.id)},pe=s.filter(te=>{var ge;if(X){const Fe=X.toLowerCase();return te.code.toLowerCase().includes(Fe)||((ge=te.name)==null?void 0:ge.toLowerCase().includes(Fe))}return!0}),ye=te=>te==="discount"?t.jsx(C2,{className:"w-5 h-5 text-green-500"}):t.jsx(j2,{className:"w-5 h-5 text-purple-500"}),fe=te=>{const ge={active:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",inactive:"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400",exhausted:"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"};return ge[te]||ge.inactive};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Voucher Management"}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Create and manage discount codes and activation codes"})]}),t.jsxs("button",{onClick:()=>de(),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors",children:[t.jsx($i,{size:18})," Create Voucher"]})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search by code or name...",value:X,onChange:te=>Y(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("select",{value:R,onChange:te=>z(te.target.value),className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"all",children:"All Types"}),t.jsx("option",{value:"discount",children:"Discount"}),t.jsx("option",{value:"activation",children:"Activation"})]}),t.jsxs("select",{value:w,onChange:te=>E(te.target.value),className:"px-3 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"}),t.jsx("option",{value:"exhausted",children:"Exhausted"})]})]}),a?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-amber-500"})}):pe.length===0?t.jsxs("div",{className:"text-center py-12 text-slate-500",children:[t.jsx(xf,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),t.jsx("p",{children:"No vouchers found"})]}):t.jsx("div",{className:"grid gap-4",children:pe.map(te=>t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-5 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-4",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ye(te.voucherType),t.jsx("span",{className:"font-mono font-bold text-lg text-slate-900 dark:text-white",children:te.code}),t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${fe(te.status)}`,children:te.status}),!te.isValid&&te.status==="active"&&t.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 rounded-full text-xs",children:"Expired"})]}),te.name&&t.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:te.name}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-slate-500 dark:text-slate-400",children:[te.voucherType==="discount"?t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Gp,{size:14}),te.discountType==="percentage"?`${te.discountValue}% off`:`RM${te.discountValue} off`]}):t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Vi,{size:14}),te.activationDays?`${te.activationDays} days`:"Lifetime"]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Ld,{size:14}),te.currentUses,"/",te.maxUses," used"]}),te.validUntil&&t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(co,{size:14}),"Until ",te.validUntil.split(" ")[0]]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>ke(te),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Usages",children:t.jsx(io,{size:18})}),t.jsx("button",{onClick:()=>de(te),className:"p-2 text-slate-500 hover:text-amber-600 hover:bg-amber-50 rounded-lg transition-colors",title:"Edit",children:t.jsx(b0,{size:18})}),t.jsx("button",{onClick:()=>De(te.id),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${te.status==="active"?"bg-red-100 text-red-600 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-400":"bg-green-100 text-green-600 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-400"}`,children:te.status==="active"?"Deactivate":"Activate"})]})]})},te.id))}),u&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 w-full max-w-lg my-8",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:A?"Edit Voucher":"Create Voucher"}),t.jsx("button",{onClick:oe,className:"text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:20})})]}),p&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[t.jsx(Ia,{size:16}),p]}),t.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Voucher Code *"}),t.jsx("input",{type:"text",value:f.code,onChange:te=>m({...f,code:te.target.value.toUpperCase()}),placeholder:"e.g., SAVE20",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg font-mono uppercase",disabled:!!A})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Display Name"}),t.jsx("input",{type:"text",value:f.name,onChange:te=>m({...f,name:te.target.value}),placeholder:"e.g., New Year Promotion",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Voucher Type *"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("button",{type:"button",onClick:()=>m({...f,voucherType:"discount"}),className:`p-3 rounded-lg border-2 flex items-center gap-2 transition-colors ${f.voucherType==="discount"?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(C2,{size:18,className:f.voucherType==="discount"?"text-green-500":"text-slate-400"}),t.jsx("span",{className:"font-medium",children:"Discount"})]}),t.jsxs("button",{type:"button",onClick:()=>m({...f,voucherType:"activation"}),className:`p-3 rounded-lg border-2 flex items-center gap-2 transition-colors ${f.voucherType==="activation"?"border-purple-500 bg-purple-50 dark:bg-purple-900/20":"border-slate-200 dark:border-slate-700"}`,children:[t.jsx(j2,{size:18,className:f.voucherType==="activation"?"text-purple-500":"text-slate-400"}),t.jsx("span",{className:"font-medium",children:"Activation"})]})]})]}),f.voucherType==="discount"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Discount Type"}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx("button",{type:"button",onClick:()=>m({...f,discountType:"percentage"}),className:`p-2 rounded-lg border text-center transition-colors ${f.discountType==="percentage"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:"Percentage (%)"}),t.jsx("button",{type:"button",onClick:()=>m({...f,discountType:"fixed"}),className:`p-2 rounded-lg border text-center transition-colors ${f.discountType==="fixed"?"border-amber-500 bg-amber-50 dark:bg-amber-900/20":"border-slate-200 dark:border-slate-700"}`,children:"Fixed (RM)"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Discount Value *"}),t.jsx("input",{type:"number",value:f.discountValue,onChange:te=>m({...f,discountValue:parseFloat(te.target.value)||0}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Min Amount (RM)"}),t.jsx("input",{type:"number",value:f.minAmount,onChange:te=>m({...f,minAmount:parseFloat(te.target.value)||0}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),f.discountType==="percentage"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Max Discount (RM) - Optional"}),t.jsx("input",{type:"number",value:f.maxDiscount||"",onChange:te=>m({...f,maxDiscount:te.target.value?parseFloat(te.target.value):null}),placeholder:"No limit",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),f.voucherType==="activation"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Activation Days (leave empty for lifetime)"}),t.jsx("input",{type:"number",value:f.activationDays||"",onChange:te=>m({...f,activationDays:te.target.value?parseInt(te.target.value):null}),placeholder:"e.g., 30 (or leave empty for lifetime)",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Total Uses"}),t.jsx("input",{type:"number",value:f.maxUses,onChange:te=>m({...f,maxUses:parseInt(te.target.value)||1}),min:"1",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Per User Limit"}),t.jsx("input",{type:"number",value:f.maxUsesPerUser,onChange:te=>m({...f,maxUsesPerUser:parseInt(te.target.value)||1}),min:"1",className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Valid From"}),t.jsx("input",{type:"date",value:f.validFrom,onChange:te=>m({...f,validFrom:te.target.value}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Valid Until"}),t.jsx("input",{type:"date",value:f.validUntil,onChange:te=>m({...f,validUntil:te.target.value}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Description"}),t.jsx("textarea",{value:f.description,onChange:te=>m({...f,description:te.target.value}),placeholder:"Internal notes or description...",rows:2,className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg resize-none"})]})]}),t.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-slate-200 dark:border-slate-700",children:[t.jsx("button",{onClick:oe,className:"flex-1 py-2.5 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Ee,disabled:b,className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:b?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):A?"Update Voucher":"Create Voucher"})]})]})}),Q&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 w-full max-w-lg",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Usage History"}),t.jsx("button",{onClick:()=>G(!1),className:"text-slate-400 hover:text-slate-600",children:t.jsx(qr,{size:20})})]}),Se?t.jsx("div",{className:"flex justify-center py-8",children:t.jsx(Lr,{className:"w-6 h-6 animate-spin text-amber-500"})}):je.length===0?t.jsxs("div",{className:"text-center py-8 text-slate-500",children:[t.jsx(Ld,{className:"w-10 h-10 mx-auto mb-2 opacity-50"}),t.jsx("p",{children:"No usage history yet"})]}):t.jsx("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:je.map(te=>t.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:te.userName||te.userEmail||`User #${te.userId}`}),t.jsx("p",{className:"text-xs text-slate-500",children:te.createdAt})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("span",{className:`text-xs px-2 py-1 rounded ${te.usageType==="activation"?"bg-purple-100 text-purple-700":"bg-green-100 text-green-700"}`,children:te.usageType}),te.discountAmount>0&&t.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["-RM ",te.discountAmount.toFixed(2)]})]})]},te.id))})]})})]})},Qj={name:"",slug:"",description:"",price:0,currency:"MYR",durationDays:30,durationType:"days",status:"active",isFeatured:!1,sortOrder:0},O$=s=>s.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),I$=(s,e)=>s===null?"Lifetime":e==="months"||s===30?s===30?"1 Month":`${Math.round(s/30)} Months`:e==="years"||s===365?s===365?"1 Year":`${Math.round(s/365)} Years`:`${s} Days`,D$=(s,e="MYR")=>`${e} ${s.toFixed(2)}`,_j=[{label:"7 Days",days:7,type:"days"},{label:"14 Days",days:14,type:"days"},{label:"1 Month",days:30,type:"months"},{label:"3 Months",days:90,type:"months"},{label:"6 Months",days:180,type:"months"},{label:"1 Year",days:365,type:"years"},{label:"Lifetime",days:null,type:"lifetime"}],R$=()=>{const[s,e]=W.useState([]),[r,n]=W.useState(!0),[a,l]=W.useState(!1),[u,d]=W.useState(!0),[A,o]=W.useState(""),[f,m]=W.useState(!1),[p,x]=W.useState(null),[b,y]=W.useState(Qj),[w,E]=W.useState(!1),[R,z]=W.useState(""),[X,Y]=W.useState(null),Q=async(oe=!0)=>{oe?n(!0):l(!0);try{const De=await(await fetch(`${Dt}/api/admin-subscription/plans?include_inactive=${u}`,{credentials:"include"})).json();De.plans&&e(De.plans)}catch(Ee){console.error("Error fetching plans:",Ee),G("error","Failed to load plans")}finally{n(!1),l(!1)}};W.useEffect(()=>{Q()},[u]);const G=(oe,Ee)=>{Y({type:oe,text:Ee}),setTimeout(()=>Y(null),3e3)},le=oe=>{oe?(x(oe),y({name:oe.name,slug:oe.slug,description:oe.description||"",price:oe.price,currency:oe.currency,durationDays:oe.durationDays,durationType:oe.durationType,status:oe.status,isFeatured:oe.isFeatured,sortOrder:oe.sortOrder})):(x(null),y({...Qj,sortOrder:s.length})),z(""),m(!0)},Ae=()=>{m(!1),x(null),z("")},je=oe=>{y(Ee=>({...Ee,name:oe,slug:p?Ee.slug:O$(oe)}))},ue=oe=>{y(Ee=>({...Ee,durationDays:oe.days,durationType:oe.type}))},Se=async()=>{if(!b.name.trim()){z("Plan name is required");return}if(!b.slug.trim()){z("Plan slug is required");return}if(b.price<0){z("Price must be 0 or greater");return}E(!0),z("");try{const oe=p?`${Dt}/api/admin-subscription/plans/${p.id}`:`${Dt}/api/admin-subscription/plans`,De=await fetch(oe,{method:p?"PUT":"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(b)}),ke=await De.json();De.ok&&ke.success?(G("success",p?"Plan updated successfully":"Plan created successfully"),Q(!1),Ae()):z(ke.error||"Failed to save plan")}catch{z("Network error occurred")}finally{E(!1)}},ae=async oe=>{try{const Ee=await fetch(`${Dt}/api/admin-subscription/plans/${oe}/toggle-status`,{method:"POST",credentials:"include"}),De=await Ee.json();Ee.ok&&De.success?(G("success",De.message||"Status updated"),Q(!1)):G("error",De.error||"Failed to update status")}catch{G("error","Network error occurred")}},Ne=async oe=>{try{(await fetch(`${Dt}/api/admin-subscription/plans/${oe.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({isFeatured:!oe.isFeatured})})).ok&&(G("success",oe.isFeatured?"Removed from featured":"Marked as featured"),Q(!1))}catch{G("error","Failed to update")}},he=async(oe,Ee)=>{try{await fetch(`${Dt}/api/admin-subscription/plans/${oe}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({sortOrder:Ee})}),Q(!1)}catch{console.error("Failed to update sort order")}},se=s.filter(oe=>{if(!A)return!0;const Ee=A.toLowerCase();return oe.name.toLowerCase().includes(Ee)||oe.slug.toLowerCase().includes(Ee)}).sort((oe,Ee)=>oe.sortOrder-Ee.sortOrder),de={total:s.length,active:s.filter(oe=>oe.status==="active").length,inactive:s.filter(oe=>oe.status==="inactive").length,featured:s.filter(oe=>oe.isFeatured).length};return t.jsxs("div",{className:"space-y-6",children:[X&&t.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center gap-2 animate-in slide-in-from-top ${X.type==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:[X.type==="success"?t.jsx(Bo,{size:18}):t.jsx(Ia,{size:18}),X.text]}),t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[t.jsxs("div",{children:[t.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(nb,{className:"w-6 h-6 text-amber-500"}),"Subscription Plans"]}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:"Manage your subscription plans and pricing"})]}),t.jsxs("button",{onClick:()=>le(),className:"flex items-center gap-2 px-4 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors shadow-lg shadow-amber-500/20",children:[t.jsx($i,{size:18})," Create Plan"]})]}),t.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center",children:t.jsx(nb,{className:"w-5 h-5 text-blue-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:de.total}),t.jsx("p",{className:"text-xs text-slate-500",children:"Total Plans"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center",children:t.jsx(io,{className:"w-5 h-5 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:de.active}),t.jsx("p",{className:"text-xs text-slate-500",children:"Active"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-100 dark:bg-gray-800 rounded-lg flex items-center justify-center",children:t.jsx(Zu,{className:"w-5 h-5 text-gray-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-gray-500",children:de.inactive}),t.jsx("p",{className:"text-xs text-slate-500",children:"Inactive"})]})]})}),t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center",children:t.jsx(tA,{className:"w-5 h-5 text-amber-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold text-amber-600",children:de.featured}),t.jsx("p",{className:"text-xs text-slate-500",children:"Featured"})]})]})})]}),t.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search plans...",value:A,onChange:oe=>o(oe.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]}),t.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:u,onChange:oe=>d(oe.target.checked),className:"rounded border-slate-300"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Show Inactive"})]}),t.jsx("button",{onClick:()=>Q(!1),disabled:a,className:"p-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700",children:t.jsx(ld,{className:`w-5 h-5 text-slate-500 ${a?"animate-spin":""}`})})]}),r?t.jsx("div",{className:"flex justify-center py-12",children:t.jsx(Lr,{className:"w-8 h-8 animate-spin text-amber-500"})}):se.length===0?t.jsxs("div",{className:"text-center py-12 bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700",children:[t.jsx(nb,{className:"w-12 h-12 mx-auto mb-3 text-slate-300 dark:text-slate-600"}),t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:A?"No plans found":"No subscription plans yet"}),t.jsx("button",{onClick:()=>le(),className:"mt-4 px-4 py-2 bg-amber-500 text-white rounded-lg hover:bg-amber-600",children:"Create First Plan"})]}):t.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"bg-slate-50 dark:bg-slate-900/50 border-b border-slate-200 dark:border-slate-700",children:[t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Order"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Plan"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Price"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Duration"}),t.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"text-center px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Featured"}),t.jsx("th",{className:"text-right px-4 py-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:se.map((oe,Ee)=>t.jsxs("tr",{className:`hover:bg-slate-50 dark:hover:bg-slate-900/30 transition-colors ${oe.status==="inactive"?"opacity-60":""}`,children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{onClick:()=>Ee>0&&he(oe.id,oe.sortOrder-1),disabled:Ee===0,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded disabled:opacity-30",children:t.jsx(jp,{size:14})}),t.jsx("span",{className:"text-sm text-slate-500 w-6 text-center",children:oe.sortOrder}),t.jsx("button",{onClick:()=>Ee<se.length-1&&he(oe.id,oe.sortOrder+1),disabled:Ee===se.length-1,className:"p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded disabled:opacity-30",children:t.jsx(wp,{size:14})})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-slate-900 dark:text-white",children:oe.name}),t.jsx("p",{className:"text-xs text-slate-500 font-mono",children:oe.slug})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:D$(oe.price,oe.currency)})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-1.5",children:[oe.isLifetime?t.jsx(w3,{className:"w-4 h-4 text-amber-500"}):t.jsx(Vi,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-sm text-slate-600 dark:text-slate-400",children:I$(oe.durationDays,oe.durationType)})]})}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsx("button",{onClick:()=>ae(oe.id),className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium transition-colors ${oe.status==="active"?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400 hover:bg-green-200":"bg-gray-100 text-gray-600 dark:bg-gray-800 dark:text-gray-400 hover:bg-gray-200"}`,children:oe.status==="active"?t.jsxs(t.Fragment,{children:[t.jsx(io,{size:12})," Active"]}):t.jsxs(t.Fragment,{children:[t.jsx(Zu,{size:12})," Inactive"]})})}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsx("button",{onClick:()=>Ne(oe),className:`p-2 rounded-lg transition-colors ${oe.isFeatured?"text-amber-500 bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100":"text-slate-400 hover:text-amber-500 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:oe.isFeatured?t.jsx(tA,{size:18,fill:"currentColor"}):t.jsx(eT,{size:18})})}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsxs("button",{onClick:()=>le(oe),className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-amber-600 hover:text-amber-700 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded-lg transition-colors",children:[t.jsx(b0,{size:14}),"Edit"]})})]},oe.id))})]})})}),f&&t.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:t.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto border border-slate-200 dark:border-slate-800",children:[t.jsxs("div",{className:"p-6 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between sticky top-0 bg-white dark:bg-slate-900",children:[t.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:p?"Edit Plan":"Create New Plan"}),t.jsx("button",{onClick:Ae,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:t.jsx(qr,{size:20})})]}),t.jsxs("div",{className:"p-6 space-y-5",children:[R&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-600 dark:text-red-400 text-sm",children:[t.jsx(Ia,{size:16}),R]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Plan Name *"}),t.jsx("input",{type:"text",value:b.name,onChange:oe=>je(oe.target.value),placeholder:"e.g., Monthly Premium",className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Slug *"}),t.jsx("input",{type:"text",value:b.slug,onChange:oe=>y({...b,slug:oe.target.value}),placeholder:"e.g., monthly",disabled:!!p,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent font-mono text-sm disabled:opacity-50 disabled:cursor-not-allowed"}),t.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"URL-friendly identifier. Cannot be changed after creation."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Price (MYR) *"}),t.jsxs("div",{className:"relative",children:[t.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:"RM"}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:b.price,onChange:oe=>y({...b,price:parseFloat(oe.target.value)||0}),className:"w-full pl-14 pr-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Duration"}),t.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:_j.slice(0,4).map(oe=>t.jsx("button",{type:"button",onClick:()=>ue(oe),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${b.durationDays===oe.days?"border-amber-500 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:oe.label},oe.label))}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:_j.slice(4).map(oe=>t.jsx("button",{type:"button",onClick:()=>ue(oe),className:`px-3 py-2 text-sm rounded-lg border transition-colors ${b.durationDays===oe.days?"border-amber-500 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400":"border-slate-200 dark:border-slate-700 hover:border-amber-300"}`,children:oe.label},oe.label))}),b.durationDays!==null&&t.jsxs("div",{className:"mt-3",children:[t.jsx("label",{className:"text-xs text-slate-500 mb-1 block",children:"Custom Days"}),t.jsx("input",{type:"number",min:"1",value:b.durationDays||"",onChange:oe=>y({...b,durationDays:parseInt(oe.target.value)||null,durationType:"days"}),className:"w-full px-4 py-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg text-sm"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Description"}),t.jsx("textarea",{value:b.description,onChange:oe=>y({...b,description:oe.target.value}),placeholder:"Brief description of this plan...",rows:3,className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Status"}),t.jsxs("select",{value:b.status,onChange:oe=>y({...b,status:oe.target.value}),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg",children:[t.jsx("option",{value:"active",children:"Active"}),t.jsx("option",{value:"inactive",children:"Inactive"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5",children:"Sort Order"}),t.jsx("input",{type:"number",min:"0",value:b.sortOrder,onChange:oe=>y({...b,sortOrder:parseInt(oe.target.value)||0}),className:"w-full px-4 py-2.5 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg"})]})]}),t.jsxs("label",{className:"flex items-center gap-3 p-3 bg-slate-50 dark:bg-slate-800 rounded-lg cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:b.isFeatured,onChange:oe=>y({...b,isFeatured:oe.target.checked}),className:"w-5 h-5 rounded border-slate-300 text-amber-500 focus:ring-amber-500"}),t.jsxs("div",{children:[t.jsxs("p",{className:"font-medium text-slate-900 dark:text-white flex items-center gap-2",children:[t.jsx(tA,{size:16,className:"text-amber-500"}),"Mark as Featured"]}),t.jsx("p",{className:"text-xs text-slate-500",children:"Featured plans are highlighted to users"})]})]})]}),t.jsxs("div",{className:"p-6 border-t border-slate-200 dark:border-slate-800 flex gap-3",children:[t.jsx("button",{onClick:Ae,className:"flex-1 py-2.5 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:Se,disabled:w,className:"flex-1 py-2.5 bg-amber-500 hover:bg-amber-600 text-white font-medium rounded-lg transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:w?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(QA,{size:16}),p?"Update Plan":"Create Plan"]})})]})]})})]})};async function P$(){try{const s=await fetch(`${Dt}/check_login_status`,{credentials:"include"});if(!s.ok)return null;const e=await s.json();if(!e.logged_in)return null;const r=e.user;return{id:r.id,name:r.full_name||r.name||r.email||"Admin",email:r.email||"",role:e.role||r.role||"admin"}}catch{return null}}async function Q$(s){const e=new URLSearchParams;s.type&&s.type!=="all"&&e.set("type",s.type),s.status&&s.status!=="all"&&e.set("status",s.status),s.page&&e.set("page",s.page.toString()),s.limit&&e.set("limit",s.limit.toString()),s.assignedTo&&e.set("assigned_to",s.assignedTo.toString());const r=await fetch(`${Dt}/api/admin/inquiries?${e}`,{credentials:"include"});if(!r.ok)throw new Error("Failed to fetch inquiries");return r.json()}async function _$(s){const e=await fetch(`${Dt}/api/admin/inquiries/${s}`,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch inquiry");return(await e.json()).data}async function H$(s,e){const r=await fetch(`${Dt}/api/admin/inquiries/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!r.ok){const a=await r.json().catch(()=>({}));throw new Error(a.error||"Failed to update inquiry")}return(await r.json()).data}async function z$(){const s=await fetch(`${Dt}/api/admin/inquiries/stats`,{credentials:"include"});if(!s.ok)throw new Error("Failed to fetch stats");return(await s.json()).data}async function $$(){try{const s=await fetch(`${Dt}/api/admin/users/admins`,{credentials:"include"});return s.ok?(await s.json()).data||[]:[]}catch{return[]}}const Rk=({status:s})=>{const e={pending:{bg:"bg-amber-50",text:"text-amber-700",icon:t.jsx(Vi,{className:"w-3 h-3"})},in_progress:{bg:"bg-blue-50",text:"text-blue-700",icon:t.jsx(Lr,{className:"w-3 h-3"})},resolved:{bg:"bg-green-50",text:"text-green-700",icon:t.jsx(uo,{className:"w-3 h-3"})},closed:{bg:"bg-slate-100",text:"text-slate-600",icon:t.jsx(qr,{className:"w-3 h-3"})}},{bg:r,text:n,icon:a}=e[s]||e.pending;return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${r} ${n}`,children:[a,s.replace("_"," ").replace(/\b\w/g,l=>l.toUpperCase())]})},V$=({priority:s})=>{const e={low:{bg:"bg-slate-100",text:"text-slate-600"},normal:{bg:"bg-blue-50",text:"text-blue-600"},high:{bg:"bg-red-50",text:"text-red-600"}},{bg:r,text:n}=e[s]||e.normal;return t.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${r} ${n}`,children:s.charAt(0).toUpperCase()+s.slice(1)})},Pk=({type:s})=>{const e=s==="contact";return t.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-lg text-xs font-medium ${e?"bg-purple-50 text-purple-700":"bg-emerald-50 text-emerald-700"}`,children:[e?t.jsx(Mh,{className:"w-3 h-3"}):t.jsx(ry,{className:"w-3 h-3"}),e?"Contact":"Merchant"]})},K$=({stats:s,loading:e})=>{var n,a;if(e||!s)return t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[1,2,3,4].map(l=>t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 animate-pulse",children:[t.jsx("div",{className:"h-4 bg-slate-200 rounded w-20 mb-2"}),t.jsx("div",{className:"h-8 bg-slate-200 rounded w-12"})]},l))});const r=[{label:"Total Inquiries",value:s.total,icon:fm,color:"text-slate-600",bg:"bg-slate-50"},{label:"Pending",value:s.pending,icon:Vi,color:"text-amber-600",bg:"bg-amber-50"},{label:"Contact",value:((n=s.byType)==null?void 0:n.contact)||0,icon:Mh,color:"text-purple-600",bg:"bg-purple-50"},{label:"Merchant",value:((a=s.byType)==null?void 0:a.merchant)||0,icon:ry,color:"text-emerald-600",bg:"bg-emerald-50"}];return t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:r.map((l,u)=>t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-4 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-slate-500",children:l.label}),t.jsx("div",{className:`w-8 h-8 rounded-lg ${l.bg} flex items-center justify-center`,children:t.jsx(l.icon,{className:`w-4 h-4 ${l.color}`})})]}),t.jsx("div",{className:"text-2xl font-bold text-slate-800",children:l.value})]},u))})},G$=({inquiry:s,isOpen:e,onClose:r,onUpdate:n,admins:a,currentUser:l})=>{const[u,d]=W.useState(!1),[A,o]=W.useState({status:"",priority:"",assignedAdminId:"",adminNotes:""}),[f,m]=W.useState(!1),[p,x]=W.useState(null),b=Gv(l.role),y=b||(s==null?void 0:s.assignedAdminId)===l.id;W.useEffect(()=>{var z;s&&(o({status:s.status,priority:s.priority,assignedAdminId:((z=s.assignedAdminId)==null?void 0:z.toString())||"",adminNotes:s.adminNotes||""}),d(!1),x(null))},[s]);const w=async()=>{if(s){x(null),m(!0);try{const z={status:A.status,priority:A.priority,adminNotes:A.adminNotes};b&&(z.assignedAdminId=A.assignedAdminId?parseInt(A.assignedAdminId):null),await n(s.id,z),d(!1)}catch(z){x(z.message||"Failed to update inquiry")}finally{m(!1)}}};if(!e||!s)return null;const E=s.assignedAdminId===l.id,R=!s.assignedAdminId;return t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black/30 z-40",onClick:r}),t.jsxs("div",{className:"fixed right-0 top-0 h-full w-full max-w-xl bg-white shadow-2xl z-50 overflow-hidden flex flex-col",children:[t.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Pk,{type:s.inquiryType}),t.jsxs("span",{className:"text-slate-400",children:["#",s.id]})]}),t.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(qr,{className:"w-5 h-5 text-slate-500"})})]}),t.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[!b&&!E&&!R&&t.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4 flex items-start gap-3",children:[t.jsx(Td,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-amber-800",children:"View Only"}),t.jsx("p",{className:"text-sm text-amber-700",children:"This inquiry is assigned to another admin."})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Contact Information"}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Yo,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"font-medium text-slate-800",children:s.name})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Yd,{className:"w-4 h-4 text-slate-400"}),t.jsx("a",{href:`mailto:${s.email}`,className:"text-blue-600 hover:underline",children:s.email})]}),s.businessName&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(l5,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-slate-700",children:s.businessName})]}),s.subject&&t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Gp,{className:"w-4 h-4 text-slate-400"}),t.jsx("span",{className:"text-slate-700",children:s.subject})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Message"}),t.jsx("div",{className:"bg-slate-50 rounded-xl p-4",children:t.jsx("p",{className:"text-slate-700 whitespace-pre-wrap leading-relaxed",children:s.message})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Status & Assignment"}),!u&&y&&t.jsx("button",{onClick:()=>d(!0),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Edit"})]}),p&&t.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 text-sm text-red-700",children:p}),u?t.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),t.jsxs("select",{value:A.status,onChange:z=>o({...A,status:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"closed",children:"Closed"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Priority"}),t.jsxs("select",{value:A.priority,onChange:z=>o({...A,priority:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"low",children:"Low"}),t.jsx("option",{value:"normal",children:"Normal"}),t.jsx("option",{value:"high",children:"High"})]})]}),b?t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t.jsxs("span",{className:"flex items-center gap-2",children:["Assigned Admin",t.jsx(Kd,{className:"w-3 h-3 text-purple-500"})]})}),t.jsxs("select",{value:A.assignedAdminId,onChange:z=>o({...A,assignedAdminId:z.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white",children:[t.jsx("option",{value:"",children:"Unassigned"}),a.map(z=>t.jsxs("option",{value:z.id,children:[z.name," (",z.email,")"]},z.id))]})]}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:t.jsxs("span",{className:"flex items-center gap-2",children:["Assigned Admin",t.jsx(Td,{className:"w-3 h-3 text-slate-400"})]})}),t.jsxs("div",{className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-slate-100 text-slate-600",children:[s.assignedAdminName||"Unassigned",t.jsx("span",{className:"text-xs text-slate-400 ml-2",children:"(Super Admin only)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Admin Notes"}),t.jsx("textarea",{value:A.adminNotes,onChange:z=>o({...A,adminNotes:z.target.value}),rows:3,placeholder:"Internal notes...",className:"w-full px-3 py-2 border border-slate-200 rounded-lg bg-white"})]}),t.jsxs("div",{className:"flex gap-2 pt-2",children:[t.jsxs("button",{onClick:w,disabled:f,className:"flex-1 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[f?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(uo,{className:"w-4 h-4"}),"Save Changes"]}),t.jsx("button",{onClick:()=>{d(!1),x(null)},className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 font-medium rounded-lg hover:bg-slate-50",children:"Cancel"})]})]}):t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Status"}),t.jsx(Rk,{status:s.status})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Priority"}),t.jsx(V$,{priority:s.priority})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-slate-500",children:"Assigned To"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700 flex items-center gap-2",children:[s.assignedAdminName||"Unassigned",E&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded",children:"You"})]})]}),s.adminNotes&&t.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[t.jsxs("span",{className:"text-sm text-slate-500 flex items-center gap-1 mb-1",children:[t.jsx(b5,{className:"w-3 h-3"})," Admin Notes"]}),t.jsx("p",{className:"text-sm text-slate-600",children:s.adminNotes})]})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-slate-500 uppercase tracking-wide",children:"Timeline"}),t.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-slate-500 flex items-center gap-2",children:[t.jsx(co,{className:"w-3 h-3"})," Created"]}),t.jsx("span",{className:"text-slate-700",children:new Date(s.createdAt).toLocaleString()})]}),s.resolvedAt&&t.jsxs("div",{className:"flex items-center justify-between text-sm",children:[t.jsxs("span",{className:"text-slate-500 flex items-center gap-2",children:[t.jsx(uo,{className:"w-3 h-3 text-green-500"})," Resolved"]}),t.jsx("span",{className:"text-green-600 font-medium",children:new Date(s.resolvedAt).toLocaleString()})]})]})]})]}),t.jsx("div",{className:"p-4 border-t border-slate-200 bg-slate-50",children:t.jsxs("a",{href:`mailto:${s.email}?subject=Re: ${s.subject||"Your Inquiry"}`,className:"w-full px-4 py-3 bg-blue-600 text-white font-medium rounded-xl hover:bg-blue-700 flex items-center justify-center gap-2",children:[t.jsx(Yd,{className:"w-4 h-4"}),"Reply via Email",t.jsx(sS,{className:"w-4 h-4"})]})})]})]})},W$=()=>{const[s,e]=W.useState(null),[r,n]=W.useState(!0),[a,l]=W.useState("all"),[u,d]=W.useState("all"),[A,o]=W.useState("all"),[f,m]=W.useState(""),[p,x]=W.useState([]),[b,y]=W.useState(null),[w,E]=W.useState([]),[R,z]=W.useState(!0),[X,Y]=W.useState(!0),[Q,G]=W.useState(null),[le,Ae]=W.useState(!1),[je,ue]=W.useState(1),[Se,ae]=W.useState(null),Ne=s?Gv(s.role):!1,he=s?Gv(s.role):!1;W.useEffect(()=>{(async()=>{n(!0);const fe=await P$();e(fe),n(!1)})()},[]);const se=async()=>{if(s){z(!0);try{let ye;(!Ne&&A==="all"||A==="mine")&&(ye=s.id);const fe=await Q$({type:a,status:u,page:je,limit:20,assignedTo:ye});x(fe.data||[]),ae(fe.pagination)}catch(ye){console.error("Failed to load inquiries:",ye)}finally{z(!1)}}},de=async()=>{Y(!0);try{const ye=await z$();y(ye)}catch(ye){console.error("Failed to load stats:",ye)}finally{Y(!1)}},oe=async()=>{if(he){const ye=await $$();E(ye)}};W.useEffect(()=>{s&&se()},[s,a,u,A,je]),W.useEffect(()=>{s&&(de(),oe())},[s]);const Ee=async ye=>{try{const fe=await _$(ye.id);G(fe),Ae(!0)}catch(fe){console.error("Failed to load inquiry detail:",fe)}},De=async(ye,fe)=>{const te=await H$(ye,fe);G(te),se(),de()},ke=()=>{se(),de()},pe=p.filter(ye=>{var te,ge;if(!f)return!0;const fe=f.toLowerCase();return ye.name.toLowerCase().includes(fe)||ye.email.toLowerCase().includes(fe)||((te=ye.businessName)==null?void 0:te.toLowerCase().includes(fe))||((ge=ye.subject)==null?void 0:ge.toLowerCase().includes(fe))||ye.message.toLowerCase().includes(fe)});return r?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Lr,{className:"w-8 h-8 text-blue-600 animate-spin"})}):s?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:["Inquiry Management",he&&t.jsxs("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs font-medium rounded-full flex items-center gap-1",children:[t.jsx(Kd,{className:"w-3 h-3"})," Super Admin"]})]}),t.jsx("p",{className:"text-slate-500 text-sm mt-1",children:Ne?"Manage contact and merchant partnership inquiries":"View and handle inquiries assigned to you"})]}),t.jsxs("button",{onClick:ke,className:"flex items-center gap-2 px-4 py-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 text-slate-600",children:[t.jsx(ld,{className:"w-4 h-4"}),"Refresh"]})]}),t.jsx(K$,{stats:b,loading:X}),t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 overflow-hidden",children:[t.jsx("div",{className:"flex border-b border-slate-200",children:[{id:"all",label:"All Inquiries",icon:fm},{id:"contact",label:"Contact",icon:Mh},{id:"merchant",label:"Merchant",icon:ry}].map(ye=>{var fe;return t.jsxs("button",{onClick:()=>{l(ye.id),ue(1)},className:`flex items-center gap-2 px-6 py-4 text-sm font-medium border-b-2 -mb-px ${a===ye.id?"border-blue-600 text-blue-600 bg-blue-50/50":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`,children:[t.jsx(ye.icon,{className:"w-4 h-4"}),ye.label,ye.id!=="all"&&b&&t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${a===ye.id?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-600"}`,children:((fe=b.byType)==null?void 0:fe[ye.id])||0})]},ye.id)})}),t.jsxs("div",{className:"p-4 border-b border-slate-100 flex flex-col sm:flex-row gap-3",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search by name, email, or message...",value:f,onChange:ye=>m(ye.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg"})]}),Ne&&t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:A,onChange:ye=>{o(ye.target.value),ue(1)},className:"appearance-none px-4 py-2 pr-10 border border-slate-200 rounded-lg bg-white text-slate-600",children:[t.jsx("option",{value:"all",children:"All Assignments"}),t.jsx("option",{value:"mine",children:"Assigned to Me"}),t.jsx("option",{value:"unassigned",children:"Unassigned"})]}),t.jsx(a0,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]}),t.jsxs("div",{className:"relative",children:[t.jsxs("select",{value:u,onChange:ye=>{d(ye.target.value),ue(1)},className:"appearance-none px-4 py-2 pr-10 border border-slate-200 rounded-lg bg-white text-slate-600",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"in_progress",children:"In Progress"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"closed",children:"Closed"})]}),t.jsx(a0,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400 pointer-events-none"})]})]}),t.jsx("div",{className:"overflow-x-auto",children:R?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(Lr,{className:"w-8 h-8 text-blue-600 animate-spin"})}):pe.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-slate-500",children:[t.jsx(fm,{className:"w-12 h-12 text-slate-300 mb-3"}),t.jsx("p",{className:"font-medium",children:"No inquiries found"}),t.jsx("p",{className:"text-sm",children:Ne?"Try adjusting your filters":"No inquiries are assigned to you yet"})]}):t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:t.jsxs("tr",{children:[t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Type"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Contact"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Subject / Business"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Status"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Assigned"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase",children:"Created"}),t.jsx("th",{className:"text-left px-4 py-3 text-xs font-semibold text-slate-500 uppercase"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:pe.map(ye=>{const fe=ye.assignedAdminId===s.id;return t.jsxs("tr",{className:"hover:bg-slate-50 cursor-pointer",onClick:()=>Ee(ye),children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx(Pk,{type:ye.inquiryType})}),t.jsxs("td",{className:"px-4 py-3",children:[t.jsx("div",{className:"font-medium text-slate-800",children:ye.name}),t.jsx("div",{className:"text-sm text-slate-500",children:ye.email})]}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("div",{className:"max-w-xs truncate text-slate-600",children:ye.inquiryType==="merchant"?ye.businessName:ye.subject||"-"})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx(Rk,{status:ye.status})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("span",{className:"text-sm text-slate-600 flex items-center gap-1",children:[ye.assignedAdminName||t.jsx("span",{className:"text-slate-400 italic",children:"Unassigned"}),fe&&t.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-700 text-xs rounded ml-1",children:"You"})]})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("span",{className:"text-sm text-slate-500",children:new Date(ye.createdAt).toLocaleDateString()})}),t.jsx("td",{className:"px-4 py-3",children:t.jsx("button",{onClick:te=>{te.stopPropagation(),Ee(ye)},className:"p-2 hover:bg-slate-100 rounded-lg",children:t.jsx(io,{className:"w-4 h-4 text-slate-400"})})})]},ye.id)})})]})}),Se&&Se.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-200 bg-slate-50",children:[t.jsxs("span",{className:"text-sm text-slate-500",children:["Showing ",(je-1)*20+1," - ",Math.min(je*20,Se.total)," of ",Se.total]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>ue(ye=>Math.max(1,ye-1)),disabled:je===1,className:"px-3 py-1 border border-slate-200 rounded-lg text-sm disabled:opacity-50",children:"Previous"}),t.jsx("button",{onClick:()=>ue(ye=>Math.min(Se.pages,ye+1)),disabled:je===Se.pages,className:"px-3 py-1 border border-slate-200 rounded-lg text-sm disabled:opacity-50",children:"Next"})]})]})]}),s&&t.jsx(G$,{inquiry:Q,isOpen:le,onClose:()=>{Ae(!1),G(null)},onUpdate:De,admins:w,currentUser:s})]}):t.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6 text-center",children:[t.jsx(Ia,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),t.jsx("h3",{className:"text-lg font-semibold text-red-800",children:"Authentication Required"}),t.jsx("p",{className:"text-red-600 mt-1",children:"Please log in to access the inquiry management."})]})},Y$=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,a]=W.useState(null),[l,u]=W.useState(null),[d,A]=W.useState(!0),[o,f]=W.useState(null),[m,p]=W.useState("all"),[x,b]=W.useState(""),[y,w]=W.useState(1),[E,R]=W.useState(null),[z,X]=W.useState(""),[Y,Q]=W.useState(!1),[G,le]=W.useState(null);W.useEffect(()=>{Ae()},[m,y]);const Ae=async()=>{A(!0);try{const Ne=new URLSearchParams({page:y.toString(),per_page:"20"});m&&m!=="all"&&Ne.append("status",m),x&&Ne.append("search",x);const he=await fetch(`${Dt}/api/blogs/admin/all?${Ne}`,{credentials:"include"});if(he.ok){const se=await he.json();se.success&&(r(se.blogs||[]),a(se.stats||null),u(se.pagination||null))}}catch(Ne){console.error("Failed to fetch blogs:",Ne)}finally{A(!1)}},je=async Ne=>{R(Ne);try{(await fetch(`${Dt}/api/blogs/admin/${Ne}/approve`,{method:"POST",credentials:"include"})).ok&&Ae()}catch(he){console.error("Failed to approve blog:",he)}finally{R(null)}},ue=async()=>{if(G){R(G);try{(await fetch(`${Dt}/api/blogs/admin/${G}/reject`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:z||"Content does not meet community guidelines"})})).ok&&(Q(!1),le(null),X(""),Ae())}catch(Ne){console.error("Failed to reject blog:",Ne)}finally{R(null)}}},Se=async Ne=>{R(Ne);try{(await fetch(`${Dt}/api/blogs/admin/${Ne}/hide`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({reason:"Hidden by admin"})})).ok&&Ae()}catch(he){console.error("Failed to hide blog:",he)}finally{R(null)}},ae=Ne=>{const he={draft:{color:"bg-slate-100 text-slate-600",icon:t.jsx(Vi,{className:"w-3 h-3"}),text:"Draft"},pending:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Ia,{className:"w-3 h-3"}),text:"Pending Review"},published:{color:"bg-green-100 text-green-700",icon:t.jsx(Bo,{className:"w-3 h-3"}),text:"Published"},rejected:{color:"bg-red-100 text-red-700",icon:t.jsx(hu,{className:"w-3 h-3"}),text:"Rejected"},hidden:{color:"bg-orange-100 text-orange-700",icon:t.jsx(Zu,{className:"w-3 h-3"}),text:"Hidden"}},se=he[Ne]||he.draft;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${se.color}`,children:[se.icon,se.text]})};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[t.jsx(Ed,{className:"w-7 h-7 text-blue-600"}),"Blog Moderation"]}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Review and manage user blog posts"})]})}),n&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900",children:n.total}),t.jsx("div",{className:"text-sm text-slate-500",children:"Total Blogs"})]}),t.jsxs("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-100",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:n.pending}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Pending Review"})]}),t.jsxs("div",{className:"bg-green-50 rounded-2xl p-4 border border-green-100",children:[t.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.published}),t.jsx("div",{className:"text-sm text-green-600",children:"Published"})]}),t.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-700",children:n.draft}),t.jsx("div",{className:"text-sm text-slate-500",children:"Drafts"})]}),t.jsxs("div",{className:"bg-red-50 rounded-2xl p-4 border border-red-100",children:[t.jsx("div",{className:"text-2xl font-bold text-red-700",children:n.rejected}),t.jsx("div",{className:"text-sm text-red-600",children:"Rejected"})]})]}),t.jsx("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Vc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",placeholder:"Search blogs by title or content...",value:x,onChange:Ne=>b(Ne.target.value),onKeyDown:Ne=>Ne.key==="Enter"&&Ae(),className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(u5,{className:"w-5 h-5 text-slate-400"}),t.jsxs("select",{value:m,onChange:Ne=>{p(Ne.target.value),w(1)},className:"px-4 py-2.5 rounded-xl border border-slate-200 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all",children:[t.jsx("option",{value:"all",children:"All Status"}),t.jsx("option",{value:"pending",children:"Pending Review"}),t.jsx("option",{value:"published",children:"Published"}),t.jsx("option",{value:"draft",children:"Draft"}),t.jsx("option",{value:"rejected",children:"Rejected"}),t.jsx("option",{value:"hidden",children:"Hidden"})]})]})]})}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[d?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Lr,{className:"w-8 h-8 text-blue-600 animate-spin"})}):e.length===0?t.jsxs("div",{className:"text-center py-20",children:[t.jsx(Ed,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No blogs found"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Adjust your filters or check back later"})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:e.map(Ne=>t.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-20 h-20 rounded-xl bg-slate-100 overflow-hidden flex-shrink-0",children:Ne.coverImage?t.jsx("img",{src:Ne.coverImage,alt:Ne.title,className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-400 to-purple-500"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-slate-900 line-clamp-1",children:Ne.title}),t.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Yo,{className:"w-4 h-4"}),Ne.authorName]}),t.jsx("span",{children:Ne.createdAt}),t.jsx("span",{className:"px-2 py-0.5 bg-slate-100 rounded text-xs",children:Ne.category})]}),t.jsx("p",{className:"text-sm text-slate-500 mt-2 line-clamp-2",children:Ne.excerpt})]}),ae(Ne.status)]}),t.jsxs("div",{className:"flex items-center justify-between mt-3 pt-3 border-t border-slate-100",children:[t.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[t.jsxs("span",{children:[Ne.views," views"]}),t.jsxs("span",{children:[Ne.likesCount," likes"]}),t.jsxs("span",{children:[Ne.commentsCount," comments"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>f(Ne),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:t.jsx(io,{className:"w-4 h-4"})}),(Ne.status==="pending"||Ne.status==="draft")&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>je(Ne.id),disabled:E===Ne.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white text-sm font-medium rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[E===Ne.id?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(Wo,{className:"w-4 h-4"}),Ne.status==="draft"?"Publish":"Approve"]}),t.jsxs("button",{onClick:()=>{le(Ne.id),Q(!0)},disabled:E===Ne.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[t.jsx(qr,{className:"w-4 h-4"}),"Reject"]})]}),Ne.status==="published"&&t.jsxs("button",{onClick:()=>Se(Ne.id),disabled:E===Ne.id,className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-600 text-white text-sm font-medium rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50",children:[E===Ne.id?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):t.jsx(Zu,{className:"w-4 h-4"}),"Hide"]})]})]})]})]})},Ne.id))}),l&&l.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-100",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing page ",l.page," of ",l.pages," (",l.total," total)"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>w(Ne=>Math.max(1,Ne-1)),disabled:!l.hasPrev,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(Ph,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>w(Ne=>Math.min(l.pages,Ne+1)),disabled:!l.hasNext,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(Ac,{className:"w-4 h-4"})})]})]})]}),o&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Blog Details"}),t.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:[o.coverImage&&t.jsx("img",{src:o.coverImage,alt:o.title,className:"w-full h-64 object-cover rounded-xl mb-6"}),t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[ae(o.status),t.jsx("span",{className:"px-2.5 py-1 bg-slate-100 rounded-full text-xs font-medium text-slate-600",children:o.category})]}),t.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-4",children:o.title}),t.jsxs("div",{className:"flex items-center gap-4 mb-6 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Yo,{className:"w-4 h-4"}),o.authorName]}),t.jsx("span",{children:o.createdAt})]}),t.jsx("div",{className:"prose prose-slate max-w-none",dangerouslySetInnerHTML:{__html:o.content}}),o.rejectionReason&&t.jsxs("div",{className:"mt-6 p-4 bg-red-50 rounded-xl border border-red-100",children:[t.jsx("h4",{className:"font-medium text-red-700 mb-1",children:"Rejection Reason"}),t.jsx("p",{className:"text-red-600 text-sm",children:o.rejectionReason})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50",children:[(o.status==="pending"||o.status==="draft")&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>{je(o.id),f(null)},className:"px-4 py-2 bg-green-600 text-white font-medium rounded-xl hover:bg-green-700 transition-colors",children:o.status==="draft"?"Publish":"Approve & Publish"}),t.jsx("button",{onClick:()=>{le(o.id),Q(!0),f(null)},className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors",children:"Reject"})]}),t.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Close"})]})]})}),Y&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[t.jsx("div",{className:"px-6 py-4 border-b border-slate-100",children:t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Reject Blog"})}),t.jsxs("div",{className:"p-6",children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Reason for rejection (optional)"}),t.jsx("textarea",{value:z,onChange:Ne=>X(Ne.target.value),placeholder:"Content does not meet community guidelines...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all resize-none",rows:4})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50 rounded-b-2xl",children:[t.jsx("button",{onClick:()=>{Q(!1),le(null),X("")},className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:ue,disabled:E!==null,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50",children:E?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):"Reject Blog"})]})]})})]})},X$=({onNavigate:s})=>{const[e,r]=W.useState([]),[n,a]=W.useState(null),[l,u]=W.useState(null),[d,A]=W.useState(!0),[o,f]=W.useState(null),[m,p]=W.useState("pending"),[x,b]=W.useState(1),[y,w]=W.useState(null),[E,R]=W.useState(!1),[z,X]=W.useState(null),[Y,Q]=W.useState(""),[G,le]=W.useState("none");W.useEffect(()=>{Ae()},[m,x]);const Ae=async()=>{A(!0);try{const Ne=new URLSearchParams({page:x.toString(),per_page:"20"});m&&m!=="all"&&Ne.append("status",m);const he=await fetch(`${Dt}/api/blogs/admin/reports?${Ne}`,{credentials:"include"});if(he.ok){const se=await he.json();se.success&&(r(se.reports||[]),a(se.stats||null),u(se.pagination||null))}}catch(Ne){console.error("Failed to fetch reports:",Ne)}finally{A(!1)}},je=async Ne=>{if(z){w(z.id);try{(await fetch(`${Dt}/api/blogs/admin/reports/${z.id}/review`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:G,adminNotes:Y,status:Ne})})).ok&&(R(!1),X(null),Q(""),le("none"),Ae())}catch(he){console.error("Failed to review report:",he)}finally{w(null)}}},ue=Ne=>{const he={pending:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Vi,{className:"w-3 h-3"}),text:"Pending"},reviewed:{color:"bg-blue-100 text-blue-700",icon:t.jsx(io,{className:"w-3 h-3"}),text:"Reviewed"},resolved:{color:"bg-green-100 text-green-700",icon:t.jsx(Bo,{className:"w-3 h-3"}),text:"Resolved"},dismissed:{color:"bg-slate-100 text-slate-600",icon:t.jsx(hu,{className:"w-3 h-3"}),text:"Dismissed"}},se=he[Ne]||he.pending;return t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${se.color}`,children:[se.icon,se.text]})},Se=Ne=>{const he={spam:{color:"bg-orange-100 text-orange-700",text:"Spam"},inappropriate:{color:"bg-red-100 text-red-700",text:"Inappropriate"},harassment:{color:"bg-purple-100 text-purple-700",text:"Harassment"},misinformation:{color:"bg-blue-100 text-blue-700",text:"Misinformation"},other:{color:"bg-slate-100 text-slate-600",text:"Other"}},se=he[Ne]||he.other;return t.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${se.color}`,children:se.text})},ae=Ne=>{if(!Ne||Ne==="none")return null;const se={warning:{color:"bg-yellow-100 text-yellow-700",icon:t.jsx(Ia,{className:"w-3 h-3"}),text:"Warning Sent"},hidden:{color:"bg-orange-100 text-orange-700",icon:t.jsx(Zu,{className:"w-3 h-3"}),text:"Content Hidden"},deleted:{color:"bg-red-100 text-red-700",icon:t.jsx(Jo,{className:"w-3 h-3"}),text:"Content Deleted"}}[Ne];return se?t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${se.color}`,children:[se.icon,se.text]}):null};return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center gap-3",children:[t.jsx($p,{className:"w-7 h-7 text-red-600"}),"Blog Reports"]}),t.jsx("p",{className:"text-slate-500 mt-1",children:"Review and manage user-reported blog content"})]})}),n&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-900",children:n.total}),t.jsx("div",{className:"text-sm text-slate-500",children:"Total Reports"})]}),t.jsxs("div",{className:"bg-yellow-50 rounded-2xl p-4 border border-yellow-100",children:[t.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:n.pending}),t.jsx("div",{className:"text-sm text-yellow-600",children:"Pending"})]}),t.jsxs("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-100",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-700",children:n.reviewed}),t.jsx("div",{className:"text-sm text-blue-600",children:"Reviewed"})]}),t.jsxs("div",{className:"bg-green-50 rounded-2xl p-4 border border-green-100",children:[t.jsx("div",{className:"text-2xl font-bold text-green-700",children:n.resolved}),t.jsx("div",{className:"text-sm text-green-600",children:"Resolved"})]}),t.jsxs("div",{className:"bg-slate-50 rounded-2xl p-4 border border-slate-100",children:[t.jsx("div",{className:"text-2xl font-bold text-slate-700",children:n.dismissed}),t.jsx("div",{className:"text-sm text-slate-500",children:"Dismissed"})]})]}),t.jsx("div",{className:"bg-white rounded-2xl p-4 border border-slate-100 shadow-sm",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(u5,{className:"w-5 h-5 text-slate-400"}),t.jsxs("select",{value:m,onChange:Ne=>{p(Ne.target.value),b(1)},className:"px-4 py-2.5 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all",children:[t.jsx("option",{value:"all",children:"All Reports"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"reviewed",children:"Reviewed"}),t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"dismissed",children:"Dismissed"})]})]})}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden",children:[d?t.jsx("div",{className:"flex items-center justify-center py-20",children:t.jsx(Lr,{className:"w-8 h-8 text-red-600 animate-spin"})}):e.length===0?t.jsxs("div",{className:"text-center py-20",children:[t.jsx($p,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No reports found"}),t.jsx("p",{className:"text-slate-500 mt-1",children:"All clear! No reports match your filters."})]}):t.jsx("div",{className:"divide-y divide-slate-100",children:e.map(Ne=>t.jsx("div",{className:"p-4 hover:bg-slate-50 transition-colors",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[ue(Ne.status),Se(Ne.reason),ae(Ne.actionTaken)]}),t.jsxs("h3",{className:"font-semibold text-slate-900 mt-2 flex items-center gap-2",children:[t.jsx(Ed,{className:"w-4 h-4 text-slate-400"}),Ne.blogTitle]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-slate-500",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(Yo,{className:"w-4 h-4"}),"Reported by: ",Ne.reporterName]}),t.jsxs("span",{children:["Blog Author: ",Ne.blogAuthorName]}),t.jsx("span",{children:Ne.createdAt})]}),Ne.description&&t.jsxs("p",{className:"text-sm text-slate-600 mt-2 bg-slate-50 p-3 rounded-lg",children:['"',Ne.description,'"']}),Ne.adminNotes&&t.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-lg",children:[t.jsx("p",{className:"text-xs font-medium text-blue-700 mb-1",children:"Admin Notes:"}),t.jsx("p",{className:"text-sm text-blue-600",children:Ne.adminNotes}),Ne.reviewerName&&t.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["Reviewed by ",Ne.reviewerName," on ",Ne.reviewedAt]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>f(Ne),className:"p-2 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:t.jsx(io,{className:"w-4 h-4"})}),Ne.status==="pending"&&t.jsxs("button",{onClick:()=>{X(Ne),R(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-red-600 text-white text-sm font-medium rounded-lg hover:bg-red-700 transition-colors",children:[t.jsx(Kd,{className:"w-4 h-4"}),"Review"]})]})]})},Ne.id))}),l&&l.pages>1&&t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-slate-100",children:[t.jsxs("div",{className:"text-sm text-slate-500",children:["Showing page ",l.page," of ",l.pages," (",l.total," total)"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>b(Ne=>Math.max(1,Ne-1)),disabled:!l.hasPrev,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(Ph,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>b(Ne=>Math.min(l.pages,Ne+1)),disabled:!l.hasNext,className:"p-2 rounded-lg border border-slate-200 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-slate-50 transition-colors",children:t.jsx(Ac,{className:"w-4 h-4"})})]})]})]}),o&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Report Details"}),t.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:t.jsx(qr,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)] space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[ue(o.status),Se(o.reason),ae(o.actionTaken)]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-1",children:"Reported Blog"}),t.jsx("p",{className:"font-semibold text-slate-900",children:o.blogTitle}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["By ",o.blogAuthorName]})]}),t.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl",children:[t.jsx("p",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide mb-1",children:"Reporter"}),t.jsx("p",{className:"font-semibold text-slate-900",children:o.reporterName}),t.jsx("p",{className:"text-sm text-slate-500 mt-1",children:o.createdAt})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Report Reason"}),t.jsxs("p",{className:"text-slate-600 bg-red-50 p-4 rounded-xl",children:[t.jsx("span",{className:"font-medium",children:o.reason}),o.description&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("span",{className:"text-sm mt-2 block",children:o.description})]})]})]}),o.adminNotes&&t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium text-slate-700 mb-2",children:"Admin Notes"}),t.jsx("p",{className:"text-slate-600 bg-blue-50 p-4 rounded-xl",children:o.adminNotes}),o.reviewerName&&t.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["Reviewed by ",o.reviewerName," on ",o.reviewedAt]})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50",children:[o.status==="pending"&&t.jsx("button",{onClick:()=>{X(o),R(!0),f(null)},className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors",children:"Take Action"}),t.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Close"})]})]})}),E&&z&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:t.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-slate-100",children:[t.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Review Report"}),t.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Report on: ",z.blogTitle]})]}),t.jsxs("div",{className:"p-6 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Action to take"}),t.jsxs("select",{value:G,onChange:Ne=>le(Ne.target.value),className:"w-full px-4 py-2.5 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all",children:[t.jsx("option",{value:"none",children:"No action needed"}),t.jsx("option",{value:"warning",children:"Send warning to author"}),t.jsx("option",{value:"hidden",children:"Hide the blog post"}),t.jsx("option",{value:"deleted",children:"Delete the blog post"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Admin notes"}),t.jsx("textarea",{value:Y,onChange:Ne=>Q(Ne.target.value),placeholder:"Add notes about this report...",className:"w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all resize-none",rows:4})]})]}),t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-slate-100 bg-slate-50 rounded-b-2xl",children:[t.jsx("button",{onClick:()=>{R(!1),X(null),Q(""),le("none")},className:"px-4 py-2 bg-slate-200 text-slate-700 font-medium rounded-xl hover:bg-slate-300 transition-colors",children:"Cancel"}),t.jsx("button",{onClick:()=>je("dismissed"),disabled:y!==null,className:"px-4 py-2 bg-slate-600 text-white font-medium rounded-xl hover:bg-slate-700 transition-colors disabled:opacity-50",children:"Dismiss"}),t.jsx("button",{onClick:()=>je("resolved"),disabled:y!==null,className:"px-4 py-2 bg-red-600 text-white font-medium rounded-xl hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:y?t.jsx(Lr,{className:"w-4 h-4 animate-spin"}):"Resolve"})]})]})})]})},J$=({user:s,onSwitchToUser:e,onLogout:r})=>{const[n,a]=W.useState("Home"),[l,u]=W.useState(!1),d=o=>{console.log("Admin updated profile:",o)},A=()=>{switch(n){case"Home":return t.jsx(g$,{onNavigate:a});case"Info Blog":return t.jsx(N$,{onNavigate:a});case"Blog Moderation":return t.jsx(Y$,{});case"Blog Reports":return t.jsx(X$,{});case"Subscription":return t.jsx(C$,{});case"Advertisement":return t.jsx(k$,{});case"Login Hero":return t.jsx(B$,{});case"Notifications":return t.jsx(S$,{});case"Admin Chat":return t.jsx(F$,{});case"Support Tickets":return t.jsx(T$,{});case"Admin Messages":return t.jsx(U$,{});case"Plan Managment":return t.jsx(R$,{});case"Voucher Managment":return t.jsx(M$,{});case"Inquiries":return t.jsx(W$,{});case"User":return t.jsx(x$,{});case"Email Verification":return t.jsx(b$,{});case"Place":return t.jsx(v$,{});case"Trip":return t.jsx(w$,{});case"Trip Item":return t.jsx(y$,{});case"Settings":return t.jsx(j$,{user:s,onUpdateUser:d});default:return t.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-12 text-center shadow-sm min-h-[400px] flex flex-col items-center justify-center animate-in fade-in duration-300",children:[t.jsx("div",{className:"w-16 h-16 bg-slate-50 text-slate-400 rounded-full flex items-center justify-center mb-4",children:t.jsx("span",{className:"text-2xl",children:""})}),t.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2",children:n}),t.jsx("p",{className:"text-slate-500 max-w-sm mx-auto mb-6",children:"This module is currently in development."}),t.jsx("button",{onClick:()=>a("Home"),className:"px-4 py-2 bg-white border border-slate-200 text-slate-600 text-sm font-medium rounded-lg hover:bg-slate-50 transition-colors",children:"Back to Dashboard"})]})}};return t.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans text-slate-600",children:[t.jsx("div",{className:"md:hidden fixed top-4 right-20 z-50",children:t.jsx("button",{onClick:()=>u(!l),className:"p-2 bg-white rounded-lg shadow border border-slate-200 text-slate-700",children:t.jsx(h5,{size:24})})}),t.jsx("div",{className:`${l?"flex fixed inset-0 z-40 bg-white/95 p-0":"hidden"} md:flex md:relative`,children:t.jsx(f$,{activeItem:n,onNavigate:o=>{a(o),u(!1)},onSwitchToUser:e,onLogout:r})}),t.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[t.jsx(m$,{user:s,onLogout:r,onNavigate:a}),t.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar",children:[t.jsx("div",{className:"max-w-7xl mx-auto flex flex-col gap-6 animate-in fade-in duration-300",children:A()}),t.jsxs("footer",{className:"py-8 text-center text-xs text-slate-400",children:[" ",new Date().getFullYear()," GogoTrip Admin Panel."]})]})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wv=function(){return Wv=Object.assign||function(s){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s},Wv.apply(this,arguments)},Yv,Z$=function(s){var e;s?(function(r){if(r)for(;r.lastChild;)r.lastChild.remove()})(typeof s=="string"?document.getElementById(s):s):(e=document.querySelector(".grecaptcha-badge"))&&e.parentNode&&document.body.removeChild(e.parentNode)},q$=function(s,e){Z$(e),window.___grecaptcha_cfg=void 0;var r=document.querySelector("#"+s);r&&r.remove(),(function(){var n=document.querySelector('script[src^="https://www.gstatic.com/recaptcha/releases"]');n&&n.remove()})()},eV=function(s){var e=s.render,r=s.onLoadCallbackName,n=s.language,a=s.onLoad,l=s.useRecaptchaNet,u=s.useEnterprise,d=s.scriptProps,A=d===void 0?{}:d,o=A.nonce,f=o===void 0?"":o,m=A.defer,p=m!==void 0&&m,x=A.async,b=x!==void 0&&x,y=A.id,w=y===void 0?"":y,E=A.appendTo,R=w||"google-recaptcha-v3";if((function(Y){return!!document.querySelector("#"+Y)})(R))a();else{var z=(function(Y){return"https://www."+(Y.useRecaptchaNet?"recaptcha.net":"google.com")+"/recaptcha/"+(Y.useEnterprise?"enterprise.js":"api.js")})({useEnterprise:u,useRecaptchaNet:l}),X=document.createElement("script");X.id=R,X.src=z+"?render="+e+(e==="explicit"?"&onload="+r:"")+(n?"&hl="+n:""),f&&(X.nonce=f),X.defer=!!p,X.async=!!b,X.onload=a,(E==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(X)}},Hj=function(s){console.warn(s)};(function(s){s.SCRIPT_NOT_AVAILABLE="Recaptcha script is not available"})(Yv||(Yv={}));var qy=W.createContext({executeRecaptcha:function(){throw Error("GoogleReCaptcha Context has not yet been implemented, if you are using useGoogleReCaptcha hook, make sure the hook is called inside component wrapped by GoogleRecaptchaProvider")}});qy.Consumer;function tV(s){var e=s.reCaptchaKey,r=s.useEnterprise,n=r!==void 0&&r,a=s.useRecaptchaNet,l=a!==void 0&&a,u=s.scriptProps,d=s.language,A=s.container,o=s.children,f=W.useState(null),m=f[0],p=f[1],x=W.useRef(e),b=JSON.stringify(u),y=JSON.stringify(A==null?void 0:A.parameters);W.useEffect((function(){if(e){var R=(u==null?void 0:u.id)||"google-recaptcha-v3",z=(u==null?void 0:u.onLoadCallbackName)||"onRecaptchaLoadCallback";return window[z]=function(){var X=n?window.grecaptcha.enterprise:window.grecaptcha,Y=Wv({badge:"inline",size:"invisible",sitekey:e},(A==null?void 0:A.parameters)||{});x.current=X.render(A==null?void 0:A.element,Y)},eV({render:A!=null&&A.element?"explicit":e,onLoadCallbackName:z,useEnterprise:n,useRecaptchaNet:l,scriptProps:u,language:d,onLoad:function(){if(window&&window.grecaptcha){var X=n?window.grecaptcha.enterprise:window.grecaptcha;X.ready((function(){p(X)}))}else Hj("<GoogleRecaptchaProvider /> "+Yv.SCRIPT_NOT_AVAILABLE)}}),function(){q$(R,A==null?void 0:A.element)}}Hj("<GoogleReCaptchaProvider /> recaptcha key not provided")}),[n,l,b,y,d,e,A==null?void 0:A.element]);var w=W.useCallback((function(R){if(!m||!m.execute)throw new Error("<GoogleReCaptchaProvider /> Google Recaptcha has not been loaded");return m.execute(x.current,{action:R})}),[m,x]),E=W.useMemo((function(){return{executeRecaptcha:m?w:void 0,container:A==null?void 0:A.element}}),[w,m,A==null?void 0:A.element]);return Tc.createElement(qy.Provider,{value:E},o)}var sV=function(){return W.useContext(qy)};function Qk(s,e){return s(e={exports:{}},e.exports),e.exports;/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */}var fc=typeof Symbol=="function"&&Symbol.for,Xv=fc?Symbol.for("react.element"):60103,Jv=fc?Symbol.for("react.portal"):60106,Fp=fc?Symbol.for("react.fragment"):60107,Mp=fc?Symbol.for("react.strict_mode"):60108,Op=fc?Symbol.for("react.profiler"):60114,Ip=fc?Symbol.for("react.provider"):60109,Dp=fc?Symbol.for("react.context"):60110,Zv=fc?Symbol.for("react.async_mode"):60111,$g=fc?Symbol.for("react.concurrent_mode"):60111,Rp=fc?Symbol.for("react.forward_ref"):60112,Pp=fc?Symbol.for("react.suspense"):60113,rV=fc?Symbol.for("react.suspense_list"):60120,Qp=fc?Symbol.for("react.memo"):60115,_p=fc?Symbol.for("react.lazy"):60116,nV=fc?Symbol.for("react.block"):60121,aV=fc?Symbol.for("react.fundamental"):60117,iV=fc?Symbol.for("react.responder"):60118,oV=fc?Symbol.for("react.scope"):60119;function zd(s){if(typeof s=="object"&&s!==null){var e=s.$$typeof;switch(e){case Xv:switch(s=s.type){case Zv:case $g:case Fp:case Op:case Mp:case Pp:return s;default:switch(s=s&&s.$$typeof){case Dp:case Rp:case _p:case Qp:case Ip:return s;default:return e}}case Jv:return e}}}function zj(s){return zd(s)===$g}var lV={AsyncMode:Zv,ConcurrentMode:$g,ContextConsumer:Dp,ContextProvider:Ip,Element:Xv,ForwardRef:Rp,Fragment:Fp,Lazy:_p,Memo:Qp,Portal:Jv,Profiler:Op,StrictMode:Mp,Suspense:Pp,isAsyncMode:function(s){return zj(s)||zd(s)===Zv},isConcurrentMode:zj,isContextConsumer:function(s){return zd(s)===Dp},isContextProvider:function(s){return zd(s)===Ip},isElement:function(s){return typeof s=="object"&&s!==null&&s.$$typeof===Xv},isForwardRef:function(s){return zd(s)===Rp},isFragment:function(s){return zd(s)===Fp},isLazy:function(s){return zd(s)===_p},isMemo:function(s){return zd(s)===Qp},isPortal:function(s){return zd(s)===Jv},isProfiler:function(s){return zd(s)===Op},isStrictMode:function(s){return zd(s)===Mp},isSuspense:function(s){return zd(s)===Pp},isValidElementType:function(s){return typeof s=="string"||typeof s=="function"||s===Fp||s===$g||s===Op||s===Mp||s===Pp||s===rV||typeof s=="object"&&s!==null&&(s.$$typeof===_p||s.$$typeof===Qp||s.$$typeof===Ip||s.$$typeof===Dp||s.$$typeof===Rp||s.$$typeof===aV||s.$$typeof===iV||s.$$typeof===oV||s.$$typeof===nV)},typeOf:zd},Mi=Qk((function(s,e){})),$j=(Mi.AsyncMode,Mi.ConcurrentMode,Mi.ContextConsumer,Mi.ContextProvider,Mi.Element,Mi.ForwardRef,Mi.Fragment,Mi.Lazy,Mi.Memo,Mi.Portal,Mi.Profiler,Mi.StrictMode,Mi.Suspense,Mi.isAsyncMode,Mi.isConcurrentMode,Mi.isContextConsumer,Mi.isContextProvider,Mi.isElement,Mi.isForwardRef,Mi.isFragment,Mi.isLazy,Mi.isMemo,Mi.isPortal,Mi.isProfiler,Mi.isStrictMode,Mi.isSuspense,Mi.isValidElementType,Mi.typeOf,Qk((function(s){s.exports=lV}))),cV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Vj={};Vj[$j.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Vj[$j.Memo]=cV;const _k=Tc.memo(({config:s})=>{const[e,r]=W.useState(0),n=(a,l)=>l||a.startsWith("/proxy_image")?`${Dt}${a}`:a;return W.useEffect(()=>{if(!s||s.displayMode==="single"||!s.autoPlay)return;const a=setInterval(()=>{r(l=>(l+1)%s.images.length)},s.transitionInterval*1e3);return()=>clearInterval(a)},[s]),s?t.jsxs("div",{className:"hidden lg:flex lg:w-1/2 flex-shrink-0 relative overflow-hidden",children:[s.displayMode==="single"?t.jsx("img",{src:n(s.images[0].url,s.images[0].isProxy),alt:s.images[0].alt,className:"absolute inset-0 w-full h-full object-cover"}):s.images.map((a,l)=>t.jsx("img",{src:n(a.url,a.isProxy),alt:a.alt,className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ${l===e?"opacity-100":"opacity-0"}`},`hero-img-${l}`)),s.enableGradient&&t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-900/60 via-slate-900/40 to-transparent"}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-start justify-end p-16 text-white z-10",children:[s.title&&t.jsx("h1",{className:"text-5xl font-black leading-tight mb-4 max-w-xl drop-shadow-2xl",children:s.title}),s.description&&t.jsx("p",{className:"text-lg text-white/90 max-w-md leading-relaxed drop-shadow-lg",children:s.description})]})]}):t.jsx("div",{className:"hidden lg:flex lg:w-1/2 flex-shrink-0 relative overflow-hidden bg-gradient-to-br from-slate-200 to-slate-300",children:t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("div",{className:"text-slate-400 text-sm",children:"Loading..."})})})});_k.displayName="HeroSection";const dV=({email:s,onRedirect:e})=>{const{t:r}=Xd("auth"),[n,a]=W.useState(3);return W.useEffect(()=>{const l=setInterval(()=>{a(u=>u<=1?(clearInterval(l),setTimeout(e,500),0):u-1)},1e3);return()=>clearInterval(l)},[e]),t.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50",children:t.jsxs("div",{className:"max-w-md w-full",children:[t.jsx("div",{className:"text-center mb-8 animate-in zoom-in-95 fade-in duration-500",children:t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full blur-3xl opacity-30 animate-pulse"}),t.jsx("div",{className:"relative bg-gradient-to-br from-green-500 to-emerald-600 w-32 h-32 rounded-full flex items-center justify-center shadow-2xl",children:t.jsx(uo,{className:"w-16 h-16 text-white animate-in zoom-in duration-300 delay-200"})}),t.jsx("div",{className:"absolute -top-2 -right-2 animate-in zoom-in duration-300 delay-300",children:t.jsx(Ao,{className:"w-8 h-8 text-yellow-400"})}),t.jsx("div",{className:"absolute -bottom-2 -left-2 animate-in zoom-in duration-300 delay-400",children:t.jsx(xE,{className:"w-8 h-8 text-pink-400"})})]})}),t.jsxs("div",{className:"text-center space-y-4 animate-in fade-in-up duration-500 delay-300",children:[t.jsxs("h1",{className:"text-4xl font-black text-slate-900 mb-2",children:[r("verification.verified")," "]}),t.jsx("p",{className:"text-lg text-slate-600 font-medium",children:"Welcome aboard! Your account has been successfully verified."}),t.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-sm border border-green-200 rounded-xl",children:t.jsxs("p",{className:"text-sm text-slate-700",children:[t.jsx("strong",{className:"text-green-700",children:s})," is now verified and ready to go!"]})})]}),t.jsx("div",{className:"mt-8 text-center animate-in fade-in duration-500 delay-500",children:t.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 bg-white/80 backdrop-blur-sm border border-slate-200 rounded-full shadow-lg",children:[t.jsx(Lr,{className:"w-5 h-5 text-green-600 animate-spin"}),t.jsxs("span",{className:"text-sm font-medium text-slate-700",children:[r("verification.redirecting")," ",t.jsx("span",{className:"text-green-600 font-bold text-lg",children:n}),"s..."]})]})}),t.jsx("div",{className:"mt-6 text-center animate-in fade-in duration-500 delay-700",children:t.jsx("button",{onClick:e,className:"text-sm text-slate-600 hover:text-slate-900 font-medium underline decoration-dotted underline-offset-4",children:"Skip waiting and go now "})})]})})},uV=()=>{const{t:s}=Xd("auth");return t.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-blue-50 via-sky-50 to-cyan-50",children:t.jsxs("div",{className:"max-w-md w-full text-center",children:[t.jsx("div",{className:"mb-8 animate-in zoom-in-95 fade-in duration-500",children:t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"w-32 h-32 rounded-full border-8 border-blue-100 border-t-blue-600 animate-spin"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx(Kd,{className:"w-12 h-12 text-blue-600 animate-pulse"})})]})}),t.jsxs("div",{className:"space-y-4 animate-in fade-in-up duration-500 delay-200",children:[t.jsx("h2",{className:"text-3xl font-black text-slate-900",children:s("verification.verifying")}),t.jsx("p",{className:"text-lg text-slate-600",children:"Please wait while we confirm your account."}),t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500 mt-6",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})]})})},AV=({email:s,token:e,verificationConfig:r,onVerified:n,onResend:a,onBack:l})=>{const{t:u}=Xd("auth"),[d,A]=W.useState(""),[o,f]=W.useState(!1),[m,p]=W.useState(null),[x,b]=W.useState(null),[y,w]=W.useState(!1),[E,R]=W.useState(0),[z,X]=W.useState(e),[Y,Q]=W.useState(!1),G=W.useRef(null),le=W.useRef(null);W.useEffect(()=>{if(E>0){const ue=setTimeout(()=>{R(Se=>Se-1)},1e3);return()=>clearTimeout(ue)}},[E]),W.useEffect(()=>{try{le.current=new BroadcastChannel("gogotrip_verification"),le.current.onmessage=Se=>{Se.data.type==="VERIFICATION_COMPLETE"&&Se.data.email===s&&(console.log(" Received verification complete from another tab"),b(" Email verified in another tab! Redirecting..."),setTimeout(()=>{Se.data.user&&n(Se.data.user)},1500))}}catch{console.log("BroadcastChannel not supported, using polling only")}const ue=async()=>{try{Q(!0);const ae=await(await fetch(`${Dt}/auth/check-verification-status`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s,token:z})})).json();ae.verified&&ae.user&&(console.log(" Email verified detected via polling"),b(" Email verified! Redirecting..."),le.current&&le.current.postMessage({type:"VERIFICATION_COMPLETE",email:s,user:ae.user}),G.current&&clearInterval(G.current),setTimeout(()=>{n(ae.user)},1500))}catch(Se){console.log("Status check failed:",Se)}finally{Q(!1)}};return G.current=setInterval(ue,5e3),()=>{G.current&&clearInterval(G.current),le.current&&le.current.close()}},[s,z,n]);const Ae=async ue=>{if(ue.preventDefault(),!d||d.length!==r.codeLength){p(`Please enter a ${r.codeLength}-digit code`);return}f(!0),p(null);try{const ae=await(await fetch(`${Dt}/auth/signup-verify-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:z,code:d})})).json();ae.status==="success"?(b(" Email verified successfully!"),le.current&&le.current.postMessage({type:"VERIFICATION_COMPLETE",email:s,user:ae.user}),setTimeout(()=>{n(ae.user)},1500)):p(ae.message||"Verification failed")}catch{p("Network error. Please try again.")}finally{f(!1)}},je=async()=>{var ue;if(!(E>0||y)){w(!0),p(null),b(null);try{const Se=await a();if(Se.success)Se.token&&X(Se.token),b(" Verification email sent! Check your inbox."),R(60);else{if((ue=Se.message)!=null&&ue.includes("wait")){const ae=Se.message.match(/(\d+)/);ae&&R(parseInt(ae[1]))}p(Se.message||"Failed to resend")}}catch{p("Failed to resend verification email")}finally{w(!1)}}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-sky-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Yd,{className:"w-8 h-8 text-white"})}),t.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:u("verification.title")}),t.jsxs("p",{className:"text-slate-600",children:[u("verification.subtitle"),t.jsx("br",{}),t.jsx("strong",{className:"text-slate-900",children:s})]})]}),m&&t.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(Ia,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-red-700",children:m})]}),x&&t.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(uo,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-green-700",children:x})]}),Y&&t.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-slate-500",children:[t.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),t.jsx("span",{children:"Checking verification status..."})]}),t.jsxs("form",{onSubmit:Ae,className:"space-y-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:u("verification.enterCode")}),t.jsx("div",{className:"relative",children:t.jsx("input",{type:"text",required:!0,value:d,onChange:ue=>{const Se=ue.target.value.toUpperCase();r.codeType==="numeric"?/^\d*$/.test(Se)&&A(Se):A(Se)},maxLength:r.codeLength,placeholder:u("verification.codePlaceholder",{length:r.codeLength}),className:"w-full bg-white border border-slate-200 rounded-xl py-4 px-4 font-mono text-2xl tracking-[0.5em] text-center font-bold focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all uppercase"})}),t.jsx("p",{className:"text-xs text-slate-500 text-center mt-2",children:u("verification.enterCodeDesc")})]}),t.jsx("button",{type:"submit",disabled:o||d.length!==r.codeLength,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:o?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[u("verification.verify"),t.jsx(DA,{className:"w-4 h-4"})]})})]}),t.jsxs("div",{className:"text-center pt-4 border-t border-slate-200",children:[t.jsx("p",{className:"text-sm text-slate-600 mb-3",children:u("verification.didntReceive")}),t.jsx("button",{type:"button",onClick:je,disabled:y||E>0,className:`inline-flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${E>0?"bg-slate-100 text-slate-400 cursor-not-allowed":y?"bg-slate-100 text-slate-500":"bg-sky-50 text-sky-600 hover:bg-sky-100"}`,children:y?t.jsxs(t.Fragment,{children:[t.jsx(Lr,{className:"w-4 h-4 animate-spin"}),u("forgotPassword.sending")]}):E>0?t.jsxs(t.Fragment,{children:[t.jsx(Vi,{className:"w-4 h-4"}),u("verification.resendIn",{seconds:E})]}):t.jsxs(t.Fragment,{children:[t.jsx(ld,{className:"w-4 h-4"}),u("verification.resendCode")]})})]}),t.jsx("div",{className:"text-center",children:t.jsxs("button",{type:"button",onClick:l,className:"text-sm text-slate-500 hover:text-slate-700 font-medium",children:[" ",u("register.backToSignUp")]})})]})},hV=({onLogin:s})=>{const{t:e}=Xd("auth"),[r,n]=W.useState("LOGIN"),[a,l]=W.useState(!1),[u,d]=W.useState(null),[A,o]=W.useState(null),[f,m]=W.useState(!1),[p,x]=W.useState({codeType:"numeric",codeLength:6,expiryMinutes:10}),[b,y]=W.useState(null),[w,E]=W.useState(""),[R,z]=W.useState(""),[X,Y]=W.useState(""),[Q,G]=W.useState(!1),[le,Ae]=W.useState(!1),{executeRecaptcha:je}=sV(),[ue,Se]=W.useState(null),[ae,Ne]=W.useState({name:"",email:"",password:"",verificationCode:""}),[he,se]=W.useState({hasLength:!1,hasUpper:!1,hasLower:!1,hasNumber:!1,hasSpecial:!1}),[de,oe]=W.useState(!1),Ee=W.useRef(!1),De=Ge=>{const Mt={hasLength:Ge.length>=8,hasUpper:/[A-Z]/.test(Ge),hasLower:/[a-z]/.test(Ge),hasNumber:/[0-9]/.test(Ge),hasSpecial:/[!@#$%^&*(),.?":{}|<>]/.test(Ge)};se(Mt),oe(Object.values(Mt).every(Boolean))};W.useEffect(()=>{r==="SIGNUP"?De(ae.password):r==="FORGOT_VERIFY"&&De(R)},[ae.password,R,r]),W.useEffect(()=>{(async()=>{try{const Vt=await(await fetch(`${Dt}/api/login-hero/active`)).json();Vt.status==="success"&&Vt.config&&Se(Vt.config)}catch(Mt){console.error("Failed to load hero config:",Mt),Se({displayMode:"single",transitionInterval:5,autoPlay:!0,imageSource:"url",enableGradient:!0,images:[{url:"https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?auto=format&fit=crop&q=80&w=2000",alt:"Travel"}],title:"Plan your next great adventure in seconds.",subtitle:null,description:"Join thousands of travelers using AI to craft the perfect itinerary, track expenses, and explore the world."})}})()},[]),W.useEffect(()=>{if(Ee.current)return;const Ge=new URLSearchParams(window.location.search),Mt=Ge.get("token"),Vt=Ge.get("error");if(Vt){Vt==="account_suspended"?d("Your account has been suspended. Please contact support."):Vt==="account_deleted"?d("This account has been deleted."):Vt==="oauth_failed"&&d("Google login failed. Please try again."),window.history.replaceState({},"",window.location.pathname);return}Mt&&(console.log(" Detected token in URL, starting One-Click verification..."),Ee.current=!0,n("VERIFYING"),ke(Mt))},[]);const ke=async Ge=>{try{console.log(" Starting One-Click verification...");const Vt=await(await fetch(`${Dt}/auth/verify-onetap`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:Ge})})).json();if(console.log(" Token info:",Vt),Vt.status!=="success")throw new Error(Vt.message||"Invalid verification link");const xt=await(await fetch(`${Dt}/auth/signup-verify-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:Ge,code:Vt.data.code})})).json();if(console.log(" Verification result:",xt),xt.status==="success"){E(Vt.data.email),window.history.replaceState({},"",window.location.pathname),n("VERIFIED");try{const ot=new BroadcastChannel("gogotrip_verification");ot.postMessage({type:"VERIFICATION_COMPLETE",email:Vt.data.email,user:xt.user}),ot.close()}catch{console.log("BroadcastChannel not available")}setTimeout(()=>{s(xt.user)},3e3)}else throw new Error(xt.message||"Verification failed")}catch(Mt){console.error(" One-Click verification failed:",Mt),n("LOGIN"),d(Mt.message||"Verification link expired or invalid. Please try again.")}},pe=W.useCallback(()=>{w&&console.log("Redirecting...")},[w]),ye=()=>{l(!0),d(null),window.location.href=`${Dt}/authorize`},fe=async Ge=>{if(Ge.preventDefault(),!de){d("Password is too weak. Please follow the requirements below.");return}if(ae.password!==X){d("Passwords do not match.");return}if(!ae.email||!ae.password||!ae.name){d("Please fill in all fields.");return}l(!0),d(null),o(null);try{if(!je){d("reCAPTCHA not ready"),l(!1);return}const Mt=await je("signup"),cs=await(await fetch(`${Dt}/auth/send-code-v2`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:ae.email,password:ae.password,name:ae.name,code_type:p.codeType,code_length:p.codeLength,expiry_minutes:p.expiryMinutes,recaptcha_token:Mt})})).json();cs.status==="success"?(y(cs.token),n("VERIFY")):d(cs.message||"Failed to send code")}catch{d("Network error. Please try again.")}finally{l(!1)}},te=async()=>{try{if(!je)return{success:!1,message:"reCAPTCHA not ready"};const Ge=await je("resend"),Vt=await(await fetch(`${Dt}/auth/resend-verification`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:ae.email,token:b,recaptcha_token:Ge})})).json();return Vt.status==="success"?{success:!0,token:Vt.token}:{success:!1,message:Vt.message}}catch{return{success:!1,message:"Network error"}}},ge=async Ge=>{Ge.preventDefault(),l(!0),d(null);try{const Vt=await(await fetch(`${Dt}/auth/login-email`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:ae.email,password:ae.password})})).json();Vt.status==="success"?s(Vt.user):Vt.needs_verification?d("Please verify your email first. Check your inbox for the verification link."):d(Vt.message||"Login failed")}catch{d("Network error. Please try again.")}finally{l(!1)}},Fe=async Ge=>{Ge.preventDefault(),l(!0),d(null),o(null);try{if(!je){d("reCAPTCHA not ready"),l(!1);return}const Mt=await je("forgot_password"),cs=await(await fetch(`${Dt}/auth/forgot-password/send-code-v2`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:ae.email,code_type:p.codeType,code_length:p.codeLength,expiry_minutes:p.expiryMinutes,recaptcha_token:Mt})})).json();cs.status==="success"?(y(cs.token),n("FORGOT_VERIFY"),o(` Verification code sent to ${ae.email}!`)):d(cs.message||"Failed to send code")}catch{d("Network error. Please try again.")}finally{l(!1)}},$e=async Ge=>{if(Ge.preventDefault(),!de){d("Password is too weak.");return}if(R!==X){d("Passwords do not match.");return}l(!0),d(null);try{const Vt=await(await fetch(`${Dt}/auth/reset-password-v2`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:b,code:ae.verificationCode,new_password:R})})).json();Vt.status==="success"?(o(" Password reset successful! Please login."),setTimeout(()=>n("LOGIN"),2e3)):d(Vt.message||"Reset failed")}catch{d("Network error. Please try again.")}finally{l(!1)}},kt=()=>t.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-br from-blue-50 to-sky-50 rounded-xl border border-sky-200",children:[t.jsxs("button",{type:"button",onClick:()=>m(!f),className:"w-full flex items-center justify-between text-sm font-bold text-slate-700 mb-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Kd,{className:"w-4 h-4 text-sky-600"}),t.jsx("span",{children:"Verification Options"})]}),t.jsx("span",{className:"text-xs text-sky-600",children:f?" Hide":" Customize"})]}),f&&t.jsxs("div",{className:"space-y-4 animate-in fade-in-down",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(w2,{className:"w-3 h-3"}),"Code Type"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:["numeric","alphanumeric","alpha"].map(Ge=>t.jsxs("button",{type:"button",onClick:()=>x(Mt=>({...Mt,codeType:Ge})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${p.codeType===Ge?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[Ge==="numeric"&&"123456",Ge==="alphanumeric"&&"A1B2C3",Ge==="alpha"&&"ABCDEF"]},Ge))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(w2,{className:"w-3 h-3"}),"Code Length"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[4,6,8].map(Ge=>t.jsxs("button",{type:"button",onClick:()=>x(Mt=>({...Mt,codeLength:Ge})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${p.codeLength===Ge?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[Ge," digits"]},Ge))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"text-xs font-bold text-slate-500 mb-2 flex items-center gap-2",children:[t.jsx(Vi,{className:"w-3 h-3"}),"Expiry Time"]}),t.jsx("div",{className:"grid grid-cols-3 gap-2",children:[5,10,15].map(Ge=>t.jsxs("button",{type:"button",onClick:()=>x(Mt=>({...Mt,expiryMinutes:Ge})),className:`py-2 px-3 rounded-lg text-xs font-bold transition-all ${p.expiryMinutes===Ge?"bg-sky-600 text-white shadow-lg":"bg-white text-slate-600 hover:bg-slate-50"}`,children:[Ge," min"]},Ge))})]})]})]}),St=()=>t.jsxs("div",{className:"mt-2 space-y-2",children:[t.jsx("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:"Password Requirements:"}),Object.entries({hasLength:"At least 8 characters",hasUpper:"One uppercase letter",hasLower:"One lowercase letter",hasNumber:"One number",hasSpecial:"One special character (!@#$...)"}).map(([Ge,Mt])=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[he[Ge]?t.jsx(Wo,{className:"w-4 h-4 text-green-600 flex-shrink-0"}):t.jsx(qr,{className:"w-4 h-4 text-slate-300 flex-shrink-0"}),t.jsx("span",{className:he[Ge]?"text-green-700 font-medium":"text-slate-500",children:Mt})]},Ge))]});return r==="VERIFYING"?t.jsx(uV,{}):r==="VERIFIED"?t.jsx(dV,{email:w,onRedirect:pe}):t.jsxs("div",{className:"min-h-screen flex overflow-hidden bg-slate-50",children:[t.jsx(_k,{config:ue}),t.jsx("div",{className:"flex-1 min-w-0 flex items-center justify-center p-6 lg:p-12 relative overflow-y-auto",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsxs("h2",{className:"text-3xl font-black text-slate-900 mb-2",children:[r==="LOGIN"&&e("login.title"),r==="SIGNUP"&&e("register.title"),r==="VERIFY"&&e("verification.title"),r==="FORGOT"&&e("forgotPassword.title"),r==="FORGOT_VERIFY"&&e("resetPassword.title")]}),t.jsxs("p",{className:"text-slate-500 font-medium",children:[r==="LOGIN"&&e("login.subtitle"),r==="SIGNUP"&&e("register.subtitle"),r==="VERIFY"&&e("verification.checkEmail"),r==="FORGOT"&&e("forgotPassword.subtitle"),r==="FORGOT_VERIFY"&&e("resetPassword.subtitle")]})]}),u&&r!=="VERIFY"&&t.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(Ia,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-red-700",children:u})]}),A&&r!=="VERIFY"&&t.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl flex items-start gap-3 animate-in fade-in-down",children:[t.jsx(uo,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm font-bold text-green-700",children:A})]}),t.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-8 shadow-xl",children:[r==="VERIFY"&&b&&t.jsx(AV,{email:ae.email,token:b,verificationConfig:p,onVerified:s,onResend:te,onBack:()=>{n("SIGNUP"),d(null),o(null)}}),r==="FORGOT_VERIFY"&&t.jsxs("form",{onSubmit:$e,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("verification.enterCode")}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"text",required:!0,value:ae.verificationCode,onChange:Ge=>{const Mt=Ge.target.value.toUpperCase();p.codeType==="numeric"?/^\d*$/.test(Mt)&&Ne({...ae,verificationCode:Mt}):Ne({...ae,verificationCode:Mt})},maxLength:p.codeLength,placeholder:e("verification.codePlaceholder",{length:p.codeLength}),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-12 font-mono text-lg tracking-widest text-center font-bold focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all uppercase"}),t.jsx(Kd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("resetPassword.newPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Td,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:Q?"text":"password",required:!0,value:R,onChange:Ge=>z(Ge.target.value),placeholder:"",className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${!de&&R.length>0?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>G(!Q),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:Q?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),t.jsx(St,{})]}),de&&t.jsxs("div",{className:"space-y-1 animate-in fade-in-down",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("resetPassword.confirmPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Td,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:le?"text":"password",required:!0,value:X,onChange:Ge=>Y(Ge.target.value),placeholder:e("resetPassword.confirmPasswordPlaceholder"),className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${X.length>0&&X!==R?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>Ae(!le),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:le?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),X.length>0&&X!==R&&t.jsx("p",{className:"text-xs text-red-500 font-bold ml-1",children:e("errors.passwordMismatch")})]}),t.jsx("button",{type:"submit",disabled:a||!de||R!==X,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[e("resetPassword.resetPassword"),t.jsx(DA,{className:"w-4 h-4"})]})})]}),r==="FORGOT"&&t.jsxs("form",{onSubmit:Fe,className:"space-y-6",children:[t.jsx(kt,{}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("login.email")}),t.jsxs("div",{className:"relative",children:[t.jsx(Yd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",required:!0,value:ae.email,onChange:Ge=>Ne({...ae,email:Ge.target.value}),placeholder:e("login.emailPlaceholder"),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsx("button",{type:"submit",disabled:a,className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[e("forgotPassword.sendLink"),t.jsx(DA,{className:"w-4 h-4"})]})}),t.jsxs("button",{type:"button",onClick:()=>{n("LOGIN"),d(null)},className:"w-full text-sm text-sky-600 font-bold hover:underline",children:[" ",e("forgotPassword.backToLogin")]})]}),(r==="LOGIN"||r==="SIGNUP")&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{type:"button",onClick:ye,disabled:a,className:"w-full py-3.5 bg-white border border-slate-200 rounded-xl font-bold text-slate-700 hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center justify-center gap-3 relative group overflow-hidden",children:[t.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",className:"w-5 h-5 relative z-10"}),t.jsx("span",{className:"relative z-10",children:e("login.googleSignIn")})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-slate-200"})}),t.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:t.jsx("span",{className:"bg-white px-2 text-slate-400 font-bold",children:e("login.orContinueWithEmail")})})]}),r==="SIGNUP"&&t.jsx(kt,{}),t.jsxs("form",{onSubmit:r==="LOGIN"?ge:fe,className:"space-y-4",children:[r==="SIGNUP"&&t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("register.fullName")}),t.jsxs("div",{className:"relative",children:[t.jsx(Yo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"text",required:!0,value:ae.name,onChange:Ge=>Ne({...ae,name:Ge.target.value}),placeholder:e("register.fullNamePlaceholder"),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("login.email")}),t.jsxs("div",{className:"relative",children:[t.jsx(Yd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:"email",required:!0,value:ae.email,onChange:Ge=>Ne({...ae,email:Ge.target.value}),placeholder:e("login.emailPlaceholder"),className:"w-full bg-white border border-slate-200 rounded-xl py-3.5 pl-12 pr-4 font-medium focus:ring-2 focus:ring-sky-500/20 focus:border-sky-500 outline-none transition-all"})]})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("login.password")}),t.jsxs("div",{className:"relative",children:[t.jsx(Td,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:Q?"text":"password",required:!0,value:ae.password,onChange:Ge=>Ne({...ae,password:Ge.target.value}),placeholder:e(r==="SIGNUP"?"register.passwordPlaceholder":"login.passwordPlaceholder"),className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${r==="SIGNUP"&&!de&&ae.password.length>0?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>G(!Q),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:Q?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),r==="SIGNUP"&&t.jsx(St,{})]}),r==="SIGNUP"&&de&&t.jsxs("div",{className:"space-y-1 animate-in fade-in-down",children:[t.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider pl-1",children:e("register.confirmPassword")}),t.jsxs("div",{className:"relative",children:[t.jsx(Td,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),t.jsx("input",{type:le?"text":"password",required:!0,value:X,onChange:Ge=>Y(Ge.target.value),placeholder:e("register.confirmPasswordPlaceholder"),className:`w-full bg-white border rounded-xl py-3.5 pl-12 pr-12 font-medium focus:ring-2 outline-none transition-all ${X.length>0&&X!==ae.password?"border-red-300 focus:ring-red-200 focus:border-red-400":"border-slate-200 focus:ring-sky-500/20 focus:border-sky-500"}`}),t.jsx("button",{type:"button",onClick:()=>Ae(!le),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600",children:le?t.jsx(Zu,{className:"w-5 h-5"}):t.jsx(io,{className:"w-5 h-5"})})]}),X.length>0&&X!==ae.password&&t.jsx("p",{className:"text-xs text-red-500 font-bold ml-1",children:e("errors.passwordMismatch")})]}),r==="LOGIN"&&t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"button",onClick:()=>{n("FORGOT"),d(null)},className:"text-sm font-bold text-sky-600 hover:text-sky-700",children:e("login.forgotPassword")})}),t.jsx("button",{type:"submit",disabled:a||r==="SIGNUP"&&(!de||ae.password!==X),className:"w-full py-3.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?t.jsx(Lr,{className:"w-5 h-5 animate-spin"}):t.jsxs(t.Fragment,{children:[e(r==="LOGIN"?"login.signIn":"register.signUp"),t.jsx(DA,{className:"w-4 h-4"})]})})]}),t.jsx("div",{className:"text-center",children:t.jsxs("p",{className:"text-slate-500 text-sm",children:[e(r==="LOGIN"?"login.noAccount":"register.hasAccount")," ",t.jsx("button",{onClick:()=>{n(r==="LOGIN"?"SIGNUP":"LOGIN"),d(null),o(null),Ne({name:"",email:"",password:"",verificationCode:""}),Y("")},className:"font-bold text-sky-600 hover:text-sky-700",children:e(r==="LOGIN"?"login.signUpLink":"register.signInLink")})]})})]})]})]})})]})};try{const s=localStorage.getItem(dy);s&&["en","zh","ms"].includes(s)&&ox(s)}catch(s){console.error("Failed to hydrate language preference:",s)}const fV=()=>{const[s,e]=W.useState(null),[r,n]=W.useState(!1),[a,l]=W.useState(!0);W.useEffect(()=>{(async()=>{try{const A=await fetch(`${Dt}/check_login_status`,{credentials:"include"});if(A.ok){const o=await A.json();if(o.logged_in&&o.user){const f={...o.user,role:zg(o.user.role||o.role)};e(f),hv(f.preferredLanguage),Kv(f.role)&&n(!0)}}}catch(A){console.error("Auth check failed:",A)}finally{l(!1)}})()},[]);const u=async()=>{try{await fetch(`${Dt}/auth/logout`,{method:"POST",credentials:"include"})}catch(d){console.error("Logout request failed",d)}finally{e(null),n(!1),window.location.href="/"}};return a?t.jsx("div",{className:"h-screen flex items-center justify-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),t.jsx("span",{className:"text-slate-500 text-sm",children:"Loading..."})]})}):s?t.jsx(DU,{userId:s.id,isAuthenticated:!!s,children:r?t.jsx(J$,{user:s,onSwitchToUser:()=>n(!1),onLogout:u}):t.jsx(h$,{user:s,onLogout:u,onSwitchToAdmin:()=>n(!0),onUpdateUser:d=>e(A=>A&&{...A,...d})})}):t.jsx(tV,{reCaptchaKey:"6LewjjUsAAAAAKFHuvd4JdyTZ06TK14FTHZSZSTF",scriptProps:{async:!1,defer:!1,appendTo:"head"},children:t.jsx(hV,{onLogin:d=>{const A={...d,role:zg(d.role)};e(A),hv(A.preferredLanguage),Kv(A.role)&&n(!0)}})})},Hk=document.getElementById("root");if(!Hk)throw new Error("Root not found");const mV=K4.createRoot(Hk);mV.render(t.jsx(Tc.StrictMode,{children:t.jsx(HB,{children:t.jsx(fV,{})})}));
